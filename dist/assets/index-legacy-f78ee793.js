/*! 
 Build based on gin-vue-admin 
 Time : 1697152884000 */
!function(){var e=["id"],t=["id"],r=["id","address"],n=["namespace","id","rpcUrl"];function i(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},a.apply(this,arguments)}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new S(i||[]);return n(o,"_invoke",{value:k(e,r,s)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==t&&r.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(n,a,o,s){var u=f(e[n],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function k(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return{value:void 0,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=x(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return p.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(_.prototype),c(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new _(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),c(b,u,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function s(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,u,"next",e)}function u(e){s(a,n,i,o,u,"throw",e)}o(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function h(e){var t=m();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,r)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return v(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},p(e)}function v(e,t,r){return v=m()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&g(i,r.prototype),i},v.apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=x(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function x(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function O(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}System.register(["./index-legacy-285edefa.js","./dialog-legacy-850f501e.js","./overlay-legacy-c55defcc.js","./pagination-legacy-2ba3e143.js","./input-legacy-cd47f65e.js","./tag-legacy-7507b1a2.js","./select-legacy-921c5b67.js","./scrollbar-legacy-d84005f1.js","./popper-legacy-73fb5b5e.js","./table-column-legacy-d598e013.js","./checkbox-legacy-4bb2238e.js","./tooltip-legacy-b3c86740.js","./form-item-legacy-f9f12040.js","./button-legacy-ca0b763b.js","./stringFun-legacy-7a0441ab.js","./icon-legacy-4309e40a.js","./tslib.es6-legacy-8d377758.js","./collection-legacy-cc85d38b.js","./_plugin-vue_export-helper-legacy-c6aa7c23.js"],(function(s,c){"use strict";var m,g,x,E,S,I,R,C,N,P,M,j,T,L,$,D,U,F,B,q,z,H,V,W,G,K,Z,Y,J,Q,X,ee,te,re,ne,ie,ae,oe,se,ue,ce,le;return{setters:[function(e){m=e.s,g=e.W,x=e.aN,E=e.aO,S=e.aP,I=e.a,R=e.o,C=e.c,N=e.b,P=e.d,M=e.w,j=e.M,T=e.N,L=e.h,$=e.g,D=e.t,U=e.Z,F=e.$,B=e.k,q=e.l,z=e.E},function(e){H=e.E},null,function(e){V=e.E},null,null,function(e){W=e.E,G=e.a},null,null,function(e){K=e.E,Z=e.a},null,null,function(e){Y=e.a,J=e.E},null,function(e){Q=e.t},null,function(e){X=e.a,ee=e.b,te=e.c,re=e._,ne=e.d,ie=e.e,ae=e.f,oe=e.g,se=e.h,ue=e.i},function(e){ce=e.g},function(e){le=e._}],execute:function(){var fe,he,de,pe=document.createElement("style");pe.textContent=".warning[data-v-ceffb942]{color:#dc143c}.gva-btn-list[data-v-ceffb942]{display:flex;justify-content:space-between}.wallet-list[data-v-ceffb942]{display:flex}.wallet-list .wallet-item[data-v-ceffb942]{margin:30px 15px 0 0;cursor:pointer}.wallet-list .wallet-item img[data-v-ceffb942]{width:120px;height:120px}\n",document.head.appendChild(pe),s({A:function(e){return e?yp[e.toLowerCase()]:void 0},E:Sv,F:Mv,G:jv,I:Cv,J:ev,K:function(e,t,r,n,i,a,o,s,u,c,l,f){var h=e.length,d=a.length,p=h,v={};for(;p--;)v[e[p].key]=p;var m=[],g=new Map,y=new Map,b=[];p=d;var w=function(){var e=f(i,a,p),s=r(e),u=o.get(s);u?n&&b.push((function(){return u.p(e,t)})):(u=c(s,e)).c(),g.set(s,m[p]=u),s in v&&y.set(s,Math.abs(p-v[s]))};for(;p--;)w();var _=new Set,k=new Set;function x(e){hm(e,1),e.m(s,l),o.set(e.key,e),l=e.first,d--}for(;h&&d;){var E=m[d-1],A=e[h-1],S=E.key,O=A.key;E===A?(l=E.first,h--,d--):g.has(O)?!o.has(S)||_.has(S)?x(E):k.has(O)?h--:y.get(S)>y.get(O)?(k.add(S),x(E)):(_.add(O),h--):(u(A,o),h--)}for(;h--;){var I=e[h];g.has(I.key)||u(I,o)}for(;d;)x(m[d-1]);return Xp(b),m},L:bm,M:Pv,N:Xv,O:mm,P:function(e){return Math.pow(e-1,3)*(1-e)+1},Q:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.delay,n=void 0===r?0:r,i=t.duration,a=void 0===i?400:i,o=t.easing,s=void 0===o?jy:o,u=t.x,c=void 0===u?0:u,l=t.y,f=void 0===l?0:l,h=t.opacity,d=void 0===h?0:h,p=getComputedStyle(e),v=+p.opacity,m="none"===p.transform?"":p.transform,g=v*(1-d),y=lv(c),b=_(y,2),w=b[0],k=b[1],x=lv(f),E=_(x,2),A=E[0],S=E[1];return{delay:n,duration:a,easing:s,css:function(e,t){return"\n\t\t\ttransform: ".concat(m," translate(").concat((1-e)*w).concat(k,", ").concat((1-e)*A).concat(S,");\n\t\t\topacity: ").concat(v-g*t)}}},R:Xp,U:wm,V:em,Z:Sy,a:yv,a0:function(e,t,r){return e.request({method:"wallet_addEthereumChain",params:[{chainId:t.id,chainName:t.label,nativeCurrency:{name:t.label,symbol:t.token,decimals:18},rpcUrls:[r],blockExplorerUrls:t.blockExplorerUrl?[t.blockExplorerUrl]:void 0}]})},a2:Wv,a3:Gg,a4:function(e){return e.length>11?"".concat(e.slice(0,4),"…").concat(e.slice(-6)):e},a5:vm,a6:Ty,a7:function(e,t,r){var n,i={direction:"out"},a=t(e,r,i),o=!0,s=um;function u(){var t=a||pm,r=t.delay,i=void 0===r?0:r,u=t.duration,c=void 0===u?300:u,l=t.easing,f=void 0===l?Yp:l,h=t.tick,d=void 0===h?Kp:h,p=t.css;p&&(n=Fv(e,1,0,c,i,f,p));var v=hv()+i,m=v+c;Xv((function(){return sm(e,!1,"start")})),mv((function(t){if(o){if(t>=m)return d(0,1),sm(e,!1,"end"),--s.r||Xp(s.c),!1;if(t>=v){var r=f((t-v)/c);d(1-r,r)}}return o}))}s.r+=1,ev(a)?om().then((function(){a=a(i),u()})):u();return{end:function(t){t&&a.tick&&a.tick(1,0),o&&(n&&Bv(e,n),o=!1)}}},a8:function(e){return"".concat(e.slice(0,6),"…").concat(e.slice(-4))},aA:ke,aC:Ze,aD:Ye,aE:Ht,aF:function(e){var t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){var r=t.width,n=t.height,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=r,e.style.height=n,qv(e,i)}},aG:qv,aH:function(e,t,r,n){if(!t)return Kp;var i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return Kp;var a,o=r(e,{from:t,to:i},n),s=o.delay,u=void 0===s?0:s,c=o.duration,l=void 0===c?300:c,f=o.easing,h=void 0===f?Yp:f,d=o.start,p=void 0===d?hv()+u:d,v=o.end,m=void 0===v?p+l:v,g=o.tick,y=void 0===g?Kp:g,b=o.css,w=!0,_=!1;function k(){b&&(a=Fv(e,0,1,l,u,h,b)),u||(_=!0)}function x(){b&&Bv(e,a),w=!1}return mv((function(e){if(!_&&e>=p&&(_=!0),_&&e>=m&&(y(1,0),x()),!w)return!1;if(_){var t=0+1*h((e-p)/l);y(t,1-t)}return!0})),k(),y(0,1),x},aI:function(e,t){e.f(),bm(e,t)},aJ:jy,aN:qg,aO:function(e){var t=Pm.getValue();Pm.next(t.filter((function(t){return t.hash!==e})))},aP:Bg,aQ:function(e){return"0x".concat((1e9*e).toString(16))},aX:Ra,aY:Pa,aa:Gt,ab:Ev,ad:Iy,ae:function(e){return e.request({method:"eth_selectAccounts"})},ah:Tg,ai:function(e){return vp.apply(this,arguments)},aj:function(e,t){return!!t.find((function(t){var r=t.id,n=t.namespace;return r===e.id&&n===e.namespace}))},ak:cv,al:function(e,t,r){for(var n=0;n<e.options.length;n+=1){var i=e.options[n];if(i.__value===t)return void(i.selected=!0)}r&&void 0===t||(e.selectedIndex=-1)},am:function(e,t){e.d(1),t.delete(e.key)},ao:gm,ap:ym,aq:pp,ar:rv,at:ut,au:function(e,t){return"number"==typeof ot(e)?e.pop():t},aw:yt,ax:jt,ay:St,b:Ov,b$:Lt,b1:To,b2:fh,b3:co,b4:Ms,b5:po,b7:Ts,b8:mo,b9:ho,bB:OD,bI:be,bK:at,bL:Nt,bM:kt,bN:_t,bO:$t,bQ:st,bR:xt,bS:He,bT:Ce,bX:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve(e)},bY:It,ba:go,bb:mh,bd:No,be:vo,bf:Mu,bg:oo,bh:so,bk:Jh,bm:ou,bn:fo,bo:uu,bq:Po,br:Qh,bs:qh,bt:Mo,bv:jh,by:Uo,bz:jo,c:Nv,c0:function(e){return e?function(e){return new We((function(t){return e.schedule((function(){return t.complete()}))}))}(e):it},c1:Bt,c2:zt,c3:At,c5:Tt,c6:Zt,c7:Rt,c8:Wt,c9:Mt,ca:Yt,cb:Jt,cc:tr,cd:Vt,ce:rr,cf:nr,cg:Ke,ch:we,ci:wt,ck:Pt,d:kv,e:Av,f:gv,g:lm,h:dm,i:Am,j:fm,k:xv,l:Rv,n:er,o:Xt,p:nv,q:Vv,r:_m,s:tv,t:hm,u:km,v:xm,w:$g,x:Kp,y:Iv});var ve=function(e){return m({url:"/victim/getVictimById",method:"post",data:e})},me=function(e){return m({url:"/victim/updateVictim",method:"post",data:e})},ge=function(e){return m({url:"/victim/createVictimTx",method:"post",data:e})},ye=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_initialSupply",type:"uint256"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"}];function be(e){return"function"==typeof e}function we(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var _e=s("b_",we((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})));function ke(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var xe=s("az",function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=X(a),s=o.next();!s.done;s=o.next()){s.value.remove(this)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var u=this.initialTeardown;if(be(u))try{u()}catch(p){i=p instanceof _e?p.errors:[p]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=X(c),f=l.next();!f.done;f=l.next()){var h=f.value;try{Se(h)}catch(v){i=null!=i?i:[],v instanceof _e?i=ee(ee([],te(i)),te(v.errors)):i.push(v)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new _e(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Se(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&ke(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&ke(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}()),Ee=xe.EMPTY;function Ae(e){return e instanceof xe||e&&"closed"in e&&be(e.remove)&&be(e.add)&&be(e.unsubscribe)}function Se(e){be(e)?e():e.unsubscribe()}var Oe=s("c4",{onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}),Ie={setTimeout:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Ie.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,ee([e,t],te(r))):setTimeout.apply(void 0,ee([e,t],te(r)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Ie.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function Re(e){Ie.setTimeout((function(){var t=Oe.onUnhandledError;if(!t)throw e;t(e)}))}function Ce(){}var Ne=Pe("C",void 0,void 0);function Pe(e,t,r){return{kind:e,value:t,error:r}}var Me=null;function je(e){if(Oe.useDeprecatedSynchronousErrorHandling){var t=!Me;if(t&&(Me={errorThrown:!1,error:null}),e(),t){var r=Me,n=r.errorThrown,i=r.error;if(Me=null,n)throw i}}else e()}var Te=s("bW",function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Ae(t)&&t.add(r)):r.destination=qe,r}return re(t,e),t.create=function(e,t,r){return new Ue(e,t,r)},t.prototype.next=function(e){this.isStopped?Be(function(e){return Pe("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Be(Pe("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Be(Ne,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xe)),Le=Function.prototype.bind;function $e(e,t){return Le.call(e,t)}var De=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){Fe(r)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){Fe(r)}else Fe(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Fe(t)}},e}(),Ue=function(e){function t(t,r,n){var i,a,o=e.call(this)||this;be(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:o&&Oe.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&$e(t.next,a),error:t.error&&$e(t.error,a),complete:t.complete&&$e(t.complete,a)}):i=t;return o.destination=new De(i),o}return re(t,e),t}(Te);function Fe(e){var t;Oe.useDeprecatedSynchronousErrorHandling?(t=e,Oe.useDeprecatedSynchronousErrorHandling&&Me&&(Me.errorThrown=!0,Me.error=t)):Re(e)}function Be(e,t){var r=Oe.onStoppedNotification;r&&Ie.setTimeout((function(){return r(e,t)}))}var qe={closed:!0,next:Ce,error:function(e){throw e},complete:Ce},ze=s("bU","function"==typeof Symbol&&Symbol.observable||"@@observable");function He(e){return e}function Ve(e){return 0===e.length?He:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var We=s("bH",function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,a=(n=e)&&n instanceof Te||function(e){return e&&be(e.next)&&be(e.error)&&be(e.complete)}(n)&&Ae(n)?e:new Ue(e,t,r);return je((function(){var e=i,t=e.operator,r=e.source;a.add(t?t.call(a,r):r?i._subscribe(a):i._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=Ge(t))((function(t,n){var i=new Ue({next:function(t){try{e(t)}catch(r){n(r),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ze]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ve(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Ge(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}());function Ge(e){var t;return null!==(t=null!=e?e:Oe.Promise)&&void 0!==t?t:Promise}function Ke(e){return be(null==e?void 0:e.lift)}function Ze(e){return function(t){if(Ke(t))return t.lift((function(t){try{return e(t,this)}catch(r){this.error(r)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Ye(e,t,r,n,i){return new Je(e,t,r,n,i)}var Je=s("cj",function(e){function t(t,r,n,i,a,o){var s=e.call(this,t)||this;return s.onFinalize=a,s.shouldUnsubscribe=o,s._next=r?function(e){try{r(e)}catch(n){t.error(n)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return re(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Te)),Qe=s("bZ",we((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}))),Xe=s("bP",function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return re(t,e),t.prototype.lift=function(e){var t=new et(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Qe},t.prototype.next=function(e){var t=this;je((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=X(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;je((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;je((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,a=r.observers;return n||i?Ee:(this.currentObservers=null,a.push(e),new xe((function(){t.currentObservers=null,ke(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new We;return e.source=this,e},t.create=function(e,t){return new et(e,t)},t}(We)),et=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return re(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Ee},t}(Xe),tt=s("a9",function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return re(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Xe)),rt=s("aB",{now:function(){return(rt.delegate||Date).now()},delegate:void 0}),nt=s("bV",function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=rt);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return re(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,o=r._timestampProvider,s=r._windowTime;n||(i.push(t),!a&&i.push(o.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow,a=(i?1:2)*t;if(t<1/0&&a<n.length&&n.splice(0,n.length-a),!i){for(var o=r.now(),s=0,u=1;u<n.length&&n[u]<=o;u+=2)s=u;s&&n.splice(0,s+1)}},t}(Xe)),it=s("av",new We((function(e){return e.complete()})));function at(e){return e&&be(e.schedule)}function ot(e){return e[e.length-1]}function st(e){return be(ot(e))?e.pop():void 0}function ut(e){return at(ot(e))?e.pop():void 0}var ct=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function lt(e){return be(null==e?void 0:e.then)}function ft(e){return be(e[ze])}function ht(e){return Symbol.asyncIterator&&be(null==e?void 0:e[Symbol.asyncIterator])}function dt(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var pt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function vt(e){return be(null==e?void 0:e[pt])}function mt(e){return ne(this,arguments,(function(){var t,r,n;return ie(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,ae(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,ae(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,ae(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function gt(e){return be(null==e?void 0:e.getReader)}function yt(e){if(e instanceof We)return e;if(null!=e){if(ft(e))return n=e,new We((function(e){var t=n[ze]();if(be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ct(e))return r=e,new We((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(lt(e))return function(e){return new We((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Re)}))}(e);if(ht(e))return bt(e);if(vt(e))return t=e,new We((function(e){var r,n;try{for(var i=X(t),a=i.next();!a.done;a=i.next()){var o=a.value;if(e.next(o),e.closed)return}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()}));if(gt(e))return bt(mt(e))}var t,r,n;throw dt(e)}function bt(e){return new We((function(t){(function(e,t){var r,n,i,a;return oe(this,void 0,void 0,(function(){var o,s;return ie(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=se(e),u.label=1;case 1:return[4,r.next()];case 2:if((n=u.sent()).done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(a=r.return)?[4,a.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function wt(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var a=t.schedule((function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(a),!i)return a}function _t(e,t){return void 0===t&&(t=0),Ze((function(r,n){r.subscribe(Ye(n,(function(r){return wt(n,e,(function(){return n.next(r)}),t)}),(function(){return wt(n,e,(function(){return n.complete()}),t)}),(function(r){return wt(n,e,(function(){return n.error(r)}),t)})))}))}function kt(e,t){return void 0===t&&(t=0),Ze((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}function xt(e,t){return new We((function(r){var n;return wt(r,t,(function(){n=e[pt](),wt(r,t,(function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(a){return void r.error(a)}i?r.complete():r.next(t)}),0,!0)})),function(){return be(null==n?void 0:n.return)&&n.return()}}))}function Et(e,t){if(!e)throw new Error("Iterable cannot be null");return new We((function(r){wt(r,t,(function(){var n=e[Symbol.asyncIterator]();wt(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function At(e,t){if(null!=e){if(ft(e))return function(e,t){return yt(e).pipe(kt(t),_t(t))}(e,t);if(ct(e))return function(e,t){return new We((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if(lt(e))return function(e,t){return yt(e).pipe(kt(t),_t(t))}(e,t);if(ht(e))return Et(e,t);if(vt(e))return xt(e,t);if(gt(e))return function(e,t){return Et(mt(e),t)}(e,t)}throw dt(e)}function St(e,t){return t?At(e,t):yt(e)}var Ot=s("bJ",we((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})));function It(e,t){var r="object"==typeof t;return new Promise((function(n,i){var a=new Ue({next:function(e){n(e),a.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new Ot)}});e.subscribe(a)}))}function Rt(e,t){return Ze((function(r,n){var i=0;r.subscribe(Ye(n,(function(r){n.next(e.call(t,r,i++))})))}))}var Ct=Array.isArray;function Nt(e){return Rt((function(t){return function(e,t){return Ct(t)?e.apply(void 0,ee([],te(t))):e(t)}(e,t)}))}function Pt(e,t,r,n,i,a,o,s){var u=[],c=0,l=0,f=!1,h=function(){!f||u.length||c||t.complete()},d=function(e){return c<n?p(e):u.push(e)},p=function e(s){a&&t.next(s),c++;var f=!1;yt(r(s,l++)).subscribe(Ye(t,(function(e){null==i||i(e),a?d(e):t.next(e)}),(function(){f=!0}),void 0,(function(){if(f)try{c--;for(var r=function(){var r=u.shift();o?wt(t,o,(function(){return e(r)})):e(r)};u.length&&c<n;)r();h()}catch(i){t.error(i)}})))};return e.subscribe(Ye(t,d,(function(){f=!0,h()}))),function(){null==s||s()}}function Mt(e,t,r){return void 0===r&&(r=1/0),be(t)?Mt((function(r,n){return Rt((function(e,i){return t(r,e,n,i)}))(yt(e(r,n)))}),r):("number"==typeof t&&(r=t),Ze((function(t,n){return Pt(t,n,e,r)})))}function jt(e){return void 0===e&&(e=1/0),Mt(He,e)}function Tt(){return jt(1)}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tt()(St(e,ut(e)))}function $t(e){return new We((function(t){yt(e()).subscribe(t)}))}var Dt=["addListener","removeListener"],Ut=["addEventListener","removeEventListener"],Ft=["on","off"];function Bt(e,t,r,n){if(be(r)&&(n=r,r=void 0),n)return Bt(e,t,r).pipe(Nt(n));var i=te(function(e){return be(e.addEventListener)&&be(e.removeEventListener)}(e)?Ut.map((function(n){return function(i){return e[n](t,i,r)}})):function(e){return be(e.addListener)&&be(e.removeListener)}(e)?Dt.map(qt(e,t)):function(e){return be(e.on)&&be(e.off)}(e)?Ft.map(qt(e,t)):[],2),a=i[0],o=i[1];if(!a&&ct(e))return Mt((function(e){return Bt(e,t,r)}))(yt(e));if(!a)throw new TypeError("Invalid event target");return new We((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return a(t),function(){return o(t)}}))}function qt(e,t){return function(r){return function(n){return e[r](t,n)}}}function zt(e,t,r){return r?zt(e,t).pipe(Nt(r)):new We((function(r){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)},i=e(n);return be(t)?function(){return t(n,i)}:void 0}))}function Ht(e,t){return Ze((function(r,n){var i=0;r.subscribe(Ye(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}function Vt(e){return e<=0?function(){return it}:Ze((function(t,r){var n=0;t.subscribe(Ye(r,(function(t){++n<=e&&(r.next(t),e<=n&&r.complete())})))}))}function Wt(e){return Rt((function(){return e}))}function Gt(e,t){return void 0===t&&(t=He),e=null!=e?e:Kt,Ze((function(r,n){var i,a=!0;r.subscribe(Ye(n,(function(r){var o=t(r);!a&&e(i,o)||(a=!1,i=o,n.next(r))})))}))}function Kt(e,t){return e===t}function Zt(e,t){return Gt((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}function Yt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return Rt((function(t){for(var n=t,i=0;i<r;i++){var a=null==n?void 0:n[e[i]];if(void 0===a)return;n=a}return n}))}function Jt(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new Xe}:t,n=e.resetOnError,i=void 0===n||n,a=e.resetOnComplete,o=void 0===a||a,s=e.resetOnRefCountZero,u=void 0===s||s;return function(e){var t,n,a,s=0,c=!1,l=!1,f=function(){null==n||n.unsubscribe(),n=void 0},h=function(){f(),t=a=void 0,c=l=!1},d=function(){var e=t;h(),null==e||e.unsubscribe()};return Ze((function(e,p){s++,l||c||f();var v=a=null!=a?a:r();p.add((function(){0!==--s||l||c||(n=Qt(d,u))})),v.subscribe(p),!t&&s>0&&(t=new Ue({next:function(e){return v.next(e)},error:function(e){l=!0,f(),n=Qt(h,i,e),v.error(e)},complete:function(){c=!0,f(),n=Qt(h,o),v.complete()}}),yt(e).subscribe(t))}))(e)}}function Qt(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==t){if(!1!==t){var i=new Ue({next:function(){i.unsubscribe(),e()}});return yt(t.apply(void 0,ee([],te(r)))).subscribe(i)}}else e()}function Xt(e,t,r){var n,i,a,o,s=!1;return e&&"object"==typeof e?(n=e.bufferSize,o=void 0===n?1/0:n,i=e.windowTime,t=void 0===i?1/0:i,s=void 0!==(a=e.refCount)&&a,r=e.scheduler):o=null!=e?e:1/0,Jt({connector:function(){return new nt(o,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function er(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ut(e);return Ze((function(t,n){(r?Lt(e,t,r):Lt(e,t)).subscribe(n)}))}function tr(e,t){return Ze((function(r,n){var i=null,a=0,o=!1,s=function(){return o&&!i&&n.complete()};r.subscribe(Ye(n,(function(r){null==i||i.unsubscribe();var o=0,u=a++;yt(e(r,u)).subscribe(i=Ye(n,(function(e){return n.next(t?t(r,e,u,o++):e)}),(function(){i=null,s()})))}),(function(){o=!0,s()})))}))}function rr(e){return Ze((function(t,r){yt(e).subscribe(Ye(r,(function(){return r.complete()}),Ce)),!r.closed&&t.subscribe(r)}))}function nr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=st(e);return Ze((function(t,n){for(var i=e.length,a=new Array(i),o=e.map((function(){return!1})),s=!1,u=function(t){yt(e[t]).subscribe(Ye(n,(function(e){a[t]=e,s||o[t]||(o[t]=!0,(s=o.every(He))&&(o=null))}),Ce))},c=0;c<i;c++)u(c);t.subscribe(Ye(n,(function(e){if(s){var t=ee([e],te(a));n.next(r?r.apply(void 0,ee([],te(t))):t)}})))}))}var ir={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},ar={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},or={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},sr={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ur={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"},cr=function(){function e(){A(this,e)}return O(e,null,[{key:"getFirstMatch",value:function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""}},{key:"getSecondMatch",value:function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""}},{key:"matchAndReturnConst",value:function(e,t,r){if(e.test(t))return r}},{key:"getWindowsVersionName",value:function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}},{key:"getMacOSVersionName",value:function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}},{key:"getAndroidVersionName",value:function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}},{key:"getVersionPrecision",value:function(e){return e.split(".").length}},{key:"compareVersions",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getVersionPrecision(t),a=e.getVersionPrecision(r),o=Math.max(i,a),s=0,u=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===s)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}},{key:"map",value:function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}},{key:"find",value:function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}}},{key:"assign",value:function(e){for(var t,r,n=e,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var s=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=a.length;t<r;t+=1)s();return e}},{key:"getBrowserAlias",value:function(e){return ir[e]}},{key:"getBrowserTypeByAlias",value:function(e){return ar[e]||""}}]),e}(),lr=/version\/(\d+(\.?_?\d+)+)/i,fr=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=cr.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=cr.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=cr.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=cr.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=cr.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=cr.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=cr.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=cr.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=cr.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=cr.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=cr.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=cr.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=cr.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=cr.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=cr.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=cr.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=cr.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=cr.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=cr.getFirstMatch(lr,e)||cr.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=cr.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=cr.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=cr.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=cr.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=cr.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=cr.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=cr.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=cr.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=cr.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=cr.getFirstMatch(lr,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:cr.getFirstMatch(t,e),version:cr.getSecondMatch(t,e)}}}],hr=[{test:[/Roku\/DVP/],describe:function(e){var t=cr.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:sr.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=cr.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:sr.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=cr.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=cr.getWindowsVersionName(t);return{name:sr.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:sr.iOS},r=cr.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=cr.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=cr.getMacOSVersionName(t),n={name:sr.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=cr.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:sr.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=cr.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=cr.getAndroidVersionName(t),n={name:sr.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=cr.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:sr.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=cr.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||cr.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||cr.getFirstMatch(/\bbb(\d+)/i,e);return{name:sr.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=cr.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:sr.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=cr.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:sr.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:sr.Linux}}},{test:[/CrOS/],describe:function(){return{name:sr.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=cr.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:sr.PlayStation4,version:t}}}],dr=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=cr.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:or.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:or.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:or.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:or.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:or.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:or.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:or.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=cr.getFirstMatch(/(ipod|iphone)/i,e);return{type:or.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:or.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:or.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:or.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:or.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:or.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:or.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:or.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:or.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:or.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:or.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:or.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:or.tv}}}],pr=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:ur.Blink};var t=cr.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:ur.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:ur.Trident},r=cr.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:ur.Presto},r=cr.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:ur.Gecko},r=cr.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:ur.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:ur.WebKit},r=cr.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}],vr=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(A(this,e),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==r&&this.parse()}return O(e,[{key:"getUA",value:function(){return this._ua}},{key:"test",value:function(e){return e.test(this._ua)}},{key:"parseBrowser",value:function(){var e=this;this.parsedResult.browser={};var t=cr.find(fr,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}},{key:"getBrowser",value:function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}},{key:"getBrowserName",value:function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}},{key:"getBrowserVersion",value:function(){return this.getBrowser().version}},{key:"getOS",value:function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}},{key:"parseOS",value:function(){var e=this;this.parsedResult.os={};var t=cr.find(hr,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}},{key:"getOSName",value:function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""}},{key:"getOSVersion",value:function(){return this.getOS().version}},{key:"getPlatform",value:function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}},{key:"getPlatformType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""}},{key:"parsePlatform",value:function(){var e=this;this.parsedResult.platform={};var t=cr.find(dr,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}},{key:"getEngine",value:function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}},{key:"getEngineName",value:function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}},{key:"parseEngine",value:function(){var e=this;this.parsedResult.engine={};var t=cr.find(pr,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}},{key:"parse",value:function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}},{key:"getResult",value:function(){return cr.assign({},this.parsedResult)}},{key:"satisfies",value:function(e){var t=this,r={},n=0,i={},a=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(i[t]=o,a+=1):"object"==typeof o&&(r[t]=o,n+=1)})),n>0){var o=Object.keys(r),s=cr.find(o,(function(e){return t.isOS(e)}));if(s){var u=this.satisfies(r[s]);if(void 0!==u)return u}var c=cr.find(o,(function(e){return t.isPlatform(e)}));if(c){var l=this.satisfies(r[c]);if(void 0!==l)return l}}if(a>0){var f=Object.keys(i),h=cr.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}}},{key:"isBrowser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=cr.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r}},{key:"compareVersion",value:function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(cr.compareVersions(i,r,n))>-1}},{key:"isOS",value:function(e){return this.getOSName(!0)===String(e).toLowerCase()}},{key:"isPlatform",value:function(e){return this.getPlatformType(!0)===String(e).toLowerCase()}},{key:"isEngine",value:function(e){return this.getEngineName(!0)===String(e).toLowerCase()}},{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}},{key:"some",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(t){return e.is(t)}))}}]),e}(),mr=function(){function e(){A(this,e)}return O(e,null,[{key:"getParser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e)throw new Error("UserAgent should be a string");return new vr(e,t)}},{key:"parse",value:function(e){return new vr(e).getResult()}},{key:"BROWSER_MAP",get:function(){return ar}},{key:"ENGINE_MAP",get:function(){return ur}},{key:"OS_MAP",get:function(){return sr}},{key:"PLATFORMS_MAP",get:function(){return or}}]),e}();function gr(){}function yr(e){return e()}function br(e){if(null==e)return gr;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.subscribe.apply(e,r);return i.unsubscribe?function(){return i.unsubscribe()}:i}var wr=[];function _r(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr,n=new Set;function i(r){if(function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}(e,r)&&(e=r,t)){var i,a=!wr.length,o=k(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;s[1](),wr.push(s,e)}}catch(c){o.e(c)}finally{o.f()}if(a){for(var u=0;u<wr.length;u+=2)wr[u][0](wr[u+1]);wr.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a){var o=[a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr];return n.add(o),1===n.size&&(t=r(i)||gr),a(e),function(){n.delete(o),0===n.size&&t&&(t(),t=null)}}}}function kr(e,t,r){var n,i=!Array.isArray(e),a=i?[e]:e,o=t.length<2;return n=function(e){var r=!1,n=[],s=0,u=gr,c=function(){if(!s){u();var r=t(i?n[0]:n,e);o?e(r):u="function"==typeof r?r:gr}},l=a.map((function(e,t){return br(e,(function(e){n[t]=e,s&=~(1<<t),r&&c()}),(function(){s|=1<<t}))}));return r=!0,c(),function(){l.forEach(yr),u(),r=!1}},{subscribe:_r(r,n).subscribe}}var xr=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Er}(e)}(e)};var Er="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Ar(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Cr((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function Sr(e,t,r){return e.concat(t).map((function(e){return Ar(e,r)}))}function Or(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function Ir(e,t){try{return t in e}catch(Tz){return!1}}function Rr(e,t,r){var n={};return r.isMergeableObject(e)&&Or(e).forEach((function(t){n[t]=Ar(e[t],r)})),Or(t).forEach((function(i){(function(e,t){return Ir(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(Ir(e,i)&&r.isMergeableObject(t[i])?n[i]=function(e,t){if(!t.customMerge)return Cr;var r=t.customMerge(e);return"function"==typeof r?r:Cr}(i,r)(e[i],t[i],r):n[i]=Ar(t[i],r))})),n}function Cr(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||Sr,r.isMergeableObject=r.isMergeableObject||xr,r.cloneUnlessOtherwiseSpecified=Ar;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):Rr(e,t,r):Ar(t,r)}Cr.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return Cr(e,r,t)}),{})};var Nr,Pr,Mr,jr=g(Cr);function Tr(e){return e.type===Pr.literal}function Lr(e){return e.type===Pr.argument}function $r(e){return e.type===Pr.number}function Dr(e){return e.type===Pr.date}function Ur(e){return e.type===Pr.time}function Fr(e){return e.type===Pr.select}function Br(e){return e.type===Pr.plural}function qr(e){return e.type===Pr.pound}function zr(e){return e.type===Pr.tag}function Hr(e){return!(!e||"object"!=typeof e||e.type!==Mr.number)}function Vr(e){return!(!e||"object"!=typeof e||e.type!==Mr.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Nr||(Nr={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Pr||(Pr={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Mr||(Mr={}));var Wr=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Gr=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Kr(e){var t={};return e.replace(Gr,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Zr=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var Yr=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Jr=/^(@+)?(\+|#+)?[rs]?$/g,Qr=/(\*)(0+)|(#+)(0+)|(0+)/g,Xr=/^(0+)$/;function en(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(Jr,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function tn(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function rn(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if("+!"===r?(t.signDisplay="always",e=e.slice(2)):"+?"===r&&(t.signDisplay="exceptZero",e=e.slice(2)),!Xr.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function nn(e){var t=tn(e);return t||{}}function an(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=ue(ue(ue({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return ue(ue({},e),nn(t))}),{}));continue;case"engineering":t=ue(ue(ue({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return ue(ue({},e),nn(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Qr,(function(e,r,n,i,a,o){if(r)t.minimumIntegerDigits=n.length;else{if(i&&a)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Xr.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(Yr.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Yr,(function(e,r,n,i,a,o){return"*"===n?t.minimumFractionDigits=r.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:a&&o?(t.minimumFractionDigits=a.length,t.maximumFractionDigits=a.length+o.length):(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length),""}));var a=i.options[0];"w"===a?t=ue(ue({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=ue(ue({},t),en(a)))}else if(Jr.test(i.stem))t=ue(ue({},t),en(i.stem));else{var o=tn(i.stem);o&&(t=ue(ue({},t),o));var s=rn(i.stem);s&&(t=ue(ue({},t),s))}}return t}var on,sn={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function un(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r,n=e.language;return"root"!==n&&(r=e.maximize().region),(sn[r||""]||sn[n||""]||sn["".concat(n,"-001")]||sn["001"])[0]}var cn=new RegExp("^".concat(Wr.source,"*")),ln=new RegExp("".concat(Wr.source,"*$"));function fn(e,t){return{start:e,end:t}}var hn=!!String.prototype.startsWith,dn=!!String.fromCodePoint,pn=!!Object.fromEntries,vn=!!String.prototype.codePointAt,mn=!!String.prototype.trimStart,gn=!!String.prototype.trimEnd,yn=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},bn=!0;try{bn="a"===(null===(on=On("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===on?void 0:on[0])}catch(Tz){bn=!1}var wn,_n=hn?function(e,t,r){return e.startsWith(t,r)}:function(e,t,r){return e.slice(r,r+t.length)===t},kn=dn?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n="",i=e.length,a=0;i>a;){if((r=e[a++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},xn=pn?Object.fromEntries:function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r],a=i[0],o=i[1];t[a]=o}return t},En=vn?function(e,t){return e.codePointAt(t)}:function(e,t){var r=e.length;if(!(t<0||t>=r)){var n,i=e.charCodeAt(t);return i<55296||i>56319||t+1===r||(n=e.charCodeAt(t+1))<56320||n>57343?i:n-56320+(i-55296<<10)+65536}},An=mn?function(e){return e.trimStart()}:function(e){return e.replace(cn,"")},Sn=gn?function(e){return e.trimEnd()}:function(e){return e.replace(ln,"")};function On(e,t){return new RegExp(e,t)}if(bn){var In=On("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");wn=function(e,t){var r;return In.lastIndex=t,null!==(r=In.exec(e)[1])&&void 0!==r?r:""}}else wn=function(e,t){for(var r=[];;){var n=En(e,t);if(void 0===n||Nn(n)||Pn(n))break;r.push(n),t+=n>=65536?2:1}return kn.apply(void 0,r)};var Rn=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,r){for(var n=[];!this.isEOF();){var i=this.char();if(123===i){if((a=this.parseArgument(e,r)).err)return a;n.push(a.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(Nr.UNMATCHED_CLOSING_TAG,fn(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&Cn(this.peek()||0)){if((a=this.parseTag(e,t)).err)return a;n.push(a.val)}else{var a;if((a=this.parseLiteral(e,t)).err)return a;n.push(a.val)}}else{var o=this.clonePosition();this.bump(),n.push({type:Pr.pound,location:fn(o,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var r=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Pr.literal,value:"<".concat(n,"/>"),location:fn(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var a=i.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Cn(this.char()))return this.error(Nr.INVALID_TAG,fn(o,this.clonePosition()));var s=this.clonePosition();return n!==this.parseTagName()?this.error(Nr.UNMATCHED_CLOSING_TAG,fn(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Pr.tag,value:n,children:a,location:fn(r,this.clonePosition())},err:null}:this.error(Nr.INVALID_TAG,fn(o,this.clonePosition())))}return this.error(Nr.UNCLOSED_TAG,fn(r,this.clonePosition()))}return this.error(Nr.INVALID_TAG,fn(r,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var r=this.clonePosition(),n="";;){var i=this.tryParseQuote(t);if(i)n+=i;else{var a=this.tryParseUnquoted(e,t);if(a)n+=a;else{var o=this.tryParseLeftAngleBracket();if(!o)break;n+=o}}}var s=fn(r,this.clonePosition());return{val:{type:Pr.literal,value:n,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Cn(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(r);this.bump()}return kn.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===t||"selectordinal"===t)||125===r&&e>0?null:(this.bump(),kn(r))},e.prototype.parseArgument=function(e,t){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,fn(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Nr.EMPTY_ARGUMENT,fn(r,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(Nr.MALFORMED_ARGUMENT,fn(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,fn(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Pr.argument,value:n,location:fn(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,fn(r,this.clonePosition())):this.parseArgumentOptions(e,t,n,r);default:return this.error(Nr.MALFORMED_ARGUMENT,fn(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),r=wn(this.message,t),n=t+r.length;return this.bumpTo(n),{value:r,location:fn(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,r,n){var i,a=this.clonePosition(),o=this.parseIdentifierIfPossible().value,s=this.clonePosition();switch(o){case"":return this.error(Nr.EXPECT_ARGUMENT_TYPE,fn(a,s));case"number":case"date":case"time":this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((g=this.parseSimpleArgStyleIfPossible()).err)return g;if(0===(d=Sn(g.val)).length)return this.error(Nr.EXPECT_ARGUMENT_STYLE,fn(this.clonePosition(),this.clonePosition()));u={style:d,styleLocation:fn(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(n)).err)return y;var l=fn(n,this.clonePosition());if(u&&_n(null==u?void 0:u.style,"::",0)){var f=An(u.style.slice(2));if("number"===o)return(g=this.parseNumberSkeletonFromString(f,u.styleLocation)).err?g:{val:{type:Pr.number,value:r,location:l,style:g.val},err:null};if(0===f.length)return this.error(Nr.EXPECT_DATE_TIME_SKELETON,l);var h=f;this.locale&&(h=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e.charAt(n);if("j"===i){for(var a=0;n+1<e.length&&e.charAt(n+1)===i;)a++,n++;var o=1+(1&a),s=a<2?1:3+(a>>1),u=un(t);for("H"!=u&&"k"!=u||(s=0);s-- >0;)r+="a";for(;o-- >0;)r=u+r}else r+="J"===i?"H":i}return r}(f,this.locale));var d={type:Mr.dateTime,pattern:h,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?Kr(h):{}};return{val:{type:"date"===o?Pr.date:Pr.time,value:r,location:l,style:d},err:null}}return{val:{type:"number"===o?Pr.number:"date"===o?Pr.date:Pr.time,value:r,location:l,style:null!==(i=null==u?void 0:u.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var p=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Nr.EXPECT_SELECT_ARGUMENT_OPTIONS,fn(p,ue({},p)));this.bumpSpace();var v=this.parseIdentifierIfPossible(),m=0;if("select"!==o&&"offset"===v.value){if(!this.bumpIf(":"))return this.error(Nr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,fn(this.clonePosition(),this.clonePosition()));var g;if(this.bumpSpace(),(g=this.tryParseDecimalInteger(Nr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Nr.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return g;this.bumpSpace(),v=this.parseIdentifierIfPossible(),m=g.val}var y,b=this.tryParsePluralOrSelectOptions(e,o,t,v);if(b.err)return b;if((y=this.tryParseArgumentClose(n)).err)return y;var w=fn(n,this.clonePosition());return"select"===o?{val:{type:Pr.select,value:r,options:xn(b.val),location:w},err:null}:{val:{type:Pr.plural,value:r,options:xn(b.val),offset:m,pluralType:"plural"===o?"cardinal":"ordinal",location:w},err:null};default:return this.error(Nr.INVALID_ARGUMENT_TYPE,fn(a,s))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,fn(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Nr.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,fn(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var r=[];try{r=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=e.split(Zr).filter((function(e){return e.length>0})),r=[],n=0,i=t;n<i.length;n++){var a=i[n].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var o=a[0],s=a.slice(1),u=0,c=s;u<c.length;u++)if(0===c[u].length)throw new Error("Invalid number skeleton");r.push({stem:o,options:s})}return r}(e)}catch(n){return this.error(Nr.INVALID_NUMBER_SKELETON,t)}return{val:{type:Mr.number,tokens:r,location:t,parsedOptions:this.shouldParseSkeletons?an(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,r,n){for(var i,a=!1,o=[],s=new Set,u=n.value,c=n.location;;){if(0===u.length){var l=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(Nr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Nr.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;c=fn(l,this.clonePosition()),u=this.message.slice(l.offset,this.offset())}if(s.has(u))return this.error("select"===t?Nr.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Nr.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===u&&(a=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Nr.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Nr.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,fn(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,r);if(d.err)return d;var p=this.tryParseArgumentClose(h);if(p.err)return p;o.push([u,{value:d.val,location:fn(h,this.clonePosition())}]),s.add(u),this.bumpSpace(),u=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===o.length?this.error("select"===t?Nr.EXPECT_SELECT_ARGUMENT_SELECTOR:Nr.EXPECT_PLURAL_ARGUMENT_SELECTOR,fn(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(Nr.MISSING_OTHER_CLAUSE,fn(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var i=!1,a=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0,a=10*a+(o-48),this.bump()}var s=fn(n,this.clonePosition());return i?yn(a*=r)?{val:a,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=En(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(_n(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),r=this.message.indexOf(e,t);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Nn(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),r=this.message.charCodeAt(t+(e>=65536?2:1));return null!=r?r:null},e}();function Cn(e){return e>=97&&e<=122||e>=65&&e<=90}function Nn(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Pn(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Mn(e){e.forEach((function(e){if(delete e.location,Fr(e)||Br(e))for(var t in e.options)delete e.options[t].location,Mn(e.options[t].value);else $r(e)&&Hr(e.style)||(Dr(e)||Ur(e))&&Vr(e.style)?delete e.style.location:zr(e)&&Mn(e.children)}))}function jn(e,t){void 0===t&&(t={}),t=ue({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new Rn(e,t).parse();if(r.err){var n=SyntaxError(Nr[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(null==t?void 0:t.captureLocation)||Mn(r.val),r.val}function Tn(e,t){var r=t&&t.cache?t.cache:zn,n=t&&t.serializer?t.serializer:Fn;return(t&&t.strategy?t.strategy:Un)(e,{cache:r,serializer:n})}function Ln(e,t,r,n){var i,a=null==(i=n)||"number"==typeof i||"boolean"==typeof i?n:r(n),o=t.get(a);return void 0===o&&(o=e.call(this,n),t.set(a,o)),o}function $n(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),a=t.get(i);return void 0===a&&(a=e.apply(this,n),t.set(i,a)),a}function Dn(e,t,r,n,i){return r.bind(t,e,n,i)}function Un(e,t){return Dn(e,this,1===e.length?Ln:$n,t.cache.create(),t.serializer)}var Fn=function(){return JSON.stringify(arguments)};function Bn(){this.cache=Object.create(null)}Bn.prototype.get=function(e){return this.cache[e]},Bn.prototype.set=function(e,t){this.cache[e]=t};var qn,zn={create:function(){return new Bn}},Hn={variadic:function(e,t){return Dn(e,this,$n,t.cache.create(),t.serializer)},monadic:function(e,t){return Dn(e,this,Ln,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(qn||(qn={}));var Vn,Wn=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.code=r,i.originalMessage=n,i}return re(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Gn=function(e){function t(t,r,n,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(r,'". Options are "').concat(Object.keys(n).join('", "'),'"'),qn.INVALID_VALUE,i)||this}return re(t,e),t}(Wn),Kn=function(e){function t(t,r,n){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(r),qn.INVALID_VALUE,n)||this}return re(t,e),t}(Wn),Zn=function(e){function t(t,r){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(r,'"'),qn.MISSING_VALUE,r)||this}return re(t,e),t}(Wn);function Yn(e){return"function"==typeof e}function Jn(e,t,r,n,i,a,o){if(1===e.length&&Tr(e[0]))return[{type:Vn.literal,value:e[0].value}];for(var s=[],u=0,c=e;u<c.length;u++){var l=c[u];if(Tr(l))s.push({type:Vn.literal,value:l.value});else if(qr(l))"number"==typeof a&&s.push({type:Vn.literal,value:r.getNumberFormat(t).format(a)});else{var f=l.value;if(!i||!(f in i))throw new Zn(f,o);var h=i[f];if(Lr(l))h&&"string"!=typeof h&&"number"!=typeof h||(h="string"==typeof h||"number"==typeof h?String(h):""),s.push({type:"string"==typeof h?Vn.literal:Vn.object,value:h});else if(Dr(l)){var d="string"==typeof l.style?n.date[l.style]:Vr(l.style)?l.style.parsedOptions:void 0;s.push({type:Vn.literal,value:r.getDateTimeFormat(t,d).format(h)})}else if(Ur(l)){d="string"==typeof l.style?n.time[l.style]:Vr(l.style)?l.style.parsedOptions:n.time.medium;s.push({type:Vn.literal,value:r.getDateTimeFormat(t,d).format(h)})}else if($r(l)){(d="string"==typeof l.style?n.number[l.style]:Hr(l.style)?l.style.parsedOptions:void 0)&&d.scale&&(h*=d.scale||1),s.push({type:Vn.literal,value:r.getNumberFormat(t,d).format(h)})}else{if(zr(l)){var p=l.children,v=l.value,m=i[v];if(!Yn(m))throw new Kn(v,"function",o);var g=m(Jn(p,t,r,n,i,a).map((function(e){return e.value})));Array.isArray(g)||(g=[g]),s.push.apply(s,g.map((function(e){return{type:"string"==typeof e?Vn.literal:Vn.object,value:e}})))}if(Fr(l)){if(!(y=l.options[h]||l.options.other))throw new Gn(l.value,h,Object.keys(l.options),o);s.push.apply(s,Jn(y.value,t,r,n,i))}else if(Br(l)){var y;if(!(y=l.options["=".concat(h)])){if(!Intl.PluralRules)throw new Wn('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',qn.MISSING_INTL_API,o);var b=r.getPluralRules(t,{type:l.pluralType}).select(h-(l.offset||0));y=l.options[b]||l.options.other}if(!y)throw new Gn(l.value,h,Object.keys(l.options),o);s.push.apply(s,Jn(y.value,t,r,n,i,h-(l.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var r=e[e.length-1];return r&&r.type===Vn.literal&&t.type===Vn.literal?r.value+=t.value:e.push(t),e}),[])}(s)}function Qn(e,t){return t?Object.keys(e).reduce((function(r,n){var i,a;return r[n]=(i=e[n],(a=t[n])?ue(ue(ue({},i||{}),a||{}),Object.keys(i).reduce((function(e,t){return e[t]=ue(ue({},i[t]),a[t]||{}),e}),{})):i),r}),ue({},e)):e}function Xn(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Vn||(Vn={}));var ei=function(){function e(t,r,n,i){var a,o=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&t.type===Vn.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return Jn(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){return{locale:o.resolvedLocale.toString()}},this.getAst=function(){return o.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Qn(e.formats,n),this.formatters=i&&i.formatters||(void 0===(a=this.formatterCache)&&(a={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Tn((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,ee([void 0],t,!1)))}),{cache:Xn(a.number),strategy:Hn.variadic}),getDateTimeFormat:Tn((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,ee([void 0],t,!1)))}),{cache:Xn(a.dateTime),strategy:Hn.variadic}),getPluralRules:Tn((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,ee([void 0],t,!1)))}),{cache:Xn(a.pluralRules),strategy:Hn.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=jn,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();var ti,ri={},ni=function(e,t,r){return r?(t in ri||(ri[t]={}),e in ri[t]||(ri[t][e]=r),r):r},ii=function(e,t){if(null!=t){if(t in ri&&e in ri[t])return ri[t][e];for(var r=ji(t),n=0;n<r.length;n++){var i=si(r[n],e);if(i)return ni(e,t,i)}}},ai=_r({});function oi(e){return e in ti}function si(e,t){if(!oi(e))return null;var r=function(e){return ti[e]||null}(e);return function(e,t){if(null!=t){if(t in e)return e[t];for(var r=t.split("."),n=e,i=0;i<r.length;i++)if("object"==typeof n){if(i>0){var a=r.slice(i,r.length).join(".");if(a in n){n=n[a];break}}n=n[r[i]]}else n=void 0;return n}}(r,t)}function ui(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];delete ri[e],ai.update((function(t){return t[e]=jr.all([t[e]||{}].concat(r)),t}))}kr([ai],(function(e){var t=_(e,1)[0];return Object.keys(t)})),ai.subscribe((function(e){return ti=e}));var ci={};function li(e){return ci[e]}function fi(e){return null!=e&&ji(e).some((function(e){var t;return null==(t=li(e))?void 0:t.size}))}function hi(e,t){var r=Promise.all(t.map((function(t){return function(e,t){ci[e].delete(t),0===ci[e].size&&delete ci[e]}(e,t),t().then((function(e){return e.default||e}))})));return r.then((function(t){return ui.apply(void 0,[e].concat(w(t)))}))}var di={};function pi(e){if(!fi(e))return e in di?di[e]:Promise.resolve();var t=function(e){return ji(e).map((function(e){var t=li(e);return[e,t?w(t):[]]})).filter((function(e){return _(e,2)[1].length>0}))}(e);return di[e]=Promise.all(t.map((function(e){var t=_(e,2);return hi(t[0],t[1])}))).then((function(){if(fi(e))return pi(e);delete di[e]})),di[e]}var vi=Object.getOwnPropertySymbols,mi=Object.prototype.hasOwnProperty,gi=Object.prototype.propertyIsEnumerable,yi=function(e,t){var r={};for(var n in e)mi.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&vi){var i,a=k(vi(e));try{for(a.s();!(i=a.n()).done;){n=i.value;t.indexOf(n)<0&&gi.call(e,n)&&(r[n]=e[n])}}catch(o){a.e(o)}finally{a.f()}}return r};function bi(e){var t=e.locale,r=e.id;console.warn('[svelte-i18n] The message "'.concat(r,'" was not found in "').concat(ji(t).join('", "'),'".').concat(fi(Ti())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""))}var wi={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0};function _i(){return wi}function ki(e){var t=e,r=t.formats,n=yi(t,["formats"]),i=e.fallbackLocale;if(e.initialLocale)try{ei.resolveLocale(e.initialLocale)&&(i=e.initialLocale)}catch(a){console.warn('[svelte-i18n] The initial locale "'.concat(e.initialLocale,'" is not a valid locale.'))}return n.warnOnMissingMessages&&(delete n.warnOnMissingMessages,null==n.handleMissingMessage?n.handleMissingMessage=bi:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(wi,n,{initialLocale:i}),r&&("number"in r&&Object.assign(wi.formats.number,r.number),"date"in r&&Object.assign(wi.formats.date,r.date),"time"in r&&Object.assign(wi.formats.time,r.time)),Li.set(i)}var xi,Ei=_r(!1),Ai=Object.defineProperty,Si=Object.defineProperties,Oi=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Ri=Object.prototype.hasOwnProperty,Ci=Object.prototype.propertyIsEnumerable,Ni=function(e,t,r){return t in e?Ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Pi=_r(null);function Mi(e){return e.split("-").map((function(e,t,r){return r.slice(0,t+1).join("-")})).reverse()}function ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_i().fallbackLocale,r=Mi(e);return t?w(new Set([].concat(w(r),w(Mi(t))))):r}function Ti(){return null!=xi?xi:void 0}Pi.subscribe((function(e){xi=null!=e?e:void 0,"undefined"!=typeof window&&null!=e&&document.documentElement.setAttribute("lang",e)}));var Li=s("aU",function(e,t){return Si(e,Oi(t))}(function(e,t){for(var r in t||(t={}))Ri.call(t,r)&&Ni(e,r,t[r]);if(Ii){var n,i=k(Ii(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Ci.call(t,r)&&Ni(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e}({},Pi),{set:function(e){if(e&&function(e){if(null!=e)for(var t=ji(e),r=0;r<t.length;r++){var n=t[r];if(oi(n))return n}}(e)&&fi(e)){var t,r=_i().loadingDelay;return"undefined"!=typeof window&&null!=Ti()&&r?t=window.setTimeout((function(){return Ei.set(!0)}),r):Ei.set(!0),pi(e).then((function(){Pi.set(e)})).finally((function(){clearTimeout(t),Ei.set(!1)}))}return Pi.set(e)}})),$i=function(){return"undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0]},Di=function(e){var t=Object.create(null);return function(r){var n=JSON.stringify(r);return n in t?t[n]:t[n]=e(r)}},Ui=Object.defineProperty,Fi=Object.getOwnPropertySymbols,Bi=Object.prototype.hasOwnProperty,qi=Object.prototype.propertyIsEnumerable,zi=function(e,t,r){return t in e?Ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Hi=function(e,t){for(var r in t||(t={}))Bi.call(t,r)&&zi(e,r,t[r]);if(Fi){var n,i=k(Fi(t));try{for(i.s();!(n=i.n()).done;){r=n.value;qi.call(t,r)&&zi(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},Vi=function(e,t){var r={};for(var n in e)Bi.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Fi){var i,a=k(Fi(e));try{for(a.s();!(i=a.n()).done;){n=i.value;t.indexOf(n)<0&&qi.call(e,n)&&(r[n]=e[n])}}catch(o){a.e(o)}finally{a.f()}}return r},Wi=function(e,t){var r=_i().formats;if(e in r&&t in r[e])return r[e][t];throw new Error('[svelte-i18n] Unknown "'.concat(t,'" ').concat(e," format."))},Gi=Di((function(e){var t=e,r=t.locale,n=t.format,i=Vi(t,["locale","format"]);if(null==r)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(i=Wi("number",n)),new Intl.NumberFormat(r,i)})),Ki=Di((function(e){var t=e,r=t.locale,n=t.format,i=Vi(t,["locale","format"]);if(null==r)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?i=Wi("date",n):0===Object.keys(i).length&&(i=Wi("date","short")),new Intl.DateTimeFormat(r,i)})),Zi=Di((function(e){var t=e,r=t.locale,n=t.format,i=Vi(t,["locale","format"]);if(null==r)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?i=Wi("time",n):0===Object.keys(i).length&&(i=Wi("time","short")),new Intl.DateTimeFormat(r,i)})),Yi=Di((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti();return new ei(e,t,_i().formats,{ignoreTag:_i().ignoreTag})})),Ji=function(e){var t,r,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"==typeof e&&(e=(a=e).id);var o=a,s=o.values,u=o.locale,c=void 0===u?Ti():u,l=o.default;if(null==c)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");var f=ii(e,c);if(f){if("string"!=typeof f)return console.warn('[svelte-i18n] Message with id "'.concat(e,'" must be of type "string", found: "').concat(typeof f,'". Gettin its value through the "$format" method is deprecated; use the "json" method instead.')),f}else f=null!=(i=null!=(n=null==(r=(t=_i()).handleMissingMessage)?void 0:r.call(t,{locale:c,id:e,defaultValue:l}))?n:l)?i:e;if(!s)return f;var h=f;try{h=Yi(f,c).format(s)}catch(d){d instanceof Error&&console.warn('[svelte-i18n] Message "'.concat(e,'" has syntax error:'),d.message)}return h},Qi=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=void 0===t?Ti():t,n=Vi(e,["locale"]);return Zi(Hi({locale:r},n))}(t).format(e)},Xi=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=void 0===t?Ti():t,n=Vi(e,["locale"]);return Ki(Hi({locale:r},n))}(t).format(e)},ea=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=void 0===t?Ti():t,n=Vi(e,["locale"]);return Gi(Hi({locale:r},n))}(t).format(e)},ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti();return ii(e,t)},ra=s("$",kr([Li,ai],(function(){return Ji})));kr([Li],(function(){return Qi})),kr([Li],(function(){return Xi})),kr([Li],(function(){return ea})),kr([Li,ai],(function(){return ta}));var na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},ia={exports:{}};!function(e,t){var r,n;self,e.exports=(r={7629:function(e,t,r){var n=r(375),i=r(8571),a=r(9474),o=r(1687),s=r(8652),u=r(8160),c=r(3292),l=r(6354),f=r(8901),h=r(9708),d=r(6914),p=r(2294),v=r(6133),m=r(1152),g=r(8863),y=r(2036),_={Base:function(){function e(t){A(this,e),this.type=t,this.$_root=null,this._definition={},this._reset()}return O(e,[{key:"_reset",value:function(){this._ids=new p.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}},{key:"describe",value:function(){return n("function"==typeof h.describe,"Manifest functionality disabled"),h.describe(this)}},{key:"allow",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"allow"),this._values(t,"_valids")}},{key:"alter",value:function(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");var t=this.clone();for(var r in t.$_terms.alterations=t.$_terms.alterations||[],e){var i=e[r];n("function"==typeof i,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:i})}return t.$_temp.ruleset=!1,t}},{key:"artifact",value:function(e){return n(void 0!==e,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}},{key:"cast",value:function(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}},{key:"default",value:function(e,t){return this._default("default",e,t)}},{key:"description",value:function(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}},{key:"empty",value:function(e){var t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}},{key:"error",value:function(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}},{key:"example",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(void 0!==e,"Missing example"),u.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}},{key:"external",value:function(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}},{key:"failover",value:function(e,t){return this._default("failover",e,t)}},{key:"forbidden",value:function(){return this.presence("forbidden")}},{key:"id",value:function(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}},{key:"invalid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._values(t,"_invalids")}},{key:"label",value:function(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}},{key:"meta",value:function(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}},{key:"note",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing notes");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Notes must be non-empty strings")}return this._inner("notes",t)}},{key:"only",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}},{key:"optional",value:function(){return this.presence("optional")}},{key:"prefs",value:function(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),u.checkPreferences(e);var t=this.clone();return t._preferences=u.preferences(t._preferences,e),t}},{key:"presence",value:function(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}},{key:"raw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"raw":void 0)}},{key:"result",value:function(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}},{key:"required",value:function(){return this.presence("required")}},{key:"strict",value:function(e){var t=this.clone(),r=void 0!==e&&!e;return t._preferences=u.preferences(t._preferences,{convert:r}),t}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"strip":void 0)}},{key:"tag",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing tags");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Tags must be non-empty strings")}return this._inner("tags",t)}},{key:"unit",value:function(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}},{key:"valid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];u.verifyFlat(t,"valid");var n=this.allow.apply(this,t);return n.$_setFlag("only",!!n._valids,{clone:!1}),n}},{key:"when",value:function(e,t){var r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);var i=c.when(r,e,t);if(!["any","link"].includes(r.type)){var a,o=k(i.is?[i]:i.switch);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(!s.then||"any"===s.then.type||s.then.type===r.type,"Cannot combine",r.type,"with",s.then&&s.then.type),n(!s.otherwise||"any"===s.otherwise.type||s.otherwise.type===r.type,"Cannot combine",r.type,"with",s.otherwise&&s.otherwise.type)}}catch(u){o.e(u)}finally{o.f()}}return r.$_terms.whens.push(i),r.$_mutateRebuild()}},{key:"cache",value:function(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");var t=this.clone();return t._cache=e||s.provider.provision(),t.$_temp.ruleset=!1,t}},{key:"clone",value:function(){var e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}},{key:"concat",value:function(e){n(u.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");var t=this.clone();if("any"===this.type&&"any"!==e.type){for(var r=e.clone(),i=0,a=Object.keys(t);i<a.length;i++){var s=a[i];"type"!==s&&(r[s]=t[s])}t=r}t._ids.concat(e._ids),t._refs.register(e,v.toSibling),t._preferences=t._preferences?u.preferences(t._preferences,e._preferences):e._preferences,t._valids=y.merge(t._valids,e._valids,e._invalids),t._invalids=y.merge(t._invalids,e._invalids,e._valids);var c,l=k(e._singleRules.keys());try{var f=function(){var e=c.value;t._singleRules.has(e)&&(t._rules=t._rules.filter((function(t){return t.keep||t.name!==e})),t._singleRules.delete(e))};for(l.s();!(c=l.n()).done;)f()}catch(_){l.e(_)}finally{l.f()}var h,d=k(e._rules);try{for(d.s();!(h=d.n()).done;){var p=h.value;e._definition.rules[p.method].multi||t._singleRules.set(p.name,p),t._rules.push(p)}}catch(_){d.e(_)}finally{d.f()}if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);var m=Object.assign({},e._flags);delete m.empty,o(t._flags,m)}else if(e._flags.empty){t._flags.empty=e._flags.empty;var g=Object.assign({},e._flags);delete g.empty,o(t._flags,g)}else o(t._flags,e._flags);for(var b in e.$_terms){var w=e.$_terms[b];w?t.$_terms[b]?t.$_terms[b]=t.$_terms[b].concat(w):t.$_terms[b]=w.slice():t.$_terms[b]||(t.$_terms[b]=w)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}},{key:"extend",value:function(e){return n(!e.base,"Cannot extend type with another base"),f.type(this,e)}},{key:"extract",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}},{key:"fork",value:function(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");var r,i=this,a=k([].concat(e));try{for(a.s();!(r=a.n()).done;){var o=r.value;o=Array.isArray(o)?o:o.split("."),i=i._ids.fork(o,t,i)}}catch(s){a.e(s)}finally{a.f()}return i.$_temp.ruleset=!1,i}},{key:"rule",value:function(e){var t=this._definition;u.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");for(var a=this.clone(),o=r;o<a._rules.length;++o){var s=a._rules[o],c=i(s);for(var l in e)t.modifiers[l](c,e[l]),n(c.name===s.name,"Cannot change rule name");a._rules[o]=c,a._singleRules.get(c.name)===s&&a._singleRules.set(c.name,c)}return a.$_temp.ruleset=!1,a.$_mutateRebuild()}},{key:"ruleset",get:function(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");var e=this.clone();return e.$_temp.ruleset=e._rules.length,e}},{key:"$",get:function(){return this.ruleset}},{key:"tailor",value:function(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");var t=this;if(this.$_terms.alterations){var r,i=k(this.$_terms.alterations);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.target,s=a.adjuster;e.includes(o)&&(t=s(t),n(u.isSchema(t),"Alteration adjuster for",o,"failed to return a schema object"))}}catch(c){i.e(c)}finally{i.f()}}return(t=t.$_modify({each:function(t){return t.tailor(e)},ref:!1})).$_temp.ruleset=!1,t.$_mutateRebuild()}},{key:"tracer",value:function(){return m.location?m.location(this):this}},{key:"validate",value:function(e,t){return g.entry(e,this,t)}},{key:"validateAsync",value:function(e,t){return g.entryAsync(e,this,t)}},{key:"$_addRule",value:function(e){for(var t in"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name"),e)n("_"!==t[0],"Cannot set private rule properties");var r=Object.assign({},e);r._resolve=[],r.method=r.method||r.name;var i=this._definition.rules[r.method],a=r.args;n(i,"Unknown rule",r.method);var o=this.clone();if(a)for(var s in n(1===Object.keys(a).length||Object.keys(a).length===this._definition.rules[r.name].args.length,"Invalid rule definition for",this.type,r.name),a){var c=a[s];if(i.argsByName){var l=i.argsByName.get(s);if(l.ref&&u.isResolvable(c))r._resolve.push(s),o.$_mutateRegister(c);else if(l.normalize&&(c=l.normalize(c),a[s]=c),l.assert){var f=u.validateArg(c,s,l);n(!f,f,"or reference")}}void 0!==c?a[s]=c:delete a[s]}return i.multi||(o._ruleRemove(r.name,{clone:!1}),o._singleRules.set(r.name,r)),!1===o.$_temp.ruleset&&(o.$_temp.ruleset=null),i.priority?o._rules.unshift(r):o._rules.push(r),o}},{key:"$_compile",value:function(e,t){return c.schema(this.$_root,e,t)}},{key:"$_createError",value:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=!1!==a.flags?this._flags:{},s=a.messages?d.merge(this._definition.messages,a.messages):this._definition.messages;return new l.Report(e,t,r,o,s,n,i)}},{key:"$_getFlag",value:function(e){return this._flags[e]}},{key:"$_getRule",value:function(e){return this._singleRules.get(e)}},{key:"$_mapLabels",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}},{key:"$_match",value:function(e,t,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();var i=!g.validate(e,this,t,r,n).errors;return t.restore(),i}},{key:"$_modify",value:function(e){return u.assertOptions(e,["each","once","ref","schema"]),p.schema(this,e)||this}},{key:"$_mutateRebuild",value:function(){var e=this;return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:function(t,r){var n=r.source,i=r.name,a=(r.path,r.key),o=e._definition[n][i]&&e._definition[n][i].register;!1!==o&&e.$_mutateRegister(t,{family:o,key:a})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}},{key:"$_mutateRegister",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.family,n=t.key;this._refs.register(e,r),this._ids.register(e,{key:n})}},{key:"$_property",value:function(e){return this._definition.properties[e]}},{key:"$_reach",value:function(e){return this._ids.reach(e)}},{key:"$_rootReferences",value:function(){return this._refs.roots()}},{key:"$_setFlag",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");var i=this._definition.flags[e]||{};if(a(t,i.default)&&(t=void 0),a(t,this._flags[e]))return this;var o=!1!==r.clone?this.clone():this;return void 0!==t?(o._flags[e]=t,o.$_mutateRegister(t)):delete o._flags[e],"_"!==e[0]&&(o.$_temp.ruleset=!1),o}},{key:"$_parent",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this[e][u.symbols.parent]).call.apply(t,[this].concat(n))}},{key:"$_validate",value:function(e,t,r){return g.validate(e,this,t,r)}},{key:"_assign",value:function(e){for(var t in e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={},this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;for(var r in e.$_super={},this.$_super)e.$_super[r]=this._super[r].bind(e);return e}},{key:"_bare",value:function(){var e=this.clone();e._reset();var t=e._definition.terms;for(var r in t){var n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}},{key:"_default",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.assertOptions(i,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!i.literal,"Only function value supports literal option"),"function"==typeof t&&i.literal&&(b(r={},u.symbols.literal,!0),b(r,"literal",t),t=r),this.$_setFlag(e,t)}},{key:"_generate",value:function(e,t,r){if(!this.$_terms.whens)return{schema:this};for(var n=[],i=[],a=0;a<this.$_terms.whens.length;++a){var o=this.$_terms.whens[a];if(o.concat)n.push(o.concat),i.push("".concat(a,".concat"));else{for(var s=o.ref?o.ref.resolve(e,t,r):e,u=o.is?[o]:o.switch,c=i.length,l=0;l<u.length;++l){var f=u[l],h=f.is,d=f.then,p=f.otherwise,v="".concat(a).concat(o.switch?"."+l:"");if(h.$_match(s,t.nest(h,"".concat(v,".is")),r)){if(d){var m=t.localize([].concat(w(t.path),["".concat(v,".then")]),t.ancestors,t.schemas),g=d._generate(e,m,r),y=g.schema,b=g.id;n.push(y),i.push("".concat(v,".then").concat(b?"(".concat(b,")"):""));break}}else if(p){var _=t.localize([].concat(w(t.path),["".concat(v,".otherwise")]),t.ancestors,t.schemas),k=p._generate(e,_,r),x=k.schema,E=k.id;n.push(x),i.push("".concat(v,".otherwise").concat(E?"(".concat(E,")"):""));break}}if(o.break&&i.length>c)break}}var A=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",A),!A)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[A])return{schema:this.$_temp.whens[A],id:A};var S=this;this._definition.generate&&(S=this._definition.generate(this,e,t,r));for(var O=0,I=n;O<I.length;O++){var R=I[O];S=S.concat(R)}return this.$_root._tracer&&this.$_root._tracer._combine(S,[this].concat(n)),this.$_temp.whens[A]=S,{schema:S,id:A}}},{key:"_inner",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(!this._inRuleset(),"Cannot set ".concat(e," inside a ruleset"));var a=this.clone();return a.$_terms[e]&&!i.override||(a.$_terms[e]=[]),i.single?a.$_terms[e].push(t):(r=a.$_terms[e]).push.apply(r,w(t)),a.$_temp.ruleset=!1,a}},{key:"_inRuleset",value:function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}},{key:"_ruleRemove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._singleRules.has(e))return this;var r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);for(var n=[],i=0;i<r._rules.length;++i){var a=r._rules[i];a.name!==e||a.keep?n.push(a):r._inRuleset()&&i<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}},{key:"_values",value:function(e,t){u.verifyFlat(e,t.slice(1,-1));var r=this.clone(),i=e[0]===u.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new y:i&&(r[t]=e.length?new y:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n(s!==u.symbols.override,"Override must be the first value");var c="_invalids"===t?"_valids":"_invalids";r[c]&&(r[c].remove(s),r[c].length||(n("_valids"===t||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[c]=null)),r[t].add(s,r._refs)}}catch(l){o.e(l)}finally{o.f()}return r}}]),e}()};_.Base.prototype[u.symbols.any]={version:u.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,e.exports=new _.Base},8652:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:function(e){return new o.Cache(e)}},o.Cache=function(){function e(){A(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.assertOptions(t,["max"]),n(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this._max=t.max||o.max,this._map=new Map,this._list=new o.List}return O(e,[{key:"length",get:function(){return this._map.size}},{key:"set",value:function(e,t){if(null===e||o.supported.has(typeof e)){var r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}}},{key:"get",value:function(e){var t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}},{key:"_compact",value:function(){if(this._map.size>this._max){var e=this._list.pop();this._map.delete(e.key)}}}]),e}(),o.List=function(){function e(){A(this,e),this.tail=null,this.head=null}return O(e,[{key:"unshift",value:function(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}},{key:"first",value:function(e){e!==this.head&&(this._remove(e),this.unshift(e))}},{key:"pop",value:function(){return this._remove(this.tail)}},{key:"_remove",value:function(e){var t=e.next,r=e.prev;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}]),e}()},8160:function(e,t,r){var n,i,a=r(375),o=r(7916),s=r(5934),u={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=s.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Options";a(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");var n=Object.keys(e).filter((function(e){return!t.includes(e)}));a(0===n.length,"".concat(r," contain unknown keys: ").concat(n))},t.checkPreferences=function(e){var t=(i=i||r(3378)).preferences.validate(e);if(t.error)throw new o([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return u.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e&&e[t.symbols.any];return!!n&&(a(r.legacy||n.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,i){n=n||r(6914),e=e||{},i=i||{};var a=Object.assign({},e,i);return i.errors&&e.errors&&(a.errors=Object.assign({},e.errors,i.errors),a.errors.wrap=Object.assign({},e.errors.wrap,i.errors.wrap)),i.messages&&(a.messages=n.compile(i.messages,e.messages)),delete a[t.symbols.prefs],a},t.tryWithPath=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},t.validateArg=function(e,r,n){var i=n.assert,a=n.message;if(t.isSchema(i)){var o=i.validate(e);if(!o.error)return;return o.error.message}if(!i(e))return r?"".concat(r," ").concat(a):a},t.verifyFlat=function(e,t){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;a(!Array.isArray(i),"Method no longer accepts array arguments:",t)}}catch(o){n.e(o)}finally{n.f()}}},3292:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.schema=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(r,["appendPath","override"]);try{return o.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},o.schema=function(e,t,r){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));var a=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return!1!==r.override?t.valid.apply(t,[e.override].concat(i)):t.valid.apply(t,i)};if(o.simple(t))return a(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return a(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){var s,u=k(t);try{for(u.s();!(s=u.n()).done;){var c,l=s.value;if(!o.simple(l))return(c=e.alternatives()).try.apply(c,w(t))}}catch(f){u.e(f)}finally{u.f()}return a.apply(void 0,[e].concat(w(t)))}return t instanceof RegExp?e.string().regex(t):t instanceof Date?a(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return a.isRef(e)?e:a.create(e,t)},t.compile=function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(a,["legacy"]);var s=r&&r[i.symbols.any];if(s)return n(a.legacy||s.version===i.version,"Cannot mix different versions of joi schemas:",s.version,i.version),r;if("object"!=typeof r||!a.legacy)return t.schema(e,r,{appendPath:!0});var u=o.walk(r);return u?u.compile(u.root,r):t.schema(e,r,{appendPath:!0})},o.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=o.walk(a);if(s)return s}}catch(f){r.e(f)}finally{r.f()}return null}var u=e[i.symbols.any];if(u)return{root:e[u.root],compile:u.compile};for(var c in n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e){var l=o.walk(e[c]);if(l)return l}return null},o.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,s){if(void 0===s&&(n(r&&"object"==typeof r,"Missing options"),s=r,r=a.create(".")),Array.isArray(s)&&(s={switch:s}),i.assertOptions(s,["is","not","then","otherwise","switch","break"]),i.isSchema(r))return n(void 0===s.is,'"is" can not be used with a schema condition'),n(void 0===s.not,'"not" can not be used with a schema condition'),n(void 0===s.switch,'"switch" can not be used with a schema condition'),o.condition(e,{is:r,then:s.then,otherwise:s.otherwise,break:s.break});if(n(a.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===s.not||void 0===s.is,'Cannot combine "is" with "not"'),void 0===s.switch){var u=s;void 0!==s.not&&(u={is:s.not,then:s.otherwise,otherwise:s.then,break:s.break});var c=void 0!==u.is?e.$_compile(u.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==u.then||void 0!==u.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===u.break||void 0===u.then||void 0===u.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===s.is||a.isRef(s.is)||i.isSchema(s.is)||(c=c.required()),o.condition(e,{ref:t.ref(r),is:c,then:u.then,otherwise:u.otherwise,break:u.break})}n(Array.isArray(s.switch),'"switch" must be an array'),n(void 0===s.is,'Cannot combine "switch" with "is"'),n(void 0===s.not,'Cannot combine "switch" with "not"'),n(void 0===s.then,'Cannot combine "switch" with "then"');for(var l={ref:t.ref(r),switch:[],break:s.break},f=0;f<s.switch.length;++f){var h=s.switch[f],d=f===s.switch.length-1;i.assertOptions(h,d?["is","then","otherwise"]:["is","then"]),n(void 0!==h.is,'Switch statement missing "is"'),n(void 0!==h.then,'Switch statement missing "then"');var p={is:e.$_compile(h.is),then:e.$_compile(h.then)};if(a.isRef(h.is)||i.isSchema(h.is)||(p.is=p.is.required()),d){n(void 0===s.otherwise||void 0===h.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var v=void 0!==s.otherwise?s.otherwise:h.otherwise;void 0!==v&&(n(void 0===l.break,"Cannot specify both otherwise and break"),p.otherwise=e.$_compile(v))}l.switch.push(p)}return l},o.condition=function(e,t){for(var r=0,n=["then","otherwise"];r<n.length;r++){var i=n[r];void 0===t[i]?delete t[i]:t[i]=e.$_compile(t[i])}return t}},6354:function(e,t,r){var n=r(5688),i=r(8160),a=r(3328);t.Report=function(){function e(r,n,i,a,o,s,u){if(A(this,e),this.code=r,this.flags=a,this.messages=o,this.path=s.path,this.prefs=u,this.state=s,this.value=n,this.message=null,this.template=null,this.local=i||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var c=this.path[this.path.length-1];"object"!=typeof c&&(this.local.key=c)}}return O(e,[{key:"_setTemplate",value:function(e){if(this.template=e,!this.flags.label&&0===this.path.length){var t=this._template(this.template,"root");t&&(this.local.label=t)}}},{key:"toString",value:function(){if(this.message)return this.message;var e=this.code;if(!this.prefs.errors.render)return this.code;var t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?'Error code "'.concat(e,'" is not defined, your custom type is missing the correct messages definition'):(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}},{key:"_template",value:function(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}}]),e}(),t.path=function(e){var t,r="",n=k(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"object"!=typeof i&&("string"==typeof i?(r&&(r+="."),r+=i):r+="[".concat(i,"]"))}}catch(a){n.e(a)}finally{n.f()}return r},t.template=function(e,t,r,n,o){if(t){if(a.isTemplate(t))return"root"!==r?t:null;var s=o.errors.language;if(i.isResolvable(s)&&(s=s.resolve(e,n,o)),s&&t[s]){if(void 0!==t[s][r])return t[s][r];if(void 0!==t[s]["*"])return t[s]["*"]}return t[r]?t[r]:t["*"]}},t.label=function(e,r,n,i){if(e.label)return e.label;if(!n.errors.label)return"";var a=r.path;return"key"===n.errors.label&&r.path.length>1&&(a=r.path.slice(-1)),t.path(a)||t.template(null,n.messages,"root",r,n)||i&&t.template(null,i,"root",r,n)||"value"},t.process=function(e,r,n){if(!e)return null;var i=t.details(e),a=i.override,o=i.message,s=i.details;if(a)return a;if(n.errors.stack)return new t.ValidationError(o,s,r);var u=Error.stackTraceLimit;Error.stackTraceLimit=0;var c=new t.ValidationError(o,s,r);return Error.stackTraceLimit=u,c},t.details=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o instanceof Error){if(!1!==r.override)return{override:o};var s=o.toString();n.push(s),i.push({message:s,type:"override",context:{error:o}})}else{var u=o.toString();n.push(u),i.push({message:u,path:o.path.filter((function(e){return"object"!=typeof e})),type:o.code,context:o.local})}}}catch(c){a.e(c)}finally{a.f()}return n.length>1&&(n=w(new Set(n))),{message:n.join(". "),details:i}},t.ValidationError=function(e){f(n,e);var r=h(n);function n(e,t,i){var a;return A(this,n),(a=r.call(this,e))._original=i,a.details=t,a}return O(n,null,[{key:"isError",value:function(e){return e instanceof t.ValidationError}}]),n}(p(Error)),t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},8901:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o=r(6914),s={};t.type=function(e,t){var r=Object.getPrototypeOf(e),u=i(r),c=e._assign(Object.create(u)),l=Object.assign({},t);delete l.base,u._definition=l;var f=r._definition||{};l.messages=o.merge(f.messages,l.messages),l.properties=Object.assign({},f.properties,l.properties),c.type=l.type,l.flags=Object.assign({},f.flags,l.flags);var h=Object.assign({},f.terms);if(l.terms)for(var d in l.terms){var p=l.terms[d];n(void 0===c.$_terms[d],"Invalid term override for",l.type,d),c.$_terms[d]=p.init,h[d]=p}l.terms=h,l.args||(l.args=f.args),l.prepare=s.prepare(l.prepare,f.prepare),l.coerce&&("function"==typeof l.coerce&&(l.coerce={method:l.coerce}),l.coerce.from&&!Array.isArray(l.coerce.from)&&(l.coerce={method:l.coerce.method,from:[].concat(l.coerce.from)})),l.coerce=s.coerce(l.coerce,f.coerce),l.validate=s.validate(l.validate,f.validate);var v=Object.assign({},f.rules);if(l.rules){var m=function(e){var t=l.rules[e];n("object"==typeof t,"Invalid rule definition for",l.type,e);var r=t.method;if(void 0===r&&(r=function(){return this.$_addRule(e)}),r&&(n(!u[e],"Rule conflict in",l.type,e),u[e]=r),n(!v[e],"Rule conflict in",l.type,e),v[e]=t,t.alias){var i,o=k([].concat(t.alias));try{for(o.s();!(i=o.n()).done;){var s=i.value;u[s]=t.method}}catch(c){o.e(c)}finally{o.f()}}t.args&&(t.argsByName=new Map,t.args=t.args.map((function(e){return"string"==typeof e&&(e={name:e}),n(!t.argsByName.has(e.name),"Duplicated argument name",e.name),a.isSchema(e.assert)&&(e.assert=e.assert.strict().label(e.name)),t.argsByName.set(e.name,e),e})))};for(var g in l.rules)m(g)}l.rules=v;var y=Object.assign({},f.modifiers);if(l.modifiers){var w=function(e){n(!u[e],"Rule conflict in",l.type,e);var t=l.modifiers[e];n("function"==typeof t,"Invalid modifier definition for",l.type,e);var r=function(t){return this.rule(b({},e,t))};u[e]=r,y[e]=t};for(var _ in l.modifiers)w(_)}if(l.modifiers=y,l.overrides){for(var x in u._super=r,c.$_super={},l.overrides)n(r[x],"Cannot override missing",x),l.overrides[x][a.symbols.parent]=r[x],c.$_super[x]=r[x].bind(c);Object.assign(u,l.overrides)}l.cast=Object.assign({},f.cast,l.cast);var E=Object.assign({},f.manifest,l.manifest);return E.build=s.build(l.manifest&&l.manifest.build,f.manifest&&f.manifest.build),l.manifest=E,l.rebuild=s.rebuild(l.rebuild,f.rebuild),c},s.build=function(e,t){return e&&t?function(r,n){return t(e(r,n),n)}:e||t},s.coerce=function(e,t){return e&&t?{from:e.from&&t.from?w(new Set([].concat(w(e.from),w(t.from)))):null,method:function(r,n){var i;if((!t.from||t.from.includes(typeof r))&&(i=t.method(r,n))){if(i.errors||void 0===i.value)return i;r=i.value}if(!e.from||e.from.includes(typeof r)){var a=e.method(r,n);if(a)return a}return i}}:e||t},s.prepare=function(e,t){return e&&t?function(r,n){var i=e(r,n);if(i){if(i.errors||void 0===i.value)return i;r=i.value}return t(r,n)||i}:e||t},s.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},s.validate=function(e,t){return e&&t?function(r,n){var i=t(r,n);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;r=i.value}return e(r,n)||i}:e||t}},5107:function(e,t,r){var n,i=r(375),a=r(8571),o=r(8652),s=r(8160),u=r(3292),c=r(6354),l=r(8901),f=r(9708),h=r(6133),d=r(3328),p=r(1152),m={types:{alternatives:r(4946),any:r(8068),array:r(546),boolean:r(4937),date:r(7500),function:r(390),link:r(8785),number:r(3832),object:r(8966),string:r(7417),symbol:r(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){var e,t={_types:new Set(Object.keys(m.types))},r=k(t._types);try{var n=function(){var r=e.value;t[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(!t.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],t)}};for(r.s();!(e=r.n()).done;)n()}catch(l){r.e(l)}finally{r.f()}for(var a=function(){var e=s[o];t[e]=function(){var t;return(t=this.any())[e].apply(t,arguments)}},o=0,s=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];o<s.length;o++)a();for(var u in Object.assign(t,m.methods),m.aliases){var c=m.aliases[u];t[u]=t[c]}return t.x=t.expression,p.setup&&p.setup(t),t}};m.methods={ValidationError:c.ValidationError,version:s.version,cache:o.provider,assert:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];m.assert(e,t,!0,n)},attempt:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return m.assert(e,t,!1,n)},build:function(e){return i("function"==typeof f.build,"Manifest functionality disabled"),f.build(this,e)},checkPreferences:function(e){s.checkPreferences(e)},compile:function(e,t){return u.compile(this,e,t)},defaults:function(e){i("function"==typeof e,"modifier must be a function");var t,r=Object.assign({},this),n=k(r._types);try{var a=function(){var n=t.value,a=e(r[n]());i(s.isSchema(a),"modifier must return a valid schema object"),r[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,a,t)}};for(n.s();!(t=n.n()).done;)a()}catch(o){n.e(o)}finally{n.f()}return r},expression:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(d,t)},extend:function(){for(var e=this,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];s.verifyFlat(a,"extend"),n=n||r(3378),i(a.length,"You need to provide at least one extension"),this.assert(a,n.extensions);var u=Object.assign({},this);u._types=new Set(u._types);for(var c=0,f=a;c<f.length;c++){var h=f[c];"function"==typeof h&&(h=h(u)),this.assert(h,n.extension);var d,p=k(m.expandExtension(h,u));try{var v=function(){var t=d.value;i(void 0===u[t.type]||u._types.has(t.type),"Cannot override name",t.type);var r=t.base||e.any(),n=l.type(r,t);u._types.add(t.type),u[t.type]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,n,t)}};for(p.s();!(d=p.n()).done;)v()}catch(g){p.e(g)}finally{p.f()}}return u},isError:c.ValidationError.isError,isExpression:d.isTemplate,isRef:h.isRef,isSchema:s.isSchema,in:function(){return h.in.apply(h,arguments)},override:s.symbols.override,ref:function(){return h.create.apply(h,arguments)},types:function(){var e,t={},r=k(this._types);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n]=this[n]()}}catch(a){r.e(a)}finally{r.f()}for(var i in m.aliases)t[i]=this[i]();return t}},m.assert=function(e,t,r,n){var i=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,o=null!==i?n[1]:n[0],u=t.validate(e,s.preferences({errors:{stack:!0}},o||{})),l=u.error;if(!l)return u.value;if(i instanceof Error)throw i;var f=r&&"function"==typeof l.annotate?l.annotate():l.message;throw l instanceof c.ValidationError==0&&(l=a(l)),l.message=i?"".concat(i," ").concat(f):f,l},m.generate=function(e,t,r){var n;return i(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?(n=t._definition).args.apply(n,[t].concat(w(r))):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];var r,n=[],i=k(t._types);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.type.test(a)){var o=Object.assign({},e);o.type=a,o.base=t[a](),n.push(o)}}}catch(s){i.e(s)}finally{i.f()}return n},e.exports=m.root()},6914:function(e,t,r){var n=r(375),i=r(8571),a=r(3328);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new a(e);if(a.isTemplate(e))return n(!t,"Cannot set single message template"),e;for(var r in n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{},e){var o=e[r];if("root"===r||a.isTemplate(o))t[r]=o;else if("string"!=typeof o){n("object"==typeof o&&!Array.isArray(o),"Invalid message for",r);var s=r;for(r in t[s]=t[s]||{},o){var u=o[r];"root"===r||a.isTemplate(u)?t[s][r]=u:(n("string"==typeof u,"Invalid message for",r,"in",s),t[s][r]=new a(u))}}else t[r]=new a(o)}return t},t.decompile=function(e){var t={};for(var r in e){var n=e[r];if("root"!==r)if(a.isTemplate(n))t[r]=n.describe({compact:!0});else{var i=r;for(r in t[i]={},n){var o=n[r];"root"!==r?t[i][r]=o.describe({compact:!0}):t[i].root=o}}else t.root=n}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new a(r);if(a.isTemplate(r))return r;var o=i(e);for(var s in r){var u=r[s];if("root"===s||a.isTemplate(u))o[s]=u;else if("string"!=typeof u){n("object"==typeof u&&!Array.isArray(u),"Invalid message for",s);var c=s;for(s in o[c]=o[c]||{},u){var l=u[s];"root"===s||a.isTemplate(l)?o[c][s]=l:(n("string"==typeof l,"Invalid message for",s,"in",c),o[c][s]=new a(l))}}else o[s]=new a(u)}return o}},2294:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.Ids=o.Ids=function(){function e(){A(this,e),this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}return O(e,[{key:"clone",value:function(){var e=new o.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}},{key:"concat",value:function(e){e._schemaChain&&(this._schemaChain=!0);var t,r=k(e._byId.entries());try{for(r.s();!(t=r.n()).done;){var i=_(t.value,2),a=i[0],o=i[1];n(!this._byKey.has(a),"Schema id conflicts with existing key:",a),this._byId.set(a,o)}}catch(h){r.e(h)}finally{r.f()}var s,u=k(e._byKey.entries());try{for(u.s();!(s=u.n()).done;){var c=_(s.value,2),l=c[0],f=c[1];n(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,f)}}catch(h){u.e(h)}finally{u.f()}}},{key:"fork",value:function(e,t,r){var a=this._collect(e);a.push({schema:r});var s=a.shift(),u={id:s.id,schema:t(s.schema)};n(i.isSchema(u.schema),"adjuster function failed to return a joi schema type");var c,l=k(a);try{for(l.s();!(c=l.n()).done;){var f=c.value;u={id:f.id,schema:o.fork(f.schema,u.id,u.schema)}}}catch(h){l.e(h)}finally{l.f()}return u.schema}},{key:"labels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],n=this._get(r);if(!n)return[].concat(w(t),w(e)).join(".");var i=e.slice(1);return t=[].concat(w(t),[n.schema._flags.label||r]),i.length?n.schema._ids.labels(i,t):t.join(".")}},{key:"reach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],i=this._get(r);n(i,"Schema does not contain path",[].concat(w(t),w(e)).join("."));var a=e.slice(1);return a.length?i.schema._ids.reach(a,[].concat(w(t),[r])):i.schema}},{key:"register",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).key;if(e&&i.isSchema(e)){(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);var r=e._flags.id;if(r){var a=this._byId.get(r);n(!a||a.schema===e,"Cannot add different schemas with the same id:",r),n(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(n(!this._byKey.has(t),"Schema already contains key:",t),n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}}},{key:"reset",value:function(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}},{key:"_collect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[0],a=this._get(i);n(a,"Schema does not contain path",[].concat(w(t),w(e)).join(".")),r=[a].concat(w(r));var o=e.slice(1);return o.length?a.schema._ids._collect(o,[].concat(w(t),[i]),r):r}},{key:"_get",value:function(e){return this._byId.get(e)||this._byKey.get(e)}}]),e}(),o.fork=function(e,r,n){var i=t.schema(e,{each:function(e,t){var i=t.key;if(r===(e._flags.id||i))return n},ref:!1});return i?i.$_mutateRebuild():e},t.schema=function(e,t){var r;for(var n in e._flags)if("_"!==n[0]){var i=o.scan(e._flags[n],{source:"flags",name:n},t);void 0!==i&&((r=r||e.clone())._flags[n]=i)}for(var a=0;a<e._rules.length;++a){var s=e._rules[a],u=o.scan(s.args,{source:"rules",name:s.name},t);if(void 0!==u){r=r||e.clone();var c=Object.assign({},s);c.args=u,r._rules[a]=c,r._singleRules.get(s.name)===s&&r._singleRules.set(s.name,c)}}for(var l in e.$_terms)if("_"!==l[0]){var f=o.scan(e.$_terms[l],{source:"terms",name:l},t);void 0!==f&&((r=r||e.clone()).$_terms[l]=f)}return r},o.scan=function(e,t,r,n,s){var u=n||[];if(null!==e&&"object"==typeof e){var c;if(Array.isArray(e)){for(var f=0;f<e.length;++f){var h="terms"===t.source&&"keys"===t.name&&e[f].key,d=o.scan(e[f],t,r,[f].concat(w(u)),h);void 0!==d&&((c=c||e.slice())[f]=d)}return c}if(!1!==r.schema&&i.isSchema(e)||!1!==r.ref&&a.isRef(e)){var p=r.each(e,l(l({},t),{},{path:u,key:s}));if(p===e)return;return p}for(var v in e)if("_"!==v[0]){var m=o.scan(e[v],t,r,[v].concat(w(u)),s);void 0!==m&&((c=c||Object.assign({},e))[v]=m)}return c}}},6133:function(e,t,r){var n,i=r(375),a=r(8571),o=r(9621),s=r(8160),u={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i("string"==typeof e,"Invalid reference key:",e),s.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),i(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");var r=Object.assign({},u.defaults,t);delete r.prefix;var n=r.separator,a=u.context(e,n,t.prefix);if(r.type=a.type,e=a.key,"value"===r.type)if(a.root&&(i(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)i(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{var o=_(u.ancestor(e,n),2),c=o[0],l=o[1];l&&""===(e=e.slice(l))&&(e=null),r.ancestor=c}return r.path=n?null===e?[]:e.split(n):[e],new u.Ref(r)},t.in=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.create(e,l(l({},r),{},{in:!0}))},t.isRef=function(e){return!!e&&!!e[s.symbols.ref]},u.Ref=function(){function e(t){A(this,e),i("object"==typeof t,"Invalid reference construction"),s.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),i([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),i(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),i(!t.map||Array.isArray(t.map),"options.map must be an array"),i(!t.map||!t.adjust,"Cannot set both map and adjust options"),Object.assign(this,u.defaults,t),i("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}return O(e,[{key:"resolve",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return i(!this.in||a.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,a):"local"===this.type?this._resolve(n,t,a):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,a):(i(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,a)):this._resolve(e,t,a)}},{key:"_resolve",value:function(e,t,r){var n;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=o(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){var i=this.map.get(n);void 0!==i&&(n=i)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}},{key:"toString",value:function(){return this.display}},{key:"absolute",value:function(e){return[].concat(w(e.path.slice(0,-this.ancestor)),w(this.path))}},{key:"clone",value:function(){return new u.Ref(this)}},{key:"describe",value:function(){var e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=w(this.map));for(var t=0,r=["adjust","iterables","render"];t<r.length;t++){var n=r[t];null!==this[n]&&void 0!==this[n]&&(e[n]=this[n])}return!1!==this.in&&(e.in=!0),{ref:e}}},{key:"updateDisplay",value:function(){var e=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var t=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(t).concat(e||"")}else this.display="ref:".concat(e||"..");else this.display="ref:root:".concat(e);else this.display="ref:".concat(this.separator).concat(e);else this.display="ref:".concat(e);else this.display="ref:".concat(this.type,":").concat(e)}}]),e}(),u.Ref.prototype[s.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},u.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new u.Ref(e)},u.context=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e.trim(),r){var n=void 0===r.global?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};var i=void 0===r.local?"#":r.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};var a=void 0===r.root?"/":r.root;if(a!==t&&e.startsWith(a))return{key:e.slice(a.length),type:"value",root:!0}}return{key:e,type:"value"}},u.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];for(var r=2;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=function(){function e(){A(this,e),this.refs=[]}return O(e,[{key:"register",value:function(e,i){if(e)if(i=void 0===i?t.toParent:i,Array.isArray(e)){var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;this.register(u,i)}}catch(h){o.e(h)}finally{o.f()}}else if(s.isSchema(e)){var c,l=k(e._refs.refs);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.ancestor-i>=0&&this.refs.push({ancestor:f.ancestor-i,root:f.root})}}catch(h){l.e(h)}finally{l.f()}}else t.isRef(e)&&"value"===e.type&&e.ancestor-i>=0&&this.refs.push({ancestor:e.ancestor-i,root:e.root}),(n=n||r(3328)).isTemplate(e)&&this.register(e.refs(),i)}},{key:"length",get:function(){return this.refs.length}},{key:"clone",value:function(){var e=new t.Manager;return e.refs=a(this.refs),e}},{key:"reset",value:function(){this.refs=[]}},{key:"roots",value:function(){return this.refs.filter((function(e){return!e.ancestor})).map((function(e){return e.root}))}}]),e}()},3378:function(e,t,r){var n=r(5107),i={};i.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:i.wrap,array:i.wrap,string:i.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]\w*$/,i.rule=n.object({alias:n.array().items(n.string().pattern(i.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(i.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(i.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(i.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(i.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(i.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(i.nameRx,i.rule),terms:n.object().pattern(i.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),i.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},i.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,n.link("/")]),i.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=n.object().pattern(/.+/,[n.string(),i.desc.template,n.object().pattern(/.+/,[n.string(),i.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:i.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),i.desc.ref],wrap:{label:i.wrap,array:i.wrap}},externals:n.boolean(),messages:i.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),i.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:function(e,t,r){var n=r(8571),i=r(9621),a=r(8160),o={value:Symbol("value")};e.exports=o.State=function(){function e(t,r,n){A(this,e),this.path=t,this.ancestors=r,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}return O(e,[{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new o.State(e,t,this);return r&&n.schemas&&(n.schemas=[o.schemas(r)].concat(w(n.schemas))),n}},{key:"nest",value:function(e,t){var r=new o.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[o.schemas(e)].concat(w(r.schemas)),r.debug=t,r}},{key:"shadow",value:function(e,t){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,e,t)}},{key:"snapshot",value:function(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}},{key:"restore",value:function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}}]),e}(),o.schemas=function(e){return a.isSchema(e)?{schema:e}:e},o.Shadow=function(){function e(){A(this,e),this._values=null}return O(e,[{key:"set",value:function(e,t,r){if(e.length&&("strip"!==r||"number"!=typeof e[e.length-1])){this._values=this._values||new Map;for(var n=this._values,i=0;i<e.length;++i){var a=e[i],s=n.get(a);s||(s=new Map,n.set(a,s)),n=s}n[o.value]=t}}},{key:"get",value:function(e){var t=this.node(e);if(t)return t[o.value]}},{key:"node",value:function(e){if(this._values)return i(this._values,e,{iterables:!0})}},{key:"override",value:function(e,t){if(this._values){var r=e.slice(0,-1),n=e[e.length-1],a=i(this._values,r,{iterables:!0});t?a.set(n,t):a&&a.delete(n)}}}]),e}()},3328:function(e,t,r){var n=r(375),i=r(8571),a=r(5277),o=r(1447),s=r(8160),u=r(6354),c=r(6133),f={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=f.Template=function(){function e(t,r){A(this,e),n("string"==typeof t,"Template source must be a string"),n(!t.includes("\0")&&!t.includes(""),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this._template=null,this._settings=i(r),this._parse()}return O(e,[{key:"_parse",value:function(){if(this.source.includes("{")){var e=f.encode(this.source),t=f.split(e),r=!1,n=[],i=t.shift();i&&n.push(i);var a,o=k(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u="{"!==s[0],c=u?"}":"}}",l=s.indexOf(c);if(-1!==l&&"{"!==s[1]){var h=s.slice(u?0:1,l),d=":"===h[0];d&&(h=h.slice(1));var p=this._ref(f.decode(h),{raw:u,wrapped:d});n.push(p),"string"!=typeof p&&(r=!0);var v=s.slice(l+c.length);v&&n.push(f.decode(v))}else n.push("{".concat(f.decode(s)))}}catch(m){o.e(m)}finally{o.f()}r?this._template=n:this.rendered=n.join("")}}},{key:"describe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._settings&&e.compact)return this.source;var t={template:this.source};return this._settings&&(t.options=this._settings),t}},{key:"isDynamic",value:function(){return!!this._template}},{key:"refs",value:function(){if(this._template){var e,t=[],r=k(this._template);try{for(r.s();!(e=r.n()).done;){var n=e.value;"string"!=typeof n&&t.push.apply(t,w(n.refs))}}catch(i){r.e(i)}finally{r.f()}return t}}},{key:"resolve",value:function(e,t,r,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}},{key:"_part",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.ref?(t=e.ref).resolve.apply(t,n):e.formula.evaluate(n)}},{key:"render",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.isDynamic())return this.rendered;var o,s=[],u=k(this._template);try{for(u.s();!(o=u.n()).done;){var c=o.value;if("string"==typeof c)s.push(c);else{var l=this._part(c,e,t,r,n,i),h=f.stringify(l,e,t,r,n,i);if(void 0!==h){var d=c.raw||!1===(i.errors&&i.errors.escapeHtml)?h:a(h);s.push(f.wrap(d,c.wrapped&&r.errors.wrap.label))}}}}catch(p){u.e(p)}finally{u.f()}return s.join("")}},{key:"_ref",value:function(e,t){var r=this,n=t.raw,i=t.wrapped,a=[],s=function(e){var t=c.create(e,r._settings);return a.push(t),function(e){return t.resolve.apply(t,w(e))}};try{var u=new o.Parser(e,{reference:s,functions:f.functions,constants:f.constants})}catch(t){throw t.message='Invalid template variable "'.concat(e,'" fails due to: ').concat(t.message),t}if(u.single){if("reference"===u.single.type){var l=a[0];return{ref:l,raw:n,refs:a,wrapped:i||"local"===l.type&&"label"===l.key}}return f.stringify(u.single.value)}return{formula:u,raw:n,refs:a}}},{key:"toString",value:function(){return this.source}}],[{key:"date",value:function(e,t){return f.dateFormat[t.dateFormat].call(e)}},{key:"build",value:function(e){return new f.Template(e.template,e.options)}},{key:"isTemplate",value:function(e){return!!e&&!!e[s.symbols.template]}}]),e}(),f.Template.prototype[s.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(e){return e.replace(/\\(\{+)/g,(function(e,t){return f.opens.slice(0,t.length)})).replace(/\\(\}+)/g,(function(e,t){return f.closes.slice(0,t.length)}))},f.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(e){for(var t=[],r="",n=0;n<e.length;++n){var i=e[n];if("{"===i){for(var a="";n+1<e.length&&"{"===e[n+1];)a+="{",++n;t.push(r),r=a}else r+=i}return t.push(r),t},f.wrap=function(e,t){return t?1===t.length?"".concat(t).concat(e).concat(t):"".concat(t[0]).concat(e).concat(t[1]):e},f.stringify=function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=typeof e,s=n&&n.errors&&n.errors.wrap||{},u=!1;if(c.isRef(e)&&e.render&&(u=e.in,e=e.resolve(t,r,n,i,l({in:e.in},a))),null===e)return"null";if("string"===o)return f.wrap(e,a.arrayItems&&s.string);if("number"===o||"function"===o||"symbol"===o)return e.toString();if("object"!==o)return JSON.stringify(e);if(e instanceof Date)return f.Template.date(e,n);if(e instanceof Map){var h,d=[],p=k(e.entries());try{for(p.s();!(h=p.n()).done;){var v=_(h.value,2),m=v[0],g=v[1];d.push("".concat(m.toString()," -> ").concat(g.toString()))}}catch(E){p.e(E)}finally{p.f()}e=d}if(!Array.isArray(e))return e.toString();var y,b=[],w=k(e);try{for(w.s();!(y=w.n()).done;){var x=y.value;b.push(f.stringify(x,t,r,n,i,l({arrayItems:!0},a)))}}catch(E){w.e(E)}finally{w.f()}return f.wrap(b.join(", "),!u&&s.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(e,t,r){return e?t:r},length:function(e){return"string"==typeof e?e.length:e&&"object"==typeof e?Array.isArray(e)?e.length:Object.keys(e).length:null},msg:function(e){var t=_(this,5),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=o.messages;if(!s)return"";var c=u.template(r,s[0],e,n,i)||u.template(r,s[1],e,n,i);return c?c.render(r,n,i,a,o):""},number:function(e){return"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}}},4946:function(e,t,r){var n=r(375),i=r(1687),a=r(8068),o=r(8160),s=r(3292),u=r(6354),c=r(6133),l={};e.exports=a.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:c.toSibling}},args:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 1===r.length&&Array.isArray(r[0])?e.try.apply(e,w(r[0])):e.try.apply(e,r)},validate:function(e,t){var r=t.schema,n=t.error,a=t.state,o=t.prefs;if(r._flags.match){for(var s=[],c=[],f=0;f<r.$_terms.matches.length;++f){var h=r.$_terms.matches[f],d=a.nest(h.schema,"match.".concat(f));d.snapshot();var p=h.schema.$_validate(e,d,o);p.errors?(c.push(p.errors),d.restore()):s.push(p.value)}if(0===s.length)return{errors:n("alternatives.any",{details:c.map((function(e){return u.details(e,{override:!1})}))})};if("one"===r._flags.match)return 1===s.length?{value:s[0]}:{errors:n("alternatives.one")};if(s.length!==r.$_terms.matches.length)return{errors:n("alternatives.all",{details:c.map((function(e){return u.details(e,{override:!1})}))})};var v=function e(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&e(t.schema)}))};return v(r)?{value:s.reduce((function(e,t){return i(e,t,{mergeArrays:!1})}))}:{value:s[s.length-1]}}for(var m=[],g=0;g<r.$_terms.matches.length;++g){var y=r.$_terms.matches[g];if(y.schema){var b=a.nest(y.schema,"match.".concat(g));b.snapshot();var w=y.schema.$_validate(e,b,o);if(!w.errors)return w;b.restore(),m.push({schema:y.schema,reports:w.errors})}else for(var _=y.ref?y.ref.resolve(e,a,o):e,k=y.is?[y]:y.switch,x=0;x<k.length;++x){var E=k[x],A=E.is,S=E.then,O=E.otherwise,I="match.".concat(g).concat(y.switch?"."+x:"");if(A.$_match(_,a.nest(A,"".concat(I,".is")),o)){if(S)return S.$_validate(e,a.nest(S,"".concat(I,".then")),o)}else if(O)return O.$_validate(e,a.nest(O,"".concat(I,".otherwise")),o)}}return l.errors(m,t)},rules:{conditional:{method:function(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");var r,i=this.clone(),a=s.when(i,e,t),o=k(a.is?[a]:a.switch);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(u.then&&u.otherwise){i.$_setFlag("_endedSwitch",!0,{clone:!1});break}}}catch(c){o.e(c)}finally{o.f()}return i.$_terms.matches.push(a),i.$_mutateRebuild()}},match:{method:function(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e){var t,r=k(this.$_terms.matches);try{for(r.s();!(t=r.n()).done;){var i=t.value;n(i.schema,"Cannot combine match mode",e,"with conditional rules")}}catch(a){r.e(a)}finally{r.f()}}return this.$_setFlag("match",e)}},try:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing alternative schemas"),o.verifyFlat(t,"try"),n(!this._flags._endedSwitch,"Unreachable condition");for(var i=this.clone(),a=0,s=t;a<s.length;a++){var u=s[a];i.$_terms.matches.push({schema:i.$_compile(u)})}return i.$_mutateRebuild()}}},overrides:{label:function(e){return this.$_parent("label",e).$_modify({each:function(t,r){return"is"!==r.path[0]?t.label(e):void 0},ref:!1})}},rebuild:function(e){e.$_modify({each:function(t){o.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build:function(e,t){if(t.matches){var r,n=k(t.matches);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.ref,s=i.is,u=i.not,c=i.then,l=i.otherwise;e=a?e.try(a):o?e.conditional(o,{is:s,then:c,not:u,otherwise:l,switch:i.switch}):e.conditional(s,{then:c,otherwise:l})}}catch(f){n.e(f)}finally{n.f()}}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),l.errors=function(e,t){var r=t.error,n=t.state;if(!e.length)return{errors:r("alternatives.any")};if(1===e.length)return{errors:e[0].reports};var i,a=new Set,o=[],s=k(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,f=c.reports,h=c.schema;if(f.length>1)return l.unmatched(e,r);var d=f[0];if(d instanceof u.Report==0)return l.unmatched(e,r);if(d.state.path.length===n.path.length)if("any.only"!==d.code){var p=_(d.code.split("."),2),v=p[0];"base"===p[1]?a.add(v):o.push({type:h.type,report:d})}else{var m,g=k(d.local.valids);try{for(g.s();!(m=g.n()).done;){var y=m.value;a.add(y)}}catch(b){g.e(b)}finally{g.f()}}else o.push({type:h.type,report:d})}}catch(b){s.e(b)}finally{s.f()}return o.length?1===o.length?{errors:o[0].report}:l.unmatched(e,r):{errors:r("alternatives.types",{types:w(a)})}},l.unmatched=function(e,t){var r,n=[],i=k(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push.apply(n,w(a.reports))}}catch(o){i.e(o)}finally{i.f()}return{errors:t("alternatives.match",u.details(n,{override:!1}))}}},8068:function(e,t,r){var n=r(375),i=r(7629),a=r(8160),o=r(6914);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate:function(e,t,r){var n=r.method;try{return n(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method:function(e){return this.prefs({messages:e})}},shared:{method:function(e){n(a.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");var t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method:function(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:function(e,t,r){var n=r.code,i=r.local;return t.error(n,i)},args:["code","local"],multi:!0}},modifiers:{keep:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.keep=t},message:function(e,t){e.message=o.compile(t)},warn:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.warn=t}},manifest:{build:function(e,t){for(var r in t){var n=t[r];if(["examples","externals","metas","notes","tags"].includes(r)){var i,a=k(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;e=e[r.slice(0,-1)](o)}}catch(S){a.e(S)}finally{a.f()}}else if("alterations"!==r)if("whens"!==r){if("shared"===r){var s,u=k(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;e=e.shared(c)}}catch(S){u.e(S)}finally{u.f()}}}else{var l,f=k(n);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.ref,p=h.is,v=h.not,m=h.then,g=h.otherwise,y=h.concat;e=y?e.concat(y):d?e.when(d,{is:p,not:v,then:m,otherwise:g,switch:h.switch,break:h.break}):e.when(p,{then:m,otherwise:g,break:h.break})}}catch(S){f.e(S)}finally{f.f()}}else{var b,w={},_=k(n);try{for(_.s();!(b=_.n()).done;){var x=b.value,E=x.target,A=x.adjuster;w[E]=A}}catch(S){_.e(S)}finally{_.f()}e=e.alter(w)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(e,t,r){var n=r(375),i=r(9474),a=r(9621),o=r(8068),s=r(8160),u=r(3292),c={};e.exports=o.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs;if(Array.isArray(e)){var a=r.$_getRule("sort");return a?c.sort(r,e,a.args.options,n,i):void 0}}},validate:function(e,t){var r=t.schema,n=t.error;if(!Array.isArray(e)){if(r._flags.single){var i=[e];return i[s.symbols.arraySingle]=!0,{value:i}}return{errors:n("array.base")}}if(r.$_getRule("items")||r.$_terms.externals)return{value:e.slice()}},rules:{has:{method:function(e){e=this.$_compile(e,{appendPath:!0});var t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate:function(e,t,r){for(var n=t.state,i=t.prefs,a=t.error,o=r.schema,s=[e].concat(w(n.ancestors)),u=0;u<e.length;++u){var c=n.localize([].concat(w(n.path),[u]),s,o);if(o.$_match(e[u],c,i))return e}var l=o._flags.label;return l?a("array.hasKnown",{patternLabel:l}):a("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"items");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});i.$_terms.items.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs,o=t.errorsArray,u=r.$_terms._requireds.slice(),l=r.$_terms.ordered.slice(),f=[].concat(w(r.$_terms._inclusions),w(u)),h=!e[s.symbols.arraySingle];delete e[s.symbols.arraySingle];for(var d=o(),p=e.length,v=0;v<p;++v){var m=e[v],g=!1,y=!1,b=h?v:new Number(v),_=[].concat(w(i.path),[b]);if(r._flags.sparse||void 0!==m){var x,E=[e].concat(w(i.ancestors)),A=k(r.$_terms._exclusions);try{for(A.s();!(x=A.n()).done;){var S=x.value;if(S.$_match(m,i.localize(_,E,S),a,{presence:"ignore"})){if(d.push(n("array.excludes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d;g=!0,l.shift();break}}}catch(B){A.e(B)}finally{A.f()}if(!g){if(r.$_terms.ordered.length){if(l.length){var O=l.shift(),I=O.$_validate(m,i.localize(_,E,O),a);if(I.errors){if(d.push.apply(d,w(I.errors)),a.abortEarly)return d}else if("strip"===O._flags.result)c.fastSplice(e,v),--v,--p;else{if(!r._flags.sparse&&void 0===I.value){if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;continue}e[v]=I.value}continue}if(!r.$_terms.items.length){if(d.push(n("array.orderedLength",{pos:v,limit:r.$_terms.ordered.length})),a.abortEarly)return d;break}}for(var R=[],C=u.length,N=0;N<C;++N){var P=i.localize(_,E,u[N]);P.snapshot();var M=u[N].$_validate(m,P,a);if(R[N]=M,!M.errors){if(e[v]=M.value,y=!0,c.fastSplice(u,N),--N,--C,!r._flags.sparse&&void 0===M.value&&(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly))return d;break}P.restore()}if(!y){var j=a.stripUnknown&&!!a.stripUnknown.arrays||!1;C=f.length;var T,L=k(f);try{for(L.s();!(T=L.n()).done;){var $=T.value,D=void 0,U=u.indexOf($);if(-1!==U)D=R[U];else{var F=i.localize(_,E,$);if(F.snapshot(),!(D=$.$_validate(m,F,a)).errors){"strip"===$._flags.result?(c.fastSplice(e,v),--v,--p):r._flags.sparse||void 0!==D.value?e[v]=D.value:(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),g=!0),y=!0;break}F.restore()}if(1===C){if(j){c.fastSplice(e,v),--v,--p,y=!0;break}if(d.push.apply(d,w(D.errors)),a.abortEarly)return d;g=!0;break}}}catch(B){L.e(B)}finally{L.f()}if(!g&&(r.$_terms._inclusions.length||r.$_terms._requireds.length)&&!y){if(j){c.fastSplice(e,v),--v,--p;continue}if(d.push(n("array.includes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d}}}}else{if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;l.shift()}}return u.length&&c.fillMissedErrors(r,d,u,e,i,a),l.length&&(c.fillOrderedErrors(r,d,l,e,i,a),d.length||c.fillDefault(l,e,i,a)),d.length?d:e},priority:!0,manifest:!1},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,u=n.args;return s.compare(e.length,i,o)?e:t.error("array."+a,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:s.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"ordered");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});c.validateSingle(n,i),i.$_mutateRegister(n),i.$_terms.ordered.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()}},single:{method:function(e){var t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assertOptions(e,["by","order"]);var t={order:e.order||"ascending"};return e.by&&(t.by=u.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate:function(e,t,r){var n=t.error,i=t.state,a=t.prefs,o=t.schema,s=r.options,u=c.sort(o,e,s,i,a),l=u.value,f=u.errors;if(f)return f;for(var h=0;h<e.length;++h)if(e[h]!==l[h])return n("array.sort",{order:s.order,by:s.by?s.by.key:"value"});return e},convert:!0},sparse:{method:function(e){var t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),s.assertOptions(t,["ignoreUndefined","separator"]);var r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){var i=s.default(t.separator,".");r.path=i?e.split(i):[e]}else r.comparator=e;return this.$_addRule(r)},validate:function(e,t,r,o){for(var s=t.state,u=t.error,c=(t.schema,r.comparator),l=r.options,f=o.comparator,h=o.path,d={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},p=f||i,v=l.ignoreUndefined,m=0;m<e.length;++m){var g=h?a(e[m],h):e[m],y=f?d.custom:d[typeof g];if(n(y,"Failed to find unique map container for type",typeof g),y instanceof Map){for(var b=y.entries(),_=void 0;!(_=b.next()).done;)if(p(_.value[0],g)){var k=s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))),x={pos:m,value:e[m],dupePos:_.value[1],dupeValue:e[_.value[1]]};return h&&(x.path=c),u("array.unique",x,k)}y.set(g,m)}else{if((!v||void 0!==g)&&void 0!==y[g]){var E={pos:m,value:e[m],dupePos:y[g],dupeValue:e[y[g]]};return h&&(E.path=c),u("array.unique",E,s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))))}y[g]=m}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(e,t){return new Set(e)}}},rebuild:function(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];var t,r=k(e.$_terms.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;c.validateSingle(n,e),"required"===n._flags.presence?e.$_terms._requireds.push(n):"forbidden"===n._flags.presence?e.$_terms._exclusions.push(n):e.$_terms._inclusions.push(n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(e.$_terms.ordered);try{for(a.s();!(i=a.n()).done;){var o=i.value;c.validateSingle(o,e)}}catch(s){a.e(s)}finally{a.f()}},manifest:{build:function(e,t){var r,n;return t.items&&(e=(r=e).items.apply(r,w(t.items))),t.ordered&&(e=(n=e).ordered.apply(n,w(t.ordered))),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),c.fillMissedErrors=function(e,t,r,n,i,a){var o,s=[],u=0,c=k(r);try{for(c.s();!(o=c.n()).done;){var l=o.value._flags.label;l?s.push(l):++u}}catch(f){c.e(f)}finally{c.f()}s.length?u?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:s,unknownMisses:u},i,a)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:s},i,a)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:u},i,a))},c.fillOrderedErrors=function(e,t,r,n,i,a){var o,s=[],u=k(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;"required"===l._flags.presence&&s.push(l)}}catch(f){u.e(f)}finally{u.f()}s.length&&c.fillMissedErrors(e,t,s,n,i,a)},c.fillDefault=function(e,t,r,n){for(var i=[],a=!0,o=e.length-1;o>=0;--o){var s=e[o],u=[t].concat(w(r.ancestors)),c=s.$_validate(void 0,r.localize(r.path,u,s),n).value;if(a){if(void 0===c)continue;a=!1}i.unshift(c)}i.length&&t.push.apply(t,i)},c.fastSplice=function(e,t){for(var r=t;r<e.length;)e[r++]=e[r];--e.length},c.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},c.sort=function(e,t,r,n,i){var a="ascending"===r.order?1:-1,o=-1*a,s=a,u=function(u,l){var f=c.compare(u,l,o,s);if(null!==f)return f;if(r.by&&(u=r.by.resolve(u,n,i),l=r.by.resolve(l,n,i)),null!==(f=c.compare(u,l,o,s)))return f;var h=typeof u;if(h!==typeof l)throw e.$_createError("array.sort.mismatching",t,null,n,i);if("number"!==h&&"string"!==h)throw e.$_createError("array.sort.unsupported",t,{type:h},n,i);return"number"===h?(u-l)*a:u<l?o:s};try{return{value:t.slice().sort(u)}}catch(e){return{errors:e}}},c.compare=function(e,t,r,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?r:null}},4937:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(2036),s={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(e,t){var r=t.schema;if("boolean"!=typeof e){if("string"==typeof e){var n=r._flags.sensitive?e:e.toLowerCase();e="true"===n||"false"!==n&&e}return"boolean"!=typeof e&&(e=r.$_terms.truthy&&r.$_terms.truthy.has(e,null,null,!r._flags.sensitive)||(!r.$_terms.falsy||!r.$_terms.falsy.has(e,null,null,!r._flags.sensitive))&&e),{value:e}}},validate:function(e,t){var r=t.error;if("boolean"!=typeof e)return{value:e,errors:r("boolean.base")}},rules:{truthy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"truthy");var i=this.clone();i.$_terms.truthy=i.$_terms.truthy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call truthy with undefined"),i.$_terms.truthy.add(u)}return i}},falsy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"falsy");var i=this.clone();i.$_terms.falsy=i.$_terms.falsy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call falsy with undefined"),i.$_terms.falsy.add(u)}return i}},sensitive:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("sensitive",e)}}},cast:{number:{from:s.isBool,to:function(e,t){return e?1:0}},string:{from:s.isBool,to:function(e,t){return e?"true":"false"}}},manifest:{build:function(e,t){var r,n;return t.truthy&&(e=(r=e).truthy.apply(r,w(t.truthy))),t.falsy&&(e=(n=e).falsy.apply(n,w(t.falsy))),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3328),s={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:function(e,t){var r=t.schema;return{value:s.parse(e,r._flags.format)||e}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(!(e instanceof Date)||isNaN(e.getTime())){var a=r._flags.format;return i.convert&&a&&"string"==typeof e?{value:e,errors:n("date.format",{format:a})}:{value:e,errors:n("date.base")}}},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.date,o=n.name,s=n.operator,u=n.args,c="now"===i?Date.now():i.getTime();return a.compare(e.getTime(),c,s)?e:t.error("date."+o,{limit:u.date,value:e})},args:[{name:"date",ref:!0,normalize:function(e){return"now"===e?e:s.parse(e)},assert:function(e){return null!==e},message:"must have a valid date format"}]},format:{method:function(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:s.isDate,to:function(e,t){return e.getTime()}},string:{from:s.isDate,to:function(e,t){var r=t.prefs;return o.date(e,r)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),s.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return a.isIsoDate(e)?s.date(e.toString()):null;var r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return s.date(1*e);if("unix"===t)return s.date(1e3*e);if("string"==typeof r)return null}return s.date(e)},s.date=function(e){var t=new Date(e);return isNaN(t.getTime())?null:t}},390:function(e,t,r){var n=r(375),i=r(7824);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length===n?e:t.error("function.arity",{n:n})}},class:{method:function(){return this.$_addRule("class")},validate:function(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length>=n?e:t.error("function.minArity",{n:n})}},maxArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length<=n?e:t.error("function.maxArity",{n:n})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(e,t,r){var n=r(978),i=r(375),a=r(8571),o=r(3652),s=r(8068),u=r(8160),c=r(3292),d=r(6354),m=r(6133),g=r(3328),y={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=s.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(e,t){return e.keys(t)},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs;if(!e||typeof e!==r.$_property("typeof")||Array.isArray(e))return{value:e,errors:n("object.base",{type:r.$_property("typeof")})};if(r.$_terms.renames||r.$_terms.dependencies||r.$_terms.keys||r.$_terms.patterns||r.$_terms.externals){e=y.clone(e,a);var o=[];if(r.$_terms.renames&&!y.rename(r,e,i,a,o))return{value:e,errors:o};if(!r.$_terms.keys&&!r.$_terms.patterns&&!r.$_terms.dependencies)return{value:e,errors:o};var s=new Set(Object.keys(e));if(r.$_terms.keys){var u,c=[e].concat(w(i.ancestors)),l=k(r.$_terms.keys);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f.key,d=e[h];s.delete(h);var p=i.localize([].concat(w(i.path),[h]),c,f),v=f.schema.$_validate(d,p,a);if(v.errors){if(a.abortEarly)return{value:e,errors:v.errors};void 0!==v.value&&(e[h]=v.value),o.push.apply(o,w(v.errors))}else"strip"===f.schema._flags.result||void 0===v.value&&void 0!==d?delete e[h]:void 0!==v.value&&(e[h]=v.value)}}catch(A){l.e(A)}finally{l.f()}}if(s.size||r._flags._hasPatternMatch){var m=y.unknown(r,e,s,o,i,a);if(m)return m}if(r.$_terms.dependencies){var g,b=k(r.$_terms.dependencies);try{for(b.s();!(g=b.n()).done;){var _=g.value;if(null===_.key||!1!==y.isPresent(_.options)(_.key.resolve(e,i,a,null,{shadow:!1}))){var x=y.dependencies[_.rel](r,_,e,i,a);if(x){var E=r.$_createError(x.code,e,x.context,i,a);if(a.abortEarly)return{value:e,errors:E};o.push(E)}}}}catch(A){b.e(A)}finally{b.f()}}return{value:e,errors:o}}},rules:{and:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"and"),y.dependency(this,"and",null,t)}},append:{method:function(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method:function(e,t,r){g.isTemplate(e)||(e=c.ref(e)),i(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate:function(e,t,r){var n=t.error,i=t.prefs,a=t.state,o=r.subject,s=r.schema,u=r.message,c=o.resolve(e,a,i),l=m.isRef(o)?o.absolute(a):[];return s.$_match(c,a.localize(l,[e].concat(w(a.ancestors)),s),i)?e:n("object.assert",{subject:o,message:u})},args:["subject","schema","message"],multi:!0},instance:{method:function(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:function(e,t,r){var n=r.constructor,i=r.name;return e instanceof n?e:t.error("object.instance",{type:i,value:e})},args:["constructor","name"]},keys:{method:function(e){var t=this;i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!u.isSchema(e),"Object schema cannot be a joi schema");var r=this.clone();if(e)if(Object.keys(e).length){r.$_terms.keys=r.$_terms.keys?r.$_terms.keys.filter((function(t){return!e.hasOwnProperty(t.key)})):new y.Keys;var n=function(n){u.tryWithPath((function(){return r.$_terms.keys.push({key:n,schema:t.$_compile(e[n])})}),n)};for(var a in e)n(a)}else r.$_terms.keys=new y.Keys;else r.$_terms.keys=null;return r.$_mutateRebuild()}},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,s=n.args;return u.compare(Object.keys(e).length,i,o)?e:t.error("object."+a,{limit:s.limit,value:e})},args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"nand"),y.dependency(this,"nand",null,t)}},or:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"or"),y.dependency(this,"or",null,t)}},oxor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.dependency(this,"oxor",null,t)}},pattern:{method:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e instanceof RegExp;a||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),u.assertOptions(n,["fallthrough","matches"]),a&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});var o=this.clone();o.$_terms.patterns=o.$_terms.patterns||[];var s=(b(r={},a?"regex":"schema",e),b(r,"rule",t),r);return n.matches&&(s.matches=this.$_compile(n.matches),"array"!==s.matches.type&&(s.matches=s.matches.$_root.array().items(s.matches)),o.$_mutateRegister(s.matches),o.$_setFlag("_hasPatternMatch",!0,{clone:!1})),n.fallthrough&&(s.fallthrough=!0),o.$_terms.patterns.push(s),o.$_mutateRegister(t),o}},ref:{method:function(){return this.$_addRule("ref")},validate:function(e,t){return m.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof g,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),u.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);var a=this.clone();a.$_terms.renames=a.$_terms.renames||[];var o,s=k(a.$_terms.renames);try{for(s.s();!(o=s.n()).done;){var c=o.value;i(c.from!==e,"Cannot rename the same key multiple times")}}catch(l){s.e(l)}finally{s.f()}return t instanceof g&&a.$_mutateRegister(t),a.$_terms.renames.push({from:e,to:t,options:n(y.renameDefaults,r)}),a}},schema:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:e}})},validate:function(e,t,r){var n=r.type;return!u.isSchema(e)||"any"!==n&&e.type!==n?t.error("object.schema",{type:n}):e}},unknown:{method:function(e){return this.$_setFlag("unknown",!1!==e)}},with:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"with",e,t,r)}},without:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"without",e,t,r)}},xor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"xor"),y.dependency(this,"xor",null,t)}}},overrides:{default:function(e,t){return void 0===e&&(e=u.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild:function(e){if(e.$_terms.keys){var t,r=new o.Sorter,n=k(e.$_terms.keys);try{var i=function(){var e=t.value;u.tryWithPath((function(){return r.add(e,{after:e.schema.$_rootReferences(),group:e.key})}),e.key)};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}e.$_terms.keys=v(y.Keys,w(r.nodes))}},manifest:{build:function(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies){var r,n=k(t.dependencies);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.rel,o=i.key,s=void 0===o?null:o,u=i.peers,c=i.options;e=y.dependency(e,a,s,u,c)}}catch(S){n.e(S)}finally{n.f()}}if(t.patterns){var l,f=k(t.patterns);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.regex,p=h.schema,v=h.rule,m=h.fallthrough,g=h.matches;e=e.pattern(d||p,v,{fallthrough:m,matches:g})}}catch(S){f.e(S)}finally{f.f()}}if(t.renames){var b,w=k(t.renames);try{for(w.s();!(b=w.n()).done;){var _=b.value,x=_.from,E=_.to,A=_.options;e=e.rename(x,E,A)}}catch(S){w.e(S)}finally{w.f()}}return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),y.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return a(e,{shallow:!0});var r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}var n=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)};return n.prototype=a(e.prototype),Object.defineProperty(n,"name",{value:e.name,writable:!1}),Object.defineProperty(n,"length",{value:e.length,writable:!1}),Object.assign(n,e),n},y.dependency=function(e,t,r,n,a){i(null===r||"string"==typeof r,t,"key must be a strings"),a||(a=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),u.assertOptions(a,["separator","isPresent"]),n=[].concat(n);var o,s=u.default(a.separator,"."),l=[],f=k(n);try{for(f.s();!(o=f.n()).done;){var h=o.value;i("string"==typeof h,t,"peers must be strings"),l.push(c.ref(h,{separator:s,ancestor:0,prefix:!1}))}}catch(p){f.e(p)}finally{f.f()}null!==r&&(r=c.ref(r,{separator:s,ancestor:0,prefix:!1}));var d=e.clone();return d.$_terms.dependencies=d.$_terms.dependencies||[],d.$_terms.dependencies.push(new y.Dependency(t,r,l,n,a)),d},y.dependencies={and:function(e,t,r,n,i){var a,o=[],s=[],u=t.peers.length,c=y.isPresent(t.options),l=k(t.peers);try{for(l.s();!(a=l.n()).done;){var f=a.value;!1===c(f.resolve(r,n,i,null,{shadow:!1}))?o.push(f.key):s.push(f.key)}}catch(h){l.e(h)}finally{l.f()}if(o.length!==u&&s.length!==u)return{code:"object.and",context:{present:s,presentWithLabels:y.keysToLabels(e,s),missing:o,missingWithLabels:y.keysToLabels(e,o)}}},nand:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(h){u.e(h)}finally{u.f()}if(o.length===t.peers.length){var l=t.paths[0],f=t.paths.slice(1);return{code:"object.nand",context:{main:l,mainWithLabel:y.keysToLabels(e,l),peers:f,peersWithLabels:y.keysToLabels(e,f)}}}},or:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;)if(o(a.value.resolve(r,n,i,null,{shadow:!1})))return}catch(u){s.e(u)}finally{s.f()}return{code:"object.missing",context:{peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)}}},oxor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(o.length&&1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.oxor",context:l}}},with:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(!1===o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.with",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},without:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},xor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return 0===o.length?{code:"object.missing",context:l}:(l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.xor",context:l})}}},y.keysToLabels=function(e,t){return Array.isArray(t)?t.map((function(t){return e.$_mapLabels(t)})):e.$_mapLabels(t)},y.isPresent=function(e){return"function"==typeof e.isPresent?e.isPresent:function(e){return void 0!==e}},y.rename=function(e,t,r,n,i){var a,o={},s=k(e.$_terms.renames);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=[],l="string"!=typeof u.from;if(l){for(var f in t)if((void 0!==t[f]||!u.options.ignoreUndefined)&&f!==u.to){var h=u.from.exec(f);h&&c.push({from:f,to:u.to,match:h})}}else!Object.prototype.hasOwnProperty.call(t,u.from)||void 0===t[u.from]&&u.options.ignoreUndefined||c.push(u);for(var d=0,p=c;d<p.length;d++){var v=p[d],m=v.from,y=v.to;if(y instanceof g&&(y=y.render(t,r,n,v.match)),m!==y){if(!u.options.multiple&&o[y]&&(i.push(e.$_createError("object.rename.multiple",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,y)&&!u.options.override&&!o[y]&&(i.push(e.$_createError("object.rename.override",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;void 0===t[m]?delete t[y]:t[y]=t[m],o[y]=!0,u.options.alias||delete t[m]}}}}catch(b){s.e(b)}finally{s.f()}return!0},y.unknown=function(e,t,r,n,i,a){if(e.$_terms.patterns){var o,s=!1,c=e.$_terms.patterns.map((function(e){if(e.matches)return s=!0,[]})),l=[t].concat(w(i.ancestors)),f=k(r);try{for(f.s();!(o=f.n()).done;)for(var h=o.value,p=t[h],v=[].concat(w(i.path),[h]),m=0;m<e.$_terms.patterns.length;++m){var g=e.$_terms.patterns[m];if(g.regex){var y=g.regex.test(h);if(i.mainstay.tracer.debug(i,"rule","pattern.".concat(m),y?"pass":"error"),!y)continue}else if(!g.schema.$_match(h,i.nest(g.schema,"pattern.".concat(m)),a))continue;r.delete(h);var b=i.localize(v,l,{schema:g.rule,key:h}),_=g.rule.$_validate(p,b,a);if(_.errors){if(a.abortEarly)return{value:t,errors:_.errors};n.push.apply(n,w(_.errors))}if(g.matches&&c[m].push(h),t[h]=_.value,!g.fallthrough)break}}catch(U){f.e(U)}finally{f.f()}if(s)for(var x=0;x<c.length;++x){var E=c[x];if(E){var A=e.$_terms.patterns[x].matches,S=i.localize(i.path,l,A),O=A.$_validate(E,S,a);if(O.errors){var I=d.details(O.errors,{override:!1});I.matches=E;var R=e.$_createError("object.pattern.match",t,I,i,a);if(a.abortEarly)return{value:t,errors:R};n.push(R)}}}}if(r.size&&(e.$_terms.keys||e.$_terms.patterns)){if(a.stripUnknown&&!e._flags.unknown||a.skipFunctions){var C,N=!(!a.stripUnknown||!0!==a.stripUnknown&&!a.stripUnknown.objects),P=k(r);try{for(P.s();!(C=P.n()).done;){var M=C.value;N?(delete t[M],r.delete(M)):"function"==typeof t[M]&&r.delete(M)}}catch(U){P.e(U)}finally{P.f()}}if(!u.default(e._flags.unknown,a.allowUnknown)){var j,T=k(r);try{for(T.s();!(j=T.n()).done;){var L=j.value,$=i.localize([].concat(w(i.path),[L]),[]),D=e.$_createError("object.unknown",t[L],{child:L},$,a,{flags:!1});if(a.abortEarly)return{value:t,errors:D};n.push(D)}}catch(U){T.e(U)}finally{T.f()}}}},y.Dependency=function(){function e(t,r,n,i,a){A(this,e),this.rel=t,this.key=r,this.peers=n,this.paths=i,this.options=a}return O(e,[{key:"describe",value:function(){var e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options=l(l({},e.options),{},{separator:this.peers[0].separator})),this.options.isPresent&&(e.options=l(l({},e.options),{},{isPresent:this.options.isPresent})),e}}]),e}(),y.Keys=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"concat",value:function(e){for(var t=this.slice(),r=new Map,n=0;n<t.length;++n)r.set(t[n].key,n);var i,a=k(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.key,u=r.get(s);void 0!==u?t[u]={key:s,schema:t[u].schema.concat(o.schema)}:t.push(o)}}catch(c){a.e(c)}finally{a.f()}return t}}]),r}(p(Array))},8785:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3292),s=r(6354),u={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(e,t){return e.ref(t)},validate:function(e,t){var r=t.schema,i=t.state,a=t.prefs;n(r.$_terms.link,"Uninitialized link schema");var o=u.generate(r,e,i,a),s=r.$_terms.link[0].ref;return o.$_validate(e,i.nest(o,"link:".concat(s.display,":").concat(o.type)),a)},generate:function(e,t,r,n){return u.generate(e,t,r,n)},rules:{ref:{method:function(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=o.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");var t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("relative",e)}}},overrides:{concat:function(e){n(this.$_terms.link,"Uninitialized link schema"),n(a.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");var t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:function(e,t){return n(t.link,"Invalid link description missing link"),e.ref(t.link)}}}),u.generate=function(e,t,r,n){var i=r.mainstay.links.get(e);if(i)return i._generate(t,r,n).schema;var a=e.$_terms.link[0].ref,o=u.perspective(a,r),s=o.perspective,c=o.path;u.assert(s,"which is outside of schema boundaries",a,e,r,n);try{i=c.length?s.$_reach(c):s}catch(t){u.assert(!1,"to non-existing schema",a,e,r,n)}return u.assert("link"!==i.type,"which is another link",a,e,r,n),e._flags.relative||r.mainstay.links.set(e,i),i._generate(t,r,n).schema},u.perspective=function(e,t){if("local"===e.type){var r,n=k(t.schemas);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.key;if((a._flags.id||o)===e.path[0])return{perspective:a,path:e.path.slice(1)};if(a.$_terms.shared){var s,u=k(a.$_terms.shared);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c._flags.id===e.path[0])return{perspective:c,path:e.path.slice(1)}}}catch(l){u.e(l)}finally{u.f()}}}}catch(l){n.e(l)}finally{n.f()}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},u.assert=function(e,t,r,i,a,o){e||n(!1,'"'.concat(s.label(i._flags,a,o),'" contains link reference "').concat(r.display,'" ').concat(t))}},3832:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.error;if(e.match(o.numberRx)){e=e.trim();var i={value:parseFloat(e)};if(0===i.value&&(i.value=0),!r._flags.unsafe)if(e.match(/e/i)){if(o.extractSignificantDigits(e)!==o.extractSignificantDigits(String(i.value)))return i.errors=n("number.unsafe"),i}else{var a=i.value.toString();if(a.match(/e/i))return i;if(a!==o.normalizeDecimal(e))return i.errors=n("number.unsafe"),i}return i}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(e===1/0||e===-1/0)return{value:e,errors:n("number.infinity")};if(!a.isNumber(e))return{value:e,errors:n("number.base")};var o={value:e};if(i.convert){var s=r.$_getRule("precision");if(s){var u=Math.pow(10,s.args.limit);o.value=Math.round(o.value*u)/u}}return 0===o.value&&(o.value=0),!r._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(o.errors=n("number.unsafe")),o},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.limit,o=n.name,s=n.operator,u=n.args;return a.compare(e,i,s)?e:t.error("number."+o,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:a.isNumber,message:"must be a number"}]},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(e,t){return Math.trunc(e)-e==0?e:t.error("number.integer")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method:function(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate:function(e,t,r,n){return e*(1/r.base)%1==0?e:t.error("number.multiple",{multiple:n.args.base,value:e})},args:[{name:"base",ref:!0,assert:function(e){return"number"==typeof e&&isFinite(e)&&e>0},message:"must be a positive number"}],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate:function(e,t,r){var n=r.limit,i=e.toString().match(o.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=n?e:t.error("number.precision",{limit:n,value:e})},convert:!0},sign:{method:function(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:function(e,t,r){var n=r.sign;return"negative"===n&&e<0||"positive"===n&&e>0?e:t.error("number.".concat(n))}},unsafe:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:function(e){return"number"==typeof e},to:function(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),o.extractSignificantDigits=function(e){return e.replace(o.exponentialPartRegex,"").replace(o.dotRegex,"").replace(o.trailingZerosRegex,"").replace(o.leadingSignAndZerosRegex,"")},o.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},8966:function(e,t,r){var n=r(7824);e.exports=n.extend({type:"object",cast:{map:{from:function(e){return e&&"object"==typeof e},to:function(e,t){return new Map(Object.entries(e))}}}})},7417:function(e,t,r){var n=r(375),i=r(5380),a=r(1745),o=r(9959),s=r(6064),u=r(9926),c=r(5752),f=r(8068),h=r(8160),d={tlds:u instanceof Set&&{tlds:{allow:u,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:o.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=f.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs,a=r.$_getRule("normalize");a&&(e=e.normalize(a.args.form));var o=r.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());var s=r.$_getRule("trim");if(s&&s.args.enabled&&(e=e.trim()),r.$_terms.replacements){var u,c=k(r.$_terms.replacements);try{for(c.s();!(u=c.n()).done;){var l=u.value;e=e.replace(l.pattern,l.replacement)}}catch(g){c.e(g)}finally{c.f()}}var f=r.$_getRule("hex");if(f&&f.args.options.byteAligned&&e.length%2!=0&&(e="0".concat(e)),r.$_getRule("isoDate")){var p=d.isoDate(e);p&&(e=p)}if(r._flags.truncate){var v=r.$_getRule("max");if(v){var m=v.args.limit;if(h.isResolvable(m)&&(m=m.resolve(e,n,i),!h.limit(m)))return{value:e,errors:r.$_createError("any.ref",m,{ref:v.args.limit,arg:"limit",reason:"must be a positive integer"},n,i)};e=e.slice(0,m)}}return{value:e}}},validate:function(e,t){var r=t.schema,n=t.error;if("string"!=typeof e)return{value:e,errors:n("string.base")};if(""===e){var i=r.$_getRule("min");if(i&&0===i.args.limit)return;return{value:e,errors:n("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired","urlSafe"]),e=l({urlSafe:!1,paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),n("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.base64Regex[n.paddingRequired][n.urlSafe].test(e)?e:t.error("string.base64")}},case:{method:function(e){return n(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:function(e,t,r){var n=r.direction;return"lower"===n&&e===e.toLocaleLowerCase()||"upper"===n&&e===e.toLocaleUpperCase()?e:t.error("string.".concat(n,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(e,t){for(var r=e.length,n=0,i=1;r--;){var a=e.charAt(r)*i;n+=a-9*(a>9),i^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired"]),e=l({paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate:function(e,t,r){var n=r.options,i=e.match(d.dataUriRegex);if(i){if(!i[2])return e;if("base64"!==i[2])return e;if(d.base64Regex[n.paddingRequired].false.test(i[3]))return e}return t.error("string.dataUri")}},domain:{method:function(e){e&&h.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=d.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:function(e,t,r,n){var a=n.address;return i.isValid(e,a)?e:t.error("string.domain")}},email:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),n(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");var t=d.addressOptions(e),r=new RegExp("\\s*[".concat(e.separator?s(e.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate:function(e,t,r,n){var i,o=r.options,s=n.regex,u=n.address,c=[],l=k(o.multiple?e.split(s):[e]);try{for(l.s();!(i=l.n()).done;){var f=i.value;a.isValid(f,u)||c.push(f)}}catch(h){l.e(h)}finally{l.f()}return c.length?t.error("string.email",{value:e,invalids:c}):e}},guid:{alias:"uuid",method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["version","separator"]);var t="";if(e.version){var r=[].concat(e.version);n(r.length>=1,"version must have at least 1 valid version specified");for(var i=new Set,a=0;a<r.length;++a){var o=r[a];n("string"==typeof o,"version at position "+a+" must be a string");var s=d.guidVersions[o.toLowerCase()];n(s,"version at position "+a+" must be one of "+Object.keys(d.guidVersions).join(", ")),n(!i.has(s),"version at position "+a+" must not be a duplicate"),t+=s,i.add(s)}}n(d.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');var u=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":"\\".concat(e.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(u,")[0-9A-F]{4}\\2?[").concat(t||"0-9A-F","][0-9A-F]{3}\\2?[").concat(t?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:e},regex:c})},validate:function(e,t,r,n){var i=n.regex.exec(e);return i?d.guidBrackets[i[1]]!==i[i.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["byteAligned"]),e=l({byteAligned:!1},e),n("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.hexRegex.test(e)?n.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(e,t){return i.isValid(e,{minDomainSegments:1})||d.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["cidr","version"]);var t=o.regex(e),r=t.cidr,n=t.versions,i=t.regex,a=e.version?n:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:r,version:a}},regex:i})},validate:function(e,t,r,n){var i=r.options;return n.regex.test(e)?e:i.version?t.error("string.ipVersion",{value:e,cidr:i.cidr,version:i.version}):t.error("string.ip",{value:e,cidr:i.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(e,t){var r=t.error;return d.isoDate(e)?e:r("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(e,t){return d.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method:function(e,t){return d.length(this,"length",e,"=",t)},validate:function(e,t,r,n){var i=r.limit,a=r.encoding,o=n.name,s=n.operator,u=n.args,c=!a&&e.length;return h.compare(c,i,s)?e:t.error("string."+o,{limit:u.limit,value:e,encoding:a})},args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(e,t){return d.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method:function(e,t){return d.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";return n(d.normalizationForms.includes(e),"normalization form must be one of "+d.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:function(e,t,r){var n=t.error,i=r.form;return e===e.normalize(i)?e:n("string.normalize",{value:e,form:i})},convert:!0},pattern:{alias:"regex",method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e instanceof RegExp,"regex must be a RegExp"),n(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),h.assertOptions(t,["invert","name"]);var r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:function(e,t,r,n){var i=r.regex,a=r.options,o=n.errorCode;return i.test(e)^a.invert?e:t.error(o,{name:a.name,regex:i,value:e})},args:["regex","options"],multi:!0},replace:{method:function(e,t){"string"==typeof e&&(e=new RegExp(s(e),"g")),n(e instanceof RegExp,"pattern must be a RegExp"),n("string"==typeof t,"replacement must be a String");var r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method:function(){return this.$_addRule("token")},validate:function(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:function(e,t,r){return r.enabled&&e!==e.trim()?t.error("string.trim"):e},convert:!0},truncate:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&h.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=c.regex(e),r=t.regex,n=t.scheme,i=e.domain?d.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:r,domain:i,scheme:n})},validate:function(e,t,r,n){var a=r.options,o=n.regex,s=n.domain,u=n.scheme;if(["http:/","https:/"].includes(e))return t.error("string.uri");var c=o.exec(e);if(c){var l=c[1]||c[2];return!s||a.allowRelative&&!l||i.isValid(l,s)?e:t.error("string.domain",{value:l})}return a.relativeOnly?t.error("string.uriRelativeOnly"):a.scheme?t.error("string.uriCustomScheme",{scheme:u,value:e}):t.error("string.uri")}}},manifest:{build:function(e,t){if(t.replacements){var r,n=k(t.replacements);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.pattern,o=i.replacement;e=e.replace(a,o)}}catch(s){n.e(s)}finally{n.f()}}return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),d.addressOptions=function(e){if(!e)return e;if(n(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),n(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds);n("object"==typeof e.tlds,"tlds must be true, false, or an object");var t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),n(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),d.validateTlds(e.tlds.deny,"tlds.deny"),e;var r=e.tlds.allow;return r?!0===r?(n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),n(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),d.validateTlds(e.tlds.allow,"tlds.allow"),e):e},d.validateTlds=function(e,t){var r,a=k(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;n(i.isValid(o,{minDomainSegments:1,maxDomainSegments:1}),"".concat(t," must contain valid top level domain names"))}}catch(s){a.e(s)}finally{a.f()}},d.isoDate=function(e){if(!h.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");var t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},d.length=function(e,t,r,i,a){return n(!a||!1,"Invalid encoding:",a),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:a},operator:i})}},8826:function(e,t,r){var n=r(375),i=r(8068),a={};a.Map=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"slice",value:function(){return new a.Map(this)}}]),r}(p(Map)),e.exports=i.extend({type:"symbol",terms:{map:{init:new a.Map}},coerce:{method:function(e,t){var r=t.schema,n=t.error,i=r.$_terms.map.get(e);return i&&(e=i),r._flags.only&&"symbol"!=typeof e?{value:e,errors:n("symbol.map",{map:r.$_terms.map})}:{value:e}}},validate:function(e,t){var r=t.error;if("symbol"!=typeof e)return{value:e,errors:r("symbol.base")}},rules:{map:{method:function(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");var t,r=this.clone(),i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n(o&&o[Symbol.iterator],"Entry must be an iterable");var s=_(o,2),u=s[0],c=s[1];n("object"!=typeof u&&"function"!=typeof u&&"symbol"!=typeof u,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof c,"Value must be a Symbol"),r.$_terms.map.set(u,c),i.push(c)}}catch(l){a.e(l)}finally{a.f()}return r.valid.apply(r,i)}}},manifest:{build:function(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(e,t,r){var n=r(375),i=r(8571),a=r(738),s=r(9621),c=r(8160),l=r(6354),f=r(493),h={result:Symbol("result")};t.entry=function(e,t,r){var i=c.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),i=c.preferences(c.defaults,r));var a=h.entry(e,t,i);n(!a.mainstay.externals.length,"Schema with external rules must use validateAsync()");var o={value:a.value};return a.error&&(o.error=a.error),a.mainstay.warnings.length&&(o.warning=l.details(a.mainstay.warnings)),a.mainstay.debug&&(o.debug=a.mainstay.debug),a.mainstay.artifacts&&(o.artifacts=a.mainstay.artifacts),o},t.entryAsync=function(){var e=u(o().mark((function e(t,r,n){var i,a,u,f,d,p,v,m,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.defaults,n&&(i=c.preferences(c.defaults,n)),a=h.entry(t,r,i),u=a.mainstay,!a.error){e.next=5;break}throw u.debug&&(a.error.debug=u.debug),a.error;case 5:if(!u.externals.length){e.next=31;break}f=a.value,d=[],p=k(u.externals),e.prev=9,m=o().mark((function e(){var r,a,p,m,g,y,b,_,x,E,A,S,O,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.value,a=r.state.path,p="link"===r.schema.type?u.links.get(r.schema):null,y=f,b=a.length?[f]:[],_=a.length?s(t,a):t,a.length){m=a[a.length-1],x=f,E=k(a.slice(0,-1));try{for(E.s();!(A=E.n()).done;)S=A.value,x=x[S],b.unshift(x)}catch(o){E.e(o)}finally{E.f()}g=b[0],y=g[m]}return e.prev=5,O=function(e,t){return(p||r.schema).$_createError(e,y,t,r.state,i)},e.next=9,r.method(y,{schema:r.schema,linked:p,state:r.state,prefs:n,original:_,error:O,errorsArray:h.errorsArray,warn:function(e,t){return u.warnings.push((p||r.schema).$_createError(e,y,t,r.state,i))},message:function(e,t){return(p||r.schema).$_createError("external",y,t,r.state,i,{messages:e})}});case 9:if(void 0!==(I=e.sent)&&I!==y){e.next=12;break}return e.abrupt("return",0);case 12:if(!(I instanceof l.Report)){e.next=16;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push(I),!i.abortEarly){e.next=15;break}return e.abrupt("return",1);case 15:case 19:return e.abrupt("return",0);case 16:if(!Array.isArray(I)||!I[c.symbols.errors]){e.next=20;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push.apply(d,w(I)),!i.abortEarly){e.next=19;break}return e.abrupt("return",1);case 20:g?(u.tracer.value(r.state,"rule",y,I,"external"),g[m]=I):(u.tracer.value(r.state,"rule",f,I,"external"),f=I),e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(5),i.errors.label&&(e.t0.message+=" (".concat(r.label,")")),e.t0;case 26:case"end":return e.stop()}}),e,null,[[5,23]])})),p.s();case 12:if((v=p.n()).done){e.next=21;break}return e.delegateYield(m(),"t0",14);case 14:if(0!==(g=e.t0)){e.next=17;break}return e.abrupt("continue",19);case 17:if(1!==g){e.next=19;break}return e.abrupt("break",21);case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(9),p.e(e.t1);case 26:return e.prev=26,p.f(),e.finish(26);case 29:if(a.value=f,!d.length){e.next=31;break}throw a.error=l.process(d,t,i),u.debug&&(a.error.debug=u.debug),a.error;case 31:if(i.warnings||i.debug||i.artifacts){e.next=33;break}return e.abrupt("return",a.value);case 33:return y={value:a.value},e.abrupt("return",(u.warnings.length&&(y.warning=l.details(u.warnings)),u.debug&&(y.debug=u.debug),u.artifacts&&(y.artifacts=u.artifacts),y));case 35:case"end":return e.stop()}}),e,null,[[9,23,26,29]])})));return function(t,r,n){return e.apply(this,arguments)}}(),h.Mainstay=function(){function e(t,r,n){A(this,e),this.externals=[],this.warnings=[],this.tracer=t,this.debug=r,this.links=n,this.shadow=null,this.artifacts=null,this._snapshots=[]}return O(e,[{key:"snapshot",value:function(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}},{key:"restore",value:function(){var e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}}]),e}(),h.entry=function(e,r,n){var i=h.tracer(r,n),a=i.tracer,o=i.cleanup,s=n.debug?[]:null,u=r._ids._schemaChain?new Map:null,c=new h.Mainstay(a,s,u),d=r._ids._schemaChain?[{schema:r}]:null,p=new f([],[],{mainstay:c,schemas:d}),v=t.validate(e,r,p,n);o&&r.$_root.untrace();var m=l.process(v.errors,e,n);return{value:v.value,error:m,mainstay:c}},h.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:h.ignore}},t.validate=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=h.prefs(t,n)),t._cache&&n.cache){var a=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!a),a)return a}var o=function(i,a,o){return t.$_createError(i,e,a,o||r,n)},s={original:e,prefs:n,schema:t,state:r,error:o,errorsArray:h.errorsArray,warn:function(e,t,n){return r.mainstay.warnings.push(o(e,t,n))},message:function(i,a){return t.$_createError("custom",e,a,r,n,{messages:i})}};r.mainstay.tracer.entry(t,r);var u=t._definition;if(u.prepare&&void 0!==e&&n.convert){var l=u.prepare(e,s);if(l){if(r.mainstay.tracer.value(r,"prepare",e,l.value),l.errors)return h.finalize(l.value,[].concat(l.errors),s);e=l.value}}if(u.coerce&&void 0!==e&&n.convert&&(!u.coerce.from||u.coerce.from.includes(typeof e))){var f=u.coerce.method(e,s);if(f){if(r.mainstay.tracer.value(r,"coerced",e,f.value),f.errors)return h.finalize(f.value,[].concat(f.errors),s);e=f.value}}var d=t._flags.empty;d&&d.$_match(h.trim(e,t),r.nest(d),c.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);var p=i.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(void 0===e){if("forbidden"===p)return h.finalize(e,null,s);if("required"===p)return h.finalize(e,[t.$_createError("any.required",e,null,r,n)],s);if("optional"===p){if(t._flags.default!==c.symbols.deepDefault)return h.finalize(e,null,s);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===p)return h.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],s);var v=[];if(t._valids){var m=t._valids.get(e,r,n,t._flags.insensitive);if(m)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,m.value),e=m.value),r.mainstay.tracer.filter(t,r,"valid",m),h.finalize(e,null,s);if(t._flags.only){var g=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[g],s);v.push(g)}}if(t._invalids){var y=t._invalids.get(e,r,n,t._flags.insensitive);if(y){r.mainstay.tracer.filter(t,r,"invalid",y);var b=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[b],s);v.push(b)}}if(u.validate){var _=u.validate(e,s);if(_&&(r.mainstay.tracer.value(r,"base",e,_.value),e=_.value,_.errors)){if(!Array.isArray(_.errors))return v.push(_.errors),h.finalize(e,v,s);if(_.errors.length)return v.push.apply(v,w(_.errors)),h.finalize(e,v,s)}}return t._rules.length?h.rules(e,v,s):h.finalize(e,v,s)},h.rules=function(e,t,r){var n,i=r.schema,a=r.state,o=r.prefs,s=k(i._rules);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=i._definition.rules[u.method];if(l.convert&&o.convert)a.mainstay.tracer.log(i,a,"rule",u.name,"full");else{var f=void 0,d=u.args;if(u._resolve.length){d=Object.assign({},d);var p,v=k(u._resolve);try{for(v.s();!(p=v.n()).done;){var m=p.value,g=l.argsByName.get(m),y=d[m].resolve(e,a,o),b=g.normalize?g.normalize(y):y,_=c.validateArg(b,null,g);if(_){f=i.$_createError("any.ref",y,{arg:m,ref:d[m],reason:_},a,o);break}d[m]=b}}catch(A){v.e(A)}finally{v.f()}}f=f||l.validate(e,r,d,u);var x=h.rule(f,u);if(x.errors){if(a.mainstay.tracer.log(i,a,"rule",u.name,"error"),u.warn){var E;(E=a.mainstay.warnings).push.apply(E,w(x.errors));continue}if(o.abortEarly)return h.finalize(e,x.errors,r);t.push.apply(t,w(x.errors))}else a.mainstay.tracer.log(i,a,"rule",u.name,"pass"),a.mainstay.tracer.value(a,"rule",e,x.value,u.name),e=x.value}}}catch(A){s.e(A)}finally{s.f()}return h.finalize(e,t,r)},h.rule=function(e,t){return e instanceof l.Report?(h.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[c.symbols.errors]?(e.forEach((function(e){return h.error(e,t)})),{errors:e,value:null}):{errors:null,value:e}},h.error=function(e,t){return t.message&&e._setTemplate(t.message),e},h.finalize=function(e,t,r){t=t||[];var i=r.schema,a=r.state,o=r.prefs;if(t.length){var s=h.default("failover",void 0,t,r);void 0!==s&&(a.mainstay.tracer.value(a,"failover",e,s),e=s,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);var u,c=k(t);try{for(c.s();!(u=c.n()).done;){var f=u.value;n(f instanceof Error||f instanceof l.Report,"error() must return an Error object")}}catch(w){c.e(w)}finally{c.f()}}else t=[i._flags.error];if(void 0===e){var d=h.default("default",e,t,r);a.mainstay.tracer.value(a,"default",e,d),e=d}if(i._flags.cast&&void 0!==e){var p=i._definition.cast[i._flags.cast];if(p.from(e)){var v=p.to(e,r);a.mainstay.tracer.value(a,"cast",e,v,i._flags.cast),e=v}}if(i.$_terms.externals&&o.externals&&!1!==o._externals){var m,g=k(i.$_terms.externals);try{for(g.s();!(m=g.n()).done;){var y=m.value.method;a.mainstay.externals.push({method:y,schema:i,state:a,label:l.label(i._flags,a,o)})}}catch(w){g.e(w)}finally{g.f()}}var b={value:e,errors:t.length?t:null};return i._flags.result&&(b.value="strip"===i._flags.result?void 0:r.original,a.mainstay.tracer.value(a,i._flags.result,e,b.value),a.shadow(e,i._flags.result)),i._cache&&!1!==o.cache&&!i._refs.length&&i._cache.set(r.original,b),void 0===e||b.errors||void 0===i._flags.artifact||(a.mainstay.artifacts=a.mainstay.artifacts||new Map,a.mainstay.artifacts.has(i._flags.artifact)||a.mainstay.artifacts.set(i._flags.artifact,[]),a.mainstay.artifacts.get(i._flags.artifact).push(a.path)),b},h.prefs=function(e,t){var r=t===c.defaults;return r&&e._preferences[c.symbols.prefs]?e._preferences[c.symbols.prefs]:(t=c.preferences(t,e._preferences),r&&(e._preferences[c.symbols.prefs]=t),t)},h.default=function(e,t,r,n){var a=n.schema,o=n.state,s=n.prefs,u=a._flags[e];if(s.noDefaults||void 0===u)return t;if(o.mainstay.tracer.log(a,o,"rule",e,"full"),!u)return u;if("function"==typeof u){var l=u.length?[i(o.ancestors[0]),n]:[];try{return u.apply(void 0,l)}catch(t){return void r.push(a.$_createError("any.".concat(e),null,{error:t},o,s))}}return"object"!=typeof u?u:u[c.symbols.literal]?u.literal:c.isResolvable(u)?u.resolve(t,o,s):i(u)},h.trim=function(e,t){if("string"!=typeof e)return e;var r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},h.ignore={active:!1,debug:a,entry:a,filter:a,log:a,resolve:a,value:a},h.errorsArray=function(){var e=[];return e[c.symbols.errors]=!0,e}},2036:function(e,t,r){var n=r(375),i=r(9474),a=r(8160),o={};e.exports=o.Values=function(){function e(t,r){A(this,e),this._values=new Set(t),this._refs=new Set(r),this._lowercase=o.lowercases(t),this._override=!1}return O(e,[{key:"length",get:function(){return this._values.size+this._refs.size}},{key:"add",value:function(e,t){a.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}},{key:"remove",value:function(e){a.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}},{key:"has",value:function(e,t,r,n){return!!this.get(e,t,r,n)}},{key:"get",value:function(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){var a=this._lowercase.get(e.toLowerCase());if(a)return{value:a}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e){var o,s=k(this._values);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(i(u,e))return{value:u}}}catch(m){s.e(m)}finally{s.f()}}if(t){var c,l=k(this._refs);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=f.resolve(e,t,r,null,{in:!0});if(void 0!==h){var d,p=k(f.in&&"object"==typeof h?Array.isArray(h)?h:Object.keys(h):[h]);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(typeof v==typeof e)if(n&&e&&"string"==typeof e){if(v.toLowerCase()===e.toLowerCase())return{value:v,ref:f}}else if(i(v,e))return{value:v,ref:f}}}catch(m){p.e(m)}finally{p.f()}}}}catch(m){l.e(m)}finally{l.f()}}return!1}},{key:"override",value:function(){this._override=!0}},{key:"values",value:function(e){if(e&&e.display){for(var t=[],r=0,n=[].concat(w(this._values),w(this._refs));r<n.length;r++){var i=n[r];void 0!==i&&t.push(i)}return t}return Array.from([].concat(w(this._values),w(this._refs)))}},{key:"clone",value:function(){var e=new o.Values(this._values,this._refs);return e._override=this._override,e}},{key:"concat",value:function(e){n(!e._override,"Cannot concat override set of values");var t=new o.Values([].concat(w(this._values),w(e._values)),[].concat(w(this._refs),w(e._refs)));return t._override=this._override,t}},{key:"describe",value:function(){var e=[];this._override&&e.push({override:!0});var t,r=k(this._values.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n&&"object"==typeof n?{value:n}:n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(this._refs.values());try{for(a.s();!(i=a.n()).done;){var o=i.value;e.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return e}}],[{key:"merge",value:function(e,t,r){if(e=e||new o.Values,t){if(t._override)return t.clone();for(var n=0,i=[].concat(w(t._values),w(t._refs));n<i.length;n++){var a=i[n];e.add(a)}}if(r)for(var s=0,u=[].concat(w(r._values),w(r._refs));s<u.length;s++){var c=u[s];e.remove(c)}return e.length?e:null}}]),e}(),o.Values.prototype[a.symbols.values]=!0,o.Values.prototype.slice=o.Values.prototype.clone,o.lowercases=function(e){var t=new Map;if(e){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;"string"==typeof i&&t.set(i.toLowerCase(),i)}}catch(a){n.e(a)}finally{n.f()}}return t}},978:function(e,t,r){var n=r(375),i=r(8571),a=r(1687),o=r(9621),s={};e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return s.applyToDefaultsWithShallow(e,t,r);var o=i(e);if(!0===t)return o;var u=void 0!==r.nullOverride&&r.nullOverride;return a(o,t,{nullOverride:u,mergeArrays:!1})},s.applyToDefaultsWithShallow=function(e,t,r){var u=r.shallow;n(Array.isArray(u),"Invalid keys");var c,l=new Map,f=!0===t?null:new Set,h=k(u);try{for(h.s();!(c=h.n()).done;){var d=c.value;d=Array.isArray(d)?d:d.split(".");var p=o(e,d);p&&"object"==typeof p?l.set(p,f&&o(t,d)||p):f&&f.add(d)}}catch(w){h.e(w)}finally{h.f()}var v=i(e,{},l);if(!f)return v;var m,g=k(f);try{for(g.s();!(m=g.n()).done;){var y=m.value;s.reachCopy(v,t,y)}}catch(w){g.e(w)}finally{g.f()}var b=void 0!==r.nullOverride&&r.nullOverride;return a(v,t,{nullOverride:b,mergeArrays:!1})},s.reachCopy=function(e,t,r){var n,i=k(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!(a in t))return;var o=t[a];if("object"!=typeof o||null===o)return;t=o}}catch(f){i.e(f)}finally{i.f()}for(var s=t,u=e,c=0;c<r.length-1;++c){var l=r[c];"object"!=typeof u[l]&&(u[l]={}),u=u[l]}u[r[r.length-1]]=s}},375:function(e,t,r){var n=r(7916);e.exports=function(e){if(!e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(1===r.length&&r[0]instanceof Error)throw r[0];throw new n(r)}}},8571:function(e,t,r){var n=r(9621),i=r(4277),a=r(7043),o={needsProtoHack:new Set([i.set,i.map,i.weakSet,i.weakMap])};e.exports=o.clone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"!=typeof e||null===e)return e;var n=o.clone,s=r;if(t.shallow){if(!0!==t.shallow)return o.cloneWithShallow(e,t);n=function(e){return e}}else if(s){var u=s.get(e);if(u)return u}else s=new Map;var c=i.getInternalProto(e);if(c===i.buffer)return!1;if(c===i.date)return new Date(e.getTime());if(c===i.regex)return new RegExp(e);var l=o.base(e,c,t);if(l===e)return e;if(s&&s.set(e,l),c===i.set){var f,h=k(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;l.add(n(d,t,s))}}catch(A){h.e(A)}finally{h.f()}}else if(c===i.map){var p,v=k(e);try{for(v.s();!(p=v.n()).done;){var m=_(p.value,2),g=m[0],y=m[1];l.set(g,n(y,t,s))}}catch(A){v.e(A)}finally{v.f()}}var b,w=k(a.keys(e,t));try{for(w.s();!(b=w.n()).done;){var x=b.value;if("__proto__"!==x)if(c!==i.array||"length"!==x){var E=Object.getOwnPropertyDescriptor(e,x);E?E.get||E.set?Object.defineProperty(l,x,E):E.enumerable?l[x]=n(e[x],t,s):Object.defineProperty(l,x,{enumerable:!1,writable:!0,configurable:!0,value:n(e[x],t,s)}):Object.defineProperty(l,x,{enumerable:!0,writable:!0,configurable:!0,value:n(e[x],t,s)})}else l.length=e.length}}catch(A){w.e(A)}finally{w.f()}return l},o.cloneWithShallow=function(e,t){var r=t.shallow;(t=Object.assign({},t)).shallow=!1;var i,a=new Map,s=k(r);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=n(e,u);"object"!=typeof c&&"function"!=typeof c||a.set(c,c)}}catch(l){s.e(l)}finally{s.f()}return o.clone(e,t,a)},o.base=function(e,t,r){if(!1===r.prototype)return o.needsProtoHack.has(t)?new t.constructor:t===i.array?[]:{};var n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===i.array){var a=[];return n!==t&&Object.setPrototypeOf(a,n),a}if(o.needsProtoHack.has(t)){var s=new n.constructor;return n!==t&&Object.setPrototypeOf(s,n),s}return Object.create(n)}},9474:function(e,t,r){var n=r(4277),i={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!i.isDeepEqual(e,t,r,[])},i.isDeepEqual=function(e,t,r,a){if(e===t)return 0!==e||1/e==1/t;var o=typeof e;if(o!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===o){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==o)return e!=e&&t!=t;var s=i.getSharedType(e,t,!!r.prototype);switch(s){case n.buffer:return!1;case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(var u=a.length-1;u>=0;--u)if(a[u].isSame(e,t))return!0;a.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(s,e,t,r,a)}finally{a.pop()}},i.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:n.getInternalProto(e);var a=n.getInternalProto(e);return a!==n.getInternalProto(t)?i.mismatched:a},i.valueOf=function(e){var t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){var r,n=k(Set.prototype.values.call(e));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!Set.prototype.has.call(t,i))return!1}}catch(a){n.e(a)}finally{n.f()}return!0},i.isDeepEqualObj=function(e,t,r,a,o){var s=i.isDeepEqual,u=i.valueOf,c=i.hasOwnEnumerableProperty,l=Object.keys,f=Object.getOwnPropertySymbols;if(e===n.array){if(!a.part){if(t.length!==r.length)return!1;for(var h=0;h<t.length;++h)if(!s(t[h],r[h],a,o))return!1;return!0}var d,p=k(t);try{for(p.s();!(d=p.n()).done;){var v,m=d.value,g=k(r);try{for(g.s();!(v=g.n()).done;)if(s(m,v.value,a,o))return!0}catch(G){g.e(G)}finally{g.f()}}}catch(G){p.e(G)}finally{p.f()}}else if(e===n.set){if(t.size!==r.size)return!1;if(!i.isSetSimpleEqual(t,r)){var y,b=new Set(Set.prototype.values.call(r)),w=k(Set.prototype.values.call(t));try{for(w.s();!(y=w.n()).done;){var x=y.value;if(!b.delete(x)){var E,A=!1,S=k(b);try{for(S.s();!(E=S.n()).done;){var O=E.value;if(s(x,O,a,o)){b.delete(O),A=!0;break}}}catch(G){S.e(G)}finally{S.f()}if(!A)return!1}}}catch(G){w.e(G)}finally{w.f()}}}else if(e===n.map){if(t.size!==r.size)return!1;var I,R=k(Map.prototype.entries.call(t));try{for(R.s();!(I=R.n()).done;){var C=_(I.value,2),N=C[0],P=C[1];if(void 0===P&&!Map.prototype.has.call(r,N))return!1;if(!s(P,Map.prototype.get.call(r,N),a,o))return!1}}catch(G){R.e(G)}finally{R.f()}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;var M=u(t),j=u(r);if((t!==M||r!==j)&&!s(M,j,a,o))return!1;var T=l(t);if(!a.part&&T.length!==l(r).length&&!a.skip)return!1;var L,$=0,D=k(T);try{for(D.s();!(L=D.n()).done;){var U=L.value;if(a.skip&&a.skip.includes(U))void 0===r[U]&&++$;else{if(!c(r,U))return!1;if(!s(t[U],r[U],a,o))return!1}}}catch(G){D.e(G)}finally{D.f()}if(!a.part&&T.length-$!==l(r).length)return!1;if(!1!==a.symbols){var F,B=f(t),q=new Set(f(r)),z=k(B);try{for(z.s();!(F=z.n()).done;){var H=F.value;if(!a.skip||!a.skip.includes(H))if(c(t,H)){if(!c(r,H))return!1;if(!s(t[H],r[H],a,o))return!1}else if(c(r,H))return!1;q.delete(H)}}catch(G){z.e(G)}finally{z.f()}var V,W=k(q);try{for(W.s();!(V=W.n()).done;)if(c(r,V.value))return!1}catch(G){W.e(G)}finally{W.f()}}return!0},i.SeenEntry=function(){function e(t,r){A(this,e),this.obj=t,this.ref=r}return O(e,[{key:"isSame",value:function(e,t){return this.obj===e&&this.ref===t}}]),e}()},7916:function(e,t,r){var n=r(8761);e.exports=function(e){f(i,e);var r=h(i);function i(e){var a;return A(this,i),a=r.call(this,e.filter((function(e){return""!==e})).map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:n(e)})).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(d(a),t.assert),a}return O(i)}(p(Error))},5277:function(e){var t={};e.exports=function(e){if(!e)return"";for(var r="",n=0;n<e.length;++n){var i=e.charCodeAt(n);t.isSafe(i)?r+=e[n]:r+=t.escapeHtmlChar(i)}return r},t.escapeHtmlChar=function(e){return t.namedHtml.get(e)||(e>=256?"&#"+e+";":"&#x".concat(e.toString(16).padStart(2,"0"),";"))},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){for(var e=new Set,t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},6064:function(e){e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(e){e.exports=function(){}},1687:function(e,t,r){var n=r(375),i=r(8571),a=r(7043),o={};e.exports=o.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(var s=0;s<t.length;++s)e.push(i(t[s],{symbols:r.symbols}));return e}for(var u=a.keys(t,r),c=0;c<u.length;++c){var l=u[c];if("__proto__"!==l&&Object.prototype.propertyIsEnumerable.call(t,l)){var f=t[l];if(f&&"object"==typeof f){if(e[l]===f)continue;!e[l]||"object"!=typeof e[l]||Array.isArray(e[l])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?e[l]=i(f,{symbols:r.symbols}):o.merge(e[l],f,r)}else(null!=f||r.nullOverride)&&(e[l]=f)}}return e}},9621:function(e,t,r){var n=r(375),i={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});var a=Array.isArray(t);n(!a||!r.separator,"Separator option is not valid for array-based chain");for(var o=a?t:t.split(r.separator||"."),s=e,u=0;u<o.length;++u){var c=o[u],l=r.iterables&&i.iterables(s);if(Array.isArray(s)||"set"===l){var f=Number(c);Number.isInteger(f)&&(c=f<0?s.length+f:f)}if(!s||"function"==typeof s&&!1===r.functions||!l&&void 0===s[c]){n(!r.strict||u+1===o.length,"Missing segment",c,"in reach path ",t),n("object"==typeof s||!0===r.functions||"function"!=typeof s,"Invalid segment",c,"in reach path ",t),s=r.default;break}s=l?"set"===l?w(s)[c]:s.get(c):s[c]}return s},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},8761:function(e){e.exports=function(){try{return JSON.stringify.apply(JSON,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}}},4277:function(e,t){var r={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;var n=Object.prototype.toString.call(e);return r.typeMap.get(n)||t.generic}},7043:function(e,t){t.keys=function(e){return!1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},3652:function(e,t,r){var n=r(375),i={};t.Sorter=function(){function e(){A(this,e),this._items=[],this.nodes=[]}return O(e,[{key:"add",value:function(e,t){var r=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),a=t.group||"?",o=t.sort||0;n(!r.includes(a),"Item cannot come before itself: ".concat(a)),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!i.includes(a),"Item cannot come after itself: ".concat(a)),n(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);var s,u=k(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l={seq:this._items.length,sort:o,before:r,after:i,group:a,node:c};this._items.push(l)}}catch(h){u.e(h)}finally{u.f()}if(!t.manual){var f=this._sort();n(f,"item","?"!==a?"added into group ".concat(a):"","created a dependencies error")}return this.nodes}},{key:"merge",value:function(e){Array.isArray(e)||(e=[e]);var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a){var o,s=k(a._items);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._items.push(Object.assign({},u))}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){r.e(f)}finally{r.f()}this._items.sort(i.mergeSort);for(var c=0;c<this._items.length;++c)this._items[c].seq=c;var l=this._sort();return n(l,"merge created a dependencies error"),this.nodes}},{key:"sort",value:function(){var e=this._sort();return n(e,"sort created a dependencies error"),this.nodes}},{key:"_sort",value:function(){var e,t={},r=Object.create(null),n=Object.create(null),i=k(this._items);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=a.seq,s=a.group;n[s]=n[s]||[],n[s].push(o),t[o]=a.before;var u,c=k(a.after);try{for(c.s();!(u=c.n()).done;){var l=u.value;r[l]=r[l]||[],r[l].push(o)}}catch(B){c.e(B)}finally{c.f()}}}catch(B){i.e(B)}finally{i.f()}for(var f in t){var h=[];for(var d in t[f]){var p=t[f][d];n[p]=n[p]||[],h.push.apply(h,w(n[p]))}t[f]=h}for(var v in r)if(n[v]){var m,g=k(n[v]);try{for(g.s();!(m=g.n()).done;){var y;(y=t[m.value]).push.apply(y,w(r[v]))}}catch(B){g.e(B)}finally{g.f()}}var b={};for(var _ in t){var x,E=k(t[_]);try{for(E.s();!(x=E.n()).done;){var A=x.value;b[A]=b[A]||[],b[A].push(_)}}catch(B){E.e(B)}finally{E.f()}}for(var S={},O=[],I=0;I<this._items.length;++I){var R=I;if(b[I]){R=null;for(var C=0;C<this._items.length;++C)if(!0!==S[C]){b[C]||(b[C]=[]);for(var N=b[C].length,P=0,M=0;M<N;++M)S[b[C][M]]&&++P;if(P===N){R=C;break}}}null!==R&&(S[R]=!0,O.push(R))}if(O.length!==this._items.length)return!1;var j,T={},L=k(this._items);try{for(L.s();!(j=L.n()).done;){var $=j.value;T[$.seq]=$}}catch(B){L.e(B)}finally{L.f()}this._items=[],this.nodes=[];for(var D=0,U=O;D<U.length;D++){var F=T[U[D]];this.nodes.push(F.node),this._items.push(F)}return!0}}]),e}(),i.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1}},5380:function(e,t,r){var n=r(443),i=r(2178),a={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return i.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(e.length>256)return i.code("DOMAIN_TOO_LONG");if(a.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return i.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(a.domainControlRx.test(e))return i.code("DOMAIN_INVALID_CHARS");e=a.punycode(e),t.allowFullyQualified&&"."===e[e.length-1]&&(e=e.slice(0,-1));var r=t.minDomainSegments||a.minDomainSegments,n=e.split(".");if(n.length<r)return i.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&n.length>t.maxDomainSegments)return i.code("DOMAIN_SEGMENTS_COUNT_MAX");var o=t.tlds;if(o){var s=n[n.length-1].toLowerCase();if(o.deny&&o.deny.has(s)||o.allow&&!o.allow.has(s))return i.code("DOMAIN_FORBIDDEN_TLDS")}for(var u=0;u<n.length;++u){var c=n[u];if(!c.length)return i.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return i.code("DOMAIN_LONG_SEGMENT");if(u<n.length-1){if(!a.domainSegmentRx.test(c))return i.code("DOMAIN_INVALID_CHARS")}else if(!a.tldSegmentRx.test(c))return i.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},a.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new a.URL("http://".concat(e)).host}catch(t){return e}}},1745:function(e,t,r){var n=r(9848),i=r(5380),a=r(2178),o={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return o.email(e,t)},t.isValid=function(e,t){return!o.email(e,t)},o.email=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return a.code("EMPTY_STRING");var r=!o.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return a.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}var n=e.split("@");if(2!==n.length)return n.length>2?a.code("MULTIPLE_AT_CHAR"):a.code("MISSING_AT_CHAR");var s=_(n,2),u=s[0],c=s[1];if(!u)return a.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return a.code("ADDRESS_TOO_LONG");if(o.encoder.encode(u).length>64)return a.code("LOCAL_TOO_LONG")}return o.local(u,r)||i.analyze(c,t)},o.local=function(e,t){var r,n=k(e.split("."));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!i.length)return a.code("EMPTY_LOCAL_SEGMENT");if(t){if(!o.atextRx.test(i))return a.code("INVALID_LOCAL_CHARS")}else{var s,u=k(i);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!o.atextRx.test(c)){var l=o.binary(c);if(!o.atomRx.test(l))return a.code("INVALID_LOCAL_CHARS")}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){n.e(f)}finally{n.f()}},o.binary=function(e){return Array.from(o.encoder.encode(e)).map((function(e){return String.fromCharCode(e)})).join("")},o.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,o.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(e,t){t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},9959:function(e,t,r){var n=r(375),i=r(5752);t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");var t=e.cidr?e.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),n(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");var r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(var a=0;a<r.length;++a)n("string"==typeof r[a],"options.version must only contain strings"),r[a]=r[a].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[a]),"options.version contains unknown version "+r[a]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));var o="(?:".concat(r.map((function(e){if("forbidden"===t)return i.ip[e];var r="\\/".concat("ipv4"===e?i.ip.v4Cidr:i.ip.v6Cidr);return"required"===t?"".concat(i.ip[e]).concat(r):"".concat(i.ip[e],"(?:").concat(r,")?")})).join("|"),")"),s=new RegExp("^".concat(o,"$"));return{cidr:t,versions:r,regex:s,raw:o}}},5752:function(e,t,r){var n=r(375),i=r(6064),a={generate:function(){var e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",i="!\\$&'\\(\\)\\*\\+,;=",a="%"+t,o=n+a+i+":@",s="["+o+"]",u="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+u+"\\.){3}"+u;var c=r+"{1,4}",l="(?:"+c+":"+c+"|"+e.ipv4address+")",f="(?:"+c+":){6}"+l,h="::(?:"+c+":){5}"+l,d="(?:"+c+")?::(?:"+c+":){4}"+l,p="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+l,v="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+l,m="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+l,g="(?:(?:"+c+":){0,4}"+c+")?::"+l,y="(?:(?:"+c+":){0,5}"+c+")?::"+c,b="(?:(?:"+c+":){0,6}"+c+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+f+"|"+h+"|"+d+"|"+p+"|"+v+"|"+m+"|"+g+"|"+y+"|"+b+")",e.ipvFuture="v"+r+"+\\.["+n+i+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);var w="["+n+a+i+":]*",_="["+n+a+i+"]{1,255}",k="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|"+_+")",x="(?:"+w+"@)?"+k+"(?::\\d*)?",E="(?:"+w+"@)?("+k+")(?::\\d*)?",A=s+"*",S=s+"+",O="(?:\\/"+A+")*",I="\\/(?:"+S+O+")?",R=S+O,C="["+n+a+i+"@]+"+O,N="(?:\\/\\/\\/"+A+O+")";return e.hierPart="(?:(?:\\/\\/"+x+O+")|"+I+"|"+R+"|"+N+")",e.hierPartCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+R+")",e.relativeRef="(?:(?:\\/\\/"+x+O+")|"+I+"|"+C+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+C+"|)",e.query="["+o+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+o+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+o+"\\/\\?]*",e}};a.rfc3986=a.generate(),t.ip={v4Cidr:a.rfc3986.ipv4Cidr,v6Cidr:a.rfc3986.ipv6Cidr,ipv4:a.rfc3986.ipv4address,ipv6:a.rfc3986.ipv6address,ipvfuture:a.rfc3986.ipvFuture},a.createRegex=function(e){var t=a.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",o=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return a.wrap(o+r);var s="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");var u=[].concat(e.scheme);n(u.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],l=0;l<u.length;++l){var f=u[l];n(f instanceof RegExp||"string"==typeof f,"scheme at position "+l+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(n(t.schemeRegex.test(f),"scheme at position "+l+" must be a valid scheme"),c.push(i(f)))}s=c.join("|")}var h="(?:"+(s?"(?:"+s+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",d=e.allowRelative?"(?:"+h+"|"+o+")":h;return a.wrap(d+r,s)},a.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(e),regex:new RegExp("^".concat(e,"$")),scheme:t}},a.uriRegex=a.createRegex({}),t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?a.createRegex(e):a.uriRegex}},1447:function(e,t){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=function(){function e(t){var n;A(this,e);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i[r.settings]&&i.constants)for(var a in i.constants){var o=i.constants[a];if(null!==o&&!["boolean","number","string"].includes(typeof o))throw new Error("Formula constant ".concat(a," contains invalid ").concat(typeof o," value type"))}this.settings=i[r.settings]?i:Object.assign((b(n={},r.settings,!0),b(n,"constants",{}),b(n,"functions",{}),n),i),this.single=null,this._parts=null,this._parse(t)}return O(e,[{key:"_parse",value:function(e){var n,i=this,a=[],o="",s=0,u=!1,c=function(e){if(s)throw new Error("Formula missing closing parenthesis");var n=a.length?a[a.length-1]:null;if(u||o||e){if(n&&"reference"===n.type&&")"===e)return n.type="function",n.value=i._subFormula(o,n.value),void(o="");if(")"===e){var c=new t.Parser(o,i.settings);a.push({type:"segment",value:c})}else if(u){if("]"===u)return a.push({type:"reference",value:o}),void(o="");a.push({type:"literal",value:o})}else if(r.operatorCharacters.includes(o))n&&"operator"===n.type&&r.operators.includes(n.value+o)?n.value+=o:a.push({type:"operator",value:o});else if(o.match(r.numberRx))a.push({type:"constant",value:parseFloat(o)});else if(void 0!==i.settings.constants[o])a.push({type:"constant",value:i.settings.constants[o]});else{if(!o.match(r.tokenRx))throw new Error("Formula contains invalid token: ".concat(o));a.push({type:"reference",value:o})}o=""}},l=k(e);try{for(l.s();!(n=l.n()).done;){var f=n.value;u?f===u?(c(),u=!1):o+=f:s?"("===f?(o+=f,++s):")"===f?--s?o+=f:c(f):o+=f:f in r.literals?u=r.literals[f]:"("===f?(c(),++s):r.operatorCharacters.includes(f)?(c(),o=f,c()):" "!==f?o+=f:c()}}catch(m){l.e(m)}finally{l.f()}c(),a=a.map((function(e,t){return"operator"!==e.type||"-"!==e.value||t&&"operator"!==a[t-1].type?e:{type:"operator",value:"n"}}));var h,d=!1,p=k(a);try{for(p.s();!(h=p.n()).done;){var v=h.value;if("operator"===v.type){if(r.operatorsPrefix.includes(v.value))continue;if(!d)throw new Error("Formula contains an operator in invalid position");if(!r.operators.includes(v.value))throw new Error("Formula contains an unknown operator ".concat(v.value))}else if(d)throw new Error("Formula missing expected operator");d=!d}}catch(m){p.e(m)}finally{p.f()}if(!d)throw new Error("Formula contains invalid trailing operator");1===a.length&&["reference","literal","constant"].includes(a[0].type)&&(this.single={type:"reference"===a[0].type?"reference":"value",value:a[0].value}),this._parts=a.map((function(e){if("operator"===e.type)return r.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(i.settings.tokenRx&&!i.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference ".concat(e.value));return i.settings.reference?i.settings.reference(e.value):r.reference(e.value)}))}},{key:"_subFormula",value:function(e,n){var i=this,a=this.settings.functions[n];if("function"!=typeof a)throw new Error("Formula contains unknown function ".concat(n));var o=[];if(e){for(var s="",u=0,c=!1,l=function(){if(!s)throw new Error("Formula contains function ".concat(n," with invalid arguments ").concat(e));o.push(s),s=""},f=0;f<e.length;++f){var h=e[f];c?(s+=h,h===c&&(c=!1)):h in r.literals&&!u?(s+=h,c=r.literals[h]):","!==h||u?(s+=h,"("===h?++u:")"===h&&--u):l()}l()}return o=o.map((function(e){return new t.Parser(e,i.settings)})),function(e){var t,r=[],n=k(o);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(i.evaluate(e))}}catch(s){n.e(s)}finally{n.f()}return a.call.apply(a,[e].concat(r))}}},{key:"evaluate",value:function(e){for(var t=this._parts.slice(),n=t.length-2;n>=0;--n){var i=t[n];if(i&&"operator"===i.type){var a=t[n+1];t.splice(n+1,1);var o=r.evaluate(a,e);t[n]=r.single(i.value,o)}}return r.operatorsOrder.forEach((function(n){for(var i=1;i<t.length-1;)if(n.includes(t[i])){var a=t[i],o=r.evaluate(t[i-1],e),s=r.evaluate(t[i+1],e);t.splice(i,2);var u=r.calculate(a,o,s);t[i-1]=0===u?0:u}else i+=2})),r.evaluate(t[0],e)}}]),e}(),t.Parser.prototype[r.symbol]=!0,r.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},r.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[r.symbol]?e.evaluate(t):e},r.single=function(e,t){if("!"===e)return!t;var r=-t;return 0===r?0:r},r.calculate=function(e,t,n){if("??"===e)return r.exists(t)?t:n;if("string"==typeof t||"string"==typeof n){if("+"===e)return(t=r.exists(t)?t:"")+(r.exists(n)?n:"")}else switch(e){case"^":return Math.pow(t,n);case"*":return t*n;case"/":return t/n;case"%":return t%n;case"+":return t+n;case"-":return t-n}switch(e){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"==":return t===n;case"!=":return t!==n;case"&&":return t&&n;case"||":return t||n}return null},r.exists=function(e){return null!=e}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(e){e.exports={version:"17.9.1"}}},n={},function e(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return r[t](a,a.exports,e),a.exports}(5107))}(ia);var aa=g(ia.exports),oa=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),(n=t.call(this,e.message)).message=e.message,n.code=e.code,n.data=e.data,n}return O(r)}(p(Error));s("aV",oa);var sa=s("aW",(function(e,t){var r;e.request?r=e.request.bind(e):e.sendAsync&&(r=ua(e));var n=function(){var e=u(o().mark((function e(n){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.method,a=n.params,s=i,!t||null!==t[s]){e.next=4;break}throw new oa({code:4200,message:"The Provider does not support the requested method: ".concat(i)});case 4:if(!t||!t[s]){e.next=8;break}return e.abrupt("return",t[s]({baseRequest:r,params:a}));case 8:if(!r){e.next=12;break}return e.abrupt("return",r({method:i,params:a}));case 12:throw new oa({code:4200,message:"The Provider does not support the requested method: ".concat(i)});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e.request=n,e})),ua=function(e){return function(t){var r=t.method,n=t.params;return new Promise((function(t,i){e.sendAsync({id:0,jsonrpc:"2.0",method:r,params:n},(function(e,r){var n=r.result;e?i(JSON.parse(e)):t(null==n?null:n)}))}))}},ca=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,la=Math.ceil,fa=Math.floor,ha="[BigNumber Error] ",da=ha+"Number primitive has more than 15 significant digits: ",pa=1e14,va=14,ma=9007199254740991,ga=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ya=1e7,ba=1e9;function wa(e){var t=0|e;return e>0||e===t?t:t-1}function _a(e){for(var t,r,n=1,i=e.length,a=e[0]+"";n<i;){for(t=e[n++]+"",r=va-t.length;r--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function ka(e,t){var r,n,i=e.c,a=t.c,o=e.s,s=t.s,u=e.e,c=t.e;if(!o||!s)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-s:o;if(o!=s)return o;if(r=o<0,n=u==c,!i||!a)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(s=(u=i.length)<(c=a.length)?u:c,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function xa(e,t,r,n){if(e<t||e>r||e!==fa(e))throw Error(ha+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Ea(e){var t=e.c.length-1;return wa(e.e/va)==t&&e.c[t]%2!=0}function Aa(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Sa(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Oa,Ia=function e(t){var r,n,i,a,o,s,u,c,l,f,h=S.prototype={constructor:S,toString:null,valueOf:null},d=new S(1),p=20,v=4,m=-7,g=21,y=-1e7,b=1e7,w=!1,_=1,k=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",A=!0;function S(e,t){var r,a,o,s,u,c,l,f,h=this;if(!(h instanceof S))return new S(e,t);if(null==t){if(e&&!0===e._isBigNumber)return h.s=e.s,void(!e.c||e.e>b?h.c=h.e=null:e.e<y?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice()));if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,u=e;u>=10;u/=10,s++);return void(s>b?h.c=h.e=null:(h.e=s,h.c=[e]))}f=String(e)}else{if(!ca.test(f=String(e)))return i(h,f,c);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(s=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(s<0&&(s=u),s+=+f.slice(u+1),f=f.substring(0,u)):s<0&&(s=f.length)}else{if(xa(t,2,E.length,"Base"),10==t&&A)return C(h=new S(e),p+h.e+1,v);if(f=String(e),c="number"==typeof e){if(0*e!=0)return i(h,f,c,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,S.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(da+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=E.slice(0,t),s=u=0,l=f.length;u<l;u++)if(r.indexOf(a=f.charAt(u))<0){if("."==a){if(u>s){s=l;continue}}else if(!o&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){o=!0,u=-1,s=0;continue}return i(h,String(e),c,t)}c=!1,(s=(f=n(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):s=f.length}for(u=0;48===f.charCodeAt(u);u++);for(l=f.length;48===f.charCodeAt(--l););if(f=f.slice(u,++l)){if(l-=u,c&&S.DEBUG&&l>15&&(e>ma||e!==fa(e)))throw Error(da+h.s*e);if((s=s-u-1)>b)h.c=h.e=null;else if(s<y)h.c=[h.e=0];else{if(h.e=s,h.c=[],u=(s+1)%va,s<0&&(u+=va),u<l){for(u&&h.c.push(+f.slice(0,u)),l-=va;u<l;)h.c.push(+f.slice(u,u+=va));u=va-(f=f.slice(u)).length}else u-=l;for(;u--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function O(e,t,r,n){var i,a,o,s,u;if(null==r?r=v:xa(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=_a(e.c),u=1==n||2==n&&(o<=m||o>=g)?Aa(u,o):Sa(u,o,"0");else if(a=(e=C(new S(e),t,r)).e,s=(u=_a(e.c)).length,1==n||2==n&&(t<=a||a<=m)){for(;s<t;u+="0",s++);u=Aa(u,a)}else if(t-=o,u=Sa(u,a,"0"),a+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=a-s)>0)for(a+1==s&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function I(e,t){for(var r,n,i=1,a=new S(e[0]);i<e.length;i++)(!(n=new S(e[i])).s||(r=ka(a,n))===t||0===r&&a.s===t)&&(a=n);return a}function R(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*va-1)>b?e.c=e.e=null:r<y?e.c=[e.e=0]:(e.e=r,e.c=t),e}function C(e,t,r,n){var i,a,o,s,u,c,l,f=e.c,h=ga;if(f){e:{for(i=1,s=f[0];s>=10;s/=10,i++);if((a=t-i)<0)a+=va,o=t,u=f[c=0],l=fa(u/h[i-o-1]%10);else if((c=la((a+1)/va))>=f.length){if(!n)break e;for(;f.length<=c;f.push(0));u=l=0,i=1,o=(a%=va)-va+1}else{for(u=s=f[c],i=1;s>=10;s/=10,i++);l=(o=(a%=va)-va+i)<0?0:fa(u/h[i-o-1]%10)}if(n=n||t<0||null!=f[c+1]||(o<0?u:u%h[i-o-1]),n=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(a>0?o>0?u/h[i-o]:0:f[c-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,n?(t-=e.e+1,f[0]=h[(va-t%va)%va],e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=c,s=1,c--):(f.length=c+1,s=h[va-a],f[c]=o>0?fa(u/h[i-o]%h[o])*s:0),n)for(;;){if(0==c){for(a=1,o=f[0];o>=10;o/=10,a++);for(o=f[0]+=s,s=1;o>=10;o/=10,s++);a!=s&&(e.e++,f[0]==pa&&(f[0]=1));break}if(f[c]+=s,f[c]!=pa)break;f[c--]=0,s=1}for(a=f.length;0===f[--a];f.pop());}e.e>b?e.c=e.e=null:e.e<y&&(e.c=[e.e=0])}return e}function N(e){var t,r=e.e;return null===r?e.toString():(t=_a(e.c),t=r<=m||r>=g?Aa(t,r):Sa(t,r,"0"),e.s<0?"-"+t:t)}return S.clone=e,S.ROUND_UP=0,S.ROUND_DOWN=1,S.ROUND_CEIL=2,S.ROUND_FLOOR=3,S.ROUND_HALF_UP=4,S.ROUND_HALF_DOWN=5,S.ROUND_HALF_EVEN=6,S.ROUND_HALF_CEIL=7,S.ROUND_HALF_FLOOR=8,S.EUCLID=9,S.config=S.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(ha+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(xa(r=e[t],0,ba,t),p=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(xa(r=e[t],0,8,t),v=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(xa(r[0],-ba,0,t),xa(r[1],0,ba,t),m=r[0],g=r[1]):(xa(r,-ba,ba,t),m=-(g=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)xa(r[0],-ba,-1,t),xa(r[1],1,ba,t),y=r[0],b=r[1];else{if(xa(r,-ba,ba,t),!r)throw Error(ha+t+" cannot be zero: "+r);y=-(b=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(ha+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw w=!r,Error(ha+"crypto unavailable");w=r}else w=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(xa(r=e[t],0,9,t),_=r),e.hasOwnProperty(t="POW_PRECISION")&&(xa(r=e[t],0,ba,t),k=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(ha+t+" not an object: "+r);x=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(ha+t+" invalid: "+r);A="0123456789"==r.slice(0,10),E=r}}return{DECIMAL_PLACES:p,ROUNDING_MODE:v,EXPONENTIAL_AT:[m,g],RANGE:[y,b],CRYPTO:w,MODULO_MODE:_,POW_PRECISION:k,FORMAT:x,ALPHABET:E}},S.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!S.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-ba&&i<=ba&&i===fa(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%va)<1&&(t+=va),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=pa||r!==fa(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(ha+"Invalid BigNumber: "+e)},S.maximum=S.max=function(){return I(arguments,-1)},S.minimum=S.min=function(){return I(arguments,1)},S.random=(a=9007199254740992,o=Math.random()*a&2097151?function(){return fa(Math.random()*a)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,a,s=0,u=[],c=new S(d);if(null==e?e=p:xa(e,0,ba),i=la(e/va),w)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(a=131072*t[s]+(t[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[s]=r[0],t[s+1]=r[1]):(u.push(a%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw w=!1,Error(ha+"crypto unavailable");for(t=crypto.randomBytes(i*=7);s<i;)(a=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(u.push(a%1e14),s+=7);s=i/7}if(!w)for(;s<i;)(a=o())<9e15&&(u[s++]=a%1e14);for(i=u[--s],e%=va,i&&e&&(a=ga[va-e],u[s]=fa(i/a)*a);0===u[s];u.pop(),s--);if(s<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=va);for(s=1,a=u[0];a>=10;a/=10,s++);s<va&&(n-=va-s)}return c.e=n,c.c=u,c}),S.sum=function(){for(var e=1,t=arguments,r=new S(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,a,o=[0],s=0,u=e.length;s<u;){for(a=o.length;a--;o[a]*=t);for(o[0]+=n.indexOf(e.charAt(s++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,a,o,s){var u,c,l,f,h,d,m,g,y=n.indexOf("."),b=p,w=v;for(y>=0&&(f=k,k=0,n=n.replace(".",""),d=(g=new S(i)).pow(n.length-y),k=f,g.c=t(Sa(_a(d.c),d.e,"0"),10,a,e),g.e=g.c.length),l=f=(m=t(n,i,a,s?(u=E,e):(u=e,E))).length;0==m[--f];m.pop());if(!m[0])return u.charAt(0);if(y<0?--l:(d.c=m,d.e=l,d.s=o,m=(d=r(d,g,b,w,a)).c,h=d.r,l=d.e),y=m[c=l+b+1],f=a/2,h=h||c<0||null!=m[c+1],h=w<4?(null!=y||h)&&(0==w||w==(d.s<0?3:2)):y>f||y==f&&(4==w||h||6==w&&1&m[c-1]||w==(d.s<0?8:7)),c<1||!m[0])n=h?Sa(u.charAt(1),-b,u.charAt(0)):u.charAt(0);else{if(m.length=c,h)for(--a;++m[--c]>a;)m[c]=0,c||(++l,m=[1].concat(m));for(f=m.length;!m[--f];);for(y=0,n="";y<=f;n+=u.charAt(m[y++]));n=Sa(n,l,u.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,a,o,s=0,u=e.length,c=t%ya,l=t/ya|0;for(e=e.slice();u--;)s=((i=c*(a=e[u]%ya)+(n=l*a+(o=e[u]/ya|0)*c)%ya*ya+s)/r|0)+(n/ya|0)+l*o,e[u]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,o,s){var u,c,l,f,h,d,p,v,m,g,y,b,w,_,k,x,E,A=n.s==i.s?1:-1,O=n.c,I=i.c;if(!(O&&O[0]&&I&&I[0]))return new S(n.s&&i.s&&(O?!I||O[0]!=I[0]:I)?O&&0==O[0]||!I?0*A:A/0:NaN);for(m=(v=new S(A)).c=[],A=a+(c=n.e-i.e)+1,s||(s=pa,c=wa(n.e/va)-wa(i.e/va),A=A/va|0),l=0;I[l]==(O[l]||0);l++);if(I[l]>(O[l]||0)&&c--,A<0)m.push(1),f=!0;else{for(_=O.length,x=I.length,l=0,A+=2,(h=fa(s/(I[0]+1)))>1&&(I=e(I,h,s),O=e(O,h,s),x=I.length,_=O.length),w=x,y=(g=O.slice(0,x)).length;y<x;g[y++]=0);E=I.slice(),E=[0].concat(E),k=I[0],I[1]>=s/2&&k++;do{if(h=0,(u=t(I,g,x,y))<0){if(b=g[0],x!=y&&(b=b*s+(g[1]||0)),(h=fa(b/k))>1)for(h>=s&&(h=s-1),p=(d=e(I,h,s)).length,y=g.length;1==t(d,g,p,y);)h--,r(d,x<p?E:I,p,s),p=d.length,u=1;else 0==h&&(u=h=1),p=(d=I.slice()).length;if(p<y&&(d=[0].concat(d)),r(g,d,y,s),y=g.length,-1==u)for(;t(I,g,x,y)<1;)h++,r(g,x<y?E:I,y,s),y=g.length}else 0===u&&(h++,g=[0]);m[l++]=h,g[0]?g[y++]=O[w]||0:(g=[O[w]],y=1)}while((w++<_||null!=g[0])&&A--);f=null!=g[0],m[0]||m.splice(0,1)}if(s==pa){for(l=1,A=m[0];A>=10;A/=10,l++);C(v,a+(v.e=l+c*va-1)+1,o,f)}else v.e=c,v.r=+f;return v}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,c=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,r,n){var i,a=r?t:t.replace(f,"");if(l.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!r&&(a=a.replace(s,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,a=a.replace(u,"$1").replace(c,"0.$1")),t!=a))return new S(a,i);if(S.DEBUG)throw Error(ha+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},h.absoluteValue=h.abs=function(){var e=new S(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,t){return ka(this,new S(e,t))},h.decimalPlaces=h.dp=function(e,t){var r,n,i,a=this;if(null!=e)return xa(e,0,ba),null==t?t=v:xa(t,0,8),C(new S(a),e+a.e+1,t);if(!(r=a.c))return null;if(n=((i=r.length-1)-wa(this.e/va))*va,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},h.dividedBy=h.div=function(e,t){return r(this,new S(e,t),p,v)},h.dividedToIntegerBy=h.idiv=function(e,t){return r(this,new S(e,t),0,1)},h.exponentiatedBy=h.pow=function(e,t){var r,n,i,a,o,s,u,c,l=this;if((e=new S(e)).c&&!e.isInteger())throw Error(ha+"Exponent not an integer: "+N(e));if(null!=t&&(t=new S(t)),o=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return c=new S(Math.pow(+N(l),o?e.s*(2-Ea(e)):+N(e))),t?c.mod(t):c;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new S(NaN);(n=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||o&&l.c[1]>=24e7:l.c[0]<8e13||o&&l.c[0]<=9999975e7)))return a=l.s<0&&Ea(e)?-0:0,l.e>-1&&(a=1/a),new S(s?1/a:a);k&&(a=la(k/va+2))}for(o?(r=new S(.5),s&&(e.s=1),u=Ea(e)):u=(i=Math.abs(+N(e)))%2,c=new S(d);;){if(u){if(!(c=c.times(l)).c)break;a?c.c.length>a&&(c.c.length=a):n&&(c=c.mod(t))}if(i){if(0===(i=fa(i/2)))break;u=i%2}else if(C(e=e.times(r),e.e+1,1),e.e>14)u=Ea(e);else{if(0===(i=+N(e)))break;u=i%2}l=l.times(l),a?l.c&&l.c.length>a&&(l.c.length=a):n&&(l=l.mod(t))}return n?c:(s&&(c=d.div(c)),t?c.mod(t):a?C(c,k,v,undefined):c)},h.integerValue=function(e){var t=new S(this);return null==e?e=v:xa(e,0,8),C(t,t.e+1,e)},h.isEqualTo=h.eq=function(e,t){return 0===ka(this,new S(e,t))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,t){return ka(this,new S(e,t))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,t){return 1===(t=ka(this,new S(e,t)))||0===t},h.isInteger=function(){return!!this.c&&wa(this.e/va)>this.c.length-2},h.isLessThan=h.lt=function(e,t){return ka(this,new S(e,t))<0},h.isLessThanOrEqualTo=h.lte=function(e,t){return-1===(t=ka(this,new S(e,t)))||0===t},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(e,t){var r,n,i,a,o=this,s=o.s;if(t=(e=new S(e,t)).s,!s||!t)return new S(NaN);if(s!=t)return e.s=-t,o.plus(e);var u=o.e/va,c=e.e/va,l=o.c,f=e.c;if(!u||!c){if(!l||!f)return l?(e.s=-t,e):new S(f?o:NaN);if(!l[0]||!f[0])return f[0]?(e.s=-t,e):new S(l[0]?o:3==v?-0:0)}if(u=wa(u),c=wa(c),l=l.slice(),s=u-c){for((a=s<0)?(s=-s,i=l):(c=u,i=f),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(n=(a=(s=l.length)<(t=f.length))?s:t,s=t=0;t<n;t++)if(l[t]!=f[t]){a=l[t]<f[t];break}if(a&&(i=l,l=f,f=i,e.s=-e.s),(t=(n=f.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=pa-1;n>s;){if(l[--n]<f[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=pa}l[n]-=f[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?R(e,l,c):(e.s=3==v?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,t){var n,i,a=this;return e=new S(e,t),!a.c||!e.s||e.c&&!e.c[0]?new S(NaN):!e.c||a.c&&!a.c[0]?new S(a):(9==_?(i=e.s,e.s=1,n=r(a,e,0,3),e.s=i,n.s*=i):n=r(a,e,0,_),(e=a.minus(n.times(e))).c[0]||1!=_||(e.s=a.s),e)},h.multipliedBy=h.times=function(e,t){var r,n,i,a,o,s,u,c,l,f,h,d,p,v,m,g=this,y=g.c,b=(e=new S(e,t)).c;if(!(y&&b&&y[0]&&b[0]))return!g.s||!e.s||y&&!y[0]&&!b||b&&!b[0]&&!y?e.c=e.e=e.s=null:(e.s*=g.s,y&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=wa(g.e/va)+wa(e.e/va),e.s*=g.s,(u=y.length)<(f=b.length)&&(p=y,y=b,b=p,i=u,u=f,f=i),i=u+f,p=[];i--;p.push(0));for(v=pa,m=ya,i=f;--i>=0;){for(r=0,h=b[i]%m,d=b[i]/m|0,a=i+(o=u);a>i;)r=((c=h*(c=y[--o]%m)+(s=d*c+(l=y[o]/m|0)*h)%m*m+p[a]+r)/v|0)+(s/m|0)+d*l,p[a--]=c%v;p[a]=r}return r?++n:p.splice(0,1),R(e,p,n)},h.negated=function(){var e=new S(this);return e.s=-e.s||null,e},h.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new S(e,t)).s,!i||!t)return new S(NaN);if(i!=t)return e.s=-t,n.minus(e);var a=n.e/va,o=e.e/va,s=n.c,u=e.c;if(!a||!o){if(!s||!u)return new S(i/0);if(!s[0]||!u[0])return u[0]?e:new S(s[0]?n:0*i)}if(a=wa(a),o=wa(o),s=s.slice(),i=a-o){for(i>0?(o=a,r=u):(i=-i,r=s),r.reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(t=u.length)<0&&(r=u,u=s,s=r,t=i),i=0;t;)i=(s[--t]=s[t]+u[t]+i)/pa|0,s[t]=pa===s[t]?0:s[t]%pa;return i&&(s=[i].concat(s),++o),R(e,s,o)},h.precision=h.sd=function(e,t){var r,n,i,a=this;if(null!=e&&e!==!!e)return xa(e,1,ba),null==t?t=v:xa(t,0,8),C(new S(a),e,t);if(!(r=a.c))return null;if(n=(i=r.length-1)*va+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&a.e+1>n&&(n=a.e+1),n},h.shiftedBy=function(e){return xa(e,-9007199254740991,ma),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,t,n,i,a,o=this,s=o.c,u=o.s,c=o.e,l=p+4,f=new S("0.5");if(1!==u||!s||!s[0])return new S(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(u=Math.sqrt(+N(o)))||u==1/0?(((t=_a(s)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=wa((c+1)/2)-(c<0||c%2),n=new S(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):n=new S(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(a=n,n=f.times(a.plus(r(o,a,l,1))),_a(a.c).slice(0,u)===(t=_a(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(C(n,n.e+p+2,1),e=!n.times(n).eq(o));break}if(!i&&(C(a,a.e+p+2,0),a.times(a).eq(o))){n=a;break}l+=4,u+=4,i=1}return C(n,n.e+p+1,v,e)},h.toExponential=function(e,t){return null!=e&&(xa(e,0,ba),e++),O(this,e,t,1)},h.toFixed=function(e,t){return null!=e&&(xa(e,0,ba),e=e+this.e+1),O(this,e,t)},h.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=x;else if("object"!=typeof r)throw Error(ha+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var a,o=n.split("."),s=+r.groupSize,u=+r.secondaryGroupSize,c=r.groupSeparator||"",l=o[0],f=o[1],h=i.s<0,d=h?l.slice(1):l,p=d.length;if(u&&(a=s,s=u,u=a,p-=a),s>0&&p>0){for(a=p%s||s,l=d.substr(0,a);a<p;a+=s)l+=c+d.substr(a,s);u>0&&(l+=c+d.slice(a)),h&&(l="-"+l)}n=f?l+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):l}return(r.prefix||"")+n+(r.suffix||"")},h.toFraction=function(e){var t,n,i,a,o,s,u,c,l,f,h,p,m=this,g=m.c;if(null!=e&&(!(u=new S(e)).isInteger()&&(u.c||1!==u.s)||u.lt(d)))throw Error(ha+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+N(u));if(!g)return new S(m);for(t=new S(d),l=n=new S(d),i=c=new S(d),p=_a(g),o=t.e=p.length-m.e-1,t.c[0]=ga[(s=o%va)<0?va+s:s],e=!e||u.comparedTo(t)>0?o>0?t:l:u,s=b,b=1/0,u=new S(p),c.c[0]=0;f=r(u,t,0,1),1!=(a=n.plus(f.times(i))).comparedTo(e);)n=i,i=a,l=c.plus(f.times(a=l)),c=a,t=u.minus(f.times(a=t)),u=a;return a=r(e.minus(n),i,0,1),c=c.plus(a.times(l)),n=n.plus(a.times(i)),c.s=l.s=m.s,h=r(l,i,o*=2,v).minus(m).abs().comparedTo(r(c,n,o,v).minus(m).abs())<1?[l,i]:[c,n],b=s,h},h.toNumber=function(){return+N(this)},h.toPrecision=function(e,t){return null!=e&&xa(e,1,ba),O(this,e,t,2)},h.toString=function(e){var t,r=this,i=r.s,a=r.e;return null===a?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=a<=m||a>=g?Aa(_a(r.c),a):Sa(_a(r.c),a,"0"):10===e&&A?t=Sa(_a((r=C(new S(r),p+a+1,v)).c),r.e,"0"):(xa(e,2,E.length,"Base"),t=n(Sa(_a(r.c),a,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},h.valueOf=h.toJSON=function(){return N(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=t&&S.set(t),S}();function Ra(e){return new Ia(e).div(1e18).toString(10)}s("af",Oa),function(e){e[e.ACCOUNT_ACCESS_REJECTED=4001]="ACCOUNT_ACCESS_REJECTED",e[e.ACCOUNT_ACCESS_ALREADY_REQUESTED=-32002]="ACCOUNT_ACCESS_ALREADY_REQUESTED",e[e.UNAUTHORIZED=4100]="UNAUTHORIZED",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",e[e.DISCONNECTED=4900]="DISCONNECTED",e[e.CHAIN_DISCONNECTED=4901]="CHAIN_DISCONNECTED",e[e.CHAIN_NOT_ADDED=4902]="CHAIN_NOT_ADDED",e[e.DOES_NOT_EXIST=-32601]="DOES_NOT_EXIST",e[e.UNRECOGNIZED_CHAIN_ID=-32603]="UNRECOGNIZED_CHAIN_ID"}(Oa||s("af",Oa={}));var Ca={exports:{}};!function(e,t){var r,n;self,e.exports=(r={7629:function(e,t,r){var n=r(375),i=r(8571),a=r(9474),o=r(1687),s=r(8652),u=r(8160),c=r(3292),l=r(6354),f=r(8901),h=r(9708),d=r(6914),p=r(2294),v=r(6133),m=r(1152),g=r(8863),y=r(2036),_={Base:function(){function e(t){A(this,e),this.type=t,this.$_root=null,this._definition={},this._reset()}return O(e,[{key:"_reset",value:function(){this._ids=new p.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}},{key:"describe",value:function(){return n("function"==typeof h.describe,"Manifest functionality disabled"),h.describe(this)}},{key:"allow",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"allow"),this._values(t,"_valids")}},{key:"alter",value:function(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");var t=this.clone();for(var r in t.$_terms.alterations=t.$_terms.alterations||[],e){var i=e[r];n("function"==typeof i,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:i})}return t.$_temp.ruleset=!1,t}},{key:"artifact",value:function(e){return n(void 0!==e,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}},{key:"cast",value:function(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}},{key:"default",value:function(e,t){return this._default("default",e,t)}},{key:"description",value:function(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}},{key:"empty",value:function(e){var t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}},{key:"error",value:function(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}},{key:"example",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(void 0!==e,"Missing example"),u.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}},{key:"external",value:function(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}},{key:"failover",value:function(e,t){return this._default("failover",e,t)}},{key:"forbidden",value:function(){return this.presence("forbidden")}},{key:"id",value:function(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}},{key:"invalid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._values(t,"_invalids")}},{key:"label",value:function(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}},{key:"meta",value:function(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}},{key:"note",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing notes");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Notes must be non-empty strings")}return this._inner("notes",t)}},{key:"only",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}},{key:"optional",value:function(){return this.presence("optional")}},{key:"prefs",value:function(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),u.checkPreferences(e);var t=this.clone();return t._preferences=u.preferences(t._preferences,e),t}},{key:"presence",value:function(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}},{key:"raw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"raw":void 0)}},{key:"result",value:function(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}},{key:"required",value:function(){return this.presence("required")}},{key:"strict",value:function(e){var t=this.clone(),r=void 0!==e&&!e;return t._preferences=u.preferences(t._preferences,{convert:r}),t}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"strip":void 0)}},{key:"tag",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing tags");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Tags must be non-empty strings")}return this._inner("tags",t)}},{key:"unit",value:function(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}},{key:"valid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];u.verifyFlat(t,"valid");var n=this.allow.apply(this,t);return n.$_setFlag("only",!!n._valids,{clone:!1}),n}},{key:"when",value:function(e,t){var r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);var i=c.when(r,e,t);if(!["any","link"].includes(r.type)){var a,o=k(i.is?[i]:i.switch);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(!s.then||"any"===s.then.type||s.then.type===r.type,"Cannot combine",r.type,"with",s.then&&s.then.type),n(!s.otherwise||"any"===s.otherwise.type||s.otherwise.type===r.type,"Cannot combine",r.type,"with",s.otherwise&&s.otherwise.type)}}catch(u){o.e(u)}finally{o.f()}}return r.$_terms.whens.push(i),r.$_mutateRebuild()}},{key:"cache",value:function(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");var t=this.clone();return t._cache=e||s.provider.provision(),t.$_temp.ruleset=!1,t}},{key:"clone",value:function(){var e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}},{key:"concat",value:function(e){n(u.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");var t=this.clone();if("any"===this.type&&"any"!==e.type){for(var r=e.clone(),i=0,a=Object.keys(t);i<a.length;i++){var s=a[i];"type"!==s&&(r[s]=t[s])}t=r}t._ids.concat(e._ids),t._refs.register(e,v.toSibling),t._preferences=t._preferences?u.preferences(t._preferences,e._preferences):e._preferences,t._valids=y.merge(t._valids,e._valids,e._invalids),t._invalids=y.merge(t._invalids,e._invalids,e._valids);var c,l=k(e._singleRules.keys());try{var f=function(){var e=c.value;t._singleRules.has(e)&&(t._rules=t._rules.filter((function(t){return t.keep||t.name!==e})),t._singleRules.delete(e))};for(l.s();!(c=l.n()).done;)f()}catch(_){l.e(_)}finally{l.f()}var h,d=k(e._rules);try{for(d.s();!(h=d.n()).done;){var p=h.value;e._definition.rules[p.method].multi||t._singleRules.set(p.name,p),t._rules.push(p)}}catch(_){d.e(_)}finally{d.f()}if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);var m=Object.assign({},e._flags);delete m.empty,o(t._flags,m)}else if(e._flags.empty){t._flags.empty=e._flags.empty;var g=Object.assign({},e._flags);delete g.empty,o(t._flags,g)}else o(t._flags,e._flags);for(var b in e.$_terms){var w=e.$_terms[b];w?t.$_terms[b]?t.$_terms[b]=t.$_terms[b].concat(w):t.$_terms[b]=w.slice():t.$_terms[b]||(t.$_terms[b]=w)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}},{key:"extend",value:function(e){return n(!e.base,"Cannot extend type with another base"),f.type(this,e)}},{key:"extract",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}},{key:"fork",value:function(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");var r,i=this,a=k([].concat(e));try{for(a.s();!(r=a.n()).done;){var o=r.value;o=Array.isArray(o)?o:o.split("."),i=i._ids.fork(o,t,i)}}catch(s){a.e(s)}finally{a.f()}return i.$_temp.ruleset=!1,i}},{key:"rule",value:function(e){var t=this._definition;u.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");for(var a=this.clone(),o=r;o<a._rules.length;++o){var s=a._rules[o],c=i(s);for(var l in e)t.modifiers[l](c,e[l]),n(c.name===s.name,"Cannot change rule name");a._rules[o]=c,a._singleRules.get(c.name)===s&&a._singleRules.set(c.name,c)}return a.$_temp.ruleset=!1,a.$_mutateRebuild()}},{key:"ruleset",get:function(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");var e=this.clone();return e.$_temp.ruleset=e._rules.length,e}},{key:"$",get:function(){return this.ruleset}},{key:"tailor",value:function(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");var t=this;if(this.$_terms.alterations){var r,i=k(this.$_terms.alterations);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.target,s=a.adjuster;e.includes(o)&&(t=s(t),n(u.isSchema(t),"Alteration adjuster for",o,"failed to return a schema object"))}}catch(c){i.e(c)}finally{i.f()}}return(t=t.$_modify({each:function(t){return t.tailor(e)},ref:!1})).$_temp.ruleset=!1,t.$_mutateRebuild()}},{key:"tracer",value:function(){return m.location?m.location(this):this}},{key:"validate",value:function(e,t){return g.entry(e,this,t)}},{key:"validateAsync",value:function(e,t){return g.entryAsync(e,this,t)}},{key:"$_addRule",value:function(e){for(var t in"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name"),e)n("_"!==t[0],"Cannot set private rule properties");var r=Object.assign({},e);r._resolve=[],r.method=r.method||r.name;var i=this._definition.rules[r.method],a=r.args;n(i,"Unknown rule",r.method);var o=this.clone();if(a)for(var s in n(1===Object.keys(a).length||Object.keys(a).length===this._definition.rules[r.name].args.length,"Invalid rule definition for",this.type,r.name),a){var c=a[s];if(i.argsByName){var l=i.argsByName.get(s);if(l.ref&&u.isResolvable(c))r._resolve.push(s),o.$_mutateRegister(c);else if(l.normalize&&(c=l.normalize(c),a[s]=c),l.assert){var f=u.validateArg(c,s,l);n(!f,f,"or reference")}}void 0!==c?a[s]=c:delete a[s]}return i.multi||(o._ruleRemove(r.name,{clone:!1}),o._singleRules.set(r.name,r)),!1===o.$_temp.ruleset&&(o.$_temp.ruleset=null),i.priority?o._rules.unshift(r):o._rules.push(r),o}},{key:"$_compile",value:function(e,t){return c.schema(this.$_root,e,t)}},{key:"$_createError",value:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=!1!==a.flags?this._flags:{},s=a.messages?d.merge(this._definition.messages,a.messages):this._definition.messages;return new l.Report(e,t,r,o,s,n,i)}},{key:"$_getFlag",value:function(e){return this._flags[e]}},{key:"$_getRule",value:function(e){return this._singleRules.get(e)}},{key:"$_mapLabels",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}},{key:"$_match",value:function(e,t,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();var i=!g.validate(e,this,t,r,n).errors;return t.restore(),i}},{key:"$_modify",value:function(e){return u.assertOptions(e,["each","once","ref","schema"]),p.schema(this,e)||this}},{key:"$_mutateRebuild",value:function(){var e=this;return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:function(t,r){var n=r.source,i=r.name,a=(r.path,r.key),o=e._definition[n][i]&&e._definition[n][i].register;!1!==o&&e.$_mutateRegister(t,{family:o,key:a})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}},{key:"$_mutateRegister",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.family,n=t.key;this._refs.register(e,r),this._ids.register(e,{key:n})}},{key:"$_property",value:function(e){return this._definition.properties[e]}},{key:"$_reach",value:function(e){return this._ids.reach(e)}},{key:"$_rootReferences",value:function(){return this._refs.roots()}},{key:"$_setFlag",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");var i=this._definition.flags[e]||{};if(a(t,i.default)&&(t=void 0),a(t,this._flags[e]))return this;var o=!1!==r.clone?this.clone():this;return void 0!==t?(o._flags[e]=t,o.$_mutateRegister(t)):delete o._flags[e],"_"!==e[0]&&(o.$_temp.ruleset=!1),o}},{key:"$_parent",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this[e][u.symbols.parent]).call.apply(t,[this].concat(n))}},{key:"$_validate",value:function(e,t,r){return g.validate(e,this,t,r)}},{key:"_assign",value:function(e){for(var t in e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={},this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;for(var r in e.$_super={},this.$_super)e.$_super[r]=this._super[r].bind(e);return e}},{key:"_bare",value:function(){var e=this.clone();e._reset();var t=e._definition.terms;for(var r in t){var n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}},{key:"_default",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.assertOptions(i,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!i.literal,"Only function value supports literal option"),"function"==typeof t&&i.literal&&(b(r={},u.symbols.literal,!0),b(r,"literal",t),t=r),this.$_setFlag(e,t)}},{key:"_generate",value:function(e,t,r){if(!this.$_terms.whens)return{schema:this};for(var n=[],i=[],a=0;a<this.$_terms.whens.length;++a){var o=this.$_terms.whens[a];if(o.concat)n.push(o.concat),i.push("".concat(a,".concat"));else{for(var s=o.ref?o.ref.resolve(e,t,r):e,u=o.is?[o]:o.switch,c=i.length,l=0;l<u.length;++l){var f=u[l],h=f.is,d=f.then,p=f.otherwise,v="".concat(a).concat(o.switch?"."+l:"");if(h.$_match(s,t.nest(h,"".concat(v,".is")),r)){if(d){var m=t.localize([].concat(w(t.path),["".concat(v,".then")]),t.ancestors,t.schemas),g=d._generate(e,m,r),y=g.schema,b=g.id;n.push(y),i.push("".concat(v,".then").concat(b?"(".concat(b,")"):""));break}}else if(p){var _=t.localize([].concat(w(t.path),["".concat(v,".otherwise")]),t.ancestors,t.schemas),k=p._generate(e,_,r),x=k.schema,E=k.id;n.push(x),i.push("".concat(v,".otherwise").concat(E?"(".concat(E,")"):""));break}}if(o.break&&i.length>c)break}}var A=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",A),!A)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[A])return{schema:this.$_temp.whens[A],id:A};var S=this;this._definition.generate&&(S=this._definition.generate(this,e,t,r));for(var O=0,I=n;O<I.length;O++){var R=I[O];S=S.concat(R)}return this.$_root._tracer&&this.$_root._tracer._combine(S,[this].concat(n)),this.$_temp.whens[A]=S,{schema:S,id:A}}},{key:"_inner",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(!this._inRuleset(),"Cannot set ".concat(e," inside a ruleset"));var a=this.clone();return a.$_terms[e]&&!i.override||(a.$_terms[e]=[]),i.single?a.$_terms[e].push(t):(r=a.$_terms[e]).push.apply(r,w(t)),a.$_temp.ruleset=!1,a}},{key:"_inRuleset",value:function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}},{key:"_ruleRemove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._singleRules.has(e))return this;var r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);for(var n=[],i=0;i<r._rules.length;++i){var a=r._rules[i];a.name!==e||a.keep?n.push(a):r._inRuleset()&&i<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}},{key:"_values",value:function(e,t){u.verifyFlat(e,t.slice(1,-1));var r=this.clone(),i=e[0]===u.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new y:i&&(r[t]=e.length?new y:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n(s!==u.symbols.override,"Override must be the first value");var c="_invalids"===t?"_valids":"_invalids";r[c]&&(r[c].remove(s),r[c].length||(n("_valids"===t||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[c]=null)),r[t].add(s,r._refs)}}catch(l){o.e(l)}finally{o.f()}return r}}]),e}()};_.Base.prototype[u.symbols.any]={version:u.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,e.exports=new _.Base},8652:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:function(e){return new o.Cache(e)}},o.Cache=function(){function e(){A(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.assertOptions(t,["max"]),n(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this._max=t.max||o.max,this._map=new Map,this._list=new o.List}return O(e,[{key:"length",get:function(){return this._map.size}},{key:"set",value:function(e,t){if(null===e||o.supported.has(typeof e)){var r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}}},{key:"get",value:function(e){var t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}},{key:"_compact",value:function(){if(this._map.size>this._max){var e=this._list.pop();this._map.delete(e.key)}}}]),e}(),o.List=function(){function e(){A(this,e),this.tail=null,this.head=null}return O(e,[{key:"unshift",value:function(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}},{key:"first",value:function(e){e!==this.head&&(this._remove(e),this.unshift(e))}},{key:"pop",value:function(){return this._remove(this.tail)}},{key:"_remove",value:function(e){var t=e.next,r=e.prev;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}]),e}()},8160:function(e,t,r){var n,i,a=r(375),o=r(7916),s=r(5934),u={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=s.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Options";a(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");var n=Object.keys(e).filter((function(e){return!t.includes(e)}));a(0===n.length,"".concat(r," contain unknown keys: ").concat(n))},t.checkPreferences=function(e){var t=(i=i||r(3378)).preferences.validate(e);if(t.error)throw new o([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return u.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e&&e[t.symbols.any];return!!n&&(a(r.legacy||n.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,i){n=n||r(6914),e=e||{},i=i||{};var a=Object.assign({},e,i);return i.errors&&e.errors&&(a.errors=Object.assign({},e.errors,i.errors),a.errors.wrap=Object.assign({},e.errors.wrap,i.errors.wrap)),i.messages&&(a.messages=n.compile(i.messages,e.messages)),delete a[t.symbols.prefs],a},t.tryWithPath=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},t.validateArg=function(e,r,n){var i=n.assert,a=n.message;if(t.isSchema(i)){var o=i.validate(e);if(!o.error)return;return o.error.message}if(!i(e))return r?"".concat(r," ").concat(a):a},t.verifyFlat=function(e,t){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;a(!Array.isArray(i),"Method no longer accepts array arguments:",t)}}catch(o){n.e(o)}finally{n.f()}}},3292:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.schema=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(r,["appendPath","override"]);try{return o.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},o.schema=function(e,t,r){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));var a=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return!1!==r.override?t.valid.apply(t,[e.override].concat(i)):t.valid.apply(t,i)};if(o.simple(t))return a(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return a(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){var s,u=k(t);try{for(u.s();!(s=u.n()).done;){var c,l=s.value;if(!o.simple(l))return(c=e.alternatives()).try.apply(c,w(t))}}catch(f){u.e(f)}finally{u.f()}return a.apply(void 0,[e].concat(w(t)))}return t instanceof RegExp?e.string().regex(t):t instanceof Date?a(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return a.isRef(e)?e:a.create(e,t)},t.compile=function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(a,["legacy"]);var s=r&&r[i.symbols.any];if(s)return n(a.legacy||s.version===i.version,"Cannot mix different versions of joi schemas:",s.version,i.version),r;if("object"!=typeof r||!a.legacy)return t.schema(e,r,{appendPath:!0});var u=o.walk(r);return u?u.compile(u.root,r):t.schema(e,r,{appendPath:!0})},o.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=o.walk(a);if(s)return s}}catch(f){r.e(f)}finally{r.f()}return null}var u=e[i.symbols.any];if(u)return{root:e[u.root],compile:u.compile};for(var c in n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e){var l=o.walk(e[c]);if(l)return l}return null},o.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,s){if(void 0===s&&(n(r&&"object"==typeof r,"Missing options"),s=r,r=a.create(".")),Array.isArray(s)&&(s={switch:s}),i.assertOptions(s,["is","not","then","otherwise","switch","break"]),i.isSchema(r))return n(void 0===s.is,'"is" can not be used with a schema condition'),n(void 0===s.not,'"not" can not be used with a schema condition'),n(void 0===s.switch,'"switch" can not be used with a schema condition'),o.condition(e,{is:r,then:s.then,otherwise:s.otherwise,break:s.break});if(n(a.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===s.not||void 0===s.is,'Cannot combine "is" with "not"'),void 0===s.switch){var u=s;void 0!==s.not&&(u={is:s.not,then:s.otherwise,otherwise:s.then,break:s.break});var c=void 0!==u.is?e.$_compile(u.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==u.then||void 0!==u.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===u.break||void 0===u.then||void 0===u.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===s.is||a.isRef(s.is)||i.isSchema(s.is)||(c=c.required()),o.condition(e,{ref:t.ref(r),is:c,then:u.then,otherwise:u.otherwise,break:u.break})}n(Array.isArray(s.switch),'"switch" must be an array'),n(void 0===s.is,'Cannot combine "switch" with "is"'),n(void 0===s.not,'Cannot combine "switch" with "not"'),n(void 0===s.then,'Cannot combine "switch" with "then"');for(var l={ref:t.ref(r),switch:[],break:s.break},f=0;f<s.switch.length;++f){var h=s.switch[f],d=f===s.switch.length-1;i.assertOptions(h,d?["is","then","otherwise"]:["is","then"]),n(void 0!==h.is,'Switch statement missing "is"'),n(void 0!==h.then,'Switch statement missing "then"');var p={is:e.$_compile(h.is),then:e.$_compile(h.then)};if(a.isRef(h.is)||i.isSchema(h.is)||(p.is=p.is.required()),d){n(void 0===s.otherwise||void 0===h.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var v=void 0!==s.otherwise?s.otherwise:h.otherwise;void 0!==v&&(n(void 0===l.break,"Cannot specify both otherwise and break"),p.otherwise=e.$_compile(v))}l.switch.push(p)}return l},o.condition=function(e,t){for(var r=0,n=["then","otherwise"];r<n.length;r++){var i=n[r];void 0===t[i]?delete t[i]:t[i]=e.$_compile(t[i])}return t}},6354:function(e,t,r){var n=r(5688),i=r(8160),a=r(3328);t.Report=function(){function e(r,n,i,a,o,s,u){if(A(this,e),this.code=r,this.flags=a,this.messages=o,this.path=s.path,this.prefs=u,this.state=s,this.value=n,this.message=null,this.template=null,this.local=i||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var c=this.path[this.path.length-1];"object"!=typeof c&&(this.local.key=c)}}return O(e,[{key:"_setTemplate",value:function(e){if(this.template=e,!this.flags.label&&0===this.path.length){var t=this._template(this.template,"root");t&&(this.local.label=t)}}},{key:"toString",value:function(){if(this.message)return this.message;var e=this.code;if(!this.prefs.errors.render)return this.code;var t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?'Error code "'.concat(e,'" is not defined, your custom type is missing the correct messages definition'):(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}},{key:"_template",value:function(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}}]),e}(),t.path=function(e){var t,r="",n=k(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"object"!=typeof i&&("string"==typeof i?(r&&(r+="."),r+=i):r+="[".concat(i,"]"))}}catch(a){n.e(a)}finally{n.f()}return r},t.template=function(e,t,r,n,o){if(t){if(a.isTemplate(t))return"root"!==r?t:null;var s=o.errors.language;if(i.isResolvable(s)&&(s=s.resolve(e,n,o)),s&&t[s]){if(void 0!==t[s][r])return t[s][r];if(void 0!==t[s]["*"])return t[s]["*"]}return t[r]?t[r]:t["*"]}},t.label=function(e,r,n,i){if(e.label)return e.label;if(!n.errors.label)return"";var a=r.path;return"key"===n.errors.label&&r.path.length>1&&(a=r.path.slice(-1)),t.path(a)||t.template(null,n.messages,"root",r,n)||i&&t.template(null,i,"root",r,n)||"value"},t.process=function(e,r,n){if(!e)return null;var i=t.details(e),a=i.override,o=i.message,s=i.details;if(a)return a;if(n.errors.stack)return new t.ValidationError(o,s,r);var u=Error.stackTraceLimit;Error.stackTraceLimit=0;var c=new t.ValidationError(o,s,r);return Error.stackTraceLimit=u,c},t.details=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o instanceof Error){if(!1!==r.override)return{override:o};var s=o.toString();n.push(s),i.push({message:s,type:"override",context:{error:o}})}else{var u=o.toString();n.push(u),i.push({message:u,path:o.path.filter((function(e){return"object"!=typeof e})),type:o.code,context:o.local})}}}catch(c){a.e(c)}finally{a.f()}return n.length>1&&(n=w(new Set(n))),{message:n.join(". "),details:i}},t.ValidationError=function(e){f(n,e);var r=h(n);function n(e,t,i){var a;return A(this,n),(a=r.call(this,e))._original=i,a.details=t,a}return O(n,null,[{key:"isError",value:function(e){return e instanceof t.ValidationError}}]),n}(p(Error)),t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},8901:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o=r(6914),s={};t.type=function(e,t){var r=Object.getPrototypeOf(e),u=i(r),c=e._assign(Object.create(u)),l=Object.assign({},t);delete l.base,u._definition=l;var f=r._definition||{};l.messages=o.merge(f.messages,l.messages),l.properties=Object.assign({},f.properties,l.properties),c.type=l.type,l.flags=Object.assign({},f.flags,l.flags);var h=Object.assign({},f.terms);if(l.terms)for(var d in l.terms){var p=l.terms[d];n(void 0===c.$_terms[d],"Invalid term override for",l.type,d),c.$_terms[d]=p.init,h[d]=p}l.terms=h,l.args||(l.args=f.args),l.prepare=s.prepare(l.prepare,f.prepare),l.coerce&&("function"==typeof l.coerce&&(l.coerce={method:l.coerce}),l.coerce.from&&!Array.isArray(l.coerce.from)&&(l.coerce={method:l.coerce.method,from:[].concat(l.coerce.from)})),l.coerce=s.coerce(l.coerce,f.coerce),l.validate=s.validate(l.validate,f.validate);var v=Object.assign({},f.rules);if(l.rules){var m=function(e){var t=l.rules[e];n("object"==typeof t,"Invalid rule definition for",l.type,e);var r=t.method;if(void 0===r&&(r=function(){return this.$_addRule(e)}),r&&(n(!u[e],"Rule conflict in",l.type,e),u[e]=r),n(!v[e],"Rule conflict in",l.type,e),v[e]=t,t.alias){var i,o=k([].concat(t.alias));try{for(o.s();!(i=o.n()).done;){var s=i.value;u[s]=t.method}}catch(c){o.e(c)}finally{o.f()}}t.args&&(t.argsByName=new Map,t.args=t.args.map((function(e){return"string"==typeof e&&(e={name:e}),n(!t.argsByName.has(e.name),"Duplicated argument name",e.name),a.isSchema(e.assert)&&(e.assert=e.assert.strict().label(e.name)),t.argsByName.set(e.name,e),e})))};for(var g in l.rules)m(g)}l.rules=v;var y=Object.assign({},f.modifiers);if(l.modifiers){var w=function(e){n(!u[e],"Rule conflict in",l.type,e);var t=l.modifiers[e];n("function"==typeof t,"Invalid modifier definition for",l.type,e);var r=function(t){return this.rule(b({},e,t))};u[e]=r,y[e]=t};for(var _ in l.modifiers)w(_)}if(l.modifiers=y,l.overrides){for(var x in u._super=r,c.$_super={},l.overrides)n(r[x],"Cannot override missing",x),l.overrides[x][a.symbols.parent]=r[x],c.$_super[x]=r[x].bind(c);Object.assign(u,l.overrides)}l.cast=Object.assign({},f.cast,l.cast);var E=Object.assign({},f.manifest,l.manifest);return E.build=s.build(l.manifest&&l.manifest.build,f.manifest&&f.manifest.build),l.manifest=E,l.rebuild=s.rebuild(l.rebuild,f.rebuild),c},s.build=function(e,t){return e&&t?function(r,n){return t(e(r,n),n)}:e||t},s.coerce=function(e,t){return e&&t?{from:e.from&&t.from?w(new Set([].concat(w(e.from),w(t.from)))):null,method:function(r,n){var i;if((!t.from||t.from.includes(typeof r))&&(i=t.method(r,n))){if(i.errors||void 0===i.value)return i;r=i.value}if(!e.from||e.from.includes(typeof r)){var a=e.method(r,n);if(a)return a}return i}}:e||t},s.prepare=function(e,t){return e&&t?function(r,n){var i=e(r,n);if(i){if(i.errors||void 0===i.value)return i;r=i.value}return t(r,n)||i}:e||t},s.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},s.validate=function(e,t){return e&&t?function(r,n){var i=t(r,n);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;r=i.value}return e(r,n)||i}:e||t}},5107:function(e,t,r){var n,i=r(375),a=r(8571),o=r(8652),s=r(8160),u=r(3292),c=r(6354),l=r(8901),f=r(9708),h=r(6133),d=r(3328),p=r(1152),m={types:{alternatives:r(4946),any:r(8068),array:r(546),boolean:r(4937),date:r(7500),function:r(390),link:r(8785),number:r(3832),object:r(8966),string:r(7417),symbol:r(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){var e,t={_types:new Set(Object.keys(m.types))},r=k(t._types);try{var n=function(){var r=e.value;t[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(!t.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],t)}};for(r.s();!(e=r.n()).done;)n()}catch(l){r.e(l)}finally{r.f()}for(var a=function(){var e=s[o];t[e]=function(){var t;return(t=this.any())[e].apply(t,arguments)}},o=0,s=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];o<s.length;o++)a();for(var u in Object.assign(t,m.methods),m.aliases){var c=m.aliases[u];t[u]=t[c]}return t.x=t.expression,p.setup&&p.setup(t),t}};m.methods={ValidationError:c.ValidationError,version:s.version,cache:o.provider,assert:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];m.assert(e,t,!0,n)},attempt:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return m.assert(e,t,!1,n)},build:function(e){return i("function"==typeof f.build,"Manifest functionality disabled"),f.build(this,e)},checkPreferences:function(e){s.checkPreferences(e)},compile:function(e,t){return u.compile(this,e,t)},defaults:function(e){i("function"==typeof e,"modifier must be a function");var t,r=Object.assign({},this),n=k(r._types);try{var a=function(){var n=t.value,a=e(r[n]());i(s.isSchema(a),"modifier must return a valid schema object"),r[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,a,t)}};for(n.s();!(t=n.n()).done;)a()}catch(o){n.e(o)}finally{n.f()}return r},expression:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(d,t)},extend:function(){for(var e=this,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];s.verifyFlat(a,"extend"),n=n||r(3378),i(a.length,"You need to provide at least one extension"),this.assert(a,n.extensions);var u=Object.assign({},this);u._types=new Set(u._types);for(var c=0,f=a;c<f.length;c++){var h=f[c];"function"==typeof h&&(h=h(u)),this.assert(h,n.extension);var d,p=k(m.expandExtension(h,u));try{var v=function(){var t=d.value;i(void 0===u[t.type]||u._types.has(t.type),"Cannot override name",t.type);var r=t.base||e.any(),n=l.type(r,t);u._types.add(t.type),u[t.type]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,n,t)}};for(p.s();!(d=p.n()).done;)v()}catch(g){p.e(g)}finally{p.f()}}return u},isError:c.ValidationError.isError,isExpression:d.isTemplate,isRef:h.isRef,isSchema:s.isSchema,in:function(){return h.in.apply(h,arguments)},override:s.symbols.override,ref:function(){return h.create.apply(h,arguments)},types:function(){var e,t={},r=k(this._types);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n]=this[n]()}}catch(a){r.e(a)}finally{r.f()}for(var i in m.aliases)t[i]=this[i]();return t}},m.assert=function(e,t,r,n){var i=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,o=null!==i?n[1]:n[0],u=t.validate(e,s.preferences({errors:{stack:!0}},o||{})),l=u.error;if(!l)return u.value;if(i instanceof Error)throw i;var f=r&&"function"==typeof l.annotate?l.annotate():l.message;throw l instanceof c.ValidationError==0&&(l=a(l)),l.message=i?"".concat(i," ").concat(f):f,l},m.generate=function(e,t,r){var n;return i(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?(n=t._definition).args.apply(n,[t].concat(w(r))):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];var r,n=[],i=k(t._types);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.type.test(a)){var o=Object.assign({},e);o.type=a,o.base=t[a](),n.push(o)}}}catch(s){i.e(s)}finally{i.f()}return n},e.exports=m.root()},6914:function(e,t,r){var n=r(375),i=r(8571),a=r(3328);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new a(e);if(a.isTemplate(e))return n(!t,"Cannot set single message template"),e;for(var r in n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{},e){var o=e[r];if("root"===r||a.isTemplate(o))t[r]=o;else if("string"!=typeof o){n("object"==typeof o&&!Array.isArray(o),"Invalid message for",r);var s=r;for(r in t[s]=t[s]||{},o){var u=o[r];"root"===r||a.isTemplate(u)?t[s][r]=u:(n("string"==typeof u,"Invalid message for",r,"in",s),t[s][r]=new a(u))}}else t[r]=new a(o)}return t},t.decompile=function(e){var t={};for(var r in e){var n=e[r];if("root"!==r)if(a.isTemplate(n))t[r]=n.describe({compact:!0});else{var i=r;for(r in t[i]={},n){var o=n[r];"root"!==r?t[i][r]=o.describe({compact:!0}):t[i].root=o}}else t.root=n}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new a(r);if(a.isTemplate(r))return r;var o=i(e);for(var s in r){var u=r[s];if("root"===s||a.isTemplate(u))o[s]=u;else if("string"!=typeof u){n("object"==typeof u&&!Array.isArray(u),"Invalid message for",s);var c=s;for(s in o[c]=o[c]||{},u){var l=u[s];"root"===s||a.isTemplate(l)?o[c][s]=l:(n("string"==typeof l,"Invalid message for",s,"in",c),o[c][s]=new a(l))}}else o[s]=new a(u)}return o}},2294:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.Ids=o.Ids=function(){function e(){A(this,e),this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}return O(e,[{key:"clone",value:function(){var e=new o.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}},{key:"concat",value:function(e){e._schemaChain&&(this._schemaChain=!0);var t,r=k(e._byId.entries());try{for(r.s();!(t=r.n()).done;){var i=_(t.value,2),a=i[0],o=i[1];n(!this._byKey.has(a),"Schema id conflicts with existing key:",a),this._byId.set(a,o)}}catch(h){r.e(h)}finally{r.f()}var s,u=k(e._byKey.entries());try{for(u.s();!(s=u.n()).done;){var c=_(s.value,2),l=c[0],f=c[1];n(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,f)}}catch(h){u.e(h)}finally{u.f()}}},{key:"fork",value:function(e,t,r){var a=this._collect(e);a.push({schema:r});var s=a.shift(),u={id:s.id,schema:t(s.schema)};n(i.isSchema(u.schema),"adjuster function failed to return a joi schema type");var c,l=k(a);try{for(l.s();!(c=l.n()).done;){var f=c.value;u={id:f.id,schema:o.fork(f.schema,u.id,u.schema)}}}catch(h){l.e(h)}finally{l.f()}return u.schema}},{key:"labels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],n=this._get(r);if(!n)return[].concat(w(t),w(e)).join(".");var i=e.slice(1);return t=[].concat(w(t),[n.schema._flags.label||r]),i.length?n.schema._ids.labels(i,t):t.join(".")}},{key:"reach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],i=this._get(r);n(i,"Schema does not contain path",[].concat(w(t),w(e)).join("."));var a=e.slice(1);return a.length?i.schema._ids.reach(a,[].concat(w(t),[r])):i.schema}},{key:"register",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).key;if(e&&i.isSchema(e)){(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);var r=e._flags.id;if(r){var a=this._byId.get(r);n(!a||a.schema===e,"Cannot add different schemas with the same id:",r),n(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(n(!this._byKey.has(t),"Schema already contains key:",t),n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}}},{key:"reset",value:function(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}},{key:"_collect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[0],a=this._get(i);n(a,"Schema does not contain path",[].concat(w(t),w(e)).join(".")),r=[a].concat(w(r));var o=e.slice(1);return o.length?a.schema._ids._collect(o,[].concat(w(t),[i]),r):r}},{key:"_get",value:function(e){return this._byId.get(e)||this._byKey.get(e)}}]),e}(),o.fork=function(e,r,n){var i=t.schema(e,{each:function(e,t){var i=t.key;if(r===(e._flags.id||i))return n},ref:!1});return i?i.$_mutateRebuild():e},t.schema=function(e,t){var r;for(var n in e._flags)if("_"!==n[0]){var i=o.scan(e._flags[n],{source:"flags",name:n},t);void 0!==i&&((r=r||e.clone())._flags[n]=i)}for(var a=0;a<e._rules.length;++a){var s=e._rules[a],u=o.scan(s.args,{source:"rules",name:s.name},t);if(void 0!==u){r=r||e.clone();var c=Object.assign({},s);c.args=u,r._rules[a]=c,r._singleRules.get(s.name)===s&&r._singleRules.set(s.name,c)}}for(var l in e.$_terms)if("_"!==l[0]){var f=o.scan(e.$_terms[l],{source:"terms",name:l},t);void 0!==f&&((r=r||e.clone()).$_terms[l]=f)}return r},o.scan=function(e,t,r,n,s){var u=n||[];if(null!==e&&"object"==typeof e){var c;if(Array.isArray(e)){for(var f=0;f<e.length;++f){var h="terms"===t.source&&"keys"===t.name&&e[f].key,d=o.scan(e[f],t,r,[f].concat(w(u)),h);void 0!==d&&((c=c||e.slice())[f]=d)}return c}if(!1!==r.schema&&i.isSchema(e)||!1!==r.ref&&a.isRef(e)){var p=r.each(e,l(l({},t),{},{path:u,key:s}));if(p===e)return;return p}for(var v in e)if("_"!==v[0]){var m=o.scan(e[v],t,r,[v].concat(w(u)),s);void 0!==m&&((c=c||Object.assign({},e))[v]=m)}return c}}},6133:function(e,t,r){var n,i=r(375),a=r(8571),o=r(9621),s=r(8160),u={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i("string"==typeof e,"Invalid reference key:",e),s.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),i(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");var r=Object.assign({},u.defaults,t);delete r.prefix;var n=r.separator,a=u.context(e,n,t.prefix);if(r.type=a.type,e=a.key,"value"===r.type)if(a.root&&(i(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)i(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{var o=_(u.ancestor(e,n),2),c=o[0],l=o[1];l&&""===(e=e.slice(l))&&(e=null),r.ancestor=c}return r.path=n?null===e?[]:e.split(n):[e],new u.Ref(r)},t.in=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.create(e,l(l({},r),{},{in:!0}))},t.isRef=function(e){return!!e&&!!e[s.symbols.ref]},u.Ref=function(){function e(t){A(this,e),i("object"==typeof t,"Invalid reference construction"),s.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),i([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),i(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),i(!t.map||Array.isArray(t.map),"options.map must be an array"),i(!t.map||!t.adjust,"Cannot set both map and adjust options"),Object.assign(this,u.defaults,t),i("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}return O(e,[{key:"resolve",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return i(!this.in||a.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,a):"local"===this.type?this._resolve(n,t,a):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,a):(i(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,a)):this._resolve(e,t,a)}},{key:"_resolve",value:function(e,t,r){var n;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=o(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){var i=this.map.get(n);void 0!==i&&(n=i)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}},{key:"toString",value:function(){return this.display}},{key:"absolute",value:function(e){return[].concat(w(e.path.slice(0,-this.ancestor)),w(this.path))}},{key:"clone",value:function(){return new u.Ref(this)}},{key:"describe",value:function(){var e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=w(this.map));for(var t=0,r=["adjust","iterables","render"];t<r.length;t++){var n=r[t];null!==this[n]&&void 0!==this[n]&&(e[n]=this[n])}return!1!==this.in&&(e.in=!0),{ref:e}}},{key:"updateDisplay",value:function(){var e=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var t=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(t).concat(e||"")}else this.display="ref:".concat(e||"..");else this.display="ref:root:".concat(e);else this.display="ref:".concat(this.separator).concat(e);else this.display="ref:".concat(e);else this.display="ref:".concat(this.type,":").concat(e)}}]),e}(),u.Ref.prototype[s.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},u.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new u.Ref(e)},u.context=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e.trim(),r){var n=void 0===r.global?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};var i=void 0===r.local?"#":r.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};var a=void 0===r.root?"/":r.root;if(a!==t&&e.startsWith(a))return{key:e.slice(a.length),type:"value",root:!0}}return{key:e,type:"value"}},u.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];for(var r=2;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=function(){function e(){A(this,e),this.refs=[]}return O(e,[{key:"register",value:function(e,i){if(e)if(i=void 0===i?t.toParent:i,Array.isArray(e)){var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;this.register(u,i)}}catch(h){o.e(h)}finally{o.f()}}else if(s.isSchema(e)){var c,l=k(e._refs.refs);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.ancestor-i>=0&&this.refs.push({ancestor:f.ancestor-i,root:f.root})}}catch(h){l.e(h)}finally{l.f()}}else t.isRef(e)&&"value"===e.type&&e.ancestor-i>=0&&this.refs.push({ancestor:e.ancestor-i,root:e.root}),(n=n||r(3328)).isTemplate(e)&&this.register(e.refs(),i)}},{key:"length",get:function(){return this.refs.length}},{key:"clone",value:function(){var e=new t.Manager;return e.refs=a(this.refs),e}},{key:"reset",value:function(){this.refs=[]}},{key:"roots",value:function(){return this.refs.filter((function(e){return!e.ancestor})).map((function(e){return e.root}))}}]),e}()},3378:function(e,t,r){var n=r(5107),i={};i.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:i.wrap,array:i.wrap,string:i.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]\w*$/,i.rule=n.object({alias:n.array().items(n.string().pattern(i.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(i.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(i.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(i.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(i.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(i.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(i.nameRx,i.rule),terms:n.object().pattern(i.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),i.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},i.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,n.link("/")]),i.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=n.object().pattern(/.+/,[n.string(),i.desc.template,n.object().pattern(/.+/,[n.string(),i.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:i.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),i.desc.ref],wrap:{label:i.wrap,array:i.wrap}},externals:n.boolean(),messages:i.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),i.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:function(e,t,r){var n=r(8571),i=r(9621),a=r(8160),o={value:Symbol("value")};e.exports=o.State=function(){function e(t,r,n){A(this,e),this.path=t,this.ancestors=r,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}return O(e,[{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new o.State(e,t,this);return r&&n.schemas&&(n.schemas=[o.schemas(r)].concat(w(n.schemas))),n}},{key:"nest",value:function(e,t){var r=new o.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[o.schemas(e)].concat(w(r.schemas)),r.debug=t,r}},{key:"shadow",value:function(e,t){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,e,t)}},{key:"snapshot",value:function(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}},{key:"restore",value:function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}}]),e}(),o.schemas=function(e){return a.isSchema(e)?{schema:e}:e},o.Shadow=function(){function e(){A(this,e),this._values=null}return O(e,[{key:"set",value:function(e,t,r){if(e.length&&("strip"!==r||"number"!=typeof e[e.length-1])){this._values=this._values||new Map;for(var n=this._values,i=0;i<e.length;++i){var a=e[i],s=n.get(a);s||(s=new Map,n.set(a,s)),n=s}n[o.value]=t}}},{key:"get",value:function(e){var t=this.node(e);if(t)return t[o.value]}},{key:"node",value:function(e){if(this._values)return i(this._values,e,{iterables:!0})}},{key:"override",value:function(e,t){if(this._values){var r=e.slice(0,-1),n=e[e.length-1],a=i(this._values,r,{iterables:!0});t?a.set(n,t):a&&a.delete(n)}}}]),e}()},3328:function(e,t,r){var n=r(375),i=r(8571),a=r(5277),o=r(1447),s=r(8160),u=r(6354),c=r(6133),f={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=f.Template=function(){function e(t,r){A(this,e),n("string"==typeof t,"Template source must be a string"),n(!t.includes("\0")&&!t.includes(""),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this._template=null,this._settings=i(r),this._parse()}return O(e,[{key:"_parse",value:function(){if(this.source.includes("{")){var e=f.encode(this.source),t=f.split(e),r=!1,n=[],i=t.shift();i&&n.push(i);var a,o=k(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u="{"!==s[0],c=u?"}":"}}",l=s.indexOf(c);if(-1!==l&&"{"!==s[1]){var h=s.slice(u?0:1,l),d=":"===h[0];d&&(h=h.slice(1));var p=this._ref(f.decode(h),{raw:u,wrapped:d});n.push(p),"string"!=typeof p&&(r=!0);var v=s.slice(l+c.length);v&&n.push(f.decode(v))}else n.push("{".concat(f.decode(s)))}}catch(m){o.e(m)}finally{o.f()}r?this._template=n:this.rendered=n.join("")}}},{key:"describe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._settings&&e.compact)return this.source;var t={template:this.source};return this._settings&&(t.options=this._settings),t}},{key:"isDynamic",value:function(){return!!this._template}},{key:"refs",value:function(){if(this._template){var e,t=[],r=k(this._template);try{for(r.s();!(e=r.n()).done;){var n=e.value;"string"!=typeof n&&t.push.apply(t,w(n.refs))}}catch(i){r.e(i)}finally{r.f()}return t}}},{key:"resolve",value:function(e,t,r,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}},{key:"_part",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.ref?(t=e.ref).resolve.apply(t,n):e.formula.evaluate(n)}},{key:"render",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.isDynamic())return this.rendered;var o,s=[],u=k(this._template);try{for(u.s();!(o=u.n()).done;){var c=o.value;if("string"==typeof c)s.push(c);else{var l=this._part(c,e,t,r,n,i),h=f.stringify(l,e,t,r,n,i);if(void 0!==h){var d=c.raw||!1===(i.errors&&i.errors.escapeHtml)?h:a(h);s.push(f.wrap(d,c.wrapped&&r.errors.wrap.label))}}}}catch(p){u.e(p)}finally{u.f()}return s.join("")}},{key:"_ref",value:function(e,t){var r=this,n=t.raw,i=t.wrapped,a=[],s=function(e){var t=c.create(e,r._settings);return a.push(t),function(e){return t.resolve.apply(t,w(e))}};try{var u=new o.Parser(e,{reference:s,functions:f.functions,constants:f.constants})}catch(t){throw t.message='Invalid template variable "'.concat(e,'" fails due to: ').concat(t.message),t}if(u.single){if("reference"===u.single.type){var l=a[0];return{ref:l,raw:n,refs:a,wrapped:i||"local"===l.type&&"label"===l.key}}return f.stringify(u.single.value)}return{formula:u,raw:n,refs:a}}},{key:"toString",value:function(){return this.source}}],[{key:"date",value:function(e,t){return f.dateFormat[t.dateFormat].call(e)}},{key:"build",value:function(e){return new f.Template(e.template,e.options)}},{key:"isTemplate",value:function(e){return!!e&&!!e[s.symbols.template]}}]),e}(),f.Template.prototype[s.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(e){return e.replace(/\\(\{+)/g,(function(e,t){return f.opens.slice(0,t.length)})).replace(/\\(\}+)/g,(function(e,t){return f.closes.slice(0,t.length)}))},f.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(e){for(var t=[],r="",n=0;n<e.length;++n){var i=e[n];if("{"===i){for(var a="";n+1<e.length&&"{"===e[n+1];)a+="{",++n;t.push(r),r=a}else r+=i}return t.push(r),t},f.wrap=function(e,t){return t?1===t.length?"".concat(t).concat(e).concat(t):"".concat(t[0]).concat(e).concat(t[1]):e},f.stringify=function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=typeof e,s=n&&n.errors&&n.errors.wrap||{},u=!1;if(c.isRef(e)&&e.render&&(u=e.in,e=e.resolve(t,r,n,i,l({in:e.in},a))),null===e)return"null";if("string"===o)return f.wrap(e,a.arrayItems&&s.string);if("number"===o||"function"===o||"symbol"===o)return e.toString();if("object"!==o)return JSON.stringify(e);if(e instanceof Date)return f.Template.date(e,n);if(e instanceof Map){var h,d=[],p=k(e.entries());try{for(p.s();!(h=p.n()).done;){var v=_(h.value,2),m=v[0],g=v[1];d.push("".concat(m.toString()," -> ").concat(g.toString()))}}catch(E){p.e(E)}finally{p.f()}e=d}if(!Array.isArray(e))return e.toString();var y,b=[],w=k(e);try{for(w.s();!(y=w.n()).done;){var x=y.value;b.push(f.stringify(x,t,r,n,i,l({arrayItems:!0},a)))}}catch(E){w.e(E)}finally{w.f()}return f.wrap(b.join(", "),!u&&s.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(e,t,r){return e?t:r},length:function(e){return"string"==typeof e?e.length:e&&"object"==typeof e?Array.isArray(e)?e.length:Object.keys(e).length:null},msg:function(e){var t=_(this,5),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=o.messages;if(!s)return"";var c=u.template(r,s[0],e,n,i)||u.template(r,s[1],e,n,i);return c?c.render(r,n,i,a,o):""},number:function(e){return"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}}},4946:function(e,t,r){var n=r(375),i=r(1687),a=r(8068),o=r(8160),s=r(3292),u=r(6354),c=r(6133),l={};e.exports=a.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:c.toSibling}},args:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 1===r.length&&Array.isArray(r[0])?e.try.apply(e,w(r[0])):e.try.apply(e,r)},validate:function(e,t){var r=t.schema,n=t.error,a=t.state,o=t.prefs;if(r._flags.match){for(var s=[],c=[],f=0;f<r.$_terms.matches.length;++f){var h=r.$_terms.matches[f],d=a.nest(h.schema,"match.".concat(f));d.snapshot();var p=h.schema.$_validate(e,d,o);p.errors?(c.push(p.errors),d.restore()):s.push(p.value)}if(0===s.length)return{errors:n("alternatives.any",{details:c.map((function(e){return u.details(e,{override:!1})}))})};if("one"===r._flags.match)return 1===s.length?{value:s[0]}:{errors:n("alternatives.one")};if(s.length!==r.$_terms.matches.length)return{errors:n("alternatives.all",{details:c.map((function(e){return u.details(e,{override:!1})}))})};var v=function e(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&e(t.schema)}))};return v(r)?{value:s.reduce((function(e,t){return i(e,t,{mergeArrays:!1})}))}:{value:s[s.length-1]}}for(var m=[],g=0;g<r.$_terms.matches.length;++g){var y=r.$_terms.matches[g];if(y.schema){var b=a.nest(y.schema,"match.".concat(g));b.snapshot();var w=y.schema.$_validate(e,b,o);if(!w.errors)return w;b.restore(),m.push({schema:y.schema,reports:w.errors})}else for(var _=y.ref?y.ref.resolve(e,a,o):e,k=y.is?[y]:y.switch,x=0;x<k.length;++x){var E=k[x],A=E.is,S=E.then,O=E.otherwise,I="match.".concat(g).concat(y.switch?"."+x:"");if(A.$_match(_,a.nest(A,"".concat(I,".is")),o)){if(S)return S.$_validate(e,a.nest(S,"".concat(I,".then")),o)}else if(O)return O.$_validate(e,a.nest(O,"".concat(I,".otherwise")),o)}}return l.errors(m,t)},rules:{conditional:{method:function(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");var r,i=this.clone(),a=s.when(i,e,t),o=k(a.is?[a]:a.switch);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(u.then&&u.otherwise){i.$_setFlag("_endedSwitch",!0,{clone:!1});break}}}catch(c){o.e(c)}finally{o.f()}return i.$_terms.matches.push(a),i.$_mutateRebuild()}},match:{method:function(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e){var t,r=k(this.$_terms.matches);try{for(r.s();!(t=r.n()).done;){var i=t.value;n(i.schema,"Cannot combine match mode",e,"with conditional rules")}}catch(a){r.e(a)}finally{r.f()}}return this.$_setFlag("match",e)}},try:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing alternative schemas"),o.verifyFlat(t,"try"),n(!this._flags._endedSwitch,"Unreachable condition");for(var i=this.clone(),a=0,s=t;a<s.length;a++){var u=s[a];i.$_terms.matches.push({schema:i.$_compile(u)})}return i.$_mutateRebuild()}}},overrides:{label:function(e){return this.$_parent("label",e).$_modify({each:function(t,r){return"is"!==r.path[0]?t.label(e):void 0},ref:!1})}},rebuild:function(e){e.$_modify({each:function(t){o.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build:function(e,t){if(t.matches){var r,n=k(t.matches);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.ref,s=i.is,u=i.not,c=i.then,l=i.otherwise;e=a?e.try(a):o?e.conditional(o,{is:s,then:c,not:u,otherwise:l,switch:i.switch}):e.conditional(s,{then:c,otherwise:l})}}catch(f){n.e(f)}finally{n.f()}}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),l.errors=function(e,t){var r=t.error,n=t.state;if(!e.length)return{errors:r("alternatives.any")};if(1===e.length)return{errors:e[0].reports};var i,a=new Set,o=[],s=k(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,f=c.reports,h=c.schema;if(f.length>1)return l.unmatched(e,r);var d=f[0];if(d instanceof u.Report==0)return l.unmatched(e,r);if(d.state.path.length===n.path.length)if("any.only"!==d.code){var p=_(d.code.split("."),2),v=p[0];"base"===p[1]?a.add(v):o.push({type:h.type,report:d})}else{var m,g=k(d.local.valids);try{for(g.s();!(m=g.n()).done;){var y=m.value;a.add(y)}}catch(b){g.e(b)}finally{g.f()}}else o.push({type:h.type,report:d})}}catch(b){s.e(b)}finally{s.f()}return o.length?1===o.length?{errors:o[0].report}:l.unmatched(e,r):{errors:r("alternatives.types",{types:w(a)})}},l.unmatched=function(e,t){var r,n=[],i=k(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push.apply(n,w(a.reports))}}catch(o){i.e(o)}finally{i.f()}return{errors:t("alternatives.match",u.details(n,{override:!1}))}}},8068:function(e,t,r){var n=r(375),i=r(7629),a=r(8160),o=r(6914);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate:function(e,t,r){var n=r.method;try{return n(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method:function(e){return this.prefs({messages:e})}},shared:{method:function(e){n(a.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");var t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method:function(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:function(e,t,r){var n=r.code,i=r.local;return t.error(n,i)},args:["code","local"],multi:!0}},modifiers:{keep:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.keep=t},message:function(e,t){e.message=o.compile(t)},warn:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.warn=t}},manifest:{build:function(e,t){for(var r in t){var n=t[r];if(["examples","externals","metas","notes","tags"].includes(r)){var i,a=k(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;e=e[r.slice(0,-1)](o)}}catch(S){a.e(S)}finally{a.f()}}else if("alterations"!==r)if("whens"!==r){if("shared"===r){var s,u=k(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;e=e.shared(c)}}catch(S){u.e(S)}finally{u.f()}}}else{var l,f=k(n);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.ref,p=h.is,v=h.not,m=h.then,g=h.otherwise,y=h.concat;e=y?e.concat(y):d?e.when(d,{is:p,not:v,then:m,otherwise:g,switch:h.switch,break:h.break}):e.when(p,{then:m,otherwise:g,break:h.break})}}catch(S){f.e(S)}finally{f.f()}}else{var b,w={},_=k(n);try{for(_.s();!(b=_.n()).done;){var x=b.value,E=x.target,A=x.adjuster;w[E]=A}}catch(S){_.e(S)}finally{_.f()}e=e.alter(w)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(e,t,r){var n=r(375),i=r(9474),a=r(9621),o=r(8068),s=r(8160),u=r(3292),c={};e.exports=o.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs;if(Array.isArray(e)){var a=r.$_getRule("sort");return a?c.sort(r,e,a.args.options,n,i):void 0}}},validate:function(e,t){var r=t.schema,n=t.error;if(!Array.isArray(e)){if(r._flags.single){var i=[e];return i[s.symbols.arraySingle]=!0,{value:i}}return{errors:n("array.base")}}if(r.$_getRule("items")||r.$_terms.externals)return{value:e.slice()}},rules:{has:{method:function(e){e=this.$_compile(e,{appendPath:!0});var t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate:function(e,t,r){for(var n=t.state,i=t.prefs,a=t.error,o=r.schema,s=[e].concat(w(n.ancestors)),u=0;u<e.length;++u){var c=n.localize([].concat(w(n.path),[u]),s,o);if(o.$_match(e[u],c,i))return e}var l=o._flags.label;return l?a("array.hasKnown",{patternLabel:l}):a("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"items");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});i.$_terms.items.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs,o=t.errorsArray,u=r.$_terms._requireds.slice(),l=r.$_terms.ordered.slice(),f=[].concat(w(r.$_terms._inclusions),w(u)),h=!e[s.symbols.arraySingle];delete e[s.symbols.arraySingle];for(var d=o(),p=e.length,v=0;v<p;++v){var m=e[v],g=!1,y=!1,b=h?v:new Number(v),_=[].concat(w(i.path),[b]);if(r._flags.sparse||void 0!==m){var x,E=[e].concat(w(i.ancestors)),A=k(r.$_terms._exclusions);try{for(A.s();!(x=A.n()).done;){var S=x.value;if(S.$_match(m,i.localize(_,E,S),a,{presence:"ignore"})){if(d.push(n("array.excludes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d;g=!0,l.shift();break}}}catch(B){A.e(B)}finally{A.f()}if(!g){if(r.$_terms.ordered.length){if(l.length){var O=l.shift(),I=O.$_validate(m,i.localize(_,E,O),a);if(I.errors){if(d.push.apply(d,w(I.errors)),a.abortEarly)return d}else if("strip"===O._flags.result)c.fastSplice(e,v),--v,--p;else{if(!r._flags.sparse&&void 0===I.value){if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;continue}e[v]=I.value}continue}if(!r.$_terms.items.length){if(d.push(n("array.orderedLength",{pos:v,limit:r.$_terms.ordered.length})),a.abortEarly)return d;break}}for(var R=[],C=u.length,N=0;N<C;++N){var P=i.localize(_,E,u[N]);P.snapshot();var M=u[N].$_validate(m,P,a);if(R[N]=M,!M.errors){if(e[v]=M.value,y=!0,c.fastSplice(u,N),--N,--C,!r._flags.sparse&&void 0===M.value&&(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly))return d;break}P.restore()}if(!y){var j=a.stripUnknown&&!!a.stripUnknown.arrays||!1;C=f.length;var T,L=k(f);try{for(L.s();!(T=L.n()).done;){var $=T.value,D=void 0,U=u.indexOf($);if(-1!==U)D=R[U];else{var F=i.localize(_,E,$);if(F.snapshot(),!(D=$.$_validate(m,F,a)).errors){"strip"===$._flags.result?(c.fastSplice(e,v),--v,--p):r._flags.sparse||void 0!==D.value?e[v]=D.value:(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),g=!0),y=!0;break}F.restore()}if(1===C){if(j){c.fastSplice(e,v),--v,--p,y=!0;break}if(d.push.apply(d,w(D.errors)),a.abortEarly)return d;g=!0;break}}}catch(B){L.e(B)}finally{L.f()}if(!g&&(r.$_terms._inclusions.length||r.$_terms._requireds.length)&&!y){if(j){c.fastSplice(e,v),--v,--p;continue}if(d.push(n("array.includes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d}}}}else{if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;l.shift()}}return u.length&&c.fillMissedErrors(r,d,u,e,i,a),l.length&&(c.fillOrderedErrors(r,d,l,e,i,a),d.length||c.fillDefault(l,e,i,a)),d.length?d:e},priority:!0,manifest:!1},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,u=n.args;return s.compare(e.length,i,o)?e:t.error("array."+a,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:s.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"ordered");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});c.validateSingle(n,i),i.$_mutateRegister(n),i.$_terms.ordered.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()}},single:{method:function(e){var t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assertOptions(e,["by","order"]);var t={order:e.order||"ascending"};return e.by&&(t.by=u.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate:function(e,t,r){var n=t.error,i=t.state,a=t.prefs,o=t.schema,s=r.options,u=c.sort(o,e,s,i,a),l=u.value,f=u.errors;if(f)return f;for(var h=0;h<e.length;++h)if(e[h]!==l[h])return n("array.sort",{order:s.order,by:s.by?s.by.key:"value"});return e},convert:!0},sparse:{method:function(e){var t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),s.assertOptions(t,["ignoreUndefined","separator"]);var r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){var i=s.default(t.separator,".");r.path=i?e.split(i):[e]}else r.comparator=e;return this.$_addRule(r)},validate:function(e,t,r,o){for(var s=t.state,u=t.error,c=(t.schema,r.comparator),l=r.options,f=o.comparator,h=o.path,d={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},p=f||i,v=l.ignoreUndefined,m=0;m<e.length;++m){var g=h?a(e[m],h):e[m],y=f?d.custom:d[typeof g];if(n(y,"Failed to find unique map container for type",typeof g),y instanceof Map){for(var b=y.entries(),_=void 0;!(_=b.next()).done;)if(p(_.value[0],g)){var k=s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))),x={pos:m,value:e[m],dupePos:_.value[1],dupeValue:e[_.value[1]]};return h&&(x.path=c),u("array.unique",x,k)}y.set(g,m)}else{if((!v||void 0!==g)&&void 0!==y[g]){var E={pos:m,value:e[m],dupePos:y[g],dupeValue:e[y[g]]};return h&&(E.path=c),u("array.unique",E,s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))))}y[g]=m}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(e,t){return new Set(e)}}},rebuild:function(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];var t,r=k(e.$_terms.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;c.validateSingle(n,e),"required"===n._flags.presence?e.$_terms._requireds.push(n):"forbidden"===n._flags.presence?e.$_terms._exclusions.push(n):e.$_terms._inclusions.push(n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(e.$_terms.ordered);try{for(a.s();!(i=a.n()).done;){var o=i.value;c.validateSingle(o,e)}}catch(s){a.e(s)}finally{a.f()}},manifest:{build:function(e,t){var r,n;return t.items&&(e=(r=e).items.apply(r,w(t.items))),t.ordered&&(e=(n=e).ordered.apply(n,w(t.ordered))),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),c.fillMissedErrors=function(e,t,r,n,i,a){var o,s=[],u=0,c=k(r);try{for(c.s();!(o=c.n()).done;){var l=o.value._flags.label;l?s.push(l):++u}}catch(f){c.e(f)}finally{c.f()}s.length?u?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:s,unknownMisses:u},i,a)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:s},i,a)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:u},i,a))},c.fillOrderedErrors=function(e,t,r,n,i,a){var o,s=[],u=k(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;"required"===l._flags.presence&&s.push(l)}}catch(f){u.e(f)}finally{u.f()}s.length&&c.fillMissedErrors(e,t,s,n,i,a)},c.fillDefault=function(e,t,r,n){for(var i=[],a=!0,o=e.length-1;o>=0;--o){var s=e[o],u=[t].concat(w(r.ancestors)),c=s.$_validate(void 0,r.localize(r.path,u,s),n).value;if(a){if(void 0===c)continue;a=!1}i.unshift(c)}i.length&&t.push.apply(t,i)},c.fastSplice=function(e,t){for(var r=t;r<e.length;)e[r++]=e[r];--e.length},c.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},c.sort=function(e,t,r,n,i){var a="ascending"===r.order?1:-1,o=-1*a,s=a,u=function(u,l){var f=c.compare(u,l,o,s);if(null!==f)return f;if(r.by&&(u=r.by.resolve(u,n,i),l=r.by.resolve(l,n,i)),null!==(f=c.compare(u,l,o,s)))return f;var h=typeof u;if(h!==typeof l)throw e.$_createError("array.sort.mismatching",t,null,n,i);if("number"!==h&&"string"!==h)throw e.$_createError("array.sort.unsupported",t,{type:h},n,i);return"number"===h?(u-l)*a:u<l?o:s};try{return{value:t.slice().sort(u)}}catch(e){return{errors:e}}},c.compare=function(e,t,r,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?r:null}},4937:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(2036),s={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(e,t){var r=t.schema;if("boolean"!=typeof e){if("string"==typeof e){var n=r._flags.sensitive?e:e.toLowerCase();e="true"===n||"false"!==n&&e}return"boolean"!=typeof e&&(e=r.$_terms.truthy&&r.$_terms.truthy.has(e,null,null,!r._flags.sensitive)||(!r.$_terms.falsy||!r.$_terms.falsy.has(e,null,null,!r._flags.sensitive))&&e),{value:e}}},validate:function(e,t){var r=t.error;if("boolean"!=typeof e)return{value:e,errors:r("boolean.base")}},rules:{truthy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"truthy");var i=this.clone();i.$_terms.truthy=i.$_terms.truthy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call truthy with undefined"),i.$_terms.truthy.add(u)}return i}},falsy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"falsy");var i=this.clone();i.$_terms.falsy=i.$_terms.falsy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call falsy with undefined"),i.$_terms.falsy.add(u)}return i}},sensitive:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("sensitive",e)}}},cast:{number:{from:s.isBool,to:function(e,t){return e?1:0}},string:{from:s.isBool,to:function(e,t){return e?"true":"false"}}},manifest:{build:function(e,t){var r,n;return t.truthy&&(e=(r=e).truthy.apply(r,w(t.truthy))),t.falsy&&(e=(n=e).falsy.apply(n,w(t.falsy))),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3328),s={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:function(e,t){var r=t.schema;return{value:s.parse(e,r._flags.format)||e}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(!(e instanceof Date)||isNaN(e.getTime())){var a=r._flags.format;return i.convert&&a&&"string"==typeof e?{value:e,errors:n("date.format",{format:a})}:{value:e,errors:n("date.base")}}},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.date,o=n.name,s=n.operator,u=n.args,c="now"===i?Date.now():i.getTime();return a.compare(e.getTime(),c,s)?e:t.error("date."+o,{limit:u.date,value:e})},args:[{name:"date",ref:!0,normalize:function(e){return"now"===e?e:s.parse(e)},assert:function(e){return null!==e},message:"must have a valid date format"}]},format:{method:function(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:s.isDate,to:function(e,t){return e.getTime()}},string:{from:s.isDate,to:function(e,t){var r=t.prefs;return o.date(e,r)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),s.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return a.isIsoDate(e)?s.date(e.toString()):null;var r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return s.date(1*e);if("unix"===t)return s.date(1e3*e);if("string"==typeof r)return null}return s.date(e)},s.date=function(e){var t=new Date(e);return isNaN(t.getTime())?null:t}},390:function(e,t,r){var n=r(375),i=r(7824);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length===n?e:t.error("function.arity",{n:n})}},class:{method:function(){return this.$_addRule("class")},validate:function(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length>=n?e:t.error("function.minArity",{n:n})}},maxArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length<=n?e:t.error("function.maxArity",{n:n})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(e,t,r){var n=r(978),i=r(375),a=r(8571),o=r(3652),s=r(8068),u=r(8160),c=r(3292),d=r(6354),m=r(6133),g=r(3328),y={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=s.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(e,t){return e.keys(t)},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs;if(!e||typeof e!==r.$_property("typeof")||Array.isArray(e))return{value:e,errors:n("object.base",{type:r.$_property("typeof")})};if(r.$_terms.renames||r.$_terms.dependencies||r.$_terms.keys||r.$_terms.patterns||r.$_terms.externals){e=y.clone(e,a);var o=[];if(r.$_terms.renames&&!y.rename(r,e,i,a,o))return{value:e,errors:o};if(!r.$_terms.keys&&!r.$_terms.patterns&&!r.$_terms.dependencies)return{value:e,errors:o};var s=new Set(Object.keys(e));if(r.$_terms.keys){var u,c=[e].concat(w(i.ancestors)),l=k(r.$_terms.keys);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f.key,d=e[h];s.delete(h);var p=i.localize([].concat(w(i.path),[h]),c,f),v=f.schema.$_validate(d,p,a);if(v.errors){if(a.abortEarly)return{value:e,errors:v.errors};void 0!==v.value&&(e[h]=v.value),o.push.apply(o,w(v.errors))}else"strip"===f.schema._flags.result||void 0===v.value&&void 0!==d?delete e[h]:void 0!==v.value&&(e[h]=v.value)}}catch(A){l.e(A)}finally{l.f()}}if(s.size||r._flags._hasPatternMatch){var m=y.unknown(r,e,s,o,i,a);if(m)return m}if(r.$_terms.dependencies){var g,b=k(r.$_terms.dependencies);try{for(b.s();!(g=b.n()).done;){var _=g.value;if(null===_.key||!1!==y.isPresent(_.options)(_.key.resolve(e,i,a,null,{shadow:!1}))){var x=y.dependencies[_.rel](r,_,e,i,a);if(x){var E=r.$_createError(x.code,e,x.context,i,a);if(a.abortEarly)return{value:e,errors:E};o.push(E)}}}}catch(A){b.e(A)}finally{b.f()}}return{value:e,errors:o}}},rules:{and:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"and"),y.dependency(this,"and",null,t)}},append:{method:function(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method:function(e,t,r){g.isTemplate(e)||(e=c.ref(e)),i(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate:function(e,t,r){var n=t.error,i=t.prefs,a=t.state,o=r.subject,s=r.schema,u=r.message,c=o.resolve(e,a,i),l=m.isRef(o)?o.absolute(a):[];return s.$_match(c,a.localize(l,[e].concat(w(a.ancestors)),s),i)?e:n("object.assert",{subject:o,message:u})},args:["subject","schema","message"],multi:!0},instance:{method:function(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:function(e,t,r){var n=r.constructor,i=r.name;return e instanceof n?e:t.error("object.instance",{type:i,value:e})},args:["constructor","name"]},keys:{method:function(e){var t=this;i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!u.isSchema(e),"Object schema cannot be a joi schema");var r=this.clone();if(e)if(Object.keys(e).length){r.$_terms.keys=r.$_terms.keys?r.$_terms.keys.filter((function(t){return!e.hasOwnProperty(t.key)})):new y.Keys;var n=function(n){u.tryWithPath((function(){return r.$_terms.keys.push({key:n,schema:t.$_compile(e[n])})}),n)};for(var a in e)n(a)}else r.$_terms.keys=new y.Keys;else r.$_terms.keys=null;return r.$_mutateRebuild()}},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,s=n.args;return u.compare(Object.keys(e).length,i,o)?e:t.error("object."+a,{limit:s.limit,value:e})},args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"nand"),y.dependency(this,"nand",null,t)}},or:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"or"),y.dependency(this,"or",null,t)}},oxor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.dependency(this,"oxor",null,t)}},pattern:{method:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e instanceof RegExp;a||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),u.assertOptions(n,["fallthrough","matches"]),a&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});var o=this.clone();o.$_terms.patterns=o.$_terms.patterns||[];var s=(b(r={},a?"regex":"schema",e),b(r,"rule",t),r);return n.matches&&(s.matches=this.$_compile(n.matches),"array"!==s.matches.type&&(s.matches=s.matches.$_root.array().items(s.matches)),o.$_mutateRegister(s.matches),o.$_setFlag("_hasPatternMatch",!0,{clone:!1})),n.fallthrough&&(s.fallthrough=!0),o.$_terms.patterns.push(s),o.$_mutateRegister(t),o}},ref:{method:function(){return this.$_addRule("ref")},validate:function(e,t){return m.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof g,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),u.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);var a=this.clone();a.$_terms.renames=a.$_terms.renames||[];var o,s=k(a.$_terms.renames);try{for(s.s();!(o=s.n()).done;){var c=o.value;i(c.from!==e,"Cannot rename the same key multiple times")}}catch(l){s.e(l)}finally{s.f()}return t instanceof g&&a.$_mutateRegister(t),a.$_terms.renames.push({from:e,to:t,options:n(y.renameDefaults,r)}),a}},schema:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:e}})},validate:function(e,t,r){var n=r.type;return!u.isSchema(e)||"any"!==n&&e.type!==n?t.error("object.schema",{type:n}):e}},unknown:{method:function(e){return this.$_setFlag("unknown",!1!==e)}},with:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"with",e,t,r)}},without:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"without",e,t,r)}},xor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"xor"),y.dependency(this,"xor",null,t)}}},overrides:{default:function(e,t){return void 0===e&&(e=u.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild:function(e){if(e.$_terms.keys){var t,r=new o.Sorter,n=k(e.$_terms.keys);try{var i=function(){var e=t.value;u.tryWithPath((function(){return r.add(e,{after:e.schema.$_rootReferences(),group:e.key})}),e.key)};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}e.$_terms.keys=v(y.Keys,w(r.nodes))}},manifest:{build:function(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies){var r,n=k(t.dependencies);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.rel,o=i.key,s=void 0===o?null:o,u=i.peers,c=i.options;e=y.dependency(e,a,s,u,c)}}catch(S){n.e(S)}finally{n.f()}}if(t.patterns){var l,f=k(t.patterns);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.regex,p=h.schema,v=h.rule,m=h.fallthrough,g=h.matches;e=e.pattern(d||p,v,{fallthrough:m,matches:g})}}catch(S){f.e(S)}finally{f.f()}}if(t.renames){var b,w=k(t.renames);try{for(w.s();!(b=w.n()).done;){var _=b.value,x=_.from,E=_.to,A=_.options;e=e.rename(x,E,A)}}catch(S){w.e(S)}finally{w.f()}}return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),y.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return a(e,{shallow:!0});var r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}var n=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)};return n.prototype=a(e.prototype),Object.defineProperty(n,"name",{value:e.name,writable:!1}),Object.defineProperty(n,"length",{value:e.length,writable:!1}),Object.assign(n,e),n},y.dependency=function(e,t,r,n,a){i(null===r||"string"==typeof r,t,"key must be a strings"),a||(a=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),u.assertOptions(a,["separator","isPresent"]),n=[].concat(n);var o,s=u.default(a.separator,"."),l=[],f=k(n);try{for(f.s();!(o=f.n()).done;){var h=o.value;i("string"==typeof h,t,"peers must be strings"),l.push(c.ref(h,{separator:s,ancestor:0,prefix:!1}))}}catch(p){f.e(p)}finally{f.f()}null!==r&&(r=c.ref(r,{separator:s,ancestor:0,prefix:!1}));var d=e.clone();return d.$_terms.dependencies=d.$_terms.dependencies||[],d.$_terms.dependencies.push(new y.Dependency(t,r,l,n,a)),d},y.dependencies={and:function(e,t,r,n,i){var a,o=[],s=[],u=t.peers.length,c=y.isPresent(t.options),l=k(t.peers);try{for(l.s();!(a=l.n()).done;){var f=a.value;!1===c(f.resolve(r,n,i,null,{shadow:!1}))?o.push(f.key):s.push(f.key)}}catch(h){l.e(h)}finally{l.f()}if(o.length!==u&&s.length!==u)return{code:"object.and",context:{present:s,presentWithLabels:y.keysToLabels(e,s),missing:o,missingWithLabels:y.keysToLabels(e,o)}}},nand:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(h){u.e(h)}finally{u.f()}if(o.length===t.peers.length){var l=t.paths[0],f=t.paths.slice(1);return{code:"object.nand",context:{main:l,mainWithLabel:y.keysToLabels(e,l),peers:f,peersWithLabels:y.keysToLabels(e,f)}}}},or:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;)if(o(a.value.resolve(r,n,i,null,{shadow:!1})))return}catch(u){s.e(u)}finally{s.f()}return{code:"object.missing",context:{peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)}}},oxor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(o.length&&1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.oxor",context:l}}},with:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(!1===o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.with",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},without:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},xor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return 0===o.length?{code:"object.missing",context:l}:(l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.xor",context:l})}}},y.keysToLabels=function(e,t){return Array.isArray(t)?t.map((function(t){return e.$_mapLabels(t)})):e.$_mapLabels(t)},y.isPresent=function(e){return"function"==typeof e.isPresent?e.isPresent:function(e){return void 0!==e}},y.rename=function(e,t,r,n,i){var a,o={},s=k(e.$_terms.renames);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=[],l="string"!=typeof u.from;if(l){for(var f in t)if((void 0!==t[f]||!u.options.ignoreUndefined)&&f!==u.to){var h=u.from.exec(f);h&&c.push({from:f,to:u.to,match:h})}}else!Object.prototype.hasOwnProperty.call(t,u.from)||void 0===t[u.from]&&u.options.ignoreUndefined||c.push(u);for(var d=0,p=c;d<p.length;d++){var v=p[d],m=v.from,y=v.to;if(y instanceof g&&(y=y.render(t,r,n,v.match)),m!==y){if(!u.options.multiple&&o[y]&&(i.push(e.$_createError("object.rename.multiple",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,y)&&!u.options.override&&!o[y]&&(i.push(e.$_createError("object.rename.override",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;void 0===t[m]?delete t[y]:t[y]=t[m],o[y]=!0,u.options.alias||delete t[m]}}}}catch(b){s.e(b)}finally{s.f()}return!0},y.unknown=function(e,t,r,n,i,a){if(e.$_terms.patterns){var o,s=!1,c=e.$_terms.patterns.map((function(e){if(e.matches)return s=!0,[]})),l=[t].concat(w(i.ancestors)),f=k(r);try{for(f.s();!(o=f.n()).done;)for(var h=o.value,p=t[h],v=[].concat(w(i.path),[h]),m=0;m<e.$_terms.patterns.length;++m){var g=e.$_terms.patterns[m];if(g.regex){var y=g.regex.test(h);if(i.mainstay.tracer.debug(i,"rule","pattern.".concat(m),y?"pass":"error"),!y)continue}else if(!g.schema.$_match(h,i.nest(g.schema,"pattern.".concat(m)),a))continue;r.delete(h);var b=i.localize(v,l,{schema:g.rule,key:h}),_=g.rule.$_validate(p,b,a);if(_.errors){if(a.abortEarly)return{value:t,errors:_.errors};n.push.apply(n,w(_.errors))}if(g.matches&&c[m].push(h),t[h]=_.value,!g.fallthrough)break}}catch(U){f.e(U)}finally{f.f()}if(s)for(var x=0;x<c.length;++x){var E=c[x];if(E){var A=e.$_terms.patterns[x].matches,S=i.localize(i.path,l,A),O=A.$_validate(E,S,a);if(O.errors){var I=d.details(O.errors,{override:!1});I.matches=E;var R=e.$_createError("object.pattern.match",t,I,i,a);if(a.abortEarly)return{value:t,errors:R};n.push(R)}}}}if(r.size&&(e.$_terms.keys||e.$_terms.patterns)){if(a.stripUnknown&&!e._flags.unknown||a.skipFunctions){var C,N=!(!a.stripUnknown||!0!==a.stripUnknown&&!a.stripUnknown.objects),P=k(r);try{for(P.s();!(C=P.n()).done;){var M=C.value;N?(delete t[M],r.delete(M)):"function"==typeof t[M]&&r.delete(M)}}catch(U){P.e(U)}finally{P.f()}}if(!u.default(e._flags.unknown,a.allowUnknown)){var j,T=k(r);try{for(T.s();!(j=T.n()).done;){var L=j.value,$=i.localize([].concat(w(i.path),[L]),[]),D=e.$_createError("object.unknown",t[L],{child:L},$,a,{flags:!1});if(a.abortEarly)return{value:t,errors:D};n.push(D)}}catch(U){T.e(U)}finally{T.f()}}}},y.Dependency=function(){function e(t,r,n,i,a){A(this,e),this.rel=t,this.key=r,this.peers=n,this.paths=i,this.options=a}return O(e,[{key:"describe",value:function(){var e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options=l(l({},e.options),{},{separator:this.peers[0].separator})),this.options.isPresent&&(e.options=l(l({},e.options),{},{isPresent:this.options.isPresent})),e}}]),e}(),y.Keys=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"concat",value:function(e){for(var t=this.slice(),r=new Map,n=0;n<t.length;++n)r.set(t[n].key,n);var i,a=k(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.key,u=r.get(s);void 0!==u?t[u]={key:s,schema:t[u].schema.concat(o.schema)}:t.push(o)}}catch(c){a.e(c)}finally{a.f()}return t}}]),r}(p(Array))},8785:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3292),s=r(6354),u={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(e,t){return e.ref(t)},validate:function(e,t){var r=t.schema,i=t.state,a=t.prefs;n(r.$_terms.link,"Uninitialized link schema");var o=u.generate(r,e,i,a),s=r.$_terms.link[0].ref;return o.$_validate(e,i.nest(o,"link:".concat(s.display,":").concat(o.type)),a)},generate:function(e,t,r,n){return u.generate(e,t,r,n)},rules:{ref:{method:function(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=o.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");var t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("relative",e)}}},overrides:{concat:function(e){n(this.$_terms.link,"Uninitialized link schema"),n(a.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");var t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:function(e,t){return n(t.link,"Invalid link description missing link"),e.ref(t.link)}}}),u.generate=function(e,t,r,n){var i=r.mainstay.links.get(e);if(i)return i._generate(t,r,n).schema;var a=e.$_terms.link[0].ref,o=u.perspective(a,r),s=o.perspective,c=o.path;u.assert(s,"which is outside of schema boundaries",a,e,r,n);try{i=c.length?s.$_reach(c):s}catch(t){u.assert(!1,"to non-existing schema",a,e,r,n)}return u.assert("link"!==i.type,"which is another link",a,e,r,n),e._flags.relative||r.mainstay.links.set(e,i),i._generate(t,r,n).schema},u.perspective=function(e,t){if("local"===e.type){var r,n=k(t.schemas);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.key;if((a._flags.id||o)===e.path[0])return{perspective:a,path:e.path.slice(1)};if(a.$_terms.shared){var s,u=k(a.$_terms.shared);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c._flags.id===e.path[0])return{perspective:c,path:e.path.slice(1)}}}catch(l){u.e(l)}finally{u.f()}}}}catch(l){n.e(l)}finally{n.f()}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},u.assert=function(e,t,r,i,a,o){e||n(!1,'"'.concat(s.label(i._flags,a,o),'" contains link reference "').concat(r.display,'" ').concat(t))}},3832:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.error;if(e.match(o.numberRx)){e=e.trim();var i={value:parseFloat(e)};if(0===i.value&&(i.value=0),!r._flags.unsafe)if(e.match(/e/i)){if(o.extractSignificantDigits(e)!==o.extractSignificantDigits(String(i.value)))return i.errors=n("number.unsafe"),i}else{var a=i.value.toString();if(a.match(/e/i))return i;if(a!==o.normalizeDecimal(e))return i.errors=n("number.unsafe"),i}return i}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(e===1/0||e===-1/0)return{value:e,errors:n("number.infinity")};if(!a.isNumber(e))return{value:e,errors:n("number.base")};var o={value:e};if(i.convert){var s=r.$_getRule("precision");if(s){var u=Math.pow(10,s.args.limit);o.value=Math.round(o.value*u)/u}}return 0===o.value&&(o.value=0),!r._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(o.errors=n("number.unsafe")),o},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.limit,o=n.name,s=n.operator,u=n.args;return a.compare(e,i,s)?e:t.error("number."+o,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:a.isNumber,message:"must be a number"}]},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(e,t){return Math.trunc(e)-e==0?e:t.error("number.integer")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method:function(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate:function(e,t,r,n){return e*(1/r.base)%1==0?e:t.error("number.multiple",{multiple:n.args.base,value:e})},args:[{name:"base",ref:!0,assert:function(e){return"number"==typeof e&&isFinite(e)&&e>0},message:"must be a positive number"}],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate:function(e,t,r){var n=r.limit,i=e.toString().match(o.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=n?e:t.error("number.precision",{limit:n,value:e})},convert:!0},sign:{method:function(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:function(e,t,r){var n=r.sign;return"negative"===n&&e<0||"positive"===n&&e>0?e:t.error("number.".concat(n))}},unsafe:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:function(e){return"number"==typeof e},to:function(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),o.extractSignificantDigits=function(e){return e.replace(o.exponentialPartRegex,"").replace(o.dotRegex,"").replace(o.trailingZerosRegex,"").replace(o.leadingSignAndZerosRegex,"")},o.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},8966:function(e,t,r){var n=r(7824);e.exports=n.extend({type:"object",cast:{map:{from:function(e){return e&&"object"==typeof e},to:function(e,t){return new Map(Object.entries(e))}}}})},7417:function(e,t,r){var n=r(375),i=r(5380),a=r(1745),o=r(9959),s=r(6064),u=r(9926),c=r(5752),f=r(8068),h=r(8160),d={tlds:u instanceof Set&&{tlds:{allow:u,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:o.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=f.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs,a=r.$_getRule("normalize");a&&(e=e.normalize(a.args.form));var o=r.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());var s=r.$_getRule("trim");if(s&&s.args.enabled&&(e=e.trim()),r.$_terms.replacements){var u,c=k(r.$_terms.replacements);try{for(c.s();!(u=c.n()).done;){var l=u.value;e=e.replace(l.pattern,l.replacement)}}catch(g){c.e(g)}finally{c.f()}}var f=r.$_getRule("hex");if(f&&f.args.options.byteAligned&&e.length%2!=0&&(e="0".concat(e)),r.$_getRule("isoDate")){var p=d.isoDate(e);p&&(e=p)}if(r._flags.truncate){var v=r.$_getRule("max");if(v){var m=v.args.limit;if(h.isResolvable(m)&&(m=m.resolve(e,n,i),!h.limit(m)))return{value:e,errors:r.$_createError("any.ref",m,{ref:v.args.limit,arg:"limit",reason:"must be a positive integer"},n,i)};e=e.slice(0,m)}}return{value:e}}},validate:function(e,t){var r=t.schema,n=t.error;if("string"!=typeof e)return{value:e,errors:n("string.base")};if(""===e){var i=r.$_getRule("min");if(i&&0===i.args.limit)return;return{value:e,errors:n("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired","urlSafe"]),e=l({urlSafe:!1,paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),n("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.base64Regex[n.paddingRequired][n.urlSafe].test(e)?e:t.error("string.base64")}},case:{method:function(e){return n(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:function(e,t,r){var n=r.direction;return"lower"===n&&e===e.toLocaleLowerCase()||"upper"===n&&e===e.toLocaleUpperCase()?e:t.error("string.".concat(n,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(e,t){for(var r=e.length,n=0,i=1;r--;){var a=e.charAt(r)*i;n+=a-9*(a>9),i^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired"]),e=l({paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate:function(e,t,r){var n=r.options,i=e.match(d.dataUriRegex);if(i){if(!i[2])return e;if("base64"!==i[2])return e;if(d.base64Regex[n.paddingRequired].false.test(i[3]))return e}return t.error("string.dataUri")}},domain:{method:function(e){e&&h.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=d.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:function(e,t,r,n){var a=n.address;return i.isValid(e,a)?e:t.error("string.domain")}},email:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),n(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");var t=d.addressOptions(e),r=new RegExp("\\s*[".concat(e.separator?s(e.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate:function(e,t,r,n){var i,o=r.options,s=n.regex,u=n.address,c=[],l=k(o.multiple?e.split(s):[e]);try{for(l.s();!(i=l.n()).done;){var f=i.value;a.isValid(f,u)||c.push(f)}}catch(h){l.e(h)}finally{l.f()}return c.length?t.error("string.email",{value:e,invalids:c}):e}},guid:{alias:"uuid",method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["version","separator"]);var t="";if(e.version){var r=[].concat(e.version);n(r.length>=1,"version must have at least 1 valid version specified");for(var i=new Set,a=0;a<r.length;++a){var o=r[a];n("string"==typeof o,"version at position "+a+" must be a string");var s=d.guidVersions[o.toLowerCase()];n(s,"version at position "+a+" must be one of "+Object.keys(d.guidVersions).join(", ")),n(!i.has(s),"version at position "+a+" must not be a duplicate"),t+=s,i.add(s)}}n(d.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');var u=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":"\\".concat(e.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(u,")[0-9A-F]{4}\\2?[").concat(t||"0-9A-F","][0-9A-F]{3}\\2?[").concat(t?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:e},regex:c})},validate:function(e,t,r,n){var i=n.regex.exec(e);return i?d.guidBrackets[i[1]]!==i[i.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["byteAligned"]),e=l({byteAligned:!1},e),n("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.hexRegex.test(e)?n.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(e,t){return i.isValid(e,{minDomainSegments:1})||d.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["cidr","version"]);var t=o.regex(e),r=t.cidr,n=t.versions,i=t.regex,a=e.version?n:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:r,version:a}},regex:i})},validate:function(e,t,r,n){var i=r.options;return n.regex.test(e)?e:i.version?t.error("string.ipVersion",{value:e,cidr:i.cidr,version:i.version}):t.error("string.ip",{value:e,cidr:i.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(e,t){var r=t.error;return d.isoDate(e)?e:r("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(e,t){return d.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method:function(e,t){return d.length(this,"length",e,"=",t)},validate:function(e,t,r,n){var i=r.limit,a=r.encoding,o=n.name,s=n.operator,u=n.args,c=!a&&e.length;return h.compare(c,i,s)?e:t.error("string."+o,{limit:u.limit,value:e,encoding:a})},args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(e,t){return d.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method:function(e,t){return d.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";return n(d.normalizationForms.includes(e),"normalization form must be one of "+d.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:function(e,t,r){var n=t.error,i=r.form;return e===e.normalize(i)?e:n("string.normalize",{value:e,form:i})},convert:!0},pattern:{alias:"regex",method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e instanceof RegExp,"regex must be a RegExp"),n(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),h.assertOptions(t,["invert","name"]);var r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:function(e,t,r,n){var i=r.regex,a=r.options,o=n.errorCode;return i.test(e)^a.invert?e:t.error(o,{name:a.name,regex:i,value:e})},args:["regex","options"],multi:!0},replace:{method:function(e,t){"string"==typeof e&&(e=new RegExp(s(e),"g")),n(e instanceof RegExp,"pattern must be a RegExp"),n("string"==typeof t,"replacement must be a String");var r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method:function(){return this.$_addRule("token")},validate:function(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:function(e,t,r){return r.enabled&&e!==e.trim()?t.error("string.trim"):e},convert:!0},truncate:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&h.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=c.regex(e),r=t.regex,n=t.scheme,i=e.domain?d.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:r,domain:i,scheme:n})},validate:function(e,t,r,n){var a=r.options,o=n.regex,s=n.domain,u=n.scheme;if(["http:/","https:/"].includes(e))return t.error("string.uri");var c=o.exec(e);if(c){var l=c[1]||c[2];return!s||a.allowRelative&&!l||i.isValid(l,s)?e:t.error("string.domain",{value:l})}return a.relativeOnly?t.error("string.uriRelativeOnly"):a.scheme?t.error("string.uriCustomScheme",{scheme:u,value:e}):t.error("string.uri")}}},manifest:{build:function(e,t){if(t.replacements){var r,n=k(t.replacements);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.pattern,o=i.replacement;e=e.replace(a,o)}}catch(s){n.e(s)}finally{n.f()}}return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),d.addressOptions=function(e){if(!e)return e;if(n(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),n(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds);n("object"==typeof e.tlds,"tlds must be true, false, or an object");var t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),n(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),d.validateTlds(e.tlds.deny,"tlds.deny"),e;var r=e.tlds.allow;return r?!0===r?(n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),n(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),d.validateTlds(e.tlds.allow,"tlds.allow"),e):e},d.validateTlds=function(e,t){var r,a=k(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;n(i.isValid(o,{minDomainSegments:1,maxDomainSegments:1}),"".concat(t," must contain valid top level domain names"))}}catch(s){a.e(s)}finally{a.f()}},d.isoDate=function(e){if(!h.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");var t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},d.length=function(e,t,r,i,a){return n(!a||!1,"Invalid encoding:",a),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:a},operator:i})}},8826:function(e,t,r){var n=r(375),i=r(8068),a={};a.Map=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"slice",value:function(){return new a.Map(this)}}]),r}(p(Map)),e.exports=i.extend({type:"symbol",terms:{map:{init:new a.Map}},coerce:{method:function(e,t){var r=t.schema,n=t.error,i=r.$_terms.map.get(e);return i&&(e=i),r._flags.only&&"symbol"!=typeof e?{value:e,errors:n("symbol.map",{map:r.$_terms.map})}:{value:e}}},validate:function(e,t){var r=t.error;if("symbol"!=typeof e)return{value:e,errors:r("symbol.base")}},rules:{map:{method:function(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");var t,r=this.clone(),i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n(o&&o[Symbol.iterator],"Entry must be an iterable");var s=_(o,2),u=s[0],c=s[1];n("object"!=typeof u&&"function"!=typeof u&&"symbol"!=typeof u,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof c,"Value must be a Symbol"),r.$_terms.map.set(u,c),i.push(c)}}catch(l){a.e(l)}finally{a.f()}return r.valid.apply(r,i)}}},manifest:{build:function(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(e,t,r){var n=r(375),i=r(8571),a=r(738),s=r(9621),c=r(8160),l=r(6354),f=r(493),h={result:Symbol("result")};t.entry=function(e,t,r){var i=c.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),i=c.preferences(c.defaults,r));var a=h.entry(e,t,i);n(!a.mainstay.externals.length,"Schema with external rules must use validateAsync()");var o={value:a.value};return a.error&&(o.error=a.error),a.mainstay.warnings.length&&(o.warning=l.details(a.mainstay.warnings)),a.mainstay.debug&&(o.debug=a.mainstay.debug),a.mainstay.artifacts&&(o.artifacts=a.mainstay.artifacts),o},t.entryAsync=function(){var e=u(o().mark((function e(t,r,n){var i,a,u,f,d,p,v,m,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.defaults,n&&(i=c.preferences(c.defaults,n)),a=h.entry(t,r,i),u=a.mainstay,!a.error){e.next=5;break}throw u.debug&&(a.error.debug=u.debug),a.error;case 5:if(!u.externals.length){e.next=31;break}f=a.value,d=[],p=k(u.externals),e.prev=9,m=o().mark((function e(){var r,a,p,m,g,y,b,_,x,E,A,S,O,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.value,a=r.state.path,p="link"===r.schema.type?u.links.get(r.schema):null,y=f,b=a.length?[f]:[],_=a.length?s(t,a):t,a.length){m=a[a.length-1],x=f,E=k(a.slice(0,-1));try{for(E.s();!(A=E.n()).done;)S=A.value,x=x[S],b.unshift(x)}catch(o){E.e(o)}finally{E.f()}g=b[0],y=g[m]}return e.prev=5,O=function(e,t){return(p||r.schema).$_createError(e,y,t,r.state,i)},e.next=9,r.method(y,{schema:r.schema,linked:p,state:r.state,prefs:n,original:_,error:O,errorsArray:h.errorsArray,warn:function(e,t){return u.warnings.push((p||r.schema).$_createError(e,y,t,r.state,i))},message:function(e,t){return(p||r.schema).$_createError("external",y,t,r.state,i,{messages:e})}});case 9:if(void 0!==(I=e.sent)&&I!==y){e.next=12;break}return e.abrupt("return",0);case 12:if(!(I instanceof l.Report)){e.next=16;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push(I),!i.abortEarly){e.next=15;break}return e.abrupt("return",1);case 15:case 19:return e.abrupt("return",0);case 16:if(!Array.isArray(I)||!I[c.symbols.errors]){e.next=20;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push.apply(d,w(I)),!i.abortEarly){e.next=19;break}return e.abrupt("return",1);case 20:g?(u.tracer.value(r.state,"rule",y,I,"external"),g[m]=I):(u.tracer.value(r.state,"rule",f,I,"external"),f=I),e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(5),i.errors.label&&(e.t0.message+=" (".concat(r.label,")")),e.t0;case 26:case"end":return e.stop()}}),e,null,[[5,23]])})),p.s();case 12:if((v=p.n()).done){e.next=21;break}return e.delegateYield(m(),"t0",14);case 14:if(0!==(g=e.t0)){e.next=17;break}return e.abrupt("continue",19);case 17:if(1!==g){e.next=19;break}return e.abrupt("break",21);case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(9),p.e(e.t1);case 26:return e.prev=26,p.f(),e.finish(26);case 29:if(a.value=f,!d.length){e.next=31;break}throw a.error=l.process(d,t,i),u.debug&&(a.error.debug=u.debug),a.error;case 31:if(i.warnings||i.debug||i.artifacts){e.next=33;break}return e.abrupt("return",a.value);case 33:return y={value:a.value},e.abrupt("return",(u.warnings.length&&(y.warning=l.details(u.warnings)),u.debug&&(y.debug=u.debug),u.artifacts&&(y.artifacts=u.artifacts),y));case 35:case"end":return e.stop()}}),e,null,[[9,23,26,29]])})));return function(t,r,n){return e.apply(this,arguments)}}(),h.Mainstay=function(){function e(t,r,n){A(this,e),this.externals=[],this.warnings=[],this.tracer=t,this.debug=r,this.links=n,this.shadow=null,this.artifacts=null,this._snapshots=[]}return O(e,[{key:"snapshot",value:function(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}},{key:"restore",value:function(){var e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}}]),e}(),h.entry=function(e,r,n){var i=h.tracer(r,n),a=i.tracer,o=i.cleanup,s=n.debug?[]:null,u=r._ids._schemaChain?new Map:null,c=new h.Mainstay(a,s,u),d=r._ids._schemaChain?[{schema:r}]:null,p=new f([],[],{mainstay:c,schemas:d}),v=t.validate(e,r,p,n);o&&r.$_root.untrace();var m=l.process(v.errors,e,n);return{value:v.value,error:m,mainstay:c}},h.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:h.ignore}},t.validate=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=h.prefs(t,n)),t._cache&&n.cache){var a=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!a),a)return a}var o=function(i,a,o){return t.$_createError(i,e,a,o||r,n)},s={original:e,prefs:n,schema:t,state:r,error:o,errorsArray:h.errorsArray,warn:function(e,t,n){return r.mainstay.warnings.push(o(e,t,n))},message:function(i,a){return t.$_createError("custom",e,a,r,n,{messages:i})}};r.mainstay.tracer.entry(t,r);var u=t._definition;if(u.prepare&&void 0!==e&&n.convert){var l=u.prepare(e,s);if(l){if(r.mainstay.tracer.value(r,"prepare",e,l.value),l.errors)return h.finalize(l.value,[].concat(l.errors),s);e=l.value}}if(u.coerce&&void 0!==e&&n.convert&&(!u.coerce.from||u.coerce.from.includes(typeof e))){var f=u.coerce.method(e,s);if(f){if(r.mainstay.tracer.value(r,"coerced",e,f.value),f.errors)return h.finalize(f.value,[].concat(f.errors),s);e=f.value}}var d=t._flags.empty;d&&d.$_match(h.trim(e,t),r.nest(d),c.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);var p=i.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(void 0===e){if("forbidden"===p)return h.finalize(e,null,s);if("required"===p)return h.finalize(e,[t.$_createError("any.required",e,null,r,n)],s);if("optional"===p){if(t._flags.default!==c.symbols.deepDefault)return h.finalize(e,null,s);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===p)return h.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],s);var v=[];if(t._valids){var m=t._valids.get(e,r,n,t._flags.insensitive);if(m)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,m.value),e=m.value),r.mainstay.tracer.filter(t,r,"valid",m),h.finalize(e,null,s);if(t._flags.only){var g=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[g],s);v.push(g)}}if(t._invalids){var y=t._invalids.get(e,r,n,t._flags.insensitive);if(y){r.mainstay.tracer.filter(t,r,"invalid",y);var b=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[b],s);v.push(b)}}if(u.validate){var _=u.validate(e,s);if(_&&(r.mainstay.tracer.value(r,"base",e,_.value),e=_.value,_.errors)){if(!Array.isArray(_.errors))return v.push(_.errors),h.finalize(e,v,s);if(_.errors.length)return v.push.apply(v,w(_.errors)),h.finalize(e,v,s)}}return t._rules.length?h.rules(e,v,s):h.finalize(e,v,s)},h.rules=function(e,t,r){var n,i=r.schema,a=r.state,o=r.prefs,s=k(i._rules);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=i._definition.rules[u.method];if(l.convert&&o.convert)a.mainstay.tracer.log(i,a,"rule",u.name,"full");else{var f=void 0,d=u.args;if(u._resolve.length){d=Object.assign({},d);var p,v=k(u._resolve);try{for(v.s();!(p=v.n()).done;){var m=p.value,g=l.argsByName.get(m),y=d[m].resolve(e,a,o),b=g.normalize?g.normalize(y):y,_=c.validateArg(b,null,g);if(_){f=i.$_createError("any.ref",y,{arg:m,ref:d[m],reason:_},a,o);break}d[m]=b}}catch(A){v.e(A)}finally{v.f()}}f=f||l.validate(e,r,d,u);var x=h.rule(f,u);if(x.errors){if(a.mainstay.tracer.log(i,a,"rule",u.name,"error"),u.warn){var E;(E=a.mainstay.warnings).push.apply(E,w(x.errors));continue}if(o.abortEarly)return h.finalize(e,x.errors,r);t.push.apply(t,w(x.errors))}else a.mainstay.tracer.log(i,a,"rule",u.name,"pass"),a.mainstay.tracer.value(a,"rule",e,x.value,u.name),e=x.value}}}catch(A){s.e(A)}finally{s.f()}return h.finalize(e,t,r)},h.rule=function(e,t){return e instanceof l.Report?(h.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[c.symbols.errors]?(e.forEach((function(e){return h.error(e,t)})),{errors:e,value:null}):{errors:null,value:e}},h.error=function(e,t){return t.message&&e._setTemplate(t.message),e},h.finalize=function(e,t,r){t=t||[];var i=r.schema,a=r.state,o=r.prefs;if(t.length){var s=h.default("failover",void 0,t,r);void 0!==s&&(a.mainstay.tracer.value(a,"failover",e,s),e=s,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);var u,c=k(t);try{for(c.s();!(u=c.n()).done;){var f=u.value;n(f instanceof Error||f instanceof l.Report,"error() must return an Error object")}}catch(w){c.e(w)}finally{c.f()}}else t=[i._flags.error];if(void 0===e){var d=h.default("default",e,t,r);a.mainstay.tracer.value(a,"default",e,d),e=d}if(i._flags.cast&&void 0!==e){var p=i._definition.cast[i._flags.cast];if(p.from(e)){var v=p.to(e,r);a.mainstay.tracer.value(a,"cast",e,v,i._flags.cast),e=v}}if(i.$_terms.externals&&o.externals&&!1!==o._externals){var m,g=k(i.$_terms.externals);try{for(g.s();!(m=g.n()).done;){var y=m.value.method;a.mainstay.externals.push({method:y,schema:i,state:a,label:l.label(i._flags,a,o)})}}catch(w){g.e(w)}finally{g.f()}}var b={value:e,errors:t.length?t:null};return i._flags.result&&(b.value="strip"===i._flags.result?void 0:r.original,a.mainstay.tracer.value(a,i._flags.result,e,b.value),a.shadow(e,i._flags.result)),i._cache&&!1!==o.cache&&!i._refs.length&&i._cache.set(r.original,b),void 0===e||b.errors||void 0===i._flags.artifact||(a.mainstay.artifacts=a.mainstay.artifacts||new Map,a.mainstay.artifacts.has(i._flags.artifact)||a.mainstay.artifacts.set(i._flags.artifact,[]),a.mainstay.artifacts.get(i._flags.artifact).push(a.path)),b},h.prefs=function(e,t){var r=t===c.defaults;return r&&e._preferences[c.symbols.prefs]?e._preferences[c.symbols.prefs]:(t=c.preferences(t,e._preferences),r&&(e._preferences[c.symbols.prefs]=t),t)},h.default=function(e,t,r,n){var a=n.schema,o=n.state,s=n.prefs,u=a._flags[e];if(s.noDefaults||void 0===u)return t;if(o.mainstay.tracer.log(a,o,"rule",e,"full"),!u)return u;if("function"==typeof u){var l=u.length?[i(o.ancestors[0]),n]:[];try{return u.apply(void 0,l)}catch(t){return void r.push(a.$_createError("any.".concat(e),null,{error:t},o,s))}}return"object"!=typeof u?u:u[c.symbols.literal]?u.literal:c.isResolvable(u)?u.resolve(t,o,s):i(u)},h.trim=function(e,t){if("string"!=typeof e)return e;var r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},h.ignore={active:!1,debug:a,entry:a,filter:a,log:a,resolve:a,value:a},h.errorsArray=function(){var e=[];return e[c.symbols.errors]=!0,e}},2036:function(e,t,r){var n=r(375),i=r(9474),a=r(8160),o={};e.exports=o.Values=function(){function e(t,r){A(this,e),this._values=new Set(t),this._refs=new Set(r),this._lowercase=o.lowercases(t),this._override=!1}return O(e,[{key:"length",get:function(){return this._values.size+this._refs.size}},{key:"add",value:function(e,t){a.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}},{key:"remove",value:function(e){a.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}},{key:"has",value:function(e,t,r,n){return!!this.get(e,t,r,n)}},{key:"get",value:function(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){var a=this._lowercase.get(e.toLowerCase());if(a)return{value:a}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e){var o,s=k(this._values);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(i(u,e))return{value:u}}}catch(m){s.e(m)}finally{s.f()}}if(t){var c,l=k(this._refs);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=f.resolve(e,t,r,null,{in:!0});if(void 0!==h){var d,p=k(f.in&&"object"==typeof h?Array.isArray(h)?h:Object.keys(h):[h]);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(typeof v==typeof e)if(n&&e&&"string"==typeof e){if(v.toLowerCase()===e.toLowerCase())return{value:v,ref:f}}else if(i(v,e))return{value:v,ref:f}}}catch(m){p.e(m)}finally{p.f()}}}}catch(m){l.e(m)}finally{l.f()}}return!1}},{key:"override",value:function(){this._override=!0}},{key:"values",value:function(e){if(e&&e.display){for(var t=[],r=0,n=[].concat(w(this._values),w(this._refs));r<n.length;r++){var i=n[r];void 0!==i&&t.push(i)}return t}return Array.from([].concat(w(this._values),w(this._refs)))}},{key:"clone",value:function(){var e=new o.Values(this._values,this._refs);return e._override=this._override,e}},{key:"concat",value:function(e){n(!e._override,"Cannot concat override set of values");var t=new o.Values([].concat(w(this._values),w(e._values)),[].concat(w(this._refs),w(e._refs)));return t._override=this._override,t}},{key:"describe",value:function(){var e=[];this._override&&e.push({override:!0});var t,r=k(this._values.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n&&"object"==typeof n?{value:n}:n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(this._refs.values());try{for(a.s();!(i=a.n()).done;){var o=i.value;e.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return e}}],[{key:"merge",value:function(e,t,r){if(e=e||new o.Values,t){if(t._override)return t.clone();for(var n=0,i=[].concat(w(t._values),w(t._refs));n<i.length;n++){var a=i[n];e.add(a)}}if(r)for(var s=0,u=[].concat(w(r._values),w(r._refs));s<u.length;s++){var c=u[s];e.remove(c)}return e.length?e:null}}]),e}(),o.Values.prototype[a.symbols.values]=!0,o.Values.prototype.slice=o.Values.prototype.clone,o.lowercases=function(e){var t=new Map;if(e){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;"string"==typeof i&&t.set(i.toLowerCase(),i)}}catch(a){n.e(a)}finally{n.f()}}return t}},978:function(e,t,r){var n=r(375),i=r(8571),a=r(1687),o=r(9621),s={};e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return s.applyToDefaultsWithShallow(e,t,r);var o=i(e);if(!0===t)return o;var u=void 0!==r.nullOverride&&r.nullOverride;return a(o,t,{nullOverride:u,mergeArrays:!1})},s.applyToDefaultsWithShallow=function(e,t,r){var u=r.shallow;n(Array.isArray(u),"Invalid keys");var c,l=new Map,f=!0===t?null:new Set,h=k(u);try{for(h.s();!(c=h.n()).done;){var d=c.value;d=Array.isArray(d)?d:d.split(".");var p=o(e,d);p&&"object"==typeof p?l.set(p,f&&o(t,d)||p):f&&f.add(d)}}catch(w){h.e(w)}finally{h.f()}var v=i(e,{},l);if(!f)return v;var m,g=k(f);try{for(g.s();!(m=g.n()).done;){var y=m.value;s.reachCopy(v,t,y)}}catch(w){g.e(w)}finally{g.f()}var b=void 0!==r.nullOverride&&r.nullOverride;return a(v,t,{nullOverride:b,mergeArrays:!1})},s.reachCopy=function(e,t,r){var n,i=k(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!(a in t))return;var o=t[a];if("object"!=typeof o||null===o)return;t=o}}catch(f){i.e(f)}finally{i.f()}for(var s=t,u=e,c=0;c<r.length-1;++c){var l=r[c];"object"!=typeof u[l]&&(u[l]={}),u=u[l]}u[r[r.length-1]]=s}},375:function(e,t,r){var n=r(7916);e.exports=function(e){if(!e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(1===r.length&&r[0]instanceof Error)throw r[0];throw new n(r)}}},8571:function(e,t,r){var n=r(9621),i=r(4277),a=r(7043),o={needsProtoHack:new Set([i.set,i.map,i.weakSet,i.weakMap])};e.exports=o.clone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"!=typeof e||null===e)return e;var n=o.clone,s=r;if(t.shallow){if(!0!==t.shallow)return o.cloneWithShallow(e,t);n=function(e){return e}}else if(s){var u=s.get(e);if(u)return u}else s=new Map;var c=i.getInternalProto(e);if(c===i.buffer)return!1;if(c===i.date)return new Date(e.getTime());if(c===i.regex)return new RegExp(e);var l=o.base(e,c,t);if(l===e)return e;if(s&&s.set(e,l),c===i.set){var f,h=k(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;l.add(n(d,t,s))}}catch(A){h.e(A)}finally{h.f()}}else if(c===i.map){var p,v=k(e);try{for(v.s();!(p=v.n()).done;){var m=_(p.value,2),g=m[0],y=m[1];l.set(g,n(y,t,s))}}catch(A){v.e(A)}finally{v.f()}}var b,w=k(a.keys(e,t));try{for(w.s();!(b=w.n()).done;){var x=b.value;if("__proto__"!==x)if(c!==i.array||"length"!==x){var E=Object.getOwnPropertyDescriptor(e,x);E?E.get||E.set?Object.defineProperty(l,x,E):E.enumerable?l[x]=n(e[x],t,s):Object.defineProperty(l,x,{enumerable:!1,writable:!0,configurable:!0,value:n(e[x],t,s)}):Object.defineProperty(l,x,{enumerable:!0,writable:!0,configurable:!0,value:n(e[x],t,s)})}else l.length=e.length}}catch(A){w.e(A)}finally{w.f()}return l},o.cloneWithShallow=function(e,t){var r=t.shallow;(t=Object.assign({},t)).shallow=!1;var i,a=new Map,s=k(r);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=n(e,u);"object"!=typeof c&&"function"!=typeof c||a.set(c,c)}}catch(l){s.e(l)}finally{s.f()}return o.clone(e,t,a)},o.base=function(e,t,r){if(!1===r.prototype)return o.needsProtoHack.has(t)?new t.constructor:t===i.array?[]:{};var n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===i.array){var a=[];return n!==t&&Object.setPrototypeOf(a,n),a}if(o.needsProtoHack.has(t)){var s=new n.constructor;return n!==t&&Object.setPrototypeOf(s,n),s}return Object.create(n)}},9474:function(e,t,r){var n=r(4277),i={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!i.isDeepEqual(e,t,r,[])},i.isDeepEqual=function(e,t,r,a){if(e===t)return 0!==e||1/e==1/t;var o=typeof e;if(o!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===o){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==o)return e!=e&&t!=t;var s=i.getSharedType(e,t,!!r.prototype);switch(s){case n.buffer:return!1;case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(var u=a.length-1;u>=0;--u)if(a[u].isSame(e,t))return!0;a.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(s,e,t,r,a)}finally{a.pop()}},i.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:n.getInternalProto(e);var a=n.getInternalProto(e);return a!==n.getInternalProto(t)?i.mismatched:a},i.valueOf=function(e){var t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){var r,n=k(Set.prototype.values.call(e));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!Set.prototype.has.call(t,i))return!1}}catch(a){n.e(a)}finally{n.f()}return!0},i.isDeepEqualObj=function(e,t,r,a,o){var s=i.isDeepEqual,u=i.valueOf,c=i.hasOwnEnumerableProperty,l=Object.keys,f=Object.getOwnPropertySymbols;if(e===n.array){if(!a.part){if(t.length!==r.length)return!1;for(var h=0;h<t.length;++h)if(!s(t[h],r[h],a,o))return!1;return!0}var d,p=k(t);try{for(p.s();!(d=p.n()).done;){var v,m=d.value,g=k(r);try{for(g.s();!(v=g.n()).done;)if(s(m,v.value,a,o))return!0}catch(G){g.e(G)}finally{g.f()}}}catch(G){p.e(G)}finally{p.f()}}else if(e===n.set){if(t.size!==r.size)return!1;if(!i.isSetSimpleEqual(t,r)){var y,b=new Set(Set.prototype.values.call(r)),w=k(Set.prototype.values.call(t));try{for(w.s();!(y=w.n()).done;){var x=y.value;if(!b.delete(x)){var E,A=!1,S=k(b);try{for(S.s();!(E=S.n()).done;){var O=E.value;if(s(x,O,a,o)){b.delete(O),A=!0;break}}}catch(G){S.e(G)}finally{S.f()}if(!A)return!1}}}catch(G){w.e(G)}finally{w.f()}}}else if(e===n.map){if(t.size!==r.size)return!1;var I,R=k(Map.prototype.entries.call(t));try{for(R.s();!(I=R.n()).done;){var C=_(I.value,2),N=C[0],P=C[1];if(void 0===P&&!Map.prototype.has.call(r,N))return!1;if(!s(P,Map.prototype.get.call(r,N),a,o))return!1}}catch(G){R.e(G)}finally{R.f()}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;var M=u(t),j=u(r);if((t!==M||r!==j)&&!s(M,j,a,o))return!1;var T=l(t);if(!a.part&&T.length!==l(r).length&&!a.skip)return!1;var L,$=0,D=k(T);try{for(D.s();!(L=D.n()).done;){var U=L.value;if(a.skip&&a.skip.includes(U))void 0===r[U]&&++$;else{if(!c(r,U))return!1;if(!s(t[U],r[U],a,o))return!1}}}catch(G){D.e(G)}finally{D.f()}if(!a.part&&T.length-$!==l(r).length)return!1;if(!1!==a.symbols){var F,B=f(t),q=new Set(f(r)),z=k(B);try{for(z.s();!(F=z.n()).done;){var H=F.value;if(!a.skip||!a.skip.includes(H))if(c(t,H)){if(!c(r,H))return!1;if(!s(t[H],r[H],a,o))return!1}else if(c(r,H))return!1;q.delete(H)}}catch(G){z.e(G)}finally{z.f()}var V,W=k(q);try{for(W.s();!(V=W.n()).done;)if(c(r,V.value))return!1}catch(G){W.e(G)}finally{W.f()}}return!0},i.SeenEntry=function(){function e(t,r){A(this,e),this.obj=t,this.ref=r}return O(e,[{key:"isSame",value:function(e,t){return this.obj===e&&this.ref===t}}]),e}()},7916:function(e,t,r){var n=r(8761);e.exports=function(e){f(i,e);var r=h(i);function i(e){var a;return A(this,i),a=r.call(this,e.filter((function(e){return""!==e})).map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:n(e)})).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(d(a),t.assert),a}return O(i)}(p(Error))},5277:function(e){var t={};e.exports=function(e){if(!e)return"";for(var r="",n=0;n<e.length;++n){var i=e.charCodeAt(n);t.isSafe(i)?r+=e[n]:r+=t.escapeHtmlChar(i)}return r},t.escapeHtmlChar=function(e){return t.namedHtml.get(e)||(e>=256?"&#"+e+";":"&#x".concat(e.toString(16).padStart(2,"0"),";"))},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){for(var e=new Set,t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},6064:function(e){e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(e){e.exports=function(){}},1687:function(e,t,r){var n=r(375),i=r(8571),a=r(7043),o={};e.exports=o.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(var s=0;s<t.length;++s)e.push(i(t[s],{symbols:r.symbols}));return e}for(var u=a.keys(t,r),c=0;c<u.length;++c){var l=u[c];if("__proto__"!==l&&Object.prototype.propertyIsEnumerable.call(t,l)){var f=t[l];if(f&&"object"==typeof f){if(e[l]===f)continue;!e[l]||"object"!=typeof e[l]||Array.isArray(e[l])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?e[l]=i(f,{symbols:r.symbols}):o.merge(e[l],f,r)}else(null!=f||r.nullOverride)&&(e[l]=f)}}return e}},9621:function(e,t,r){var n=r(375),i={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});var a=Array.isArray(t);n(!a||!r.separator,"Separator option is not valid for array-based chain");for(var o=a?t:t.split(r.separator||"."),s=e,u=0;u<o.length;++u){var c=o[u],l=r.iterables&&i.iterables(s);if(Array.isArray(s)||"set"===l){var f=Number(c);Number.isInteger(f)&&(c=f<0?s.length+f:f)}if(!s||"function"==typeof s&&!1===r.functions||!l&&void 0===s[c]){n(!r.strict||u+1===o.length,"Missing segment",c,"in reach path ",t),n("object"==typeof s||!0===r.functions||"function"!=typeof s,"Invalid segment",c,"in reach path ",t),s=r.default;break}s=l?"set"===l?w(s)[c]:s.get(c):s[c]}return s},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},8761:function(e){e.exports=function(){try{return JSON.stringify.apply(JSON,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}}},4277:function(e,t){var r={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;var n=Object.prototype.toString.call(e);return r.typeMap.get(n)||t.generic}},7043:function(e,t){t.keys=function(e){return!1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},3652:function(e,t,r){var n=r(375),i={};t.Sorter=function(){function e(){A(this,e),this._items=[],this.nodes=[]}return O(e,[{key:"add",value:function(e,t){var r=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),a=t.group||"?",o=t.sort||0;n(!r.includes(a),"Item cannot come before itself: ".concat(a)),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!i.includes(a),"Item cannot come after itself: ".concat(a)),n(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);var s,u=k(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l={seq:this._items.length,sort:o,before:r,after:i,group:a,node:c};this._items.push(l)}}catch(h){u.e(h)}finally{u.f()}if(!t.manual){var f=this._sort();n(f,"item","?"!==a?"added into group ".concat(a):"","created a dependencies error")}return this.nodes}},{key:"merge",value:function(e){Array.isArray(e)||(e=[e]);var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a){var o,s=k(a._items);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._items.push(Object.assign({},u))}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){r.e(f)}finally{r.f()}this._items.sort(i.mergeSort);for(var c=0;c<this._items.length;++c)this._items[c].seq=c;var l=this._sort();return n(l,"merge created a dependencies error"),this.nodes}},{key:"sort",value:function(){var e=this._sort();return n(e,"sort created a dependencies error"),this.nodes}},{key:"_sort",value:function(){var e,t={},r=Object.create(null),n=Object.create(null),i=k(this._items);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=a.seq,s=a.group;n[s]=n[s]||[],n[s].push(o),t[o]=a.before;var u,c=k(a.after);try{for(c.s();!(u=c.n()).done;){var l=u.value;r[l]=r[l]||[],r[l].push(o)}}catch(B){c.e(B)}finally{c.f()}}}catch(B){i.e(B)}finally{i.f()}for(var f in t){var h=[];for(var d in t[f]){var p=t[f][d];n[p]=n[p]||[],h.push.apply(h,w(n[p]))}t[f]=h}for(var v in r)if(n[v]){var m,g=k(n[v]);try{for(g.s();!(m=g.n()).done;){var y;(y=t[m.value]).push.apply(y,w(r[v]))}}catch(B){g.e(B)}finally{g.f()}}var b={};for(var _ in t){var x,E=k(t[_]);try{for(E.s();!(x=E.n()).done;){var A=x.value;b[A]=b[A]||[],b[A].push(_)}}catch(B){E.e(B)}finally{E.f()}}for(var S={},O=[],I=0;I<this._items.length;++I){var R=I;if(b[I]){R=null;for(var C=0;C<this._items.length;++C)if(!0!==S[C]){b[C]||(b[C]=[]);for(var N=b[C].length,P=0,M=0;M<N;++M)S[b[C][M]]&&++P;if(P===N){R=C;break}}}null!==R&&(S[R]=!0,O.push(R))}if(O.length!==this._items.length)return!1;var j,T={},L=k(this._items);try{for(L.s();!(j=L.n()).done;){var $=j.value;T[$.seq]=$}}catch(B){L.e(B)}finally{L.f()}this._items=[],this.nodes=[];for(var D=0,U=O;D<U.length;D++){var F=T[U[D]];this.nodes.push(F.node),this._items.push(F)}return!0}}]),e}(),i.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1}},5380:function(e,t,r){var n=r(443),i=r(2178),a={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return i.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(e.length>256)return i.code("DOMAIN_TOO_LONG");if(a.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return i.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(a.domainControlRx.test(e))return i.code("DOMAIN_INVALID_CHARS");e=a.punycode(e),t.allowFullyQualified&&"."===e[e.length-1]&&(e=e.slice(0,-1));var r=t.minDomainSegments||a.minDomainSegments,n=e.split(".");if(n.length<r)return i.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&n.length>t.maxDomainSegments)return i.code("DOMAIN_SEGMENTS_COUNT_MAX");var o=t.tlds;if(o){var s=n[n.length-1].toLowerCase();if(o.deny&&o.deny.has(s)||o.allow&&!o.allow.has(s))return i.code("DOMAIN_FORBIDDEN_TLDS")}for(var u=0;u<n.length;++u){var c=n[u];if(!c.length)return i.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return i.code("DOMAIN_LONG_SEGMENT");if(u<n.length-1){if(!a.domainSegmentRx.test(c))return i.code("DOMAIN_INVALID_CHARS")}else if(!a.tldSegmentRx.test(c))return i.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},a.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new a.URL("http://".concat(e)).host}catch(t){return e}}},1745:function(e,t,r){var n=r(9848),i=r(5380),a=r(2178),o={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return o.email(e,t)},t.isValid=function(e,t){return!o.email(e,t)},o.email=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return a.code("EMPTY_STRING");var r=!o.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return a.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}var n=e.split("@");if(2!==n.length)return n.length>2?a.code("MULTIPLE_AT_CHAR"):a.code("MISSING_AT_CHAR");var s=_(n,2),u=s[0],c=s[1];if(!u)return a.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return a.code("ADDRESS_TOO_LONG");if(o.encoder.encode(u).length>64)return a.code("LOCAL_TOO_LONG")}return o.local(u,r)||i.analyze(c,t)},o.local=function(e,t){var r,n=k(e.split("."));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!i.length)return a.code("EMPTY_LOCAL_SEGMENT");if(t){if(!o.atextRx.test(i))return a.code("INVALID_LOCAL_CHARS")}else{var s,u=k(i);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!o.atextRx.test(c)){var l=o.binary(c);if(!o.atomRx.test(l))return a.code("INVALID_LOCAL_CHARS")}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){n.e(f)}finally{n.f()}},o.binary=function(e){return Array.from(o.encoder.encode(e)).map((function(e){return String.fromCharCode(e)})).join("")},o.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,o.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(e,t){t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},9959:function(e,t,r){var n=r(375),i=r(5752);t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");var t=e.cidr?e.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),n(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");var r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(var a=0;a<r.length;++a)n("string"==typeof r[a],"options.version must only contain strings"),r[a]=r[a].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[a]),"options.version contains unknown version "+r[a]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));var o="(?:".concat(r.map((function(e){if("forbidden"===t)return i.ip[e];var r="\\/".concat("ipv4"===e?i.ip.v4Cidr:i.ip.v6Cidr);return"required"===t?"".concat(i.ip[e]).concat(r):"".concat(i.ip[e],"(?:").concat(r,")?")})).join("|"),")"),s=new RegExp("^".concat(o,"$"));return{cidr:t,versions:r,regex:s,raw:o}}},5752:function(e,t,r){var n=r(375),i=r(6064),a={generate:function(){var e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",i="!\\$&'\\(\\)\\*\\+,;=",a="%"+t,o=n+a+i+":@",s="["+o+"]",u="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+u+"\\.){3}"+u;var c=r+"{1,4}",l="(?:"+c+":"+c+"|"+e.ipv4address+")",f="(?:"+c+":){6}"+l,h="::(?:"+c+":){5}"+l,d="(?:"+c+")?::(?:"+c+":){4}"+l,p="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+l,v="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+l,m="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+l,g="(?:(?:"+c+":){0,4}"+c+")?::"+l,y="(?:(?:"+c+":){0,5}"+c+")?::"+c,b="(?:(?:"+c+":){0,6}"+c+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+f+"|"+h+"|"+d+"|"+p+"|"+v+"|"+m+"|"+g+"|"+y+"|"+b+")",e.ipvFuture="v"+r+"+\\.["+n+i+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);var w="["+n+a+i+":]*",_="["+n+a+i+"]{1,255}",k="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|"+_+")",x="(?:"+w+"@)?"+k+"(?::\\d*)?",E="(?:"+w+"@)?("+k+")(?::\\d*)?",A=s+"*",S=s+"+",O="(?:\\/"+A+")*",I="\\/(?:"+S+O+")?",R=S+O,C="["+n+a+i+"@]+"+O,N="(?:\\/\\/\\/"+A+O+")";return e.hierPart="(?:(?:\\/\\/"+x+O+")|"+I+"|"+R+"|"+N+")",e.hierPartCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+R+")",e.relativeRef="(?:(?:\\/\\/"+x+O+")|"+I+"|"+C+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+C+"|)",e.query="["+o+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+o+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+o+"\\/\\?]*",e}};a.rfc3986=a.generate(),t.ip={v4Cidr:a.rfc3986.ipv4Cidr,v6Cidr:a.rfc3986.ipv6Cidr,ipv4:a.rfc3986.ipv4address,ipv6:a.rfc3986.ipv6address,ipvfuture:a.rfc3986.ipvFuture},a.createRegex=function(e){var t=a.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",o=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return a.wrap(o+r);var s="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");var u=[].concat(e.scheme);n(u.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],l=0;l<u.length;++l){var f=u[l];n(f instanceof RegExp||"string"==typeof f,"scheme at position "+l+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(n(t.schemeRegex.test(f),"scheme at position "+l+" must be a valid scheme"),c.push(i(f)))}s=c.join("|")}var h="(?:"+(s?"(?:"+s+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",d=e.allowRelative?"(?:"+h+"|"+o+")":h;return a.wrap(d+r,s)},a.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(e),regex:new RegExp("^".concat(e,"$")),scheme:t}},a.uriRegex=a.createRegex({}),t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?a.createRegex(e):a.uriRegex}},1447:function(e,t){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=function(){function e(t){var n;A(this,e);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i[r.settings]&&i.constants)for(var a in i.constants){var o=i.constants[a];if(null!==o&&!["boolean","number","string"].includes(typeof o))throw new Error("Formula constant ".concat(a," contains invalid ").concat(typeof o," value type"))}this.settings=i[r.settings]?i:Object.assign((b(n={},r.settings,!0),b(n,"constants",{}),b(n,"functions",{}),n),i),this.single=null,this._parts=null,this._parse(t)}return O(e,[{key:"_parse",value:function(e){var n,i=this,a=[],o="",s=0,u=!1,c=function(e){if(s)throw new Error("Formula missing closing parenthesis");var n=a.length?a[a.length-1]:null;if(u||o||e){if(n&&"reference"===n.type&&")"===e)return n.type="function",n.value=i._subFormula(o,n.value),void(o="");if(")"===e){var c=new t.Parser(o,i.settings);a.push({type:"segment",value:c})}else if(u){if("]"===u)return a.push({type:"reference",value:o}),void(o="");a.push({type:"literal",value:o})}else if(r.operatorCharacters.includes(o))n&&"operator"===n.type&&r.operators.includes(n.value+o)?n.value+=o:a.push({type:"operator",value:o});else if(o.match(r.numberRx))a.push({type:"constant",value:parseFloat(o)});else if(void 0!==i.settings.constants[o])a.push({type:"constant",value:i.settings.constants[o]});else{if(!o.match(r.tokenRx))throw new Error("Formula contains invalid token: ".concat(o));a.push({type:"reference",value:o})}o=""}},l=k(e);try{for(l.s();!(n=l.n()).done;){var f=n.value;u?f===u?(c(),u=!1):o+=f:s?"("===f?(o+=f,++s):")"===f?--s?o+=f:c(f):o+=f:f in r.literals?u=r.literals[f]:"("===f?(c(),++s):r.operatorCharacters.includes(f)?(c(),o=f,c()):" "!==f?o+=f:c()}}catch(m){l.e(m)}finally{l.f()}c(),a=a.map((function(e,t){return"operator"!==e.type||"-"!==e.value||t&&"operator"!==a[t-1].type?e:{type:"operator",value:"n"}}));var h,d=!1,p=k(a);try{for(p.s();!(h=p.n()).done;){var v=h.value;if("operator"===v.type){if(r.operatorsPrefix.includes(v.value))continue;if(!d)throw new Error("Formula contains an operator in invalid position");if(!r.operators.includes(v.value))throw new Error("Formula contains an unknown operator ".concat(v.value))}else if(d)throw new Error("Formula missing expected operator");d=!d}}catch(m){p.e(m)}finally{p.f()}if(!d)throw new Error("Formula contains invalid trailing operator");1===a.length&&["reference","literal","constant"].includes(a[0].type)&&(this.single={type:"reference"===a[0].type?"reference":"value",value:a[0].value}),this._parts=a.map((function(e){if("operator"===e.type)return r.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(i.settings.tokenRx&&!i.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference ".concat(e.value));return i.settings.reference?i.settings.reference(e.value):r.reference(e.value)}))}},{key:"_subFormula",value:function(e,n){var i=this,a=this.settings.functions[n];if("function"!=typeof a)throw new Error("Formula contains unknown function ".concat(n));var o=[];if(e){for(var s="",u=0,c=!1,l=function(){if(!s)throw new Error("Formula contains function ".concat(n," with invalid arguments ").concat(e));o.push(s),s=""},f=0;f<e.length;++f){var h=e[f];c?(s+=h,h===c&&(c=!1)):h in r.literals&&!u?(s+=h,c=r.literals[h]):","!==h||u?(s+=h,"("===h?++u:")"===h&&--u):l()}l()}return o=o.map((function(e){return new t.Parser(e,i.settings)})),function(e){var t,r=[],n=k(o);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(i.evaluate(e))}}catch(s){n.e(s)}finally{n.f()}return a.call.apply(a,[e].concat(r))}}},{key:"evaluate",value:function(e){for(var t=this._parts.slice(),n=t.length-2;n>=0;--n){var i=t[n];if(i&&"operator"===i.type){var a=t[n+1];t.splice(n+1,1);var o=r.evaluate(a,e);t[n]=r.single(i.value,o)}}return r.operatorsOrder.forEach((function(n){for(var i=1;i<t.length-1;)if(n.includes(t[i])){var a=t[i],o=r.evaluate(t[i-1],e),s=r.evaluate(t[i+1],e);t.splice(i,2);var u=r.calculate(a,o,s);t[i-1]=0===u?0:u}else i+=2})),r.evaluate(t[0],e)}}]),e}(),t.Parser.prototype[r.symbol]=!0,r.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},r.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[r.symbol]?e.evaluate(t):e},r.single=function(e,t){if("!"===e)return!t;var r=-t;return 0===r?0:r},r.calculate=function(e,t,n){if("??"===e)return r.exists(t)?t:n;if("string"==typeof t||"string"==typeof n){if("+"===e)return(t=r.exists(t)?t:"")+(r.exists(n)?n:"")}else switch(e){case"^":return Math.pow(t,n);case"*":return t*n;case"/":return t/n;case"%":return t%n;case"+":return t+n;case"-":return t-n}switch(e){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"==":return t===n;case"!=":return t!==n;case"&&":return t&&n;case"||":return t||n}return null},r.exists=function(e){return null!=e}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(e){e.exports={version:"17.9.1"}}},n={},function e(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return r[t](a,a.exports,e),a.exports}(5107))}(Ca);var Na=g(Ca.exports);function Pa(e,t){var r=e.validate(t);return r.error?r:null}var Ma=s("aZ",Na.alternatives().try(Na.string().pattern(/^0x[0-9a-fA-F]+$/),Na.number().positive())),ja=s("a_",Na.string().valid("evm")),Ta=s("a$",Na.object({url:Na.string().required(),headers:Na.object(),user:Na.string(),password:Na.string(),allowInsecureAuthentication:Na.boolean(),allowGzip:Na.boolean(),throttleLimit:Na.number(),throttleSlotInterval:Na.number(),throttleCallback:Na.function(),timeout:Na.number()})),La=Na.object({address:Na.string().required(),icon:Na.string().optional()}),$a=s("b0",Na.object({namespace:ja,id:Ma.required(),rpcUrl:Na.string(),label:Na.string(),token:Na.string(),secondaryTokens:Na.array().max(5).items(La).optional(),icon:Na.string(),color:Na.string(),publicRpcUrl:Na.string(),protectedRpcUrl:Na.string(),blockExplorerUrl:Na.string(),providerConnectionInfoValidation:Ta})),Da={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=1,i=2,a=1/0,o=9007199254740991,s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",m="[object Object]",g="[object Promise]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",k="[object WeakMap]",E="[object ArrayBuffer]",A="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/,I=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,N=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[s]=M[u]=M[E]=M[c]=M[A]=M[l]=M[f]=M[h]=M[p]=M[v]=M[m]=M[y]=M[b]=M[w]=M[k]=!1;var j="object"==typeof x&&x&&x.Object===Object&&x,T="object"==typeof self&&self&&self.Object===Object&&self,L=j||T||Function("return this")(),$=t&&!t.nodeType&&t,D=$&&e&&!e.nodeType&&e,U=D&&D.exports===$&&j.process,F=function(){try{return U&&U.binding("util")}catch(e){}}(),B=F&&F.isTypedArray;function q(e,t,r,n){for(var i=-1,a=e?e.length:0;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function z(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var G,K,Z,Y=Array.prototype,J=Function.prototype,Q=Object.prototype,X=L["__core-js_shared__"],ee=(G=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",te=J.toString,re=Q.hasOwnProperty,ne=Q.toString,ie=RegExp("^"+te.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=L.Symbol,oe=L.Uint8Array,se=Q.propertyIsEnumerable,ue=Y.splice,ce=(K=Object.keys,Z=Object,function(e){return K(Z(e))}),le=Ve(L,"DataView"),fe=Ve(L,"Map"),he=Ve(L,"Promise"),de=Ve(L,"Set"),pe=Ve(L,"WeakMap"),ve=Ve(Object,"create"),me=Xe(le),ge=Xe(fe),ye=Xe(he),be=Xe(de),we=Xe(pe),_e=ae?ae.prototype:void 0,ke=_e?_e.valueOf:void 0,xe=_e?_e.toString:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){var t=-1,r=e?e.length:0;for(this.__data__=new Se;++t<r;)this.add(e[t])}function Ie(e){this.__data__=new Ae(e)}function Re(e,t){var r=ot(e)||at(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var a in e)!t&&!re.call(e,a)||i&&("length"==a||Ge(a,n))||r.push(a);return r}function Ce(e,t){for(var r=e.length;r--;)if(it(e[r][0],t))return r;return-1}function Ne(e,t,r,n){return je(e,(function(e,i,a){t(n,e,r(e),a)})),n}Ee.prototype.clear=function(){this.__data__=ve?ve(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(ve){var n=t[e];return n===r?void 0:n}return re.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:re.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?r:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,r=Ce(t,e);return!(r<0)&&(r==t.length-1?t.pop():ue.call(t,r,1),!0)},Ae.prototype.get=function(e){var t=this.__data__,r=Ce(t,e);return r<0?void 0:t[r][1]},Ae.prototype.has=function(e){return Ce(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var r=this.__data__,n=Ce(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Se.prototype.clear=function(){this.__data__={hash:new Ee,map:new(fe||Ae),string:new Ee}},Se.prototype.delete=function(e){return He(this,e).delete(e)},Se.prototype.get=function(e){return He(this,e).get(e)},Se.prototype.has=function(e){return He(this,e).has(e)},Se.prototype.set=function(e,t){return He(this,e).set(e,t),this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,r),this},Oe.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.clear=function(){this.__data__=new Ae},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ae){var n=r.__data__;if(!fe||n.length<199)return n.push([e,t]),this;r=this.__data__=new Se(n)}return r.set(e,t),this};var Pe,Me,je=(Pe=function(e,t){return e&&Te(e,t,pt)},function(e,t){if(null==e)return e;if(!st(e))return Pe(e,t);for(var r=e.length,n=Me?r:-1,i=Object(e);(Me?n--:++n<r)&&!1!==t(i[n],n,i););return e}),Te=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}();function Le(e,t){for(var r=0,n=(t=Ke(t,e)?[t]:qe(t)).length;null!=e&&r<n;)e=e[Qe(t[r++])];return r&&r==n?e:void 0}function $e(e,t){return null!=e&&t in Object(e)}function De(e,t,r,a,o){return e===t||(null==e||null==t||!lt(e)&&!ft(t)?e!=e&&t!=t:function(e,t,r,a,o,h){var d=ot(e),g=ot(t),k=u,x=u;d||(k=(k=We(e))==s?m:k);g||(x=(x=We(t))==s?m:x);var S=k==m&&!H(e),O=x==m&&!H(t),I=k==x;if(I&&!S)return h||(h=new Ie),d||dt(e)?ze(e,t,r,a,o,h):function(e,t,r,a,o,s,u){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!a(new oe(e),new oe(t)));case c:case l:case v:return it(+e,+t);case f:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case p:var h=V;case b:var d=s&i;if(h||(h=W),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;s|=n,u.set(e,t);var g=ze(h(e),h(t),a,o,s,u);return u.delete(e),g;case _:if(ke)return ke.call(e)==ke.call(t)}return!1}(e,t,k,r,a,o,h);if(!(o&i)){var R=S&&re.call(e,"__wrapped__"),C=O&&re.call(t,"__wrapped__");if(R||C){var N=R?e.value():e,P=C?t.value():t;return h||(h=new Ie),r(N,P,a,o,h)}}if(!I)return!1;return h||(h=new Ie),function(e,t,r,n,a,o){var s=a&i,u=pt(e),c=u.length,l=pt(t),f=l.length;if(c!=f&&!s)return!1;var h=c;for(;h--;){var d=u[h];if(!(s?d in t:re.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var v=!0;o.set(e,t),o.set(t,e);var m=s;for(;++h<c;){var g=e[d=u[h]],y=t[d];if(n)var b=s?n(y,g,d,t,e,o):n(g,y,d,e,t,o);if(!(void 0===b?g===y||r(g,y,n,a,o):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,r,a,o,h)}(e,t,De,r,a,o))}function Ue(e){return!(!lt(e)||function(e){return!!ee&&ee in e}(e))&&(ut(e)||H(e)?ie:N).test(Xe(e))}function Fe(e){return"function"==typeof e?e:null==e?vt:"object"==typeof e?ot(e)?function(e,t){if(Ke(e)&&Ze(t))return Ye(Qe(e),t);return function(r){var a=function(e,t,r){var n=null==e?void 0:Le(e,t);return void 0===n?r:n}(r,e);return void 0===a&&a===t?function(e,t){return null!=e&&function(e,t,r){t=Ke(t,e)?[t]:qe(t);var n,i=-1,a=t.length;for(;++i<a;){var o=Qe(t[i]);if(!(n=null!=e&&r(e,o)))break;e=e[o]}if(n)return n;a=e?e.length:0;return!!a&&ct(a)&&Ge(o,a)&&(ot(e)||at(e))}(e,t,$e)}(r,e):De(t,a,void 0,n|i)}}(e[0],e[1]):function(e){var t=function(e){var t=pt(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ze(i)]}return t}(e);if(1==t.length&&t[0][2])return Ye(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,a){var o=r.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=r[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=r[o])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new Ie;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?De(h,f,a,n|i,d):p))return!1}}return!0}(r,e,t)}}(e):Ke(t=e)?function(e){return function(t){return null==t?void 0:t[e]}}(Qe(t)):function(e){return function(t){return Le(t,e)}}(t);var t}function Be(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||Q,t!==n)return ce(e);var t,r,n,i=[];for(var a in Object(e))re.call(e,a)&&"constructor"!=a&&i.push(a);return i}function qe(e){return ot(e)?e:Je(e)}function ze(e,t,r,a,o,s){var u=o&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var h=-1,d=!0,p=o&n?new Oe:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var v=e[h],m=t[h];if(a)var g=u?a(m,v,h,t,e,s):a(v,m,h,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!z(t,(function(e,t){if(!p.has(t)&&(v===e||r(v,e,a,o,s)))return p.add(t)}))){d=!1;break}}else if(v!==m&&!r(v,m,a,o,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function He(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ve(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ue(r)?r:void 0}var We=function(e){return ne.call(e)};function Ge(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ke(e,t){if(ot(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ht(e))||(O.test(e)||!S.test(e)||null!=t&&e in Object(t))}function Ze(e){return e==e&&!lt(e)}function Ye(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(le&&We(new le(new ArrayBuffer(1)))!=A||fe&&We(new fe)!=p||he&&We(he.resolve())!=g||de&&We(new de)!=b||pe&&We(new pe)!=k)&&(We=function(e){var t=ne.call(e),r=t==m?e.constructor:void 0,n=r?Xe(r):void 0;if(n)switch(n){case me:return A;case ge:return p;case ye:return g;case be:return b;case we:return k}return t});var Je=nt((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ht(e))return xe?xe.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var r=[];return I.test(e)&&r.push(""),e.replace(R,(function(e,t,n,i){r.push(n?i.replace(C,"$1"):t||e)})),r}));function Qe(e){if("string"==typeof e||ht(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function Xe(e){if(null!=e){try{return te.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var et,tt,rt=(et=function(e,t,r){e[r?0:1].push(t)},tt=function(){return[[],[]]},function(e,t){var r=ot(e)?q:Ne,n=tt?tt():{};return r(e,et,Fe(t),n)});function nt(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o),o};return r.cache=new(nt.Cache||Se),r}function it(e,t){return e===t||e!=e&&t!=t}function at(e){return function(e){return ft(e)&&st(e)}(e)&&re.call(e,"callee")&&(!se.call(e,"callee")||ne.call(e)==s)}nt.Cache=Se;var ot=Array.isArray;function st(e){return null!=e&&ct(e.length)&&!ut(e)}function ut(e){var t=lt(e)?ne.call(e):"";return t==h||t==d}function ct(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function lt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ft(e){return!!e&&"object"==typeof e}function ht(e){return"symbol"==typeof e||ft(e)&&ne.call(e)==_}var dt=B?function(e){return function(t){return e(t)}}(B):function(e){return ft(e)&&ct(e.length)&&!!M[ne.call(e)]};function pt(e){return st(e)?Re(e):Be(e)}function vt(e){return e}e.exports=rt}(Da,Da.exports);var Ua=g(Da.exports),Fa={exports:{}},Ba=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),qa=s("bA",E(Ba));!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:qa.Buffer}catch(E){}function o(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function s(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(o=(i=0|e.words[p])*(a=0|t.words[d])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);n=0!==(a=s>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?v+n:c[h-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,h=l>>>13,d=0|o[1],p=8191&d,v=d>>>13,m=0|o[2],g=8191&m,y=m>>>13,b=0|o[3],w=8191&b,_=b>>>13,k=0|o[4],x=8191&k,E=k>>>13,A=0|o[5],S=8191&A,O=A>>>13,I=0|o[6],R=8191&I,C=I>>>13,N=0|o[7],P=8191&N,M=N>>>13,j=0|o[8],T=8191&j,L=j>>>13,$=0|o[9],D=8191&$,U=$>>>13,F=0|s[0],B=8191&F,q=F>>>13,z=0|s[1],H=8191&z,V=z>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,J=Z>>>13,Q=0|s[4],X=8191&Q,ee=Q>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,B))|0)+((8191&(i=(i=Math.imul(f,q))+Math.imul(h,B)|0))<<13)|0;c=((a=Math.imul(h,q))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,B),i=(i=Math.imul(p,q))+Math.imul(v,B)|0,a=Math.imul(v,q);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,H)|0))<<13)|0;c=((a=a+Math.imul(h,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,B),i=(i=Math.imul(g,q))+Math.imul(y,B)|0,a=Math.imul(y,q),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,V)|0;var ye=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,G)|0))<<13)|0;c=((a=a+Math.imul(h,K)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,B),i=(i=Math.imul(w,q))+Math.imul(_,B)|0,a=Math.imul(_,q),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(y,H)|0,a=a+Math.imul(y,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(v,G)|0,a=a+Math.imul(v,K)|0;var be=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Y)|0))<<13)|0;c=((a=a+Math.imul(h,J)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,B),i=(i=Math.imul(x,q))+Math.imul(E,B)|0,a=Math.imul(E,q),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,H)|0,a=a+Math.imul(_,V)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(y,G)|0,a=a+Math.imul(y,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,a=a+Math.imul(v,J)|0;var we=(c+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,X)|0))<<13)|0;c=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,B),i=(i=Math.imul(S,q))+Math.imul(O,B)|0,a=Math.imul(O,q),n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,K)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,a=a+Math.imul(y,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,X)|0,a=a+Math.imul(v,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,B),i=(i=Math.imul(R,q))+Math.imul(C,B)|0,a=Math.imul(C,q),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,V)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(E,G)|0,a=a+Math.imul(E,K)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Y)|0,a=a+Math.imul(_,J)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,X)|0,a=a+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(v,re)|0,a=a+Math.imul(v,ne)|0;var ke=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(h,ae)|0))<<13)|0;c=((a=a+Math.imul(h,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(P,B),i=(i=Math.imul(P,q))+Math.imul(M,B)|0,a=Math.imul(M,q),n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(O,G)|0,a=a+Math.imul(O,K)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(E,Y)|0,a=a+Math.imul(E,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,X)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,a=a+Math.imul(y,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,oe)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((a=a+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(T,B),i=(i=Math.imul(T,q))+Math.imul(L,B)|0,a=Math.imul(L,q),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(M,H)|0,a=a+Math.imul(M,V)|0,n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(C,G)|0,a=a+Math.imul(C,K)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,J)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(E,X)|0,a=a+Math.imul(E,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,ce)|0;var Ee=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,B),i=(i=Math.imul(D,q))+Math.imul(U,B)|0,a=Math.imul(U,q),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(L,H)|0,a=a+Math.imul(L,V)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(M,G)|0,a=a+Math.imul(M,K)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(O,X)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(E,re)|0,a=a+Math.imul(E,ne)|0,n=n+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(y,ue)|0,a=a+Math.imul(y,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(v,fe)|0,a=a+Math.imul(v,he)|0;var Ae=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ve)|0)+Math.imul(h,pe)|0))<<13)|0;c=((a=a+Math.imul(h,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,H),i=(i=Math.imul(D,V))+Math.imul(U,H)|0,a=Math.imul(U,V),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(L,G)|0,a=a+Math.imul(L,K)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,J)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(C,X)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,a=a+Math.imul(_,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(y,fe)|0,a=a+Math.imul(y,he)|0;var Se=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;c=((a=a+Math.imul(v,ve)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,K))+Math.imul(U,G)|0,a=Math.imul(U,K),n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(M,X)|0,a=a+Math.imul(M,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,he)|0;var Oe=(c+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ve)|0)+Math.imul(y,pe)|0))<<13)|0;c=((a=a+Math.imul(y,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,J))+Math.imul(U,Y)|0,a=Math.imul(U,J),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(L,X)|0,a=a+Math.imul(L,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(M,re)|0,a=a+Math.imul(M,ne)|0,n=n+Math.imul(R,ae)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(E,fe)|0,a=a+Math.imul(E,he)|0;var Ie=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ve)|0)+Math.imul(_,pe)|0))<<13)|0;c=((a=a+Math.imul(_,ve)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,X),i=(i=Math.imul(D,ee))+Math.imul(U,X)|0,a=Math.imul(U,ee),n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(L,re)|0,a=a+Math.imul(L,ne)|0,n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,oe)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,he)|0;var Re=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ve)|0)+Math.imul(E,pe)|0))<<13)|0;c=((a=a+Math.imul(E,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,a=Math.imul(U,ne),n=n+Math.imul(T,ae)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,ce)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,he)|0;var Ce=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(O,pe)|0))<<13)|0;c=((a=a+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ae),i=(i=Math.imul(D,oe))+Math.imul(U,ae)|0,a=Math.imul(U,oe),n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,ce)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(M,fe)|0,a=a+Math.imul(M,he)|0;var Ne=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(C,pe)|0))<<13)|0;c=((a=a+Math.imul(C,ve)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,ce))+Math.imul(U,ue)|0,a=Math.imul(U,ce),n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,he)|0)+Math.imul(L,fe)|0,a=a+Math.imul(L,he)|0;var Pe=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(M,pe)|0))<<13)|0;c=((a=a+Math.imul(M,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,he))+Math.imul(U,fe)|0,a=Math.imul(U,he);var Me=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ve)|0)+Math.imul(L,pe)|0))<<13)|0;c=((a=a+Math.imul(L,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var je=(c+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ve))+Math.imul(U,pe)|0))<<13)|0;return c=((a=Math.imul(U,ve))+(i>>>13)|0)+(je>>>26)|0,je&=67108863,u[0]=me,u[1]=ge,u[2]=ye,u[3]=be,u[4]=we,u[5]=_e,u[6]=ke,u[7]=xe,u[8]=Ee,u[9]=Ae,u[10]=Se,u[11]=Oe,u[12]=Ie,u[13]=Re,u[14]=Ce,u[15]=Ne,u[16]=Pe,u[17]=Me,u[18]=je,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new v).mulp(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(d=h),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},v.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,h=c,d=0;d<o;d++){var p=r[l+d],v=n[l+d],m=r[l+d+o],g=n[l+d+o],y=f*m-h*g;g=f*g+h*m,m=y,r[l+d]=p+m,n[l+d]=v+g,r[l+d+o]=p-m,n[l+d+o]=v-g,d!==s&&(y=u*f-c*h,h=u*h+c*f,f=y)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===a),r(0==(-8192&a))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,h,a,n,i),this.conjugate(h,a,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<n;this.words[t]=u|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=n;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,o=0|a.words[a.length-1];0!==(r=26-this._countBits(o))&&(a=a.ushln(r),n.iushln(r),o=0|a.words[a.length-1]);var s,u=n.length-a.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(a,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(a,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(a=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:a,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(a=s.div.neg()),{div:a,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,o,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),o=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(a.isOdd()||o.isOdd())&&(a.iadd(l),o.isub(f)),a.iushrn(1),o.iushrn(1);for(var p=0,v=1;0==(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s),o.isub(u)):(n.isub(t),s.isub(a),u.isub(o))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,o=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(a=0===t.cmpn(1)?o:s).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new k(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},n(y,g),y.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(b,g),n(w,g),n(_,g),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),o=0;!a.isZero()&&0===a.andln(1);)o++,a.iushrn(1);r(!a.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,a),h=this.pow(e,a.addn(1).iushrn(1)),d=this.pow(e,a),p=o;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();r(m<p);var g=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(g),f=g.redSqr(),d=d.redMul(f),p=m}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===n&&0===l)&&(a=this.mul(a,r[o]),s=0,o=0)):s=0}u=26}return a},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new x(e)},n(x,k),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,x)}(Fa);var za=g(Fa.exports),Ha=!1,Va=!1,Wa={debug:1,default:2,info:2,warning:3,error:4,off:5},Ga=Wa.default,Ka=null;var Za,Ya,Ja=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Za||(Za={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Ya||(Ya={}));var Qa="0123456789abcdef",Xa=function(){function e(t){A(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return O(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==Wa[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Ga>Wa[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(Va)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",a=0;a<t.length;a++)r+=Qa[t[a]>>4],r+=Qa[15&t[a]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(o){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var a=t;i.length&&(t+=" ("+i.join(", ")+")");var o=new Error(t);return o.reason=a,o.code=r,Object.keys(n).forEach((function(e){o[e]=n[e]})),o}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){Ja&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ja})}},{key:"checkSafeUint53",value:function(t,r){"number"==typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return Ka||(Ka=new e("logger/5.5.0")),Ka}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ha){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Va=!!t,Ha=!!r}},{key:"setLogLevel",value:function(t){var r=Wa[t.toLowerCase()];null!=r?Ga=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();s("bc",Xa),Xa.errors=Ya,Xa.levels=Za;var eo=new Xa("bytes/5.5.0");function to(e){return!!e.toHexString}function ro(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return ro(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function no(e){return co(e)&&!(e.length%2)||ao(e)}function io(e){return"number"==typeof e&&e==e&&e%1==0}function ao(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!io(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!io(r)||r<0||r>=256)return!1}return!0}function oo(e,t){if(t||(t={}),"number"==typeof e){eo.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),ro(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),to(e)&&(e=e.toHexString()),co(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":eo.throwArgumentError("hex data is odd-length","value",e));for(var i=[],a=0;a<n.length;a+=2)i.push(parseInt(n.substring(a,a+2),16));return ro(new Uint8Array(i))}return ao(e)?ro(new Uint8Array(e)):eo.throwArgumentError("invalid arrayify value","value",e)}function so(e){var t=e.map((function(e){return oo(e)})),r=t.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(r);return t.reduce((function(e,t){return n.set(t,e),e+t.length}),0),ro(n)}function uo(e){var t=oo(e);if(0===t.length)return t;for(var r=0;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function co(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var lo="0123456789abcdef";function fo(e,t){if(t||(t={}),"number"==typeof e){eo.checkSafeUint53(e,"invalid hexlify value");for(var r="";e;)r=lo[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),to(e))return e.toHexString();if(co(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":eo.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(ao(e)){for(var n="0x",i=0;i<e.length;i++){var a=e[i];n+=lo[(240&a)>>4]+lo[15&a]}return n}return eo.throwArgumentError("invalid hexlify value","value",e)}function ho(e){if("string"!=typeof e)e=fo(e);else if(!co(e)||e.length%2)return null;return(e.length-2)/2}function po(e,t,r){return"string"!=typeof e?e=fo(e):(!co(e)||e.length%2)&&eo.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function vo(e){var t="0x";return e.forEach((function(e){t+=fo(e).substring(2)})),t}function mo(e){var t=function(e){"string"!=typeof e&&(e=fo(e));co(e)||eo.throwArgumentError("invalid hex string","value",e);e=e.substring(2);var t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(fo(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function go(e,t){for("string"!=typeof e?e=fo(e):co(e)||eo.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&eo.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function yo(e){var t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(no(e)){var r=oo(e);65!==r.length&&eo.throwArgumentError("invalid signature string; must be 65 bytes","signature",e),t.r=fo(r.slice(0,32)),t.s=fo(r.slice(32,64)),t.v=r[64],t.v<27&&(0===t.v||1===t.v?t.v+=27:eo.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=fo(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var n=function(e,t){(e=oo(e)).length>t&&eo.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(t);return r.set(e,t-e.length),ro(r)}(oo(t._vs),32);t._vs=fo(n);var i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&eo.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;var a=fo(n);null==t.s?t.s=a:t.s!==a&&eo.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?eo.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var o=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==o&&eo.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&co(t.r)?t.r=go(t.r,32):eo.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&co(t.s)?t.s=go(t.s,32):eo.throwArgumentError("signature missing or invalid s","signature",e);var s=oo(t.s);s[0]>=128&&eo.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(s[0]|=128);var u=fo(s);t._vs&&(co(t._vs)||eo.throwArgumentError("signature invalid _vs","signature",e),t._vs=go(t._vs,32)),null==t._vs?t._vs=u:t._vs!==u&&eo.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t}var bo=za.BN,wo=new Xa("bignumber/5.5.0"),_o={},ko=9007199254740991,xo=!1,Eo=function(){function e(t,r){A(this,e),wo.checkNew(this instanceof e?this.constructor:void 0,e),t!==_o&&wo.throwError("cannot call constructor directly; use BigNumber.from",Xa.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return O(e,[{key:"fromTwos",value:function(e){return So(Oo(this).fromTwos(e))}},{key:"toTwos",value:function(e){return So(Oo(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return So(Oo(this).add(Oo(e)))}},{key:"sub",value:function(e){return So(Oo(this).sub(Oo(e)))}},{key:"div",value:function(t){return e.from(t).isZero()&&Io("division by zero","div"),So(Oo(this).div(Oo(t)))}},{key:"mul",value:function(e){return So(Oo(this).mul(Oo(e)))}},{key:"mod",value:function(e){var t=Oo(e);return t.isNeg()&&Io("cannot modulo negative values","mod"),So(Oo(this).umod(t))}},{key:"pow",value:function(e){var t=Oo(e);return t.isNeg()&&Io("cannot raise to negative values","pow"),So(Oo(this).pow(t))}},{key:"and",value:function(e){var t=Oo(e);return(this.isNegative()||t.isNeg())&&Io("cannot 'and' negative values","and"),So(Oo(this).and(t))}},{key:"or",value:function(e){var t=Oo(e);return(this.isNegative()||t.isNeg())&&Io("cannot 'or' negative values","or"),So(Oo(this).or(t))}},{key:"xor",value:function(e){var t=Oo(e);return(this.isNegative()||t.isNeg())&&Io("cannot 'xor' negative values","xor"),So(Oo(this).xor(t))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&Io("cannot mask negative values","mask"),So(Oo(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&Io("cannot shift negative values","shl"),So(Oo(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&Io("cannot shift negative values","shr"),So(Oo(this).shrn(e))}},{key:"eq",value:function(e){return Oo(this).eq(Oo(e))}},{key:"lt",value:function(e){return Oo(this).lt(Oo(e))}},{key:"lte",value:function(e){return Oo(this).lte(Oo(e))}},{key:"gt",value:function(e){return Oo(this).gt(Oo(e))}},{key:"gte",value:function(e){return Oo(this).gte(Oo(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Oo(this).isZero()}},{key:"toNumber",value:function(){try{return Oo(this).toNumber()}catch(e){Io("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return wo.throwError("this platform does not support BigInt",Xa.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?xo||(xo=!0,wo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?wo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Xa.errors.UNEXPECTED_ARGUMENT,{}):wo.throwError("BigNumber.toString does not accept parameters",Xa.errors.UNEXPECTED_ARGUMENT,{})),Oo(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(t){if(t instanceof e)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(_o,Ao(t)):t.match(/^-?[0-9]+$/)?new e(_o,Ao(new bo(t))):wo.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Io("underflow","BigNumber.from",t),(t>=ko||t<=-ko)&&Io("overflow","BigNumber.from",t),e.from(String(t));var r=t;if("bigint"==typeof r)return e.from(r.toString());if(ao(r))return e.from(fo(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"==typeof n)return e.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"==typeof i&&(co(i)||"-"===i[0]&&co(i.substring(1))))return e.from(i)}return wo.throwArgumentError("invalid BigNumber value","value",t)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function Ao(e){if("string"!=typeof e)return Ao(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&wo.throwArgumentError("invalid hex","value",e),"0x00"===(e=Ao(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function So(e){return Eo.from(Ao(e))}function Oo(e){var t=Eo.from(e).toHexString();return"-"===t[0]?new bo("-"+t.substring(3),16):new bo(t.substring(2),16)}function Io(e,t,r){var n={fault:e,operation:t};return null!=r&&(n.value=r),wo.throwError(e,Xa.errors.NUMERIC_FAULT,n)}s("aR",Eo);var Ro=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Co=new Xa("properties/5.5.0");function No(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function Po(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function Mo(e){return Ro(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.keys(e).map((function(t){var r=e[t];return Promise.resolve(r).then((function(e){return{key:t,value:e}}))})),t.next=3,Promise.all(r);case 3:return n=t.sent,t.abrupt("return",n.reduce((function(e,t){return e[t.key]=t.value,e}),{}));case 5:case"end":return t.stop()}}),t)})))}function jo(e,t){e&&"object"==typeof e||Co.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(r){t[r]||Co.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function To(e){var t={};for(var r in e)t[r]=e[r];return t}var Lo={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function $o(e){if(null==e||Lo[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;for(var t=Object.keys(e),r=0;r<t.length;r++){var n=null;try{n=e[t[r]]}catch(i){continue}if(!$o(n))return!1}return!0}return Co.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function Do(e){if($o(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return Uo(e)})));if("object"==typeof e){var t={};for(var r in e){var n=e[r];void 0!==n&&No(t,r,Uo(n))}return t}return Co.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function Uo(e){return Do(e)}var Fo=O((function e(t){for(var r in A(this,e),t)this[r]=Uo(t[r])})),Bo="abi/5.5.0",qo=new Xa(Bo),zo={},Ho={calldata:!0,memory:!0,storage:!0},Vo={calldata:!0,memory:!0};function Wo(e,t){if("bytes"===e||"string"===e){if(Ho[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Vo[t])return!0;return(Ho[t]||"payable"===t)&&qo.throwArgumentError("invalid modifier","name",t),!1}function Go(e,t){for(var r in t)No(e,r,t[r])}var Ko=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Zo=new RegExp(/^(.*)\[([0-9]*)\]$/),Yo=function(){function e(t,r){A(this,e),t!==zo&&qo.throwError("use fromString",Xa.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Go(this,r);var n=this.type.match(Zo);Go(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:e.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return O(e,[{key:"format",value:function(e){if(e||(e=Ko.sighash),Ko[e]||qo.throwArgumentError("invalid format type","format",e),e===Ko.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(t)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Ko.sighash&&(r+=this.type),r+="("+this.components.map((function(t){return t.format(e)})).join(e===Ko.full?", ":",")+")"):r+=this.type,e!==Ko.sighash&&(!0===this.indexed&&(r+=" indexed"),e===Ko.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(t,r){return"string"==typeof t?e.fromString(t,r):e.fromObject(t)}},{key:"fromObject",value:function(t){return e.isParamType(t)?t:new e(zo,{name:t.name||null,type:ss(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})}},{key:"fromString",value:function(t,r){return function(t){return e.fromObject({name:t.name,type:t.type,indexed:t.indexed,components:t.components})}(function(e,t){var r=e;function n(t){qo.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function i(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var a={type:"",name:"",state:{allowType:!0}},o=a,s=0;s<e.length;s++){var u=e[s];switch(u){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(s),o.state.allowType=!1,o.type=ss(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),Wo(o.type,o.name)&&(o.name=""),o.type=ss(o.type);var c=o;(o=o.parent)||n(s),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),Wo(o.type,o.name)&&(o.name=""),o.type=ss(o.type);var l=i(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&""!==o.type&&(o.type=ss(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(s),o.indexed&&n(s),o.indexed=!0,o.name=""):Wo(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(s),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(s),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(s)}}return o.parent&&qo.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Wo(o.type,o.name)&&(o.name=""),a.type=ss(a.type),a}(t,!!r))}},{key:"isParamType",value:function(e){return!(null==e||!e._isParamType)}}]),e}();function Jo(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,i=0;i<e.length;i++){var a=e[i];","===a&&0===n?(t.push(r),r=""):(r+=a,"("===a?n++:")"===a&&-1===--n&&qo.throwArgumentError("unbalanced parenthesis","value",e))}r&&t.push(r);return t}(e).map((function(e){return Yo.fromString(e,t)}))}var Qo=function(){function e(t,r){A(this,e),t!==zo&&qo.throwError("use a static from method",Xa.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Go(this,r),this._isFragment=!0,Object.freeze(this)}return O(e,null,[{key:"from",value:function(t){return e.isFragment(t)?t:"string"==typeof t?e.fromString(t):e.fromObject(t)}},{key:"fromObject",value:function(t){if(e.isFragment(t))return t;switch(t.type){case"function":return is.fromObject(t);case"event":return Xo.fromObject(t);case"constructor":return ns.fromObject(t);case"error":return os.fromObject(t);case"fallback":case"receive":return null}return qo.throwArgumentError("invalid fragment object","value",t)}},{key:"fromString",value:function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Xo.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?is.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?ns.fromString(e.trim()):"error"===e.split(" ")[0]?os.fromString(e.substring(5).trim()):qo.throwArgumentError("unsupported fragment","value",e)}},{key:"isFragment",value:function(e){return!(!e||!e._isFragment)}}]),e}(),Xo=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=Ko.sighash),Ko[e]||qo.throwArgumentError("invalid format type","format",e),e===Ko.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Ko.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Ko.full?", ":",")+") ",e!==Ko.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isEventFragment(e))return e;"event"!==e.type&&qo.throwArgumentError("invalid event object","value",e);var t={name:cs(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Yo.fromObject):[],type:"event"};return new r(zo,t)}},{key:"fromString",value:function(e){var t=e.match(ls);t||qo.throwArgumentError("invalid event string","value",e);var n=!1;return t[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:qo.warn("unknown modifier: "+e)}})),r.fromObject({name:t[1].trim(),anonymous:n,inputs:Jo(t[2],!0),type:"event"})}},{key:"isEventFragment",value:function(e){return e&&e._isFragment&&"event"===e.type}}]),r}(Qo);function es(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&qo.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||qo.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=Eo.from(r[1]),r[0]):e}function ts(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function rs(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&qo.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&qo.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||qo.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&qo.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&qo.throwArgumentError("unable to determine stateMutability","value",e),t}var ns=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=Ko.sighash),Ko[e]||qo.throwArgumentError("invalid format type","format",e),e===Ko.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});e===Ko.sighash&&qo.throwError("cannot format a constructor for sighash",Xa.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map((function(t){return t.format(e)})).join(e===Ko.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isConstructorFragment(e))return e;"constructor"!==e.type&&qo.throwArgumentError("invalid constructor object","value",e);var t=rs(e);t.constant&&qo.throwArgumentError("constructor cannot be constant","value",e);var n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Yo.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Eo.from(e.gas):null};return new r(zo,n)}},{key:"fromString",value:function(e){var t={type:"constructor"},n=(e=es(e,t)).match(ls);return n&&"constructor"===n[1].trim()||qo.throwArgumentError("invalid constructor string","value",e),t.inputs=Jo(n[2].trim(),!1),ts(n[3].trim(),t),r.fromObject(t)}},{key:"isConstructorFragment",value:function(e){return e&&e._isFragment&&"constructor"===e.type}}]),r}(Qo),is=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=Ko.sighash),Ko[e]||qo.throwArgumentError("invalid format type","format",e),e===Ko.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),outputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Ko.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Ko.full?", ":",")+") ",e!==Ko.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((function(t){return t.format(e)})).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isFunctionFragment(e))return e;"function"!==e.type&&qo.throwArgumentError("invalid function object","value",e);var t=rs(e),n={type:e.type,name:cs(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Yo.fromObject):[],outputs:e.outputs?e.outputs.map(Yo.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Eo.from(e.gas):null};return new r(zo,n)}},{key:"fromString",value:function(e){var t={type:"function"},n=(e=es(e,t)).split(" returns ");n.length>2&&qo.throwArgumentError("invalid function string","value",e);var i=n[0].match(ls);if(i||qo.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&cs(t.name),t.inputs=Jo(i[2],!1),ts(i[3].trim(),t),n.length>1){var a=n[1].match(ls);""==a[1].trim()&&""==a[3].trim()||qo.throwArgumentError("unexpected tokens","value",e),t.outputs=Jo(a[2],!1)}else t.outputs=[];return r.fromObject(t)}},{key:"isFunctionFragment",value:function(e){return e&&e._isFragment&&"function"===e.type}}]),r}(ns);function as(e){var t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||qo.throwArgumentError("cannot specify user defined ".concat(t," error"),"fragment",e),e}var os=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=Ko.sighash),Ko[e]||qo.throwArgumentError("invalid format type","format",e),e===Ko.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Ko.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Ko.full?", ":",")+") ").trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isErrorFragment(e))return e;"error"!==e.type&&qo.throwArgumentError("invalid error object","value",e);var t={type:e.type,name:cs(e.name),inputs:e.inputs?e.inputs.map(Yo.fromObject):[]};return as(new r(zo,t))}},{key:"fromString",value:function(e){var t={type:"error"},n=e.match(ls);return n||qo.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&cs(t.name),t.inputs=Jo(n[2],!1),as(r.fromObject(t))}},{key:"isErrorFragment",value:function(e){return e&&e._isFragment&&"error"===e.type}}]),r}(Qo);function ss(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var us=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function cs(e){return e&&e.match(us)||qo.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var ls=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var fs=new Xa(Bo);var hs=function(){function e(t,r,n,i){A(this,e),this.name=t,this.type=r,this.localName=n,this.dynamic=i}return O(e,[{key:"_throwError",value:function(e,t){fs.throwArgumentError(e,this.localName,t)}}]),e}(),ds=function(){function e(t){A(this,e),No(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}return O(e,[{key:"data",get:function(){return vo(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(e){return this._data.push(e),this._dataLength+=e.length,e.length}},{key:"appendWriter",value:function(e){return this._writeData(so(e._data))}},{key:"writeBytes",value:function(e){var t=oo(e),r=t.length%this.wordSize;return r&&(t=so([t,this._padding.slice(r)])),this._writeData(t)}},{key:"_getValue",value:function(e){var t=oo(Eo.from(e));return t.length>this.wordSize&&fs.throwError("value out-of-bounds",Xa.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=so([this._padding.slice(t.length%this.wordSize),t])),t}},{key:"writeValue",value:function(e){return this._writeData(this._getValue(e))}},{key:"writeUpdatableValue",value:function(){var e=this,t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){e._data[t]=e._getValue(r)}}}]),e}(),ps=function(){function e(t,r,n,i){A(this,e),No(this,"_data",oo(t)),No(this,"wordSize",r||32),No(this,"_coerceFunc",n),No(this,"allowLoose",i),this._offset=0}return O(e,[{key:"data",get:function(){return fo(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(t,r){return this._coerceFunc?this._coerceFunc(t,r):e.coerce(t,r)}},{key:"_peekBytes",value:function(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:fs.throwError("data out-of-bounds",Xa.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(e,t){var r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}},{key:"readValue",value:function(){return Eo.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}}]),e}(),vs={exports:{}};
/**
       * [js-sha3]{@link https://github.com/emn178/js-sha3}
       *
       * @version 0.8.0
       * @author Chen, Yi-Cyuan [emn178@gmail.com]
       * @copyright Chen, Yi-Cyuan 2015-2018
       * @license MIT
       */
!function(e){!function(){var t="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=x:i&&(n=self);var a=!n.JS_SHA3_NO_COMMON_JS&&e.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),u=[4,1024,262144,67108864],c=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],h=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!o||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,r){return function(n){return new N(e,t,e).update(n)[r]()}},m=function(e,t,r){return function(n,i){return new N(e,t,i).update(n)[r]()}},g=function(e,t,r){return function(t,n,i,a){return k["cshake"+e].update(t,n,i,a)[r]()}},y=function(e,t,r){return function(t,n,i,a){return k["kmac"+e].update(t,n,i,a)[r]()}},b=function(e,t,r,n){for(var i=0;i<d.length;++i){var a=d[i];e[a]=t(r,n,a)}return e},w=function(e,t){var r=v(e,t,"hex");return r.create=function(){return new N(e,t,e)},r.update=function(e){return r.create().update(e)},b(r,v,e,t)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(e,t){var r=m(e,t,"hex");return r.create=function(r){return new N(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},b(r,m,e,t)}},{name:"cshake",padding:u,bits:h,createMethod:function(e,t){var r=p[e],n=g(e,0,"hex");return n.create=function(n,i,a){return i||a?new N(e,t,n).bytepad([i,a],r):k["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},b(n,g,e,t)}},{name:"kmac",padding:u,bits:h,createMethod:function(e,t){var r=p[e],n=y(e,0,"hex");return n.create=function(n,i,a){return new P(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},b(n,y,e,t)}}],k={},E=[],A=0;A<_.length;++A)for(var S=_[A],O=S.bits,I=0;I<O.length;++I){var R=S.name+"_"+O[I];if(E.push(R),k[R]=S.createMethod(O[I],S.padding),"sha3"!==S.name){var C=S.name+O[I];E.push(C),k[C]=k[R]}}function N(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function P(e,t,r){N.call(this,e,t,r)}N.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,a,s=this.blocks,u=this.byteCount,l=e.length,f=this.blockCount,h=0,d=this.s;h<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<f+1;++i)s[i]=0;if(r)for(i=this.start;h<l&&i<u;++h)s[i>>2]|=e[h]<<c[3&i++];else for(i=this.start;h<l&&i<u;++h)(a=e.charCodeAt(h))<128?s[i>>2]|=a<<c[3&i++]:a<2048?(s[i>>2]|=(192|a>>6)<<c[3&i++],s[i>>2]|=(128|63&a)<<c[3&i++]):a<55296||a>=57344?(s[i>>2]|=(224|a>>12)<<c[3&i++],s[i>>2]|=(128|a>>6&63)<<c[3&i++],s[i>>2]|=(128|63&a)<<c[3&i++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++h)),s[i>>2]|=(240|a>>18)<<c[3&i++],s[i>>2]|=(128|a>>12&63)<<c[3&i++],s[i>>2]|=(128|a>>6&63)<<c[3&i++],s[i>>2]|=(128|63&a)<<c[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=s[f],i=0;i<f;++i)d[i]^=s[i];M(d),this.reset=!0}else this.start=i}return this},N.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},N.prototype.encodeString=function(e){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var i=0,a=e.length;if(r)i=a;else for(var s=0;s<e.length;++s){var u=e.charCodeAt(s);u<128?i+=1:u<2048?i+=2:u<55296||u>=57344?i+=3:(u=65536+((1023&u)<<10|1023&e.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(e),i},N.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,a=[];return a.length=i,this.update(a),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];M(n)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,u="";o<n;){for(a=0;a<t&&o<n;++a,++o)e=r[a],u+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];o%t==0&&(M(r),a=0)}return i&&(e=r[a],u+=s[e>>4&15]+s[15&e],i>1&&(u+=s[e>>12&15]+s[e>>8&15]),i>2&&(u+=s[e>>20&15]+s[e>>16&15])),u},N.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);o<n;){for(a=0;a<t&&o<n;++a,++o)u[o]=r[a];o%t==0&&M(r)}return i&&(u[a]=r[a],e=e.slice(0,s)),e},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<i;){for(o=0;o<r&&s<i;++o,++s)e=s<<2,t=n[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r==0&&M(n)}return a&&(e=s<<2,t=n[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},P.prototype=new N,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var M=function(e){var t,r,n,i,a,o,s,u,c,f,h,d,p,v,m,g,y,b,w,_,k,x,E,A,S,O,I,R,C,N,P,M,j,T,L,$,D,U,F,B,q,z,H,V,W,G,K,Z,Y,J,Q,X,ee,te,re,ne,ie,ae,oe,se,ue,ce,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|s>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|c>>>31),r=a^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(f<<1|h>>>31),r=s^(h<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(d<<1|p>>>31),r=c^(p<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|a>>>31),r=h^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,v=e[0],m=e[1],G=e[11]<<4|e[10]>>>28,K=e[10]<<4|e[11]>>>28,R=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,T=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,$=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,M=e[45]<<29|e[44]>>>3,j=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,k=e[37]<<21|e[36]>>>11,X=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,O=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,B=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=v^~g&b,e[1]=m^~y&w,e[10]=A^~O&R,e[11]=S^~I&C,e[20]=T^~$&U,e[21]=L^~D&F,e[30]=V^~G&Z,e[31]=W^~K&Y,e[40]=te^~ne&ae,e[41]=re^~ie&oe,e[2]=g^~b&_,e[3]=y^~w&k,e[12]=O^~R&N,e[13]=I^~C&P,e[22]=$^~U&B,e[23]=D^~F&q,e[32]=G^~Z&J,e[33]=K^~Y&Q,e[42]=ne^~ae&se,e[43]=ie^~oe&ue,e[4]=b^~_&x,e[5]=w^~k&E,e[14]=R^~N&M,e[15]=C^~P&j,e[24]=U^~B&z,e[25]=F^~q&H,e[34]=Z^~J&X,e[35]=Y^~Q&ee,e[44]=ae^~se&ce,e[45]=oe^~ue&le,e[6]=_^~x&v,e[7]=k^~E&m,e[16]=N^~M&A,e[17]=P^~j&S,e[26]=B^~z&T,e[27]=q^~H&L,e[36]=J^~X&V,e[37]=Q^~ee&W,e[46]=se^~ce&te,e[47]=ue^~le&re,e[8]=x^~v&g,e[9]=E^~m&y,e[18]=M^~A&O,e[19]=j^~S&I,e[28]=z^~T&$,e[29]=H^~L&D,e[38]=X^~V&G,e[39]=ee^~W&K,e[48]=ce^~te&ne,e[49]=le^~re&ie,e[0]^=l[n],e[1]^=l[n+1]};if(a)e.exports=k;else for(A=0;A<E.length;++A)n[E[A]]=k[E[A]]}()}(vs);var ms=s("bC",vs.exports),gs=g(ms);function ys(e){return"0x"+gs.keccak_256(oo(e))}var bs=new Xa("rlp/5.5.0");function ws(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function _s(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function ks(e){if(Array.isArray(e)){var t=[];if(e.forEach((function(e){t=t.concat(ks(e))})),t.length<=55)return t.unshift(192+t.length),t;var r=ws(t.length);return r.unshift(247+r.length),r.concat(t)}no(e)||bs.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call(oo(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=ws(n.length);return i.unshift(183+i.length),i.concat(n)}function xs(e){return fo(ks(e))}function Es(e,t,r,n){for(var i=[];r<t+1+n;){var a=As(e,r);i.push(a.result),(r+=a.consumed)>t+1+n&&bs.throwError("child data too short",Xa.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function As(e,t){if(0===e.length&&bs.throwError("data too short",Xa.errors.BUFFER_OVERRUN,{}),e[t]>=248){var r=e[t]-247;t+1+r>e.length&&bs.throwError("data short segment too short",Xa.errors.BUFFER_OVERRUN,{});var n=_s(e,t+1,r);return t+1+r+n>e.length&&bs.throwError("data long segment too short",Xa.errors.BUFFER_OVERRUN,{}),Es(e,t,t+1+r,r+n)}if(e[t]>=192){var i=e[t]-192;return t+1+i>e.length&&bs.throwError("data array too short",Xa.errors.BUFFER_OVERRUN,{}),Es(e,t,t+1,i)}if(e[t]>=184){var a=e[t]-183;t+1+a>e.length&&bs.throwError("data array too short",Xa.errors.BUFFER_OVERRUN,{});var o=_s(e,t+1,a);return t+1+a+o>e.length&&bs.throwError("data array too short",Xa.errors.BUFFER_OVERRUN,{}),{consumed:1+a+o,result:fo(e.slice(t+1+a,t+1+a+o))}}if(e[t]>=128){var s=e[t]-128;return t+1+s>e.length&&bs.throwError("data too short",Xa.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:fo(e.slice(t+1,t+1+s))}}return{consumed:1,result:fo(e[t])}}function Ss(e){var t=oo(e),r=As(t,0);return r.consumed!==t.length&&bs.throwArgumentError("invalid rlp data","data",e),r.result}var Os=new Xa("address/5.5.0");function Is(e){co(e,20)||Os.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=t[n].charCodeAt(0);for(var i=oo(ys(r)),a=0;a<40;a+=2)i[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&i[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}for(var Rs={},Cs=0;Cs<10;Cs++)Rs[String(Cs)]=String(Cs);for(var Ns=0;Ns<26;Ns++)Rs[String.fromCharCode(65+Ns)]=String(10+Ns);var Ps=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function Ms(e){var t,r=null;if("string"!=typeof e&&Os.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),r=Is(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==e&&Os.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Rs[e]})).join("");t.length>=Ps;){var r=t.substring(0,Ps);t=parseInt(r,10)%97+t.substring(r.length)}for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}(e)&&Os.throwArgumentError("bad icap checksum","address",e),t=e.substring(4),r=new bo(t,36).toString(16);r.length<40;)r="0"+r;r=Is("0x"+r)}else Os.throwArgumentError("invalid address","address",e);return r}function js(e){try{return Ms(e),!0}catch(t){}return!1}function Ts(e){var t=null;try{t=Ms(e.from)}catch(r){Os.throwArgumentError("missing from address","transaction",e)}return Ms(po(ys(xs([t,uo(oo(Eo.from(e.nonce).toHexString()))])),12))}var Ls=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"address","address",e,!1)}return O(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,t){try{t=Ms(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}},{key:"decode",value:function(e){return Ms(go(e.readValue().toHexString(),20))}}]),r}(hs),$s=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),(n=t.call(this,e.name,e.type,void 0,e.dynamic)).coder=e,n}return O(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,t){return this.coder.encode(e,t)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),r}(hs),Ds=new Xa(Bo);function Us(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){var i={};n=t.map((function(e){var t=e.localName;return t||Ds.throwError("cannot encode object for signature with missing names",Xa.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&Ds.throwError("cannot encode object for signature with duplicate names",Xa.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]}))}else Ds.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&Ds.throwArgumentError("types/value length mismatch","tuple",r);var a=new ds(e.wordSize),o=new ds(e.wordSize),s=[];t.forEach((function(e,t){var r=n[t];if(e.dynamic){var i=o.length;e.encode(o,r);var u=a.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(a,r)})),s.forEach((function(e){e(a.length)}));var u=e.appendWriter(a);return u+=e.appendWriter(o)}function Fs(e,t){var r=[],n=e.subReader(0);t.forEach((function(t){var i=null;if(t.dynamic){var a=e.readValue(),o=n.subReader(a.toNumber());try{i=t.decode(o)}catch(s){if(s.code===Xa.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(s){if(s.code===Xa.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&r.push(i)}));var i=t.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach((function(e,t){var n=e.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var a=r[t];a instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw a}}):r[n]=a}}));for(var a=function(){var e=r[o];e instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:function(){throw e}})},o=0;o<r.length;o++)a();return Object.freeze(r)}var Bs,qs,zs=function(e){f(r,e);var t=h(r);function r(e,n,i){var a;A(this,r);var o=e.type+"["+(n>=0?n:"")+"]",s=-1===n||e.dynamic;return(a=t.call(this,"array",o,i,s)).coder=e,a.length=n,a}return O(r,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),t=[],r=0;r<this.length;r++)t.push(e);return t}},{key:"encode",value:function(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),Ds.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<t.length;i++)n.push(this.coder);return Us(e,n,t)}},{key:"decode",value:function(e){var t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&Ds.throwError("insufficient data length",Xa.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});for(var r=[],n=0;n<t;n++)r.push(new $s(this.coder));return e.coerce(this.name,Fs(e,r))}}]),r}(hs),Hs=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"bool","bool",e,!1)}return O(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,t){return e.writeValue(t?1:0)}},{key:"decode",value:function(e){return e.coerce(this.type,!e.readValue().isZero())}}]),r}(hs),Vs=function(e){f(r,e);var t=h(r);function r(e,n){return A(this,r),t.call(this,e,e,n,!0)}return O(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,t){t=oo(t);var r=e.writeValue(t.length);return r+=e.writeBytes(t)}},{key:"decode",value:function(e){return e.readBytes(e.readValue().toNumber(),!0)}}]),r}(hs),Ws=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"bytes",e)}return O(r,[{key:"decode",value:function(e){return e.coerce(this.name,fo(a(y(r.prototype),"decode",this).call(this,e)))}}]),r}(Vs),Gs=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r);var a="bytes"+String(e);return(i=t.call(this,a,a,n,!1)).size=e,i}return O(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,t){var r=oo(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}},{key:"decode",value:function(e){return e.coerce(this.name,fo(e.readBytes(this.size)))}}]),r}(hs),Ks=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"null","",e,!1)}return O(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}},{key:"decode",value:function(e){return e.readBytes(0),e.coerce(this.name,null)}}]),r}(hs),Zs=s("b6","0x0000000000000000000000000000000000000000"),Ys=Eo.from(-1),Js=Eo.from(0),Qs=Eo.from(1),Xs=Eo.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eu=s("bj","0x0000000000000000000000000000000000000000000000000000000000000000"),tu=function(e){f(r,e);var t=h(r);function r(e,n,i){var a;A(this,r);var o=(n?"int":"uint")+8*e;return(a=t.call(this,o,o,i,!1)).size=e,a.signed=n,a}return O(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,t){var r=Eo.from(t),n=Xs.mask(8*e.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(Qs).mul(Ys)))&&this._throwError("value out-of-bounds",t)}else(r.lt(Js)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}},{key:"decode",value:function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}]),r}(hs),ru=new Xa("strings/5.5.0");function nu(e,t,r,n,i){if(e===qs.BAD_PREFIX||e===qs.UNEXPECTED_CONTINUE){for(var a=0,o=t+1;o<r.length&&r[o]>>6==2;o++)a++;return a}return e===qs.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Bs||(Bs={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(qs||(qs={}));var iu=Object.freeze({error:function(e,t,r,n,i){return ru.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:nu,replace:function(e,t,r,n,i){return e===qs.OVERLONG?(n.push(i),0):(n.push(65533),nu(e,t,r))}});function au(e,t){null==t&&(t=iu.error),e=oo(e);for(var r=[],n=0;n<e.length;){var i=e[n++];if(i>>7!=0){var a=null,o=null;if(192==(224&i))a=1,o=127;else if(224==(240&i))a=2,o=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?qs.UNEXPECTED_CONTINUE:qs.BAD_PREFIX,n-1,e,r);continue}a=3,o=65535}if(n-1+a>=e.length)n+=t(qs.OVERRUN,n-1,e,r);else{for(var s=i&(1<<8-a-1)-1,u=0;u<a;u++){var c=e[n];if(128!=(192&c)){n+=t(qs.MISSING_CONTINUE,n,e,r),s=null;break}s=s<<6|63&c,n++}null!==s&&(s>1114111?n+=t(qs.OUT_OF_RANGE,n-1-a,e,r,s):s>=55296&&s<=57343?n+=t(qs.UTF16_SURROGATE,n-1-a,e,r,s):s<=o?n+=t(qs.OVERLONG,n-1-a,e,r,s):r.push(s))}}else r.push(i)}return r}function ou(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bs.current;t!=Bs.current&&(ru.checkNormalize(),e=e.normalize(t));for(var r=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var a=e.charCodeAt(n);if(n>=e.length||56320!=(64512&a))throw new Error("invalid utf-8 string");var o=65536+((1023&i)<<10)+(1023&a);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return oo(r)}function su(e){return e.map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}function uu(e,t){return su(au(e,t))}function cu(e){return au(ou(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bs.current))}function lu(e,t){t||(t=function(e){return[parseInt(e,16)]});var r=0,n={};return e.split(",").forEach((function(e){var i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function fu(e){var t=0;return e.split(",").map((function(e){var r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}}))}function hu(e,t){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}var du=fu("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),pu="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(e){return parseInt(e,16)})),vu=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],mu=lu("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),gu=lu("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),yu=lu("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),bu=fu("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function wu(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();var t,r=cu(e);t=r.map((function(e){if(pu.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];var t=function(e){var t=hu(e,vu);if(t)return[e+t.s];var r=mu[e];if(r)return r;var n=gu[e];return n?[e+n[0]]:yu[e]||null}(e);return t||[e]})),r=t.reduce((function(e,t){return t.forEach((function(t){e.push(t)})),e}),[]),(r=cu(su(r),Bs.NFKC)).forEach((function(e){if(hu(e,bu))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),r.forEach((function(e){if(hu(e,du))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var n=su(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}var _u=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"string",e)}return O(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,t){return a(y(r.prototype),"encode",this).call(this,e,ou(t))}},{key:"decode",value:function(e){return uu(a(y(r.prototype),"decode",this).call(this,e))}}]),r}(Vs),ku=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r);var a=!1,o=[];e.forEach((function(e){e.dynamic&&(a=!0),o.push(e.type)}));var s="tuple("+o.join(",")+")";return(i=t.call(this,"tuple",s,n,a)).coders=e,i}return O(r,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(t){e.push(t.defaultValue())}));var t=this.coders.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}},{key:"encode",value:function(e,t){return Us(e,this.coders,t)}},{key:"decode",value:function(e){return e.coerce(this.name,Fs(e,this.coders))}}]),r}(hs),xu=new Xa(Bo),Eu=new RegExp(/^bytes([0-9]*)$/),Au=new RegExp(/^(u?int)([0-9]*)$/),Su=function(){function e(t){A(this,e),xu.checkNew(this instanceof e?this.constructor:void 0,e),No(this,"coerceFunc",t||null)}return O(e,[{key:"_getCoder",value:function(e){var t=this;switch(e.baseType){case"address":return new Ls(e.name);case"bool":return new Hs(e.name);case"string":return new _u(e.name);case"bytes":return new Ws(e.name);case"array":return new zs(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new ku((e.components||[]).map((function(e){return t._getCoder(e)})),e.name);case"":return new Ks(e.name)}var r=e.type.match(Au);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!=0)&&xu.throwArgumentError("invalid "+r[1]+" bit length","param",e),new tu(n/8,"int"===r[1],e.name)}if(r=e.type.match(Eu)){var i=parseInt(r[1]);return(0===i||i>32)&&xu.throwArgumentError("invalid bytes length","param",e),new Gs(i,e.name)}return xu.throwArgumentError("invalid type","type",e.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(e,t){return new ps(e,this._getWordSize(),this.coerceFunc,t)}},{key:"_getWriter",value:function(){return new ds(this._getWordSize())}},{key:"getDefaultValue",value:function(e){var t=this,r=e.map((function(e){return t._getCoder(Yo.from(e))}));return new ku(r,"_").defaultValue()}},{key:"encode",value:function(e,t){var r=this;e.length!==t.length&&xu.throwError("types/values length mismatch",Xa.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var n=e.map((function(e){return r._getCoder(Yo.from(e))})),i=new ku(n,"_"),a=this._getWriter();return i.encode(a,t),a.data}},{key:"decode",value:function(e,t,r){var n=this,i=e.map((function(e){return n._getCoder(Yo.from(e))}));return new ku(i,"_").decode(this._getReader(oo(t),r))}}]),e}(),Ou=new Su;function Iu(e){return ys(ou(e))}var Ru="hash/5.5.0",Cu=new Xa(Ru),Nu=new Uint8Array(32);Nu.fill(0);var Pu=new RegExp("^((.*)\\.)?([^.]+)$");function Mu(e){"string"!=typeof e&&Cu.throwArgumentError("invalid ENS name; not a string","name",e);for(var t=e,r=Nu;t.length;){var n=t.match(Pu);null!=n&&""!==n[2]||Cu.throwArgumentError("invalid ENS address; missing component","name",e),r=ys(so([r,ys(ou(wu(n[3])))])),t=n[2]||""}return fo(r)}var ju=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Tu=new Xa(Ru),Lu=new Uint8Array(32);Lu.fill(0);var $u=Eo.from(-1),Du=Eo.from(0),Uu=Eo.from(1),Fu=Eo.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Bu=go(Uu.toHexString(),32),qu=go(Du.toHexString(),32),zu={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Hu=["name","version","chainId","verifyingContract","salt"];function Vu(e){return function(t){return"string"!=typeof t&&Tu.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var Wu={name:Vu("name"),version:Vu("version"),chainId:function(e){try{return Eo.from(e).toString()}catch(t){}return Tu.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return Ms(e).toLowerCase()}catch(t){}return Tu.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=oo(e);if(32!==t.length)throw new Error("bad length");return fo(t)}catch(r){}return Tu.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function Gu(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&Tu.throwArgumentError("invalid numeric width","type",e);var i=Fu.mask(r?n-1:n),a=r?i.add(Uu).mul($u):Du;return function(t){var r=Eo.from(t);return(r.lt(a)||r.gt(i))&&Tu.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),go(r.toTwos(256).toHexString(),32)}}var o=e.match(/^bytes(\d+)$/);if(o){var s=parseInt(o[1]);return(0===s||s>32||o[1]!==String(s))&&Tu.throwArgumentError("invalid bytes width","type",e),function(t){return oo(t).length!==s&&Tu.throwArgumentError("invalid length for ".concat(e),"value",t),function(e){var t=oo(e),r=t.length%32;return r?vo([t,Lu.slice(r)]):fo(t)}(t)}}switch(e){case"address":return function(e){return go(Ms(e),32)};case"bool":return function(e){return e?Bu:qu};case"bytes":return function(e){return ys(e)};case"string":return function(e){return Iu(e)}}return null}function Ku(e,t){return"".concat(e,"(").concat(t.map((function(e){var t=e.name;return e.type+" "+t})).join(","),")")}var Zu=function(){function e(t){A(this,e),No(this,"types",Object.freeze(Uo(t))),No(this,"_encoderCache",{}),No(this,"_types",{});var r={},n={},i={};Object.keys(t).forEach((function(e){r[e]={},n[e]=[],i[e]={}}));var a=function(e){var i={};t[e].forEach((function(a){i[a.name]&&Tu.throwArgumentError("duplicate variable name ".concat(JSON.stringify(a.name)," in ").concat(JSON.stringify(e)),"types",t),i[a.name]=!0;var o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===e&&Tu.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),Gu(o)||(n[o]||Tu.throwArgumentError("unknown type ".concat(JSON.stringify(o)),"types",t),n[o].push(e),r[e][o]=!0)}))};for(var o in t)a(o);var s=Object.keys(n).filter((function(e){return 0===n[e].length}));for(var u in 0===s.length?Tu.throwArgumentError("missing primary type","types",t):s.length>1&&Tu.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(e){return JSON.stringify(e)})).join(", ")),"types",t),No(this,"primaryType",s[0]),function e(a,o){o[a]&&Tu.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",t),o[a]=!0,Object.keys(r[a]).forEach((function(t){n[t]&&(e(t,o),Object.keys(o).forEach((function(e){i[e][t]=!0})))})),delete o[a]}(this.primaryType,{}),i){var c=Object.keys(i[u]);c.sort(),this._types[u]=Ku(u,t[u])+c.map((function(e){return Ku(e,t[e])})).join("")}}return O(e,[{key:"getEncoder",value:function(e){var t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}},{key:"_getEncoder",value:function(e){var t=this,r=Gu(e);if(r)return r;var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],a=this.getEncoder(i),o=parseInt(n[3]);return function(e){o>=0&&e.length!==o&&Tu.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var r=e.map(a);return t._types[i]&&(r=r.map(ys)),ys(vo(r))}}var s=this.types[e];if(s){var u=Iu(this._types[e]);return function(e){var r=s.map((function(r){var n=r.name,i=r.type,a=t.getEncoder(i)(e[n]);return t._types[i]?ys(a):a}));return r.unshift(u),vo(r)}}return Tu.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"encodeType",value:function(e){var t=this._types[e];return t||Tu.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}},{key:"encodeData",value:function(e,t){return this.getEncoder(e)(t)}},{key:"hashStruct",value:function(e,t){return ys(this.encodeData(e,t))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,t,r){var n=this;if(Gu(e))return r(e,t);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&Tu.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((function(e){return n._visit(a,e,r)}))}var s=this.types[e];return s?s.reduce((function(e,i){var a=i.name,o=i.type;return e[a]=n._visit(o,t[a],r),e}),{}):Tu.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,t){return this._visit(this.primaryType,e,t)}}],[{key:"from",value:function(t){return new e(t)}},{key:"getPrimaryType",value:function(t){return e.from(t).primaryType}},{key:"hashStruct",value:function(t,r,n){return e.from(r).hashStruct(t,n)}},{key:"hashDomain",value:function(t){var r=[];for(var n in t){var i=zu[n];i||Tu.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",t),r.push({name:n,type:i})}return r.sort((function(e,t){return Hu.indexOf(e.name)-Hu.indexOf(t.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:r},t)}},{key:"encode",value:function(t,r,n){return vo(["0x1901",e.hashDomain(t),e.from(r).hash(n)])}},{key:"hash",value:function(t,r,n){return ys(e.encode(t,r,n))}},{key:"resolveNames",value:function(t,r,n,i){return ju(this,void 0,void 0,o().mark((function a(){var s,u,c;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=To(t),s={},t.verifyingContract&&!co(t.verifyingContract,20)&&(s[t.verifyingContract]="0x"),(u=e.from(r)).visit(n,(function(e,t){return"address"!==e||co(t,20)||(s[t]="0x"),t})),a.t0=o().keys(s);case 6:if((a.t1=a.t0()).done){a.next=13;break}return c=a.t1.value,a.next=10,i(c);case 10:s[c]=a.sent,a.next=6;break;case 13:return t.verifyingContract&&s[t.verifyingContract]&&(t.verifyingContract=s[t.verifyingContract]),n=u.visit(n,(function(e,t){return"address"===e&&s[t]?s[t]:t})),a.abrupt("return",{domain:t,value:n});case 16:case"end":return a.stop()}}),a)})))}},{key:"getPayload",value:function(t,r,n){e.hashDomain(t);var i={},a=[];Hu.forEach((function(e){var r=t[e];null!=r&&(i[e]=Wu[e](r),a.push({name:e,type:zu[e]}))}));var o=e.from(r),s=To(r);return s.EIP712Domain?Tu.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(function(e,t){if(e.match(/^bytes(\d*)/))return fo(oo(t));if(e.match(/^u?int/))return Eo.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&Tu.throwArgumentError("invalid string","value",t),t}return Tu.throwArgumentError("unsupported type","type",e)}))}}}]),e}();s("bx",Zu);var Yu=new Xa(Bo),Ju=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r)}(Fo),Qu=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r)}(Fo),Xu=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r)}(Fo),ec=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),r}(Fo),tc={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function rc(e,t){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return r.error=t,r}var nc=function(){function e(t){var r=this;A(this,e),Yu.checkNew(this instanceof e?this.constructor:void 0,e);No(this,"fragments",("string"==typeof t?JSON.parse(t):t).map((function(e){return Qo.from(e)})).filter((function(e){return null!=e}))),No(this,"_abiCoder",Po(this instanceof e?this.constructor:void 0,"getAbiCoder")()),No(this,"functions",{}),No(this,"errors",{}),No(this,"events",{}),No(this,"structs",{}),this.fragments.forEach((function(e){var t=null;switch(e.type){case"constructor":return r.deploy?void Yu.warn("duplicate definition - constructor"):void No(r,"deploy",e);case"function":t=r.functions;break;case"event":t=r.events;break;case"error":t=r.errors;break;default:return}var n=e.format();t[n]?Yu.warn("duplicate definition - "+n):t[n]=e})),this.deploy||No(this,"deploy",ns.from({payable:!1,type:"constructor"})),No(this,"_isInterface",!0)}return O(e,[{key:"format",value:function(e){e||(e=Ko.full),e===Ko.sighash&&Yu.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map((function(t){return t.format(e)}));return e===Ko.json?JSON.stringify(t.map((function(e){return JSON.parse(e)}))):t}},{key:"getFunction",value:function(e){if(co(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];Yu.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===r}));return 0===n.length?Yu.throwArgumentError("no matching function","name",r):n.length>1&&Yu.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[is.fromString(e).format()];return i||Yu.throwArgumentError("no matching function","signature",e),i}},{key:"getEvent",value:function(e){if(co(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];Yu.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?Yu.throwArgumentError("no matching event","name",n):i.length>1&&Yu.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var a=this.events[Xo.fromString(e).format()];return a||Yu.throwArgumentError("no matching event","signature",e),a}},{key:"getError",value:function(e){if(co(e)){var t=Po(this.constructor,"getSighash");for(var r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}Yu.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.errors).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?Yu.throwArgumentError("no matching error","name",n):i.length>1&&Yu.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var a=this.errors[is.fromString(e).format()];return a||Yu.throwArgumentError("no matching error","signature",e),a}},{key:"getSighash",value:function(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(Tz){throw t}}return Po(this.constructor,"getSighash")(e)}},{key:"getEventTopic",value:function(e){return"string"==typeof e&&(e=this.getEvent(e)),Po(this.constructor,"getEventTopic")(e)}},{key:"_decodeParams",value:function(e,t){return this._abiCoder.decode(e,t)}},{key:"_encodeParams",value:function(e,t){return this._abiCoder.encode(e,t)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,t){"string"==typeof e&&(e=this.getError(e));var r=oo(t);return fo(r.slice(0,4))!==this.getSighash(e)&&Yu.throwArgumentError("data signature does not match error ".concat(e.name,"."),"data",fo(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(e,t){return"string"==typeof e&&(e=this.getError(e)),fo(so([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionData",value:function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=oo(t);return fo(r.slice(0,4))!==this.getSighash(e)&&Yu.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",fo(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),fo(so([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionResult",value:function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=oo(t),n=null,i=null,a=null,o=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(c){}break;case 4:var s=fo(r.slice(0,4)),u=tc[s];if(u)i=this._abiCoder.decode(u.inputs,r.slice(4)),a=u.name,o=u.signature,u.reason&&(n=i[0]);else try{var c=this.getError(s);i=this._abiCoder.decode(c.inputs,r.slice(4)),a=c.name,o=c.format()}catch(c){console.log(c)}}return Yu.throwError("call revert exception",Xa.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:i,errorName:a,errorSignature:o,reason:n})}},{key:"encodeFunctionResult",value:function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),fo(this._abiCoder.encode(e.outputs,t||[]))}},{key:"encodeFilterTopics",value:function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&Yu.throwError("too many arguments for "+e.format(),Xa.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var n=[];e.anonymous||n.push(this.getEventTopic(e));var i=function(e,t){return"string"===e.type?Iu(t):"bytes"===e.type?ys(fo(t)):("address"===e.type&&r._abiCoder.encode(["address"],[t]),go(fo(t),32))};for(t.forEach((function(t,r){var a=e.inputs[r];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?Yu.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((function(e){return i(a,e)}))):n.push(i(a,t)):null!=t&&Yu.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e));var n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Yu.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((function(e,o){var s=t[o];if(e.indexed)if("string"===e.type)n.push(Iu(s));else if("bytes"===e.type)n.push(ys(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([e.type],[s]))}else i.push(e),a.push(s)})),{data:this._abiCoder.encode(i,a),topics:n}}},{key:"decodeEventLog",value:function(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);co(r[0],32)&&r[0].toLowerCase()===n||Yu.throwError("fragment/topic mismatch",Xa.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],a=[],o=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(Yo.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(i.push(e),o.push(!1)):(a.push(e),o.push(!1))}));var s=null!=r?this._abiCoder.decode(i,so(r)):null,u=this._abiCoder.decode(a,t,!0),c=[],l=0,f=0;e.inputs.forEach((function(e,t){if(e.indexed)if(null==s)c[t]=new ec({_isIndexed:!0,hash:null});else if(o[t])c[t]=new ec({_isIndexed:!0,hash:s[f++]});else try{c[t]=s[f++]}catch(n){c[t]=n}else try{c[t]=u[l++]}catch(n){c[t]=n}if(e.name&&null==c[e.name]){var r=c[t];r instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:function(){throw rc("property ".concat(JSON.stringify(e.name)),r)}}):c[e.name]=r}}));for(var h=function(e){var t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:function(){throw rc("index ".concat(e),t)}})},d=0;d<c.length;d++)h(d);return Object.freeze(c)}},{key:"parseTransaction",value:function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Qu({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Eo.from(e.value||"0")}):null}},{key:"parseLog",value:function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Ju({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}},{key:"parseError",value:function(e){var t=fo(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new Xu({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return Ou}},{key:"getAddress",value:function(e){return Ms(e)}},{key:"getSighash",value:function(e){return po(Iu(e.format()),0,4)}},{key:"getEventTopic",value:function(e){return Iu(e.format())}},{key:"isInterface",value:function(e){return!(!e||!e._isInterface)}}]),e}(),ic=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ac=new Xa("abstract-provider/5.5.1"),oc=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,null,[{key:"isForkEvent",value:function(e){return!(!e||!e._isForkEvent)}}]),r}(Fo);s("bu",oc);var sc=function(){function e(){A(this,e),ac.checkAbstract(this instanceof e?this.constructor:void 0,e),No(this,"_isProvider",!0)}return O(e,[{key:"getFeeData",value:function(){return ic(this,void 0,void 0,o().mark((function e(){var t,r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(e){return null}))});case 2:return t=e.sent,r=t.block,n=t.gasPrice,i=null,a=null,r&&r.baseFeePerGas&&(a=Eo.from("2500000000"),i=r.baseFeePerGas.mul(2).add(a)),e.abrupt("return",{maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:n});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addListener",value:function(e,t){return this.on(e,t)}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"isProvider",value:function(e){return!(!e||!e._isProvider)}}]),e}();s("bp",sc);var uc=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},cc=new Xa("abstract-signer/5.5.0"),lc=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],fc=[Xa.errors.INSUFFICIENT_FUNDS,Xa.errors.NONCE_EXPIRED,Xa.errors.REPLACEMENT_UNDERPRICED],hc=function(){function e(){A(this,e),cc.checkAbstract(this instanceof e?this.constructor:void 0,e),No(this,"_isSigner",!0)}return O(e,[{key:"getBalance",value:function(e){return uc(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getBalance"),t.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionCount",value:function(e){return uc(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getTransactionCount"),t.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"estimateGas",value:function(e){return uc(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("estimateGas"),t.next=3,Mo(this.checkTransaction(e));case 3:return r=t.sent,t.next=6,this.provider.estimateGas(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"call",value:function(e,t){return uc(this,void 0,void 0,o().mark((function r(){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,Mo(this.checkTransaction(e));case 3:return n=r.sent,r.next=6,this.provider.call(n,t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendTransaction",value:function(e){return uc(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("sendTransaction"),t.next=3,this.populateTransaction(e);case 3:return r=t.sent,t.next=6,this.signTransaction(r);case 6:return n=t.sent,t.next=9,this.provider.sendTransaction(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getChainId",value:function(){return uc(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return t=e.sent,e.abrupt("return",t.chainId);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return uc(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getFeeData",value:function(){return uc(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getFeeData"),e.next=3,this.provider.getFeeData();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolveName",value:function(e){return uc(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("resolveName"),t.next=3,this.provider.resolveName(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkTransaction",value:function(e){for(var t in e)-1===lc.indexOf(t)&&cc.throwArgumentError("invalid transaction key: "+t,"transaction",e);var r=To(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(t){return t[0].toLowerCase()!==t[1].toLowerCase()&&cc.throwArgumentError("from address mismatch","transaction",e),t[0]})),r}},{key:"populateTransaction",value:function(e){return uc(this,void 0,void 0,o().mark((function t(){var r,n,i,a,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mo(this.checkTransaction(e));case 2:if(null!=(r=t.sent).to&&(r.to=Promise.resolve(r.to).then((function(e){return uc(s,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.resolveName(e);case 4:return null==(r=t.sent)&&cc.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))})),r.to.catch((function(e){}))),n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||cc.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):cc.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){t.next=10;break}r.type=2,t.next=18;break;case 10:if(0!==r.type&&1!==r.type){t.next=14;break}null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),t.next=18;break;case 14:return t.next=16,this.getFeeData();case 16:i=t.sent,null==r.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(a=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a):(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&cc.throwError("network does not support EIP-1559",Xa.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=i.gasPrice),r.type=0):cc.throwError("failed to get consistent fee data",Xa.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch((function(e){if(fc.indexOf(e.code)>=0)throw e;return cc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Xa.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})}))),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then((function(t){return 0!==t[1]&&t[0]!==t[1]&&cc.throwArgumentError("chainId address mismatch","transaction",e),t[0]})),t.next=23,Mo(r);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t,this)})))}},{key:"_checkProvider",value:function(e){this.provider||cc.throwError("missing provider",Xa.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}],[{key:"isSigner",value:function(e){return!(!e||!e._isSigner)}}]),e}();s("bw",hc);var dc=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),cc.checkNew(this instanceof r?this.constructor:void 0,r),No(d(i=t.call(this)),"address",e),No(d(i),"provider",n||null),i}return O(r,[{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"_fail",value:function(e,t){return Promise.resolve().then((function(){cc.throwError(e,Xa.errors.UNSUPPORTED_OPERATION,{operation:t})}))}},{key:"signMessage",value:function(e){return this._fail("VoidSigner cannot sign messages","signMessage")}},{key:"signTransaction",value:function(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}},{key:"_signTypedData",value:function(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}},{key:"connect",value:function(e){return new r(this.address,e)}}]),r}(hc),pc={},vc={},mc=gc;function gc(e,t){if(!e)throw new Error(t||"Assertion failed")}gc.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var yc={exports:{}};"function"==typeof Object.create?yc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:yc.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var bc=yc.exports,wc=mc,_c=bc;function kc(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function xc(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function Ec(e){return 1===e.length?"0"+e:e}function Ac(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}vc.inherits=_c,vc.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):kc(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},vc.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=Ec(e[r].toString(16));return t},vc.htonl=xc,vc.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=xc(i)),r+=Ac(i.toString(16))}return r},vc.zero2=Ec,vc.zero8=Ac,vc.join32=function(e,t,r,n){var i=r-t;wc(i%4==0);for(var a=new Array(i/4),o=0,s=t;o<a.length;o++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[o]=u>>>0}return a},vc.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},vc.rotr32=function(e,t){return e>>>t|e<<32-t},vc.rotl32=function(e,t){return e<<t|e>>>32-t},vc.sum32=function(e,t){return e+t>>>0},vc.sum32_3=function(e,t,r){return e+t+r>>>0},vc.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},vc.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},vc.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a},vc.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},vc.sum64_lo=function(e,t,r,n){return t+n>>>0},vc.sum64_4_hi=function(e,t,r,n,i,a,o,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+a>>>0)<a?1:0,e+r+i+o+(u+=(c=c+s>>>0)<s?1:0)>>>0},vc.sum64_4_lo=function(e,t,r,n,i,a,o,s){return t+n+a+s>>>0},vc.sum64_5_hi=function(e,t,r,n,i,a,o,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+a>>>0)<a?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+o+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},vc.sum64_5_lo=function(e,t,r,n,i,a,o,s,u,c){return t+n+a+s+c>>>0},vc.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},vc.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},vc.shr64_hi=function(e,t,r){return e>>>r},vc.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var Sc={},Oc=vc,Ic=mc;function Rc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Sc.BlockHash=Rc,Rc.prototype.update=function(e,t){if(e=Oc.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=Oc.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Rc.prototype.digest=function(e){return this.update(this._pad()),Ic(null===this.pending),this._digest(e)},Rc.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var Cc={},Nc={},Pc=vc.rotr32;function Mc(e,t,r){return e&t^~e&r}function jc(e,t,r){return e&t^e&r^t&r}function Tc(e,t,r){return e^t^r}Nc.ft_1=function(e,t,r,n){return 0===e?Mc(t,r,n):1===e||3===e?Tc(t,r,n):2===e?jc(t,r,n):void 0},Nc.ch32=Mc,Nc.maj32=jc,Nc.p32=Tc,Nc.s0_256=function(e){return Pc(e,2)^Pc(e,13)^Pc(e,22)},Nc.s1_256=function(e){return Pc(e,6)^Pc(e,11)^Pc(e,25)},Nc.g0_256=function(e){return Pc(e,7)^Pc(e,18)^e>>>3},Nc.g1_256=function(e){return Pc(e,17)^Pc(e,19)^e>>>10};var Lc=vc,$c=Sc,Dc=Nc,Uc=Lc.rotl32,Fc=Lc.sum32,Bc=Lc.sum32_5,qc=Dc.ft_1,zc=$c.BlockHash,Hc=[1518500249,1859775393,2400959708,3395469782];function Vc(){if(!(this instanceof Vc))return new Vc;zc.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Lc.inherits(Vc,zc);var Wc=Vc;Vc.blockSize=512,Vc.outSize=160,Vc.hmacStrength=80,Vc.padLength=64,Vc.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Uc(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=Bc(Uc(i,5),qc(c,a,o,s),u,r[n],Hc[c]);u=s,s=o,o=Uc(a,30),a=i,i=l}this.h[0]=Fc(this.h[0],i),this.h[1]=Fc(this.h[1],a),this.h[2]=Fc(this.h[2],o),this.h[3]=Fc(this.h[3],s),this.h[4]=Fc(this.h[4],u)},Vc.prototype._digest=function(e){return"hex"===e?Lc.toHex32(this.h,"big"):Lc.split32(this.h,"big")};var Gc=vc,Kc=Sc,Zc=Nc,Yc=mc,Jc=Gc.sum32,Qc=Gc.sum32_4,Xc=Gc.sum32_5,el=Zc.ch32,tl=Zc.maj32,rl=Zc.s0_256,nl=Zc.s1_256,il=Zc.g0_256,al=Zc.g1_256,ol=Kc.BlockHash,sl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ul(){if(!(this instanceof ul))return new ul;ol.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sl,this.W=new Array(64)}Gc.inherits(ul,ol);var cl=ul;ul.blockSize=512,ul.outSize=256,ul.hmacStrength=192,ul.padLength=64,ul.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Qc(al(r[n-2]),r[n-7],il(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],f=this.h[7];for(Yc(this.k.length===r.length),n=0;n<r.length;n++){var h=Xc(f,nl(u),el(u,c,l),this.k[n],r[n]),d=Jc(rl(i),tl(i,a,o));f=l,l=c,c=u,u=Jc(s,h),s=o,o=a,a=i,i=Jc(h,d)}this.h[0]=Jc(this.h[0],i),this.h[1]=Jc(this.h[1],a),this.h[2]=Jc(this.h[2],o),this.h[3]=Jc(this.h[3],s),this.h[4]=Jc(this.h[4],u),this.h[5]=Jc(this.h[5],c),this.h[6]=Jc(this.h[6],l),this.h[7]=Jc(this.h[7],f)},ul.prototype._digest=function(e){return"hex"===e?Gc.toHex32(this.h,"big"):Gc.split32(this.h,"big")};var ll=vc,fl=cl;function hl(){if(!(this instanceof hl))return new hl;fl.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ll.inherits(hl,fl);var dl=hl;hl.blockSize=512,hl.outSize=224,hl.hmacStrength=192,hl.padLength=64,hl.prototype._digest=function(e){return"hex"===e?ll.toHex32(this.h.slice(0,7),"big"):ll.split32(this.h.slice(0,7),"big")};var pl=vc,vl=Sc,ml=mc,gl=pl.rotr64_hi,yl=pl.rotr64_lo,bl=pl.shr64_hi,wl=pl.shr64_lo,_l=pl.sum64,kl=pl.sum64_hi,xl=pl.sum64_lo,El=pl.sum64_4_hi,Al=pl.sum64_4_lo,Sl=pl.sum64_5_hi,Ol=pl.sum64_5_lo,Il=vl.BlockHash,Rl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Cl(){if(!(this instanceof Cl))return new Cl;Il.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Rl,this.W=new Array(160)}pl.inherits(Cl,Il);var Nl=Cl;function Pl(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function Ml(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function jl(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function Tl(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function Ll(e,t){var r=gl(e,t,28)^gl(t,e,2)^gl(t,e,7);return r<0&&(r+=4294967296),r}function $l(e,t){var r=yl(e,t,28)^yl(t,e,2)^yl(t,e,7);return r<0&&(r+=4294967296),r}function Dl(e,t){var r=gl(e,t,14)^gl(e,t,18)^gl(t,e,9);return r<0&&(r+=4294967296),r}function Ul(e,t){var r=yl(e,t,14)^yl(e,t,18)^yl(t,e,9);return r<0&&(r+=4294967296),r}function Fl(e,t){var r=gl(e,t,1)^gl(e,t,8)^bl(e,t,7);return r<0&&(r+=4294967296),r}function Bl(e,t){var r=yl(e,t,1)^yl(e,t,8)^wl(e,t,7);return r<0&&(r+=4294967296),r}function ql(e,t){var r=gl(e,t,19)^gl(t,e,29)^bl(e,t,6);return r<0&&(r+=4294967296),r}function zl(e,t){var r=yl(e,t,19)^yl(t,e,29)^wl(e,t,6);return r<0&&(r+=4294967296),r}Cl.blockSize=1024,Cl.outSize=512,Cl.hmacStrength=192,Cl.padLength=128,Cl.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=ql(r[n-4],r[n-3]),a=zl(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],u=Fl(r[n-30],r[n-29]),c=Bl(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=El(i,a,o,s,u,c,l,f),r[n+1]=Al(i,a,o,s,u,c,l,f)}},Cl.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],f=this.h[8],h=this.h[9],d=this.h[10],p=this.h[11],v=this.h[12],m=this.h[13],g=this.h[14],y=this.h[15];ml(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=g,_=y,k=Dl(f,h),x=Ul(f,h),E=Pl(f,h,d,p,v),A=Ml(f,h,d,p,v,m),S=this.k[b],O=this.k[b+1],I=r[b],R=r[b+1],C=Sl(w,_,k,x,E,A,S,O,I,R),N=Ol(w,_,k,x,E,A,S,O,I,R);w=Ll(n,i),_=$l(n,i),k=jl(n,i,a,o,s),x=Tl(n,i,a,o,s,u);var P=kl(w,_,k,x),M=xl(w,_,k,x);g=v,y=m,v=d,m=p,d=f,p=h,f=kl(c,l,C,N),h=xl(l,l,C,N),c=s,l=u,s=a,u=o,a=n,o=i,n=kl(C,N,P,M),i=xl(C,N,P,M)}_l(this.h,0,n,i),_l(this.h,2,a,o),_l(this.h,4,s,u),_l(this.h,6,c,l),_l(this.h,8,f,h),_l(this.h,10,d,p),_l(this.h,12,v,m),_l(this.h,14,g,y)},Cl.prototype._digest=function(e){return"hex"===e?pl.toHex32(this.h,"big"):pl.split32(this.h,"big")};var Hl=vc,Vl=Nl;function Wl(){if(!(this instanceof Wl))return new Wl;Vl.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Hl.inherits(Wl,Vl);var Gl=Wl;Wl.blockSize=1024,Wl.outSize=384,Wl.hmacStrength=192,Wl.padLength=128,Wl.prototype._digest=function(e){return"hex"===e?Hl.toHex32(this.h.slice(0,12),"big"):Hl.split32(this.h.slice(0,12),"big")},Cc.sha1=Wc,Cc.sha224=dl,Cc.sha256=cl,Cc.sha384=Gl,Cc.sha512=Nl;var Kl={},Zl=vc,Yl=Sc,Jl=Zl.rotl32,Ql=Zl.sum32,Xl=Zl.sum32_3,ef=Zl.sum32_4,tf=Yl.BlockHash;function rf(){if(!(this instanceof rf))return new rf;tf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function nf(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function af(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function of(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}Zl.inherits(rf,tf),Kl.ripemd160=rf,rf.blockSize=512,rf.outSize=160,rf.hmacStrength=192,rf.padLength=64,rf.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],s=r,u=n,c=i,l=a,f=o,h=0;h<80;h++){var d=Ql(Jl(ef(r,nf(h,n,i,a),e[sf[h]+t],af(h)),cf[h]),o);r=o,o=a,a=Jl(i,10),i=n,n=d,d=Ql(Jl(ef(s,nf(79-h,u,c,l),e[uf[h]+t],of(h)),lf[h]),f),s=f,f=l,l=Jl(c,10),c=u,u=d}d=Xl(this.h[1],i,l),this.h[1]=Xl(this.h[2],a,f),this.h[2]=Xl(this.h[3],o,s),this.h[3]=Xl(this.h[4],r,u),this.h[4]=Xl(this.h[0],n,c),this.h[0]=d},rf.prototype._digest=function(e){return"hex"===e?Zl.toHex32(this.h,"little"):Zl.split32(this.h,"little")};var sf=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],uf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],cf=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],lf=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ff=vc,hf=mc;function df(e,t,r){if(!(this instanceof df))return new df(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ff.toArray(t,r))}var pf=df;df.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),hf(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},df.prototype.update=function(e,t){return this.inner.update(e,t),this},df.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=vc,t.common=Sc,t.sha=Cc,t.ripemd=Kl,t.hmac=pf,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(pc);var vf=g(pc);function mf(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},e(r,r.exports),r.exports}var gf=yf;function yf(e,t){if(!e)throw new Error(t||"Assertion failed")}yf.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var bf=mf((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),wf=mf((function(e,t){var r=t;r.assert=gf,r.toArray=bf.toArray,r.zero2=bf.zero2,r.toHex=bf.toHex,r.encode=bf.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,c=t.andln(3)+a&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!==(n=t.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new za(e,"hex","le")}})),_f=wf.getNAF,kf=wf.getJSF,xf=wf.assert;function Ef(e,t){this.type=e,this.p=new za(t.p,16),this.red=t.prime?za.red(t.prime):za.mont(this.p),this.zero=new za(0).toRed(this.red),this.one=new za(1).toRed(this.red),this.two=new za(2).toRed(this.red),this.n=t.n&&new za(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Af=Ef;function Sf(e,t){this.curve=e,this.type=t,this.precomputed=null}Ef.prototype.point=function(){throw new Error("Not implemented")},Ef.prototype.validate=function(){throw new Error("Not implemented")},Ef.prototype._fixedNafMul=function(e,t){xf(e.precomputed);var r=e._getDoubles(),n=_f(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,o,s=[];for(a=0;a<n.length;a+=r.step){o=0;for(var u=a+r.step-1;u>=a;u--)o=(o<<1)+n[u];s.push(o)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<s.length;a++)(o=s[a])===f?l=l.mixedAdd(r.points[a]):o===-f&&(l=l.mixedAdd(r.points[a].neg()));c=c.add(l)}return c.toP()},Ef.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=_f(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var u=0;s>=0&&0===a[s];s--)u++;if(s>=0&&u++,o=o.dblp(u),s<0)break;var c=a[s];xf(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},Ef.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,f=0;for(a=0;a<n;a++){var h=(s=t[a])._getNAFPoints(e);u[a]=h.wnd,c[a]=h.points}for(a=n-1;a>=1;a-=2){var d=a-1,p=a;if(1===u[d]&&1===u[p]){var v=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(v[1]=t[d].add(t[p]),v[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(v[1]=t[d].toJ().mixedAdd(t[p]),v[2]=t[d].add(t[p].neg())):(v[1]=t[d].toJ().mixedAdd(t[p]),v[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=kf(r[d],r[p]);for(f=Math.max(g[0].length,f),l[d]=new Array(f),l[p]=new Array(f),o=0;o<f;o++){var y=0|g[0][o],b=0|g[1][o];l[d][o]=m[3*(y+1)+(b+1)],l[p][o]=0,c[d]=v}}else l[d]=_f(r[d],u[d],this._bitLength),l[p]=_f(r[p],u[p],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[p].length,f)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var k=0;a>=0;){var x=!0;for(o=0;o<n;o++)_[o]=0|l[o][a],0!==_[o]&&(x=!1);if(!x)break;k++,a--}if(a>=0&&k++,w=w.dblp(k),a<0)break;for(o=0;o<n;o++){var E=_[o];0!==E&&(E>0?s=c[o][E-1>>1]:E<0&&(s=c[o][-E-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(a=0;a<n;a++)c[a]=null;return i?w:w.toP()},Ef.BasePoint=Sf,Sf.prototype.eq=function(){throw new Error("Not implemented")},Sf.prototype.validate=function(){return this.curve.validate(this)},Ef.prototype.decodePoint=function(e,t){e=wf.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?xf(e[e.length-1]%2==0):7===e[0]&&xf(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Sf.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Sf.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Sf.prototype.encode=function(e,t){return wf.encode(this._encode(t),e)},Sf.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Sf.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Sf.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},Sf.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Sf.prototype._getBeta=function(){return null},Sf.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Of=mf((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),If=wf.assert;function Rf(e){Af.call(this,"short",e),this.a=new za(e.a,16).toRed(this.red),this.b=new za(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Of(Rf,Af);var Cf=Rf;function Nf(e,t,r,n){Af.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new za(t,16),this.y=new za(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Pf(e,t,r,n){Af.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new za(0)):(this.x=new za(t,16),this.y=new za(r,16),this.z=new za(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Rf.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new za(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new za(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],If(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new za(e.a,16),b:new za(e.b,16)}})):this._getEndoBasis(r)}}},Rf.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:za.mont(e),r=new za(2).toRed(t).redInvm(),n=r.redNeg(),i=new za(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Rf.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new za(1),p=new za(0),v=new za(0),m=new za(1),g=0;0!==f.cmpn(0);){var y=h.div(f);u=h.sub(y.mul(f)),c=v.sub(y.mul(d));var b=m.sub(y.mul(p));if(!n&&u.cmp(l)<0)t=s.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++g)break;s=u,h=f,f=u,v=d,d=c,m=p,p=b}a=u.neg(),o=c;var w=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(w)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a:a,b:o}]},Rf.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},Rf.prototype.pointFromX=function(e,t){(e=new za(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Rf.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Rf.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),l=0;l<2*a;l++)n[l]=null,i[l]=null;return c},Of(Nf,Af.BasePoint),Rf.prototype.point=function(e,t,r){return new Nf(this,e,t,r)},Rf.prototype.pointFromJSON=function(e,t){return Nf.fromJSON(this,e,t)},Nf.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Nf.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Nf.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},Nf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Nf.prototype.isInfinity=function(){return this.inf},Nf.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Nf.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},Nf.prototype.getX=function(){return this.x.fromRed()},Nf.prototype.getY=function(){return this.y.fromRed()},Nf.prototype.mul=function(e){return e=new za(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Nf.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Nf.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Nf.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Nf.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Nf.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Of(Pf,Af.BasePoint),Rf.prototype.jpoint=function(e,t,r){return new Pf(this,e,t,r)},Pf.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Pf.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Pf.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),h=u.redSqr().redIAdd(l).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(a.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},Pf.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),h=s.redMul(l.redISub(f)).redISub(i.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(f,h,d)},Pf.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=a.redSqr(),f=c.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=a.redMul(f),v=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=d.redMul(m);g=g.redIAdd(g).redISub(h);var y=c.redMul(s);t+1<e&&(u=u.redMul(h)),a=v,s=y,c=g}return this.curve.jpoint(a,c.redMul(i),s)},Pf.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Pf.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),v=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=v.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Pf.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},Pf.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},Pf.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,h,d)},Pf.prototype.mul=function(e,t){return e=new za(e,t),this.curve._wnafMul(this,e)},Pf.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Pf.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Pf.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Pf.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Mf=mf((function(e,t){var r=t;r.base=Af,r.short=Cf,r.mont=null,r.edwards=null})),jf=mf((function(e,t){var r,n=t,i=wf.assert;function a(e){"short"===e.type?this.curve=new Mf.short(e):"edwards"===e.type?this.curve=new Mf.edwards(e):this.curve=new Mf.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:vf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:vf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:vf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:vf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:vf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vf.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:vf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Tf(e){if(!(this instanceof Tf))return new Tf(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=bf.toArray(e.entropy,e.entropyEnc||"hex"),r=bf.toArray(e.nonce,e.nonceEnc||"hex"),n=bf.toArray(e.pers,e.persEnc||"hex");gf(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Lf=Tf;Tf.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Tf.prototype._hmac=function(){return new vf.hmac(this.hash,this.K)},Tf.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Tf.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=bf.toArray(e,t),r=bf.toArray(r,n),gf(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Tf.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=bf.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,bf.encode(a,t)};var $f=wf.assert;function Df(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Uf=Df;Df.fromPublic=function(e,t,r){return t instanceof Df?t:new Df(e,{pub:t,pubEnc:r})},Df.fromPrivate=function(e,t,r){return t instanceof Df?t:new Df(e,{priv:t,privEnc:r})},Df.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Df.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Df.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Df.prototype._importPrivate=function(e,t){this.priv=new za(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Df.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?$f(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||$f(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Df.prototype.derive=function(e){return e.validate()||$f(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Df.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Df.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Df.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ff=wf.assert;function Bf(e,t){if(e instanceof Bf)return e;this._importDER(e,t)||(Ff(e.r&&e.s,"Signature without r or s"),this.r=new za(e.r,16),this.s=new za(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var qf=Bf;function zf(){this.place=0}function Hf(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function Vf(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Wf(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Bf.prototype._importDER=function(e,t){e=wf.toArray(e,t);var r=new zf;if(48!==e[r.place++])return!1;var n=Hf(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Hf(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=Hf(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new za(a),this.s=new za(s),this.recoveryParam=null,!0},Bf.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Vf(t),r=Vf(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Wf(n,t.length),(n=n.concat(t)).push(2),Wf(n,r.length);var i=n.concat(r),a=[48];return Wf(a,i.length),a=a.concat(i),wf.encode(a,e)};var Gf=function(){throw new Error("unsupported")},Kf=wf.assert;function Zf(e){if(!(this instanceof Zf))return new Zf(e);"string"==typeof e&&(Kf(Object.prototype.hasOwnProperty.call(jf,e),"Unknown curve "+e),e=jf[e]),e instanceof jf.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Yf=Zf;Zf.prototype.keyPair=function(e){return new Uf(this,e)},Zf.prototype.keyFromPrivate=function(e,t){return Uf.fromPrivate(this,e,t)},Zf.prototype.keyFromPublic=function(e,t){return Uf.fromPublic(this,e,t)},Zf.prototype.genKeyPair=function(e){e||(e={});for(var t=new Lf({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Gf(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new za(2));;){var i=new za(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Zf.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Zf.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new za(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),o=e.toArray("be",i),s=new Lf({hash:this.hash,entropy:a,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new za(1)),c=0;;c++){var l=n.k?n.k(c):new za(s.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var f=this.g.mul(l);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=l.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new qf({r:d,s:p,recoveryParam:v})}}}}}},Zf.prototype.verify=function(e,t,r,n){e=this._truncateToN(new za(e,16)),r=this.keyFromPublic(r,n);var i=(t=new qf(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,s=a.invm(this.n),u=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},Zf.prototype.recoverPubKey=function(e,t,r,n){Kf((3&r)===r,"The recovery param is more than two bits"),t=new qf(t,n);var i=this.n,a=new za(e),o=t.r,s=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var l=t.r.invm(i),f=i.sub(a).mul(l).umod(i),h=s.mul(l).umod(i);return this.g.mulAdd(f,o,h)},Zf.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new qf(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Jf=mf((function(e,t){var r=t;r.version="6.5.4",r.utils=wf,r.rand=function(){throw new Error("unsupported")},r.curve=Mf,r.curves=jf,r.ec=Yf,r.eddsa=null})),Qf=Jf.ec,Xf=new Xa("signing-key/5.5.0"),eh=null;function th(){return eh||(eh=new Qf("secp256k1")),eh}var rh=function(){function e(t){A(this,e),No(this,"curve","secp256k1"),No(this,"privateKey",fo(t));var r=th().keyFromPrivate(oo(this.privateKey));No(this,"publicKey","0x"+r.getPublic(!1,"hex")),No(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),No(this,"_isSigningKey",!0)}return O(e,[{key:"_addPoint",value:function(e){var t=th().keyFromPublic(oo(this.publicKey)),r=th().keyFromPublic(oo(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var t=th().keyFromPrivate(oo(this.privateKey)),r=oo(e);32!==r.length&&Xf.throwArgumentError("bad digest length","digest",e);var n=t.sign(r,{canonical:!0});return yo({recoveryParam:n.recoveryParam,r:go("0x"+n.r.toString(16),32),s:go("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var t=th().keyFromPrivate(oo(this.privateKey)),r=th().keyFromPublic(oo(nh(e)));return go("0x"+t.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function nh(e,t){var r=oo(e);if(32===r.length){var n=new rh(r);return t?"0x"+th().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?fo(r):"0x"+th().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+th().keyFromPublic(r).getPublic(!0,"hex"):fo(r):Xf.throwArgumentError("invalid public or private key","key","[REDACTED]")}var ih,ah=new Xa("transactions/5.5.0");function oh(e){return"0x"===e?null:Ms(e)}function sh(e){return"0x"===e?Js:Eo.from(e)}function uh(e,t){return function(e){return Ms(po(ys(po(nh(e),1)),12))}(function(e,t){var r=yo(t),n={r:oo(r.r),s:oo(r.s)};return"0x"+th().recoverPubKey(oo(e),n,r.recoveryParam).encode("hex",!1)}(oo(e),t))}function ch(e,t){var r=uo(Eo.from(e).toHexString());return r.length>32&&ah.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function lh(e,t){return{address:Ms(e),storageKeys:(t||[]).map((function(t,r){return 32!==ho(t)&&ah.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(r,"]"),t),t.toLowerCase()}))}}function fh(e){if(Array.isArray(e))return e.map((function(e,t){return Array.isArray(e)?(e.length>2&&ah.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(t,"]"),e),lh(e[0],e[1])):lh(e.address,e.storageKeys)}));var t=Object.keys(e).map((function(t){var r=e[t].reduce((function(e,t){return e[t]=!0,e}),{});return lh(t,Object.keys(r).sort())}));return t.sort((function(e,t){return e.address.localeCompare(t.address)})),t}function hh(e){return fh(e).map((function(e){return[e.address,e.storageKeys]}))}function dh(e,t){if(null!=e.gasPrice){var r=Eo.from(e.gasPrice),n=Eo.from(e.maxFeePerGas||0);r.eq(n)||ah.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var i=[ch(e.chainId||0,"chainId"),ch(e.nonce||0,"nonce"),ch(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ch(e.maxFeePerGas||0,"maxFeePerGas"),ch(e.gasLimit||0,"gasLimit"),null!=e.to?Ms(e.to):"0x",ch(e.value||0,"value"),e.data||"0x",hh(e.accessList||[])];if(t){var a=yo(t);i.push(ch(a.recoveryParam,"recoveryParam")),i.push(uo(a.r)),i.push(uo(a.s))}return vo(["0x02",xs(i)])}function ph(e,t){var r=[ch(e.chainId||0,"chainId"),ch(e.nonce||0,"nonce"),ch(e.gasPrice||0,"gasPrice"),ch(e.gasLimit||0,"gasLimit"),null!=e.to?Ms(e.to):"0x",ch(e.value||0,"value"),e.data||"0x",hh(e.accessList||[])];if(t){var n=yo(t);r.push(ch(n.recoveryParam,"recoveryParam")),r.push(uo(n.r)),r.push(uo(n.s))}return vo(["0x01",xs(r)])}function vh(e,t,r){try{var n=sh(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(a){ah.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=go(t[1],32),e.s=go(t[2],32);try{var i=ys(r(e));e.from=uh(i,{r:e.r,s:e.s,recoveryParam:e.v})}catch(a){console.log(a)}}function mh(e){var t=oo(e);if(t[0]>127)return function(e){var t=Ss(e);9!==t.length&&6!==t.length&&ah.throwArgumentError("invalid raw transaction","rawTransaction",e);var r={nonce:sh(t[0]).toNumber(),gasPrice:sh(t[1]),gasLimit:sh(t[2]),to:oh(t[3]),value:sh(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=Eo.from(t[6]).toNumber()}catch(o){return console.log(o),r}if(r.r=go(t[7],32),r.s=go(t[8],32),Eo.from(r.r).isZero()&&Eo.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(fo(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);var a=ys(xs(i));try{r.from=uh(a,{r:fo(r.r),s:fo(r.s),recoveryParam:n})}catch(o){console.log(o)}r.hash=ys(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){var t=Ss(e.slice(1));8!==t.length&&11!==t.length&&ah.throwArgumentError("invalid component count for transaction type: 1","payload",fo(e));var r={type:1,chainId:sh(t[0]).toNumber(),nonce:sh(t[1]).toNumber(),gasPrice:sh(t[2]),gasLimit:sh(t[3]),to:oh(t[4]),value:sh(t[5]),data:t[6],accessList:fh(t[7])};return 8===t.length||(r.hash=ys(e),vh(r,t.slice(8),ph)),r}(t);case 2:return function(e){var t=Ss(e.slice(1));9!==t.length&&12!==t.length&&ah.throwArgumentError("invalid component count for transaction type: 2","payload",fo(e));var r=sh(t[2]),n=sh(t[3]),i={type:2,chainId:sh(t[0]).toNumber(),nonce:sh(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:sh(t[4]),to:oh(t[5]),value:sh(t[6]),data:t[7],accessList:fh(t[8])};return 9===t.length||(i.hash=ys(e),vh(i,t.slice(9),dh)),i}(t)}return ah.throwError("unsupported transaction type: ".concat(t[0]),Xa.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(ih||(ih={}));var gh=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},yh=new Xa("contracts/5.5.0");function bh(e,t){return gh(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:return"string"!=typeof(n=r.sent)&&yh.throwArgumentError("invalid address or ENS name","name",n),r.prev=4,r.abrupt("return",Ms(n));case 8:r.prev=8,r.t0=r.catch(4);case 10:return e||yh.throwError("a provider or signer is needed to resolve ENS names",Xa.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),r.next=13,e.resolveName(n);case 13:return null==(i=r.sent)&&yh.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r.abrupt("return",i);case 16:case"end":return r.stop()}}),r,null,[[4,8]])})))}function wh(e,t,r){return gh(this,void 0,void 0,o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(r)){n.next=4;break}return n.next=3,Promise.all(r.map((function(r,n){return wh(e,Array.isArray(t)?t[n]:t[r.name],r)})));case 3:case 7:case 11:case 17:return n.abrupt("return",n.sent);case 4:if("address"!==r.type){n.next=8;break}return n.next=7,bh(e,t);case 8:if("tuple"!==r.type){n.next=12;break}return n.next=11,wh(e,t,r.components);case 12:if("array"!==r.baseType){n.next=18;break}if(Array.isArray(t)){n.next=15;break}return n.abrupt("return",Promise.reject(yh.makeError("invalid value for array",Xa.errors.INVALID_ARGUMENT,{argument:"value",value:t})));case 15:return n.next=17,Promise.all(t.map((function(t){return wh(e,t,r.arrayChildren)})));case 18:return n.abrupt("return",t);case 19:case"end":return n.stop()}}),n)})))}function _h(e,t,r){return gh(this,void 0,void 0,o().mark((function n(){var i,a,s,u,c,l,f,h,d,p,v=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(i=To(r.pop())),yh.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?i.from?i.from=Mo({override:bh(e.signer,i.from),signer:e.signer.getAddress()}).then((function(e){return gh(v,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ms(e.signer)!==e.override&&yh.throwError("Contract with a Signer cannot override from",Xa.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.abrupt("return",e.override);case 2:case"end":return t.stop()}}),t)})))})):i.from=e.signer.getAddress():i.from&&(i.from=bh(e.provider,i.from)),n.next=6,Mo({args:wh(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:Mo(i)||{}});case 6:if(a=n.sent,s=e.interface.encodeFunctionData(t,a.args),u={data:s,to:a.address},null!=(c=a.overrides).nonce&&(u.nonce=Eo.from(c.nonce).toNumber()),null!=c.gasLimit&&(u.gasLimit=Eo.from(c.gasLimit)),null!=c.gasPrice&&(u.gasPrice=Eo.from(c.gasPrice)),null!=c.maxFeePerGas&&(u.maxFeePerGas=Eo.from(c.maxFeePerGas)),null!=c.maxPriorityFeePerGas&&(u.maxPriorityFeePerGas=Eo.from(c.maxPriorityFeePerGas)),null!=c.from&&(u.from=c.from),null!=c.type&&(u.type=c.type),null!=c.accessList&&(u.accessList=fh(c.accessList)),null==u.gasLimit&&null!=t.gas){for(l=21e3,f=oo(s),h=0;h<f.length;h++)l+=4,f[h]&&(l+=64);u.gasLimit=Eo.from(t.gas).add(l)}return c.value&&((d=Eo.from(c.value)).isZero()||t.payable||yh.throwError("non-payable method cannot override value",Xa.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),u.value=d),c.customData&&(u.customData=To(c.customData)),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,p=Object.keys(i).filter((function(e){return null!=i[e]})),p.length&&yh.throwError("cannot override ".concat(p.map((function(e){return JSON.stringify(e)})).join(",")),Xa.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:p}),n.abrupt("return",u);case 34:case"end":return n.stop()}}),n)})))}function kh(e,t){var r=t.wait.bind(t);t.wait=function(t){return r(t).then((function(t){return t.events=t.logs.map((function(r){var n=Uo(r),i=null;try{i=e.interface.parseLog(r)}catch(a){}return i&&(n.args=i.args,n.decode=function(t,r){return e.interface.decodeEventLog(i.eventFragment,t,r)},n.event=i.name,n.eventSignature=i.signature),n.removeListener=function(){return e.provider},n.getBlock=function(){return e.provider.getBlock(t.blockHash)},n.getTransaction=function(){return e.provider.getTransaction(t.transactionHash)},n.getTransactionReceipt=function(){return Promise.resolve(t)},n})),t}))}}function xh(e,t,r){var n=e.signer||e.provider;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return gh(this,void 0,void 0,o().mark((function i(){var s,u,c,l,f;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=void 0,a.length!==t.inputs.length+1||"object"!=typeof a[a.length-1]){i.next=9;break}if(null==(u=To(a.pop())).blockTag){i.next=7;break}return i.next=6,u.blockTag;case 6:s=i.sent;case 7:delete u.blockTag,a.push(u);case 9:if(null==e.deployTransaction){i.next=12;break}return i.next=12,e._deployed(s);case 12:return i.next=14,_h(e,t,a);case 14:return c=i.sent,i.next=17,n.call(c,s);case 17:return l=i.sent,i.prev=18,f=e.interface.decodeFunctionResult(t,l),r&&1===t.outputs.length&&(f=f[0]),i.abrupt("return",f);case 24:throw i.prev=24,i.t0=i.catch(18),i.t0.code===Xa.errors.CALL_EXCEPTION&&(i.t0.address=e.address,i.t0.args=a,i.t0.transaction=c),i.t0;case 28:case"end":return i.stop()}}),i,null,[[18,24]])})))}}function Eh(e,t,r){return t.constant?xh(e,t,r):function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return gh(this,void 0,void 0,o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.signer||yh.throwError("sending a transaction requires a signer",Xa.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==e.deployTransaction){r.next=4;break}return r.next=4,e._deployed();case 4:return r.next=6,_h(e,t,n);case 6:return i=r.sent,r.next=9,e.signer.sendTransaction(i);case 9:return a=r.sent,kh(e,a),r.abrupt("return",a);case 12:case"end":return r.stop()}}),r)})))}}(e,t)}function Ah(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((function(e){return Array.isArray(e)?e.join("|"):e})).join(":"):""):"*"}var Sh=function(){function e(t,r){A(this,e),No(this,"tag",t),No(this,"filter",r),this._listeners=[]}return O(e,[{key:"addListener",value:function(e,t){this._listeners.push({listener:e,once:t})}},{key:"removeListener",value:function(e){var t=!1;this._listeners=this._listeners.filter((function(r){return!(!t&&r.listener===e)||(t=!0,!1)}))}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"listeners",value:function(){return this._listeners.map((function(e){return e.listener}))}},{key:"listenerCount",value:function(){return this._listeners.length}},{key:"run",value:function(e){var t=this,r=this.listenerCount();return this._listeners=this._listeners.filter((function(r){var n=e.slice();return setTimeout((function(){r.listener.apply(t,n)}),0),!r.once})),r}},{key:"prepareEvent",value:function(e){}},{key:"getEmit",value:function(e){return[e]}}]),e}(),Oh=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.call(this,"error",null)}return O(r)}(Sh),Ih=function(e){f(r,e);var t=h(r);function r(e,n,i,a){var o;A(this,r);var s={address:e},u=n.getEventTopic(i);return a?(u!==a[0]&&yh.throwArgumentError("topic mismatch","topics",a),s.topics=a.slice()):s.topics=[u],No(d(o=t.call(this,Ah(s),s)),"address",e),No(d(o),"interface",n),No(d(o),"fragment",i),o}return O(r,[{key:"prepareEvent",value:function(e){var t=this;a(y(r.prototype),"prepareEvent",this).call(this,e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=function(e,r){return t.interface.decodeEventLog(t.fragment,e,r)};try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}},{key:"getEmit",value:function(e){var t=function(e){var t=[];return function e(r,n){if(Array.isArray(n))for(var i in n){var a=r.slice();a.push(i);try{e(a,n[i])}catch(o){t.push({path:a,error:o})}}}([],e),t}(e.args);if(t.length)throw t[0].error;var r=(e.args||[]).slice();return r.push(e),r}}]),r}(Sh),Rh=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),No(d(i=t.call(this,"*",{address:e})),"address",e),No(d(i),"interface",n),i}return O(r,[{key:"prepareEvent",value:function(e){var t=this;a(y(r.prototype),"prepareEvent",this).call(this,e);try{var n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=function(e,r){return t.interface.decodeEventLog(n.eventFragment,e,r)},e.args=n.args}catch(i){}}}]),r}(Sh),Ch=function(){function e(t,r,n){var i=this;A(this,e),yh.checkNew(this instanceof e?this.constructor:void 0,Nh),No(this,"interface",Po(this instanceof e?this.constructor:void 0,"getInterface")(r)),null==n?(No(this,"provider",null),No(this,"signer",null)):hc.isSigner(n)?(No(this,"provider",n.provider||null),No(this,"signer",n)):sc.isProvider(n)?(No(this,"provider",n),No(this,"signer",null)):yh.throwArgumentError("invalid signer or provider","signerOrProvider",n),No(this,"callStatic",{}),No(this,"estimateGas",{}),No(this,"functions",{}),No(this,"populateTransaction",{}),No(this,"filters",{});var a={};if(Object.keys(this.interface.events).forEach((function(e){var t=i.interface.events[e];No(i.filters,e,(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{address:i.address,topics:i.interface.encodeFilterTopics(t,r)}})),a[t.name]||(a[t.name]=[]),a[t.name].push(e)})),Object.keys(a).forEach((function(e){var t=a[e];1===t.length?No(i.filters,e,i.filters[t[0]]):yh.warn("Duplicate definition of ".concat(e," (").concat(t.join(", "),")"))})),No(this,"_runningEvents",{}),No(this,"_wrappedEmits",{}),null==t&&yh.throwArgumentError("invalid contract address or ENS name","addressOrName",t),No(this,"address",t),this.provider)No(this,"resolvedAddress",bh(this.provider,t));else try{No(this,"resolvedAddress",Promise.resolve(Ms(t)))}catch(c){yh.throwError("provider is required to use ENS name as contract address",Xa.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}var s={},u={};Object.keys(this.interface.functions).forEach((function(e){var t=i.interface.functions[e];if(u[e])yh.warn("Duplicate ABI entry for ".concat(JSON.stringify(e)));else{u[e]=!0;var r=t.name;s["%".concat(r)]||(s["%".concat(r)]=[]),s["%".concat(r)].push(e),null==i[e]&&No(i,e,Eh(i,t,!0)),null==i.functions[e]&&No(i.functions,e,Eh(i,t,!1)),null==i.callStatic[e]&&No(i.callStatic,e,xh(i,t,!0)),null==i.populateTransaction[e]&&No(i.populateTransaction,e,function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return _h(e,t,n)}}(i,t)),null==i.estimateGas[e]&&No(i.estimateGas,e,function(e,t){var r=e.signer||e.provider;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return gh(this,void 0,void 0,o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||yh.throwError("estimate require a provider or signer",Xa.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),n.next=3,_h(e,t,i);case 3:return a=n.sent,n.next=6,r.estimateGas(a);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))}}(i,t))}})),Object.keys(s).forEach((function(e){var t=s[e];if(!(t.length>1)){e=e.substring(1);var r=t[0];try{null==i[e]&&No(i,e,i[r])}catch(n){}null==i.functions[e]&&No(i.functions,e,i.functions[r]),null==i.callStatic[e]&&No(i.callStatic,e,i.callStatic[r]),null==i.populateTransaction[e]&&No(i.populateTransaction,e,i.populateTransaction[r]),null==i.estimateGas[e]&&No(i.estimateGas,e,i.estimateGas[r])}}))}return O(e,[{key:"deployed",value:function(){return this._deployed()}},{key:"_deployed",value:function(e){var t=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((function(){return t})):this._deployedPromise=this.provider.getCode(this.address,e).then((function(e){return"0x"===e&&yh.throwError("contract not deployed",Xa.errors.UNSUPPORTED_OPERATION,{contractAddress:t.address,operation:"getDeployed"}),t}))),this._deployedPromise}},{key:"fallback",value:function(e){var t=this;this.signer||yh.throwError("sending a transactions require a signer",Xa.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var r=To(e||{});return["from","to"].forEach((function(e){null!=r[e]&&yh.throwError("cannot override "+e,Xa.errors.UNSUPPORTED_OPERATION,{operation:e})})),r.to=this.resolvedAddress,this.deployed().then((function(){return t.signer.sendTransaction(r)}))}},{key:"connect",value:function(e){"string"==typeof e&&(e=new dc(e,this.provider));var t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&No(t,"deployTransaction",this.deployTransaction),t}},{key:"attach",value:function(e){return new this.constructor(e,this.interface,this.signer||this.provider)}},{key:"_normalizeRunningEvent",value:function(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}},{key:"_getRunningEvent",value:function(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new Oh);if("event"===e)return this._normalizeRunningEvent(new Sh("event",null));if("*"===e)return this._normalizeRunningEvent(new Rh(this.address,this.interface));var t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Ih(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{var r=e.topics[0];if("string"!=typeof r)throw new Error("invalid topic");var n=this.interface.getEvent(r);return this._normalizeRunningEvent(new Ih(this.address,this.interface,n,e.topics))}catch(a){}var i={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Sh(Ah(i),i))}return this._normalizeRunningEvent(new Rh(this.address,this.interface))}},{key:"_checkRunningEvents",value:function(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];var t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}},{key:"_wrapEvent",value:function(e,t,r){var n=this,i=Uo(t);return i.removeListener=function(){r&&(e.removeListener(r),n._checkRunningEvents(e))},i.getBlock=function(){return n.provider.getBlock(t.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(t.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(t.transactionHash)},e.prepareEvent(i),i}},{key:"_addEventListener",value:function(e,t,r){var n=this;if(this.provider||yh.throwError("events require a provider or a signer with a provider",Xa.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){var i=function(r){var i=n._wrapEvent(e,r,t);if(null==i.decodeError)try{var a=e.getEmit(i);n.emit.apply(n,[e.filter].concat(w(a)))}catch(o){i.decodeError=o.error}null!=e.filter&&n.emit("event",i),null!=i.decodeError&&n.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=i,null!=e.filter&&this.provider.on(e.filter,i)}}},{key:"queryFilter",value:function(e,t,r){var n=this,i=this._getRunningEvent(e),a=To(i.filter);return"string"==typeof t&&co(t,32)?(null!=r&&yh.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),a.blockHash=t):(a.fromBlock=null!=t?t:0,a.toBlock=null!=r?r:"latest"),this.provider.getLogs(a).then((function(e){return e.map((function(e){return n._wrapEvent(i,e,null)}))}))}},{key:"on",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}},{key:"once",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}},{key:"emit",value:function(e){if(!this.provider)return!1;for(var t=this._getRunningEvent(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=t.run(n)>0;return this._checkRunningEvents(t),a}},{key:"listenerCount",value:function(e){var t=this;return this.provider?null==e?Object.keys(this._runningEvents).reduce((function(e,r){return e+t._runningEvents[r].listenerCount()}),0):this._getRunningEvent(e).listenerCount():0}},{key:"listeners",value:function(e){if(!this.provider)return[];if(null==e){var t=[];for(var r in this._runningEvents)this._runningEvents[r].listeners().forEach((function(e){t.push(e)}));return t}return this._getRunningEvent(e).listeners()}},{key:"removeAllListeners",value:function(e){if(!this.provider)return this;if(null==e){for(var t in this._runningEvents){var r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}var n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}},{key:"off",value:function(e,t){if(!this.provider)return this;var r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"getContractAddress",value:function(e){return Ts(e)}},{key:"getInterface",value:function(e){return nc.isInterface(e)?e:new nc(e)}},{key:"isIndexed",value:function(e){return ec.isIndexed(e)}}]),e}(),Nh=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r)}(Ch),Ph=function(){function e(t){A(this,e),No(this,"alphabet",t),No(this,"base",t.length),No(this,"_alphabetMap",{}),No(this,"_leader",t.charAt(0));for(var r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}return O(e,[{key:"encode",value:function(e){var t=oo(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var i=t[n],a=0;a<r.length;++a)i+=r[a]<<8,r[a]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var o="",s=0;0===t[s]&&s<t.length-1;++s)o+=this._leader;for(var u=r.length-1;u>=0;--u)o+=this.alphabet[r[u]];return o}},{key:"decode",value:function(e){if("string"!=typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,a=0;a<t.length;++a)i+=t[a]*this.base,t[a]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(var o=0;e[o]===this._leader&&o<e.length-1;++o)t.push(0);return oo(new Uint8Array(t.reverse()))}}]),e}();new Ph("abcdefghijklmnopqrstuvwxyz234567");var Mh=s("bl",new Ph("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));function jh(e){return"0x"+vf.sha256().update(oo(e)).digest("hex")}var Th=new Xa("networks/5.5.2");function Lh(e){var t=function(t,r){null==r&&(r={});var n=[];if(t.InfuraProvider)try{n.push(new t.InfuraProvider(e,r.infura))}catch(o){}if(t.EtherscanProvider)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(o){}if(t.AlchemyProvider)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(o){}if(t.PocketProvider){try{var i=new t.PocketProvider(e);i.network&&-1===["goerli","ropsten","rinkeby"].indexOf(i.network.name)&&n.push(i)}catch(o){}}if(t.CloudflareProvider)try{n.push(new t.CloudflareProvider(e))}catch(o){}if(0===n.length)return null;if(t.FallbackProvider){var a=1;return null!=r.quorum?a=r.quorum:"homestead"===e&&(a=2),new t.FallbackProvider(n,a)}return n[0]};return t.renetwork=function(e){return Lh(e)},t}function $h(e,t){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return $h(e,t)},r}var Dh={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Lh("homestead")},Uh={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Lh("ropsten")},Fh={chainId:63,name:"classicMordor",_defaultProvider:$h("https://www.ethercluster.com/mordor","classicMordor")},Bh={unspecified:{chainId:0,name:"unspecified"},homestead:Dh,mainnet:Dh,morden:{chainId:2,name:"morden"},ropsten:Uh,testnet:Uh,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Lh("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Lh("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Lh("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:$h("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Fh,classicTestnet:Fh,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:$h("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function qh(e){if(null==e)return null;if("number"==typeof e){for(var t in Bh){var r=Bh[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){var n=Bh[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}var i=Bh[e.name];if(!i)return"number"!=typeof e.chainId&&Th.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==i.chainId&&Th.throwArgumentError("network chainId mismatch","network",e);var a,o=e._defaultProvider||null;return null==o&&i._defaultProvider&&(o=(a=i._defaultProvider)&&"function"==typeof a.renetwork?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,ensAddress:e.ensAddress||i.ensAddress||null,_defaultProvider:o}}function zh(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return oo(t)}function Hh(e){e=oo(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Vh=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function Wh(e,t){return Vh(this,void 0,void 0,o().mark((function r(){var n,i,a,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t={}),n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0},!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),r.next=5,fetch(e,n);case 5:return i=r.sent,r.next=8,i.arrayBuffer();case 8:return a=r.sent,s={},i.headers.forEach?i.headers.forEach((function(e,t){s[t.toLowerCase()]=e})):i.headers.keys().forEach((function(e){s[e.toLowerCase()]=i.headers.get(e)})),r.abrupt("return",{headers:s,statusCode:i.status,statusMessage:i.statusText,body:oo(new Uint8Array(a))});case 12:case"end":return r.stop()}}),r)})))}var Gh=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Kh=new Xa("web/5.5.1");function Zh(e){return new Promise((function(t){setTimeout(t,e)}))}function Yh(e,t){if(null==e)return null;if("string"==typeof e)return e;if(no(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return uu(e)}catch(r){}return fo(e)}return e}function Jh(e,t,r){var n=null;if(null!=t){n=ou(t);var i="string"==typeof e?{url:e}:To(e);if(i.headers)0!==Object.keys(i.headers).filter((function(e){return"content-type"===e.toLowerCase()})).length||(i.headers=To(i.headers),i.headers["content-type"]="application/json");else i.headers={"content-type":"application/json"};e=i}return function(e,t,r){var n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Kh.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);var i="object"==typeof e?e.throttleCallback:null,a="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Kh.assertArgument(a>0&&a%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);var s={},u=null,c={method:"GET"},l=!1,f=12e4;if("string"==typeof e)u=e;else if("object"==typeof e){if(null!=e&&null!=e.url||Kh.throwArgumentError("missing URL","connection.url",e),u=e.url,"number"==typeof e.timeout&&e.timeout>0&&(f=e.timeout),e.headers)for(var h in e.headers)s[h.toLowerCase()]={key:h,value:String(e.headers[h])},["if-none-match","if-modified-since"].indexOf(h.toLowerCase())>=0&&(l=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==u.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Kh.throwError("basic authentication requires a secure https url",Xa.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:e.user,password:"[REDACTED]"});var d=e.user+":"+e.password;s.authorization={key:"Authorization",value:"Basic "+Hh(ou(d))}}}var p=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),v=u?u.match(p):null;if(v)try{var m={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]},body:zh(v[2])},g=m.body;return r&&(g=r(m.body,m)),Promise.resolve(g)}catch(_){Kh.throwError("processing response error",Xa.errors.SERVER_ERROR,{body:Yh(v[1],v[2]),error:_,requestBody:null,requestMethod:"GET",url:u})}t&&(c.method="POST",c.body=t,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(t.length)}));var y={};Object.keys(s).forEach((function(e){var t=s[e];y[t.key]=t.value})),c.headers=y;var b=function(){var e=null;return{promise:new Promise((function(t,r){f&&(e=setTimeout((function(){null!=e&&(e=null,r(Kh.makeError("timeout",Xa.errors.TIMEOUT,{requestBody:Yh(c.body,y["content-type"]),requestMethod:c.method,timeout:f,url:u})))}),f))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),w=function(){return Gh(this,void 0,void 0,o().mark((function e(){var t,s,f,h,d,p,v,m,g,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n)){e.next=65;break}return s=null,e.prev=3,e.next=6,Wh(u,c);case 6:if(s=e.sent,!(t<n)){e.next=28;break}if(301!==s.statusCode&&302!==s.statusCode){e.next=15;break}if(f=s.headers.location||"","GET"!==c.method||!f.match(/^https:/)){e.next=13;break}return u=s.headers.location,e.abrupt("continue",62);case 13:e.next=28;break;case 15:if(429!==s.statusCode){e.next=28;break}if(h=!0,!i){e.next=21;break}return e.next=20,i(t,u);case 20:h=e.sent;case 21:if(!h){e.next=28;break}return d=0,p=s.headers["retry-after"],d="string"==typeof p&&p.match(/^[1-9][0-9]*$/)?1e3*parseInt(p):a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=27,Zh(d);case 27:return e.abrupt("continue",62);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(3),null==(s=e.t0.response)&&(b.cancel(),Kh.throwError("missing response",Xa.errors.SERVER_ERROR,{requestBody:Yh(c.body,y["content-type"]),requestMethod:c.method,serverError:e.t0,url:u}));case 34:if(v=s.body,l&&304===s.statusCode?v=null:(s.statusCode<200||s.statusCode>=300)&&(b.cancel(),Kh.throwError("bad response",Xa.errors.SERVER_ERROR,{status:s.statusCode,headers:s.headers,body:Yh(v,s.headers?s.headers["content-type"]:null),requestBody:Yh(c.body,y["content-type"]),requestMethod:c.method,url:u})),!r){e.next=60;break}return e.prev=37,e.next=40,r(v,s);case 40:return m=e.sent,b.cancel(),e.abrupt("return",m);case 45:if(e.prev=45,e.t1=e.catch(37),!(e.t1.throttleRetry&&t<n)){e.next=58;break}if(g=!0,!i){e.next=53;break}return e.next=52,i(t,u);case 52:g=e.sent;case 53:if(!g){e.next=58;break}return w=a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=57,Zh(w);case 57:return e.abrupt("continue",62);case 58:b.cancel(),Kh.throwError("processing response error",Xa.errors.SERVER_ERROR,{body:Yh(v,s.headers?s.headers["content-type"]:null),error:e.t1,requestBody:Yh(c.body,y["content-type"]),requestMethod:c.method,url:u});case 60:return b.cancel(),e.abrupt("return",v);case 62:t++,e.next=1;break;case 65:return e.abrupt("return",Kh.throwError("failed response",Xa.errors.SERVER_ERROR,{requestBody:Yh(c.body,y["content-type"]),requestMethod:c.method,url:u}));case 66:case"end":return e.stop()}}),e,null,[[3,30],[37,45]])})))}();return Promise.race([b.promise,w])}(e,n,(function(e,t){var n=null;if(null!=e)try{n=JSON.parse(uu(e))}catch(i){Kh.throwError("invalid JSON",Xa.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n}))}function Qh(e,t){return t||(t={}),null==(t=To(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){var i=null,a=!1,o=function(){return!a&&(a=!0,i&&clearTimeout(i),!0)};t.timeout&&(i=setTimeout((function(){o()&&n(new Error("timeout"))}),t.timeout));var s=t.retryLimit,u=0;!function i(){return e().then((function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++u>s)return void(o()&&n(new Error("retry limit reached")));var c=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));c<t.floor&&(c=t.floor),c>t.ceiling&&(c=t.ceiling),setTimeout(i,c)}return null}),(function(e){o()&&n(e)}))}()}))}for(var Xh="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ed={},td=0;td<32;td++){var rd=Xh.charAt(td);if(void 0!==ed[rd])throw new TypeError(rd+" is ambiguous");ed[rd]=td}function nd(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function id(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=nd(t)^n>>5}for(t=nd(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=nd(t)^31&i}return t}function ad(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var a=e.slice(0,i),o=e.slice(i+1);if(o.length<6)return"Data too short";var s=id(a);if("string"==typeof s)return s;for(var u=[],c=0;c<o.length;++c){var l=o.charAt(c),f=ed[l];if(void 0===f)return"Unknown character "+l;s=nd(s)^f,c+6>=o.length||u.push(f)}return 1!==s?"Invalid checksum for "+e:{prefix:a,words:u}}function od(e,t,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(i=i<<t|e[u],a+=t;a>=r;)a-=r,s.push(i>>a&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=t)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}var sd={decodeUnsafe:function(){var e=ad.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=ad.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var n=id(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",a=0;a<t.length;++a){var o=t[a];if(o>>5!=0)throw new Error("Non 5-bit word");n=nd(n)^o,i+=Xh.charAt(o)}for(a=0;a<6;++a)n=nd(n);for(n^=1,a=0;a<6;++a){i+=Xh.charAt(n>>5*(5-a)&31)}return i},toWordsUnsafe:function(e){var t=od(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=od(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=od(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=od(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}},ud=s("bi",g(sd)),cd="providers/5.5.2",ld=new Xa(cd),fd=function(){function e(){A(this,e),ld.checkNew(this instanceof e?this.constructor:void 0,e),this.formats=this.getDefaultFormats()}return O(e,[{key:"getDefaultFormats",value:function(){var t=this,r={},n=this.address.bind(this),i=this.bigNumber.bind(this),a=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),u=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this);return r.transaction={hash:s,type:l,accessList:e.allowNull(this.accessList.bind(this),null),blockHash:e.allowNull(s,null),blockNumber:e.allowNull(c,null),transactionIndex:e.allowNull(c,null),confirmations:e.allowNull(c,null),from:n,gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),gasLimit:i,to:e.allowNull(n,null),value:i,nonce:c,data:o,r:e.allowNull(this.uint256),s:e.allowNull(this.uint256),v:e.allowNull(c),creates:e.allowNull(n,null),raw:e.allowNull(o)},r.transactionRequest={from:e.allowNull(n),nonce:e.allowNull(c),gasLimit:e.allowNull(i),gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),to:e.allowNull(n),value:e.allowNull(i),data:e.allowNull((function(e){return t.data(e,!0)})),type:e.allowNull(c),accessList:e.allowNull(this.accessList.bind(this),null)},r.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:n,topics:e.arrayOf(s),data:o,logIndex:c,blockHash:s},r.receipt={to:e.allowNull(this.address,null),from:e.allowNull(this.address,null),contractAddress:e.allowNull(n,null),transactionIndex:c,root:e.allowNull(u),gasUsed:i,logsBloom:e.allowNull(o),blockHash:s,transactionHash:s,logs:e.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:e.allowNull(c,null),cumulativeGasUsed:i,effectiveGasPrice:e.allowNull(i),status:e.allowNull(c),type:l},r.block={hash:s,parentHash:s,number:c,timestamp:c,nonce:e.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:n,extraData:o,transactions:e.allowNull(e.arrayOf(s)),baseFeePerGas:e.allowNull(i)},r.blockWithTransactions=To(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:e.allowNull(a,void 0),toBlock:e.allowNull(a,void 0),blockHash:e.allowNull(s,void 0),address:e.allowNull(n,void 0),topics:e.allowNull(this.topics.bind(this),void 0)},r.filterLog={blockNumber:e.allowNull(c),blockHash:e.allowNull(s),transactionIndex:c,removed:e.allowNull(this.boolean.bind(this)),address:n,data:e.allowFalsish(o,"0x"),topics:e.arrayOf(s),transactionHash:s,logIndex:c},r}},{key:"accessList",value:function(e){return fh(e||[])}},{key:"number",value:function(e){return"0x"===e?0:Eo.from(e).toNumber()}},{key:"type",value:function(e){return"0x"===e||null==e?0:Eo.from(e).toNumber()}},{key:"bigNumber",value:function(e){return Eo.from(e)}},{key:"boolean",value:function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}},{key:"hex",value:function(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),co(e))?e.toLowerCase():ld.throwArgumentError("invalid hash","value",e)}},{key:"data",value:function(e,t){var r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r}},{key:"address",value:function(e){return Ms(e)}},{key:"callAddress",value:function(e){if(!co(e,32))return null;var t=Ms(po(e,12));return t===Zs?null:t}},{key:"contractAddress",value:function(e){return Ts(e)}},{key:"blockTag",value:function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||co(e))return mo(e);throw new Error("invalid blockTag")}},{key:"hash",value:function(e,t){var r=this.hex(e,t);return 32!==ho(r)?ld.throwArgumentError("invalid hash","value",e):r}},{key:"difficulty",value:function(e){if(null==e)return null;var t=Eo.from(e);try{return t.toNumber()}catch(r){}return null}},{key:"uint256",value:function(e){if(!co(e))throw new Error("invalid uint256");return go(e,32)}},{key:"_block",value:function(t,r){null!=t.author&&null==t.miner&&(t.miner=t.author);var n=null!=t._difficulty?t._difficulty:t.difficulty,i=e.check(r,t);return i._difficulty=null==n?null:Eo.from(n),i}},{key:"block",value:function(e){return this._block(e,this.formats.block)}},{key:"blockWithTransactions",value:function(e){return this._block(e,this.formats.blockWithTransactions)}},{key:"transactionRequest",value:function(t){return e.check(this.formats.transactionRequest,t)}},{key:"transactionResponse",value:function(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&Eo.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);var r=e.check(this.formats.transaction,t);if(null!=t.chainId){var n=t.chainId;co(n)&&(n=Eo.from(n).toNumber()),r.chainId=n}else{var i=t.networkId;null==i&&null==r.v&&(i=t.chainId),co(i)&&(i=Eo.from(i).toNumber()),"number"!=typeof i&&null!=r.v&&((i=(r.v-35)/2)<0&&(i=0),i=parseInt(i)),"number"!=typeof i&&(i=0),r.chainId=i}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}},{key:"transaction",value:function(e){return mh(e)}},{key:"receiptLog",value:function(t){return e.check(this.formats.receiptLog,t)}},{key:"receipt",value:function(t){var r=e.check(this.formats.receipt,t);if(null!=r.root)if(r.root.length<=4){var n=Eo.from(r.root).toNumber();0===n||1===n?(null!=r.status&&r.status!==n&&ld.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):ld.throwArgumentError("invalid alt-root-status","value.root",r.root)}else 66!==r.root.length&&ld.throwArgumentError("invalid root hash","value.root",r.root);return null!=r.status&&(r.byzantium=!0),r}},{key:"topics",value:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.topics(e)})):null!=e?this.hash(e,!0):null}},{key:"filter",value:function(t){return e.check(this.formats.filter,t)}},{key:"filterLog",value:function(t){return e.check(this.formats.filterLog,t)}}],[{key:"check",value:function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(a){throw a.checkKey=n,a.checkValue=t[n],a}return r}},{key:"allowNull",value:function(e,t){return function(r){return null==r?t:e(r)}}},{key:"allowFalsish",value:function(e,t){return function(r){return r?e(r):t}}},{key:"arrayOf",value:function(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}}}]),e}(),hd=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},dd=new Xa(cd);function pd(e){return null==e?"null":(32!==ho(e)&&dd.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function vd(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((function(e){if(Array.isArray(e)){var t={};e.forEach((function(e){t[pd(e)]=!0}));var r=Object.keys(t);return r.sort(),r.join("|")}return pd(e)})).join("&")}function md(e){if("string"==typeof e){if(32===ho(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+vd(e);if(oc.isForkEvent(e))throw dd.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+vd(e.topics||[])}throw new Error("invalid event - "+e)}function gd(){return(new Date).getTime()}function yd(e){return new Promise((function(t){setTimeout(t,e)}))}var bd=["block","network","pending","poll"],wd=function(){function e(t,r,n){A(this,e),No(this,"tag",t),No(this,"listener",r),No(this,"once",n)}return O(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=e[1],n=""===(t=e[2])?[]:t.split(/&/g).map((function(e){if(""===e)return[];var t=e.split("|").map((function(e){return"null"===e?null:e}));return 1===t.length?t[0]:t})),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}},{key:"pollable",value:function(){return this.tag.indexOf(":")>=0||bd.indexOf(this.tag)>=0}}]),e}(),_d={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function kd(e){return go(Eo.from(e).toHexString(),32)}function xd(e){return Mh.encode(so([e,po(jh(jh(e)),0,4)]))}var Ed=new RegExp("^(ipfs)://(.*)$","i"),Ad=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ed,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Sd(e){try{return uu(Od(e))}catch(t){}return null}function Od(e){if("0x"===e)return null;var t=Eo.from(po(e,0,32)).toNumber(),r=Eo.from(po(e,t,t+32)).toNumber();return po(e,t+32,t+32+r)}function Id(e){return"https://gateway.ipfs.io/ipfs/".concat(e.substring(7))}var Rd=function(){function e(t,r,n,i){A(this,e),No(this,"provider",t),No(this,"name",n),No(this,"address",t.formatter.address(r)),No(this,"_resolvedAddress",i)}return O(e,[{key:"_fetchBytes",value:function(e,t){return hd(this,void 0,void 0,o().mark((function r(){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={to:this.address,data:vo([e,Mu(this.name),t||"0x"])},r.prev=1,r.t0=Od,r.next=5,this.provider.call(n);case 5:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 9:if(r.prev=9,r.t2=r.catch(1),r.t2.code!==Xa.errors.CALL_EXCEPTION){r.next=13;break}return r.abrupt("return",null);case 13:return r.abrupt("return",null);case 14:case"end":return r.stop()}}),r,this,[[1,9]])})))}},{key:"_getAddress",value:function(e,t){var r=_d[String(e)];if(null==r&&dd.throwError("unsupported coin type: ".concat(e),Xa.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")")}),"eth"===r.ilk)return this.provider.formatter.address(t);var n=oo(t);if(null!=r.p2pkh){var i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){var a=parseInt(i[1],16);if(i[2].length===2*a&&a>=1&&a<=75)return xd(so([[r.p2pkh],"0x"+i[2]]))}}if(null!=r.p2sh){var o=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){var s=parseInt(o[1],16);if(o[2].length===2*s&&s>=1&&s<=75)return xd(so([[r.p2sh],"0x"+o[2]]))}}if(null!=r.prefix){var u=n[1],c=n[0];if(0===c?20!==u&&32!==u&&(c=-1):c=-1,c>=0&&n.length===2+u&&u>=1&&u<=75){var l=ud.toWords(n.slice(2));return l.unshift(c),ud.encode(r.prefix,l)}}return null}},{key:"getAddress",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=60),60!==e){t.next=17;break}return t.prev=2,r={to:this.address,data:"0x3b3b57de"+Mu(this.name).substring(2)},t.next=6,this.provider.call(r);case 6:if("0x"!==(n=t.sent)&&n!==eu){t.next=9;break}return t.abrupt("return",null);case 9:return t.abrupt("return",this.provider.formatter.callAddress(n));case 12:if(t.prev=12,t.t0=t.catch(2),t.t0.code!==Xa.errors.CALL_EXCEPTION){t.next=16;break}return t.abrupt("return",null);case 16:throw t.t0;case 17:return t.next=19,this._fetchBytes("0xf1cb7e06",kd(e));case 19:if(null!=(i=t.sent)&&"0x"!==i){t.next=22;break}return t.abrupt("return",null);case 22:return null==(a=this._getAddress(e,i))&&dd.throwError("invalid or unsupported coin data",Xa.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")"),coinType:e,data:i}),t.abrupt("return",a);case 25:case"end":return t.stop()}}),t,this,[[2,12]])})))}},{key:"getAvatar",value:function(){return hd(this,void 0,void 0,o().mark((function e(){var t,r,n,i,a,s,u,c,l,f,h,d,p,v,m,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{type:"name",content:this.name}],e.prev=1,e.next=4,this.getText("avatar");case 4:if(null!=(r=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:n=0;case 8:if(!(n<Ad.length)){e.next=89;break}if(null!=(i=r.match(Ad[n]))){e.next=12;break}return e.abrupt("continue",86);case 12:a=i[1].toLowerCase(),e.t0=a,e.next="https"===e.t0?16:"data"===e.t0?18:"ipfs"===e.t0?20:"erc721"===e.t0||"erc1155"===e.t0?22:86;break;case 16:return t.push({type:"url",content:r}),e.abrupt("return",{linkage:t,url:r});case 18:return t.push({type:"data",content:r}),e.abrupt("return",{linkage:t,url:r});case 20:return t.push({type:"ipfs",content:r}),e.abrupt("return",{linkage:t,url:Id(r)});case 22:if(s="erc721"===a?"0xc87b56dd":"0x0e89341c",t.push({type:a,content:r}),e.t1=this._resolvedAddress,e.t1){e.next=29;break}return e.next=28,this.getAddress();case 28:e.t1=e.sent;case 29:if(u=e.t1,2===(c=(i[2]||"").split("/")).length){e.next=33;break}return e.abrupt("return",null);case 33:return e.next=35,this.provider.formatter.address(c[0]);case 35:if(l=e.sent,f=go(Eo.from(c[1]).toHexString(),32),"erc721"!==a){e.next=48;break}return e.t2=this.provider.formatter,e.next=41,this.provider.call({to:l,data:vo(["0x6352211e",f])});case 41:if(e.t3=e.sent,h=e.t2.callAddress.call(e.t2,e.t3),u===h){e.next=45;break}return e.abrupt("return",null);case 45:t.push({type:"owner",content:h}),e.next=57;break;case 48:if("erc1155"!==a){e.next=57;break}return e.t4=Eo,e.next=52,this.provider.call({to:l,data:vo(["0x00fdd58e",go(u,32),f])});case 52:if(e.t5=e.sent,!(d=e.t4.from.call(e.t4,e.t5)).isZero()){e.next=56;break}return e.abrupt("return",null);case 56:t.push({type:"balance",content:d.toString()});case 57:return p={to:this.provider.formatter.address(c[0]),data:vo([s,f])},e.t6=Sd,e.next=61,this.provider.call(p);case 61:if(e.t7=e.sent,null!=(v=(0,e.t6)(e.t7))){e.next=65;break}return e.abrupt("return",null);case 65:return t.push({type:"metadata-url",content:v}),"erc1155"===a&&(v=v.replace("{id}",f.substring(2)),t.push({type:"metadata-url-expanded",content:v})),e.next=69,Jh(v);case 69:if(m=e.sent){e.next=72;break}return e.abrupt("return",null);case 72:if(t.push({type:"metadata",content:JSON.stringify(m)}),"string"==typeof(g=m.image)){e.next=76;break}return e.abrupt("return",null);case 76:if(!g.match(/^(https:\/\/|data:)/i)){e.next=79;break}e.next=84;break;case 79:if(null!=g.match(Ed)){e.next=82;break}return e.abrupt("return",null);case 82:t.push({type:"url-ipfs",content:g}),g=Id(g);case 84:return t.push({type:"url",content:g}),e.abrupt("return",{linkage:t,url:g});case 86:n++,e.next=8;break;case 89:e.next=93;break;case 91:e.prev=91,e.t8=e.catch(1);case 93:return e.abrupt("return",null);case 94:case"end":return e.stop()}}),e,this,[[1,91]])})))}},{key:"getContentHash",value:function(){return hd(this,void 0,void 0,o().mark((function e(){var t,r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchBytes("0xbc1c58d1");case 2:if(null!=(t=e.sent)&&"0x"!==t){e.next=5;break}return e.abrupt("return",null);case 5:if(!(r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=10;break}if(n=parseInt(r[3],16),r[4].length!==2*n){e.next=10;break}return e.abrupt("return","ipfs://"+Mh.encode("0x"+r[1]));case 10:if(!(i=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))){e.next=14;break}if(64!==i[1].length){e.next=14;break}return e.abrupt("return","bzz://"+i[1]);case 14:return e.abrupt("return",dd.throwError("invalid or unsupported content hash data",Xa.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t}));case 15:case"end":return e.stop()}}),e,this)})))}},{key:"getText",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ou(e),(r=so([kd(64),kd(r.length),r])).length%32!=0&&(r=so([r,go("0x",32-e.length%32)])),t.next=5,this._fetchBytes("0x59d1d43c",fo(r));case 5:if(null!=(n=t.sent)&&"0x"!==n){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",uu(n));case 9:case"end":return t.stop()}}),t,this)})))}}]),e}(),Cd=null,Nd=1,Pd=function(e){f(r,e);var t=h(r);function r(e){var n;if(A(this,r),dd.checkNew(this instanceof r?this.constructor:void 0,sc),(n=t.call(this))._events=[],n._emitted={block:-2},n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),No(d(n),"anyNetwork","any"===e),n.anyNetwork&&(e=n.detectNetwork()),e instanceof Promise)n._networkPromise=e,e.catch((function(e){})),n._ready().catch((function(e){}));else{var i=Po(this instanceof r?this.constructor:void 0,"getNetwork")(e);i?(No(d(n),"_network",i),n.emit("network",i,null)):dd.throwArgumentError("invalid network","network",e)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._pollingInterval=4e3,n._fastQueryDate=0,n}return O(r,[{key:"_ready",value:function(){return hd(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._network){e.next=17;break}if(t=null,!this._networkPromise){e.next=11;break}return e.prev=3,e.next=6,this._networkPromise;case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(null!=t){e.next=15;break}return e.next=14,this.detectNetwork();case 14:t=e.sent;case 15:t||dd.throwError("no network detected",Xa.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:No(this,"_network",t),this.emit("network",t,null));case 17:return e.abrupt("return",this._network);case 18:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"ready",get:function(){var e=this;return Qh((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==Xa.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"_getInternalBlockNumber",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n,i,a,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready();case 2:if(!(e>0)){t.next=20;break}case 3:if(!this._internalBlockNumber){t.next=20;break}return r=this._internalBlockNumber,t.prev=5,t.next=8,r;case 8:if(n=t.sent,!(gd()-n.respTime<=e)){t.next=11;break}return t.abrupt("return",n.blockNumber);case 11:return t.abrupt("break",20);case 14:if(t.prev=14,t.t0=t.catch(5),this._internalBlockNumber!==r){t.next=18;break}return t.abrupt("break",20);case 18:t.next=3;break;case 20:return i=gd(),a=Mo({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,r=e.networkError;if(r)throw s._internalBlockNumber===a&&(s._internalBlockNumber=null),r;var n=gd();return(t=Eo.from(t).toNumber())<s._maxInternalBlockNumber&&(t=s._maxInternalBlockNumber),s._maxInternalBlockNumber=t,s._setFastBlockNumber(t),{blockNumber:t,reqTime:i,respTime:n}})),this._internalBlockNumber=a,a.catch((function(e){s._internalBlockNumber===a&&(s._internalBlockNumber=null)})),t.next=26,a;case 26:return t.abrupt("return",t.sent.blockNumber);case 27:case"end":return t.stop()}}),t,this,[[5,14]])})))}},{key:"poll",value:function(){return hd(this,void 0,void 0,o().mark((function e(){var t,r,n,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Nd++,r=[],n=null,e.prev=3,e.next=6,this._getInternalBlockNumber(100+this.pollingInterval/2);case 6:n=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),this.emit("error",e.t0),e.abrupt("return");case 13:if(this._setFastBlockNumber(n),this.emit("poll",t,n),n!==this._lastBlockNumber){e.next=18;break}return this.emit("didPoll",t),e.abrupt("return");case 18:if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)dd.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(n,")")),this.emit("error",dd.makeError("network block skew detected",Xa.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(i=this._emitted.block+1;i<=n;i++)this.emit("block",i);return this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((function(e){if("block"!==e){var t=a._emitted[e];"pending"!==t&&n-t>12&&delete a._emitted[e]}}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((function(e){switch(e.type){case"tx":var t=e.hash,i=a.getTransactionReceipt(t).then((function(e){return e&&null!=e.blockNumber?(a._emitted["t:"+t]=e.blockNumber,a.emit(t,e),null):null})).catch((function(e){a.emit("error",e)}));r.push(i);break;case"filter":var o=e.filter;o.fromBlock=a._lastBlockNumber+1,o.toBlock=n;var s=a.getLogs(o).then((function(e){0!==e.length&&e.forEach((function(e){a._emitted["b:"+e.blockHash]=e.blockNumber,a._emitted["t:"+e.transactionHash]=e.blockNumber,a.emit(o,e)}))})).catch((function(e){a.emit("error",e)}));r.push(s)}})),this._lastBlockNumber=n,Promise.all(r).then((function(){a.emit("didPoll",t)})).catch((function(e){a.emit("error",e)})),e.abrupt("return");case 26:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"resetEventsBlock",value:function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}},{key:"network",get:function(){return this._network}},{key:"detectNetwork",value:function(){return hd(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dd.throwError("provider does not support network detection",Xa.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"}));case 1:case"end":return e.stop()}}),e)})))}},{key:"getNetwork",value:function(){return hd(this,void 0,void 0,o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready();case 2:return t=e.sent,e.next=5,this.detectNetwork();case 5:if(r=e.sent,t.chainId===r.chainId){e.next=23;break}if(!this.anyNetwork){e.next=20;break}return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),e.next=19,yd(0);case 19:return e.abrupt("return",this._network);case 20:throw n=dd.makeError("underlying network changed",Xa.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r}),this.emit("error",n),n;case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"blockNumber",get:function(){var e=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then((function(t){e._setFastBlockNumber(t)}),(function(e){})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval((function(){t.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){t.poll(),t._bootstrapPoll=setTimeout((function(){t._poller||t.poll(),t._bootstrapPoll=null}),t.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){t.poll()}),this._pollingInterval))}},{key:"_getFastBlockNumber",value:function(){var e=this,t=gd();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber}))),this._fastBlockNumberPromise}},{key:"_setFastBlockNumber",value:function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=gd(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}},{key:"waitForTransaction",value:function(e,t,r){return hd(this,void 0,void 0,o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._waitForTransaction(e,null==t?1:t,r||0,null));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"_waitForTransaction",value:function(e,t,r,n){return hd(this,void 0,void 0,o().mark((function i(){var a,s=this;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getTransactionReceipt(e);case 2:if(!(((a=i.sent)?a.confirmations:0)>=t)){i.next=5;break}return i.abrupt("return",a);case 5:return i.abrupt("return",new Promise((function(i,a){var u=[],c=!1,l=function(){return!!c||(c=!0,u.forEach((function(e){e()})),!1)},f=function(e){e.confirmations<t||l()||i(e)};if(s.on(e,f),u.push((function(){s.removeListener(e,f)})),n){var h=n.startBlock,d=null,p=function r(i){return hd(s,void 0,void 0,o().mark((function s(){var u=this;return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!c){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,yd(1e3);case 4:this.getTransactionCount(n.from).then((function(s){return hd(u,void 0,void 0,o().mark((function u(){var f,p,v,m,g,y;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!c){o.next=2;break}return o.abrupt("return");case 2:if(!(s<=n.nonce)){o.next=6;break}h=i,o.next=41;break;case 6:return o.next=8,this.getTransaction(e);case 8:if(!(f=o.sent)||null==f.blockNumber){o.next=11;break}return o.abrupt("return");case 11:null==d&&(d=h-3)<n.startBlock&&(d=n.startBlock);case 12:if(!(d<=i)){o.next=41;break}if(!c){o.next=15;break}return o.abrupt("return");case 15:return o.next=17,this.getBlockWithTransactions(d);case 17:p=o.sent,v=0;case 19:if(!(v<p.transactions.length)){o.next=38;break}if((m=p.transactions[v]).hash!==e){o.next=23;break}return o.abrupt("return");case 23:if(m.from!==n.from||m.nonce!==n.nonce){o.next=35;break}if(!c){o.next=26;break}return o.abrupt("return");case 26:return o.next=28,this.waitForTransaction(m.hash,t);case 28:if(g=o.sent,!l()){o.next=31;break}return o.abrupt("return");case 31:return y="replaced",m.data===n.data&&m.to===n.to&&m.value.eq(n.value)?y="repriced":"0x"===m.data&&m.from===m.to&&m.value.isZero()&&(y="cancelled"),a(dd.makeError("transaction was replaced",Xa.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===y||"cancelled"===y,reason:y,replacement:this._wrapTransaction(m),hash:e,receipt:g})),o.abrupt("return");case 35:v++,o.next=19;break;case 38:d++,o.next=12;break;case 41:if(!c){o.next=43;break}return o.abrupt("return");case 43:this.once("block",r);case 44:case"end":return o.stop()}}),u,this)})))}),(function(e){c||u.once("block",r)}));case 5:case"end":return s.stop()}}),s,this)})))};if(c)return;s.once("block",p),u.push((function(){s.removeListener("block",p)}))}if("number"==typeof r&&r>0){var v=setTimeout((function(){l()||a(dd.makeError("timeout exceeded",Xa.errors.TIMEOUT,{timeout:r}))}),r);v.unref&&v.unref(),u.push((function(){clearTimeout(v)}))}})));case 6:case"end":return i.stop()}}),i,this)})))}},{key:"getBlockNumber",value:function(){return hd(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getInternalBlockNumber(0));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return hd(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,this.perform("getGasPrice",{});case 4:return t=e.sent,e.prev=5,e.abrupt("return",Eo.from(t));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",dd.throwError("bad result from backend",Xa.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})))}},{key:"getBalance",value:function(e,t){return hd(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Mo({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getBalance",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",Eo.from(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",dd.throwError("bad result from backend",Xa.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getTransactionCount",value:function(e,t){return hd(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Mo({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getTransactionCount",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",Eo.from(i).toNumber());case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",dd.throwError("bad result from backend",Xa.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getCode",value:function(e,t){return hd(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Mo({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getCode",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",fo(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",dd.throwError("bad result from backend",Xa.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getStorageAt",value:function(e,t,r){return hd(this,void 0,void 0,o().mark((function n(){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getNetwork();case 2:return n.next=4,Mo({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((function(e){return mo(e)}))});case 4:return i=n.sent,n.next=7,this.perform("getStorageAt",i);case 7:return a=n.sent,n.prev=8,n.abrupt("return",fo(a));case 12:return n.prev=12,n.t0=n.catch(8),n.abrupt("return",dd.throwError("bad result from backend",Xa.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:n.t0}));case 15:case"end":return n.stop()}}),n,this,[[8,12]])})))}},{key:"_wrapTransaction",value:function(e,t,r){var n=this;if(null!=t&&32!==ho(t))throw new Error("invalid response - sendTransaction");var i=e;return null!=t&&e.hash!==t&&dd.throwError("Transaction hash mismatch from Provider.sendTransaction.",Xa.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=function(t,i){return hd(n,void 0,void 0,o().mark((function n(){var a,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==t&&(t=1),null==i&&(i=0),a=void 0,0!==t&&null!=r&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}),n.next=6,this._waitForTransaction(e.hash,t,i,a);case 6:if(null!=(s=n.sent)||0!==t){n.next=9;break}return n.abrupt("return",null);case 9:return this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&dd.throwError("transaction failed",Xa.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),n.abrupt("return",s);case 12:case"end":return n.stop()}}),n,this)})))},i}},{key:"sendTransaction",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Promise.resolve(e).then((function(e){return fo(e)}));case 4:return r=t.sent,null==(n=this.formatter.transaction(e)).confirmations&&(n.confirmations=0),t.next=9,this._getInternalBlockNumber(100+2*this.pollingInterval);case 9:return i=t.sent,t.prev=10,t.next=13,this.perform("sendTransaction",{signedTransaction:r});case 13:return a=t.sent,t.abrupt("return",this._wrapTransaction(n,a,i));case 17:throw t.prev=17,t.t0=t.catch(10),t.t0.transaction=n,t.t0.transactionHash=n.hash,t.t0;case 22:case"end":return t.stop()}}),t,this,[[10,17]])})))}},{key:"_getTransactionRequest",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return r=t.sent,n={},["from","to"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?i._getAddress(e):null})))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?Eo.from(e):null})))})),["type"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return null!=e?e:null})))})),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?fo(e):null})))})),t.t0=this.formatter,t.next=12,Mo(n);case 12:return t.t1=t.sent,t.abrupt("return",t.t0.transactionRequest.call(t.t0,t.t1));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"_getFilter",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,r={},null!=e.address&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach((function(t){null!=e[t]&&(r[t]=e[t])})),["fromBlock","toBlock"].forEach((function(t){null!=e[t]&&(r[t]=n._getBlockTag(e[t]))})),t.t0=this.formatter,t.next=10,Mo(r);case 10:return t.t1=t.sent,t.abrupt("return",t.t0.filter.call(t.t0,t.t1));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"call",value:function(e,t){return hd(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,Mo({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("call",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",fo(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",dd.throwError("bad result from backend",Xa.errors.SERVER_ERROR,{method:"call",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"estimateGas",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Mo({transaction:this._getTransactionRequest(e)});case 4:return r=t.sent,t.next=7,this.perform("estimateGas",r);case 7:return n=t.sent,t.prev=8,t.abrupt("return",Eo.from(n));case 12:return t.prev=12,t.t0=t.catch(8),t.abrupt("return",dd.throwError("bad result from backend",Xa.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:t.t0}));case 15:case"end":return t.stop()}}),t,this,[[8,12]])})))}},{key:"_getAddress",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return"string"!=typeof(e=t.sent)&&dd.throwArgumentError("invalid address or ENS name","name",e),t.next=6,this.resolveName(e);case 6:return null==(r=t.sent)&&dd.throwError("ENS name not configured",Xa.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(e),")")}),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"_getBlock",value:function(e,t){return hd(this,void 0,void 0,o().mark((function r(){var n,i,a=this;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,e;case 4:if(e=r.sent,n=-128,i={includeTransactions:!!t},!co(e,32)){r.next=11;break}i.blockHash=e,r.next=21;break;case 11:return r.prev=11,r.next=14,this._getBlockTag(e);case 14:i.blockTag=r.sent,co(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16)),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),dd.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e);case 21:return r.abrupt("return",Qh((function(){return hd(a,void 0,void 0,o().mark((function e(){var r,a,s,u,c,l,f=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getBlock",i);case 2:if(null!=(r=e.sent)){e.next=11;break}if(null==i.blockHash){e.next=7;break}if(null!=this._emitted["b:"+i.blockHash]){e.next=7;break}return e.abrupt("return",null);case 7:if(null==i.blockTag){e.next=10;break}if(!(n>this._emitted.block)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",void 0);case 11:if(!t){e.next=34;break}a=null,s=0;case 14:if(!(s<r.transactions.length)){e.next=31;break}if(null!=(u=r.transactions[s]).blockNumber){e.next=20;break}u.confirmations=0,e.next=28;break;case 20:if(null!=u.confirmations){e.next=28;break}if(null!=a){e.next=25;break}return e.next=24,this._getInternalBlockNumber(100+2*this.pollingInterval);case 24:a=e.sent;case 25:(c=a-u.blockNumber+1)<=0&&(c=1),u.confirmations=c;case 28:s++,e.next=14;break;case 31:return(l=this.formatter.blockWithTransactions(r)).transactions=l.transactions.map((function(e){return f._wrapTransaction(e)})),e.abrupt("return",l);case 34:return e.abrupt("return",this.formatter.block(r));case 35:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this}));case 22:case"end":return r.stop()}}),r,this,[[11,18]])})))}},{key:"getBlock",value:function(e){return this._getBlock(e,!1)}},{key:"getBlockWithTransactions",value:function(e){return this._getBlock(e,!0)}},{key:"getTransaction",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Qh((function(){return hd(n,void 0,void 0,o().mark((function t(){var n,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransaction",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=(i=this.formatter.transactionResponse(n)).blockNumber){t.next=12;break}i.confirmations=0,t.next=19;break;case 12:if(null!=i.confirmations){t.next=19;break}return t.next=15,this._getInternalBlockNumber(100+2*this.pollingInterval);case 15:a=t.sent,(s=a-i.blockNumber+1)<=0&&(s=1),i.confirmations=s;case 19:return t.abrupt("return",this._wrapTransaction(i));case 20:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionReceipt",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Qh((function(){return hd(n,void 0,void 0,o().mark((function t(){var n,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransactionReceipt",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=n.blockHash){t.next=9;break}return t.abrupt("return",void 0);case 9:if(null!=(i=this.formatter.receipt(n)).blockNumber){t.next=14;break}i.confirmations=0,t.next=21;break;case 14:if(null!=i.confirmations){t.next=21;break}return t.next=17,this._getInternalBlockNumber(100+2*this.pollingInterval);case 17:a=t.sent,(s=a-i.blockNumber+1)<=0&&(s=1),i.confirmations=s;case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getLogs",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Mo({filter:this._getFilter(e)});case 4:return r=t.sent,t.next=7,this.perform("getLogs",r);case 7:return(n=t.sent).forEach((function(e){null==e.removed&&(e.removed=!1)})),t.abrupt("return",fd.arrayOf(this.formatter.filterLog.bind(this.formatter))(n));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getEtherPrice",value:function(){return hd(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.abrupt("return",this.perform("getEtherPrice",{}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_getBlockTag",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!("number"==typeof(e=t.sent)&&e<0)){t.next=11;break}return e%1&&dd.throwArgumentError("invalid BlockTag","blockTag",e),t.next=7,this._getInternalBlockNumber(100+2*this.pollingInterval);case 7:return r=t.sent,(r+=e)<0&&(r=0),t.abrupt("return",this.formatter.blockTag(r));case 11:return t.abrupt("return",this.formatter.blockTag(e));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"getResolver",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._getResolver(e);case 3:if(null!=(r=t.sent)){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",new Rd(this,r,e));case 9:if(t.prev=9,t.t0=t.catch(0),t.t0.code!==Xa.errors.CALL_EXCEPTION){t.next=13;break}return t.abrupt("return",null);case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"_getResolver",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return(r=t.sent).ensAddress||dd.throwError("network does not support ENS",Xa.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:r.name}),n={to:r.ensAddress,data:"0x0178b8bf"+Mu(e).substring(2)},t.prev=5,t.t0=this.formatter,t.next=9,this.call(n);case 9:return t.t1=t.sent,t.abrupt("return",t.t0.callAddress.call(t.t0,t.t1));case 13:if(t.prev=13,t.t2=t.catch(5),t.t2.code!==Xa.errors.CALL_EXCEPTION){t.next=17;break}return t.abrupt("return",null);case 17:throw t.t2;case 18:case"end":return t.stop()}}),t,this,[[5,13]])})))}},{key:"resolveName",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,t.prev=3,t.abrupt("return",Promise.resolve(this.formatter.address(e)));case 7:if(t.prev=7,t.t0=t.catch(3),!co(e)){t.next=11;break}throw t.t0;case 11:return"string"!=typeof e&&dd.throwArgumentError("invalid ENS name","name",e),t.next=14,this.getResolver(e);case 14:if(r=t.sent){t.next=17;break}return t.abrupt("return",null);case 17:return t.next=19,r.getAddress();case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,this,[[3,7]])})))}},{key:"lookupAddress",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,e=this.formatter.address(e),r=e.substring(2).toLowerCase()+".addr.reverse",t.next=7,this._getResolver(r);case 7:if(n=t.sent){t.next=10;break}return t.abrupt("return",null);case 10:return t.t0=oo,t.next=13,this.call({to:n,data:"0x691f3431"+Mu(r).substring(2)});case 13:if(t.t1=t.sent,!((i=(0,t.t0)(t.t1)).length<32)&&Eo.from(i.slice(0,32)).eq(32)){t.next=17;break}return t.abrupt("return",null);case 17:if(!((i=i.slice(32)).length<32)){t.next=20;break}return t.abrupt("return",null);case 20:if(a=Eo.from(i.slice(0,32)).toNumber(),i=i.slice(32),!(a>i.length)){t.next=24;break}return t.abrupt("return",null);case 24:return s=uu(i.slice(0,a)),t.next=27,this.resolveName(s);case 27:if(t.sent==e){t.next=30;break}return t.abrupt("return",null);case 30:return t.abrupt("return",s);case 31:case"end":return t.stop()}}),t,this)})))}},{key:"getAvatar",value:function(e){return hd(this,void 0,void 0,o().mark((function t(){var r,n,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null,!co(e)){t.next=12;break}return n=this.formatter.address(e),i=n.substring(2).toLowerCase()+".addr.reverse",t.next=6,this._getResolver(i);case 6:if(a=t.sent){t.next=9;break}return t.abrupt("return",null);case 9:r=new Rd(this,a,"_",n),t.next=17;break;case 12:return t.next=14,this.getResolver(e);case 14:if(r=t.sent){t.next=17;break}return t.abrupt("return",null);case 17:return t.next=19,r.getAvatar();case 19:if(null!=(s=t.sent)){t.next=22;break}return t.abrupt("return",null);case 22:return t.abrupt("return",s.url);case 23:case"end":return t.stop()}}),t,this)})))}},{key:"perform",value:function(e,t){return dd.throwError(e+" not implemented",Xa.errors.NOT_IMPLEMENTED,{operation:e})}},{key:"_startEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_stopEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_addEventListener",value:function(e,t,r){var n=new wd(md(e),t,r);return this._events.push(n),this._startEvent(n),this}},{key:"on",value:function(e,t){return this._addEventListener(e,t,!1)}},{key:"once",value:function(e,t){return this._addEventListener(e,t,!0)}},{key:"emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=!1,o=[],s=md(e);return this._events=this._events.filter((function(e){return e.tag!==s||(setTimeout((function(){e.listener.apply(t,n)}),0),a=!0,!e.once||(o.push(e),!1))})),o.forEach((function(e){t._stopEvent(e)})),a}},{key:"listenerCount",value:function(e){if(!e)return this._events.length;var t=md(e);return this._events.filter((function(e){return e.tag===t})).length}},{key:"listeners",value:function(e){if(null==e)return this._events.map((function(e){return e.listener}));var t=md(e);return this._events.filter((function(e){return e.tag===t})).map((function(e){return e.listener}))}},{key:"off",value:function(e,t){var r=this;if(null==t)return this.removeAllListeners(e);var n=[],i=!1,a=md(e);return this._events=this._events.filter((function(e){return e.tag!==a||e.listener!=t||(!!i||(i=!0,n.push(e),!1))})),n.forEach((function(e){r._stopEvent(e)})),this}},{key:"removeAllListeners",value:function(e){var t=this,r=[];if(null==e)r=this._events,this._events=[];else{var n=md(e);this._events=this._events.filter((function(e){return e.tag!==n||(r.push(e),!1)}))}return r.forEach((function(e){t._stopEvent(e)})),this}}],[{key:"getFormatter",value:function(){return null==Cd&&(Cd=new fd),Cd}},{key:"getNetwork",value:function(e){return qh(null==e?"homestead":e)}}]),r}(sc),Md=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},jd=new Xa(cd),Td=["call","estimateGas"];function Ld(e,t,r){if("call"===e&&t.code===Xa.errors.SERVER_ERROR){var n=t.error;if(n&&n.message.match("reverted")&&co(n.data))return n.data;jd.throwError("missing revert data in call exception",Xa.errors.CALL_EXCEPTION,{error:t,data:"0x"})}var i=t.message;t.code===Xa.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),i=(i||"").toLowerCase();var a=r.transaction||r.signedTransaction;throw i.match(/insufficient funds|base fee exceeds gas limit/)&&jd.throwError("insufficient funds for intrinsic transaction cost",Xa.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:a}),i.match(/nonce too low/)&&jd.throwError("nonce has already been used",Xa.errors.NONCE_EXPIRED,{error:t,method:e,transaction:a}),i.match(/replacement transaction underpriced/)&&jd.throwError("replacement fee too low",Xa.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:a}),i.match(/only replay-protected/)&&jd.throwError("legacy pre-eip-155 transactions not supported",Xa.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:a}),Td.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&jd.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Xa.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:a}),t}function $d(e){return new Promise((function(t){setTimeout(t,e)}))}function Dd(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function Ud(e){return e?e.toLowerCase():e}var Fd={},Bd=function(e){f(r,e);var t=h(r);function r(e,n,i){var a;if(A(this,r),jd.checkNew(this instanceof r?this.constructor:void 0,r),a=t.call(this),e!==Fd)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return No(d(a),"provider",n),null==i&&(i=0),"string"==typeof i?(No(d(a),"_address",a.provider.formatter.address(i)),No(d(a),"_index",null)):"number"==typeof i?(No(d(a),"_index",i),No(d(a),"_address",null)):jd.throwArgumentError("invalid address or index","addressOrIndex",i),a}return O(r,[{key:"connect",value:function(e){return jd.throwError("cannot alter JSON-RPC Signer connection",Xa.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}},{key:"connectUnchecked",value:function(){return new qd(Fd,this.provider,this._address||this._index)}},{key:"getAddress",value:function(){var e=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(t){return t.length<=e._index&&jd.throwError("unknown account #"+e._index,Xa.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])}))}},{key:"sendUncheckedTransaction",value:function(e){var t=this;e=To(e);var r=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));if(null==e.gasLimit){var n=To(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((function(e){return Md(t,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.provider.resolveName(e);case 4:return null==(r=t.sent)&&jd.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}))),Mo({tx:Mo(e),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&jd.throwArgumentError("from address mismatch","transaction",e):n.from=i;var a=t.provider.constructor.hexlifyTransaction(n,{from:!0});return t.provider.send("eth_sendTransaction",[a]).then((function(e){return e}),(function(e){return Ld("sendTransaction",e,a)}))}))}},{key:"signTransaction",value:function(e){return jd.throwError("signing transactions is unsupported",Xa.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}},{key:"sendTransaction",value:function(e){return Md(this,void 0,void 0,o().mark((function t(){var r,n,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);case 2:return r=t.sent,t.next=5,this.sendUncheckedTransaction(e);case 5:return n=t.sent,t.prev=6,t.next=9,Qh((function(){return Md(i,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransaction(n);case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",this.provider._wrapTransaction(t,n,r));case 6:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this.provider});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(6),t.t0.transactionHash=n,t.t0;case 16:case"end":return t.stop()}}),t,this,[[6,12]])})))}},{key:"signMessage",value:function(e){return Md(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"==typeof e?ou(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.next=6,this.provider.send("personal_sign",[fo(r),n.toLowerCase()]);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_legacySignMessage",value:function(e){return Md(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"==typeof e?ou(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.next=6,this.provider.send("eth_sign",[n.toLowerCase(),fo(r)]);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_signTypedData",value:function(e,t,r){return Md(this,void 0,void 0,o().mark((function n(){var i,a,s=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Zu.resolveNames(e,t,r,(function(e){return s.provider.resolveName(e)}));case 2:return i=n.sent,n.next=5,this.getAddress();case 5:return a=n.sent,n.next=8,this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(Zu.getPayload(i.domain,t,i.value))]);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"unlock",value:function(e){return Md(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.provider,t.next=3,this.getAddress();case 3:return n=t.sent,t.abrupt("return",r.send("personal_unlockAccount",[n.toLowerCase(),e,null]));case 5:case"end":return t.stop()}}),t,this)})))}}]),r}(hc),qd=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"sendTransaction",value:function(e){var t=this;return this.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return t.provider.waitForTransaction(e,r)}}}))}}]),r}(Bd),zd={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},Hd=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r),jd.checkNew(this instanceof r?this.constructor:void 0,r);var a=n;return null==a&&(a=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then((function(t){e(t)}),(function(e){t(e)}))}),0)}))),i=t.call(this,a),e||(e=Po(i.constructor,"defaultUrl")()),No(d(i),"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(To(e))),i._nextId=42,i}return O(r,[{key:"_cache",get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}},{key:"detectNetwork",value:function(){var e=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((function(){e._cache.detectNetwork=null}),0)),this._cache.detectNetwork}},{key:"_uncachedDetectNetwork",value:function(){return Md(this,void 0,void 0,o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$d(0);case 2:return t=null,e.prev=3,e.next=6,this.send("eth_chainId",[]);case 6:t=e.sent,e.next=19;break;case 9:return e.prev=9,e.t0=e.catch(3),e.prev=11,e.next=14,this.send("net_version",[]);case 14:t=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:if(null==t){e.next=28;break}return r=Po(this.constructor,"getNetwork"),e.prev=21,e.abrupt("return",r(Eo.from(t).toNumber()));case 25:return e.prev=25,e.t2=e.catch(21),e.abrupt("return",jd.throwError("could not detect network",Xa.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e.t2}));case 28:return e.abrupt("return",jd.throwError("could not detect network",Xa.errors.NETWORK_ERROR,{event:"noNetwork"}));case 29:case"end":return e.stop()}}),e,this,[[3,9],[11,17],[21,25]])})))}},{key:"getSigner",value:function(e){return new Bd(Fd,this,e)}},{key:"getUncheckedSigner",value:function(e){return this.getSigner(e).connectUnchecked()}},{key:"listAccounts",value:function(){var e=this;return this.send("eth_accounts",[]).then((function(t){return t.map((function(t){return e.formatter.address(t)}))}))}},{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Uo(n),provider:this});var i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];var a=Jh(this.connection,JSON.stringify(n),Dd).then((function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e}),(function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e}));return i&&(this._cache[e]=a,setTimeout((function(){r._cache[e]=null}),0)),a}},{key:"prepareRequest",value:function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Ud(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Ud(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Ud(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Ud(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Po(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Po(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=Ud(t.filter.address)),["eth_getLogs",[t.filter]]}return null}},{key:"perform",value:function(e,t){return Md(this,void 0,void 0,o().mark((function r(){var n,i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("call"!==e&&"estimateGas"!==e){r.next=8;break}if(!(n=t.transaction)||null==n.type||!Eo.from(n.type).isZero()){r.next=8;break}if(null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas){r.next=8;break}return r.next=6,this.getFeeData();case 6:null==(i=r.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&((t=To(t)).transaction=To(n),delete t.transaction.type);case 8:return null==(a=this.prepareRequest(e,t))&&jd.throwError(e+" not implemented",Xa.errors.NOT_IMPLEMENTED,{operation:e}),r.prev=10,r.next=13,this.send(a[0],a[1]);case 13:return r.abrupt("return",r.sent);case 16:return r.prev=16,r.t0=r.catch(10),r.abrupt("return",Ld(e,r.t0,t));case 19:case"end":return r.stop()}}),r,this,[[10,16]])})))}},{key:"_startEvent",value:function(e){"pending"===e.tag&&this._startPending(),a(y(r.prototype),"_startEvent",this).call(this,e)}},{key:"_startPending",value:function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return $d(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((function(e){}))}(),r})).catch((function(e){}))}}},{key:"_stopEvent",value:function(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),a(y(r.prototype),"_stopEvent",this).call(this,e)}}],[{key:"defaultUrl",value:function(){return"http://localhost:8545"}},{key:"hexlifyTransaction",value:function(e,t){var r=To(zd);if(t)for(var n in t)t[n]&&(r[n]=!0);jo(e,r);var i={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null!=e[t]){var r=mo(e[t]);"gasLimit"===t&&(t="gas"),i[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(i[t]=fo(e[t]))})),e.accessList&&(i.accessList=fh(e.accessList)),i}}]),r}(Pd),Vd=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Wd=new Xa(cd),Gd=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"detectNetwork",value:function(){var e=this,t=Object.create(null,{detectNetwork:{get:function(){return a(y(r.prototype),"detectNetwork",e)}}});return Vd(this,void 0,void 0,o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=this.network)){e.next=7;break}return e.next=4,t.detectNetwork.call(this);case 4:(r=e.sent)||Wd.throwError("no network detected",Xa.errors.UNKNOWN_ERROR,{}),null==this._network&&(No(this,"_network",r),this.emit("network",r,null));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))}}]),r}(Hd),Kd=new Xa(cd),Zd=1;function Yd(e,t){var r="Web3LegacyFetcher";return function(e,n){var i=this,a={method:e,params:n,id:Zd++,jsonrpc:"2.0"};return new Promise((function(e,n){i.emit("debug",{action:"request",fetcher:r,request:Uo(a),provider:i}),t(a,(function(t,o){if(t)return i.emit("debug",{action:"response",fetcher:r,error:t,request:a,provider:i}),n(t);if(i.emit("debug",{action:"response",fetcher:r,request:a,response:o,provider:i}),o.error){var s=new Error(o.error.message);return s.code=o.error.code,s.data=o.error.data,n(s)}e(o.result)}))}))}}var Jd=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r),Kd.checkNew(this instanceof r?this.constructor:void 0,r),null==e&&Kd.throwArgumentError("missing provider","provider",e);var a=null,o=null,s=null;return"function"==typeof e?(a="unknown:",o=e):(!(a=e.host||e.path||"")&&e.isMetaMask&&(a="metamask"),s=e,e.request?(""===a&&(a="eip-1193:"),o=function(e){return function(t,r){var n=this;null==r&&(r=[]);var i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Uo(i),provider:this}),e.request(i).then((function(e){return n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:n}),e}),(function(e){throw n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:n}),e}))}}(e)):e.sendAsync?o=Yd(0,e.sendAsync.bind(e)):e.send?o=Yd(0,e.send.bind(e)):Kd.throwArgumentError("unsupported provider","provider",e),a||(a="unknown:")),No(d(i=t.call(this,a,n)),"jsonRpcFetchFunc",o),No(d(i),"provider",s),i}return O(r,[{key:"send",value:function(e,t){return this.jsonRpcFetchFunc(e,t)}}]),r}(Hd),Qd={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",u="[object Null]",c="[object Object]",l="[object Proxy]",f="[object Undefined]",h=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[i]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p[o]=p["[object Map]"]=p["[object Number]"]=p[c]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1;var v="object"==typeof x&&x&&x.Object===Object&&x,m="object"==typeof self&&self&&self.Object===Object&&self,g=v||m||Function("return this")(),y=t&&!t.nodeType&&t,b=y&&e&&!e.nodeType&&e,w=b&&b.exports===y,_=w&&v.process,k=function(){try{var e=b&&b.require&&b.require("util").types;return e||_&&_.binding&&_.binding("util")}catch(t){}}(),E=k&&k.isTypedArray;var A,S,O,I=Array.prototype,R=Function.prototype,C=Object.prototype,N=g["__core-js_shared__"],P=R.toString,M=C.hasOwnProperty,j=(A=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",T=C.toString,L=P.call(Object),$=RegExp("^"+P.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=w?g.Buffer:void 0,U=g.Symbol,F=g.Uint8Array,B=D?D.allocUnsafe:void 0,q=(S=Object.getPrototypeOf,O=Object,function(e){return S(O(e))}),z=Object.create,H=C.propertyIsEnumerable,V=I.splice,W=U?U.toStringTag:void 0,G=function(){try{var e=be(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),K=D?D.isBuffer:void 0,Z=Math.max,Y=Date.now,J=be(g,"Map"),Q=be(Object,"create"),X=function(){function e(){}return function(t){if(!Ne(t))return{};if(z)return z(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ne(e){var t=this.__data__=new te(e);this.size=t.size}function ie(e,t){var r=Se(e),n=!r&&Ae(e),i=!r&&!n&&Ie(e),a=!r&&!n&&!i&&Me(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!M.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||we(c,u))||s.push(c);return s}function ae(e,t,r){(void 0!==r&&!Ee(e[t],r)||void 0===r&&!(t in e))&&ue(e,t,r)}function oe(e,t,r){var n=e[t];M.call(e,t)&&Ee(n,r)&&(void 0!==r||t in e)||ue(e,t,r)}function se(e,t){for(var r=e.length;r--;)if(Ee(e[r][0],t))return r;return-1}function ue(e,t,r){"__proto__"==t&&G?G(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}ee.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return n===r?void 0:n}return M.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:M.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?r:t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,r=se(t,e);return!(r<0)&&(r==t.length-1?t.pop():V.call(t,r,1),--this.size,!0)},te.prototype.get=function(e){var t=this.__data__,r=se(t,e);return r<0?void 0:t[r][1]},te.prototype.has=function(e){return se(this.__data__,e)>-1},te.prototype.set=function(e,t){var r=this.__data__,n=se(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(J||te),string:new ee}},re.prototype.delete=function(e){var t=ye(this,e).delete(e);return this.size-=t?1:0,t},re.prototype.get=function(e){return ye(this,e).get(e)},re.prototype.has=function(e){return ye(this,e).has(e)},re.prototype.set=function(e,t){var r=ye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ne.prototype.clear=function(){this.__data__=new te,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var r=this.__data__;if(r instanceof te){var n=r.__data__;if(!J||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new re(n)}return r.set(e,t),this.size=r.size,this};var ce,le=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[ce?o:++n];if(!1===t(i[s],s,i))break}return e};function fe(e){return null==e?void 0===e?f:u:W&&W in Object(e)?function(e){var t=M.call(e,W),r=e[W];try{e[W]=void 0;var n=!0}catch(a){}var i=T.call(e);n&&(t?e[W]=r:delete e[W]);return i}(e):function(e){return T.call(e)}(e)}function he(e){return Pe(e)&&fe(e)==i}function de(e){return!(!Ne(e)||function(e){return!!j&&j in e}(e))&&(Re(e)?$:h).test(function(e){if(null!=e){try{return P.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function pe(e){if(!Ne(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=_e(e),r=[];for(var n in e)("constructor"!=n||!t&&M.call(e,n))&&r.push(n);return r}function ve(e,t,r,n,i){e!==t&&le(t,(function(a,o){if(i||(i=new ne),Ne(a))!function(e,t,r,n,i,a,o){var s=ke(e,r),u=ke(t,r),l=o.get(u);if(l)return void ae(e,r,l);var f=a?a(s,u,r+"",e,t,o):void 0,h=void 0===f;if(h){var d=Se(u),p=!d&&Ie(u),v=!d&&!p&&Me(u);f=u,d||p||v?Se(s)?f=s:Pe(w=s)&&Oe(w)?f=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(s):p?(h=!1,f=function(e,t){if(t)return e.slice();var r=e.length,n=B?B(r):new e.constructor(r);return e.copy(n),n}(u,!0)):v?(h=!1,m=u,g=!0?(y=m.buffer,b=new y.constructor(y.byteLength),new F(b).set(new F(y)),b):m.buffer,f=new m.constructor(g,m.byteOffset,m.length)):f=[]:function(e){if(!Pe(e)||fe(e)!=c)return!1;var t=q(e);if(null===t)return!0;var r=M.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&P.call(r)==L}(u)||Ae(u)?(f=s,Ae(s)?f=function(e){return function(e,t,r,n){var i=!r;r||(r={});var a=-1,o=t.length;for(;++a<o;){var s=t[a],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),i?ue(r,s,u):oe(r,s,u)}return r}(e,je(e))}(s):Ne(s)&&!Re(s)||(f=function(e){return"function"!=typeof e.constructor||_e(e)?{}:X(q(e))}(u))):h=!1}var m,g,y,b;var w;h&&(o.set(u,f),i(f,u,n,a,o),o.delete(u));ae(e,r,f)}(e,t,o,r,ve,n,i);else{var s=n?n(ke(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),ae(e,o,s)}}),je)}function me(e,t){return xe(function(e,t,r){return t=Z(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Z(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,s)}}(e,t,$e),e+"")}var ge=G?function(e,t){return G(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:$e;function ye(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function be(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return de(r)?r:void 0}function we(e,t){var r=typeof e;return!!(t=null==t?n:t)&&("number"==r||"symbol"!=r&&d.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function ke(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var xe=function(e){var t=0,r=0;return function(){var n=Y(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ge);function Ee(e,t){return e===t||e!=e&&t!=t}var Ae=he(function(){return arguments}())?he:function(e){return Pe(e)&&M.call(e,"callee")&&!H.call(e,"callee")},Se=Array.isArray;function Oe(e){return null!=e&&Ce(e.length)&&!Re(e)}var Ie=K||function(){return!1};function Re(e){if(!Ne(e))return!1;var t=fe(e);return t==o||t==s||t==a||t==l}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function Ne(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Pe(e){return null!=e&&"object"==typeof e}var Me=E?function(e){return function(t){return e(t)}}(E):function(e){return Pe(e)&&Ce(e.length)&&!!p[fe(e)]};function je(e){return Oe(e)?ie(e,!0):pe(e)}var Te,Le=(Te=function(e,t,r){ve(e,t,r)},me((function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(i=Te.length>3&&"function"==typeof i?(n--,i):void 0,a&&function(e,t,r){if(!Ne(r))return!1;var n=typeof t;return!!("number"==n?Oe(r)&&we(t,r.length):"string"==n&&t in r)&&Ee(r[t],e)}(t[0],t[1],a)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var o=t[r];o&&Te(e,o,r,i)}return e})));function $e(e){return e}e.exports=Le}(Qd,Qd.exports);var Xd=g(Qd.exports),ep={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,a||e,o),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=new Array(a);i<a;i++)o[i]=n[i].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,a),!0;case 6:return l.fn.call(l.context,t,n,i,a,o),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||o(this,a);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(ep);var tp=g(ep.exports),rp='<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="56" height="56" rx="8" fill="#262A3D"/>\n<g clip-path="url(#clip0_15747_103507)">\n<path d="M20.6176 35.9801L16.0142 27.9949H25.2218L29.826 35.9801H20.6176Z" fill="#262A3D"/>\n<path d="M20.6176 35.9801L16.0142 27.9949H25.2218L29.826 35.9801H20.6176Z" fill="white"/>\n<path d="M25.2218 27.9947H16.0142L20.6176 20.0095H29.826L25.2218 27.9947Z" fill="url(#paint0_linear_15747_103507)"/>\n<path d="M34.4302 27.9948L29.826 20.0096H20.6176L16.0142 12.0244H34.4302L43.6379 27.9948H34.4302Z" fill="#262A3D"/>\n<path d="M34.4302 27.9948L29.826 20.0096H20.6176L16.0142 12.0244H34.4302L43.6379 27.9948H34.4302Z" fill="white"/>\n<path d="M34.4302 43.9652H16.0142L20.6176 35.9801H29.826L34.4302 27.9949H43.6379L34.4302 43.9652Z" fill="url(#paint1_linear_15747_103507)"/>\n</g>\n<defs>\n<linearGradient id="paint0_linear_15747_103507" x1="16.0142" y1="24.0021" x2="29.826" y2="24.0021" gradientUnits="userSpaceOnUse">\n<stop stop-color="#55CCFE"/>\n<stop offset="1" stop-color="#5E93EF"/>\n</linearGradient>\n<linearGradient id="paint1_linear_15747_103507" x1="76.5102" y1="5214.05" x2="10391.8" y2="5214.05" gradientUnits="userSpaceOnUse">\n<stop stop-color="#55CCFE"/>\n<stop offset="1" stop-color="#5E93EF"/>\n</linearGradient>\n<clipPath id="clip0_15747_103507">\n<rect width="27.6667" height="32" fill="white" transform="translate(16 12)"/>\n</clipPath>\n</defs>\n</svg>\n',np=s("H",'\n<svg width="152" height="16" viewBox="0 0 152 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M4.03641 6.252C3.23241 6.252 2.41641 6.636 2.04441 7.272V6.396H1.00041V14.724H2.04441V11.124C2.41641 11.784 3.20841 12.144 4.04841 12.144C5.58441 12.144 6.84441 10.98 6.84441 9.204C6.84441 7.44 5.57241 6.252 4.03641 6.252ZM3.94041 11.16C3.02841 11.16 2.04441 10.428 2.04441 9.216C2.04441 8.016 2.94441 7.236 3.94041 7.236C4.97241 7.236 5.78841 8.1 5.78841 9.216C5.78841 10.344 4.97241 11.16 3.94041 11.16ZM10.8452 12.144C12.4412 12.144 13.7852 10.968 13.7852 9.192C13.7852 7.416 12.4412 6.252 10.8452 6.252C9.24919 6.252 7.91719 7.416 7.91719 9.192C7.91719 10.968 9.24919 12.144 10.8452 12.144ZM10.8452 11.16C9.82519 11.16 8.97319 10.356 8.97319 9.192C8.97319 8.04 9.82519 7.236 10.8452 7.236C11.8772 7.236 12.7412 8.04 12.7412 9.192C12.7412 10.356 11.8772 11.16 10.8452 11.16ZM22.2729 6.396L20.8449 10.38L19.4049 6.396H18.3849L16.9569 10.38L15.5289 6.396H14.4009L16.5369 12H17.4009L18.8889 7.836L20.4369 12H21.3129L23.4009 6.396H22.2729ZM29.6948 9.18C29.6948 7.404 28.5068 6.252 26.9108 6.252C25.3148 6.252 24.0308 7.404 24.0308 9.18C24.0308 10.956 25.3148 12.144 26.9108 12.144C27.9908 12.144 28.9988 11.616 29.4788 10.644L28.5788 10.284C28.2548 10.848 27.6308 11.16 26.9468 11.16C25.9868 11.16 25.2668 10.644 25.1108 9.648H29.6708C29.6828 9.492 29.6948 9.336 29.6948 9.18ZM25.1228 8.748C25.2908 7.74 25.9628 7.236 26.9108 7.236C27.8348 7.236 28.5188 7.788 28.6508 8.748H25.1228ZM33.7456 6.252C33.0016 6.252 32.4616 6.684 32.1736 7.668V6.396H31.1176V12H32.1736V9.948C32.1736 8.472 32.6176 7.26 33.7336 7.26C33.9496 7.26 34.2496 7.308 34.5496 7.452L34.7176 6.468C34.5496 6.36 34.1416 6.252 33.7456 6.252ZM40.8627 9.18C40.8627 7.404 39.6747 6.252 38.0787 6.252C36.4827 6.252 35.1987 7.404 35.1987 9.18C35.1987 10.956 36.4827 12.144 38.0787 12.144C39.1587 12.144 40.1667 11.616 40.6467 10.644L39.7467 10.284C39.4227 10.848 38.7987 11.16 38.1147 11.16C37.1547 11.16 36.4347 10.644 36.2787 9.648H40.8387C40.8507 9.492 40.8627 9.336 40.8627 9.18ZM36.2907 8.748C36.4587 7.74 37.1307 7.236 38.0787 7.236C39.0027 7.236 39.6867 7.788 39.8187 8.748H36.2907ZM46.7136 3.348V7.272C46.3416 6.612 45.5496 6.252 44.7096 6.252C43.1736 6.252 41.9136 7.416 41.9136 9.192C41.9136 10.956 43.1856 12.144 44.7216 12.144C45.5256 12.144 46.3416 11.76 46.7136 11.124V12H47.7576V3.348H46.7136ZM44.8056 11.16C43.7856 11.16 42.9696 10.296 42.9696 9.18C42.9696 8.052 43.7856 7.236 44.8056 7.236C45.7296 7.236 46.7136 7.968 46.7136 9.18C46.7136 10.38 45.8136 11.16 44.8056 11.16ZM55.6695 6.252C54.8295 6.252 54.0375 6.612 53.6655 7.272V3.348H52.6215V12H53.6655V11.124C54.0375 11.76 54.8535 12.144 55.6575 12.144C57.1935 12.144 58.4655 10.956 58.4655 9.192C58.4655 7.416 57.2055 6.252 55.6695 6.252ZM55.5615 11.16C54.5655 11.16 53.6655 10.38 53.6655 9.18C53.6655 7.968 54.6495 7.236 55.5615 7.236C56.5935 7.236 57.4095 8.052 57.4095 9.18C57.4095 10.296 56.5935 11.16 55.5615 11.16ZM63.6097 6.396L61.8937 10.524L60.2017 6.396H59.0737L61.3297 11.832L60.1537 14.724H61.2577L64.7377 6.396H63.6097Z" fill="var(--w3o-text-color, #707481)"/>\n<g clip-path="url(#clip0_13558_103869)">\n<path d="M143.502 11.0888L141.863 8.24889H145.142L146.782 11.0888H143.502Z" fill="currentColor"/>\n<path d="M145.142 8.24887H141.863L143.502 5.40895H146.782L145.142 8.24887Z" fill="url(#paint0_linear_13558_103869)"/>\n<path d="M148.421 8.24888L146.782 5.40896H143.502L141.863 2.56903H148.421L151.701 8.24888H148.421Z" fill="currentColor"/>\n<path d="M148.421 13.9287H141.863L143.502 11.0888H146.782L148.421 8.24889H151.701L148.421 13.9287Z" fill="url(#paint1_linear_13558_103869)"/>\n<path d="M76.4774 8.89232C76.4774 10.9327 74.9716 12.5077 73.1366 12.5077C72.1369 12.5077 71.4106 12.1378 70.9181 11.508V12.316H69.1513V2.71994L70.9181 2.17606V6.27771C71.4106 5.64894 72.1369 5.27797 73.1366 5.27797C74.9716 5.27797 76.4774 6.85198 76.4774 8.89232ZM74.7106 8.89232C74.7106 7.73959 73.9037 6.96201 72.8076 6.96201C71.7114 6.96201 70.9213 7.74273 70.9213 8.89232C70.9213 10.0419 71.7292 10.8237 72.8076 10.8237C73.8859 10.8237 74.7106 10.043 74.7106 8.89232Z" fill="currentColor"/>\n<path d="M77.2718 2.71994L79.0376 2.17606V12.316H77.2718V2.71994Z" fill="currentColor"/>\n<path d="M79.8183 8.89232C79.8171 8.17544 80.0286 7.47431 80.4261 6.87774C80.8236 6.28117 81.3893 5.816 82.0514 5.54113C82.7135 5.26627 83.4422 5.19408 84.1454 5.33371C84.8485 5.47333 85.4944 5.8185 86.0013 6.32549C86.5081 6.83247 86.8531 7.47847 86.9925 8.18166C87.1319 8.88486 87.0595 9.61361 86.7845 10.2756C86.5094 10.9376 86.0441 11.5031 85.4474 11.9005C84.8507 12.2978 84.1495 12.5092 83.4326 12.5077C82.9565 12.5128 82.4842 12.4227 82.0433 12.2428C81.6024 12.0629 81.2019 11.7967 80.8653 11.46C80.5286 11.1232 80.2626 10.7227 80.0828 10.2817C79.903 9.84083 79.8131 9.36845 79.8183 8.89232ZM85.2948 8.89232C85.2948 7.78359 84.4869 7.00602 83.4326 7.00602C82.3784 7.00602 81.5841 7.78674 81.5841 8.89232C81.5841 9.9979 82.392 10.7786 83.4326 10.7786C84.4733 10.7786 85.2948 10.0021 85.2948 8.89232Z" fill="currentColor"/>\n<path d="M87.7313 8.89233C87.7313 6.85198 89.2645 5.27797 91.3457 5.27797C92.6881 5.27797 93.8513 5.98952 94.413 7.04375L92.8935 7.93451C92.6189 7.37281 92.03 7.01651 91.3321 7.01651C90.2778 7.01651 89.4971 7.79723 89.4971 8.89233C89.4971 9.98743 90.2778 10.7545 91.3321 10.7545C92.0447 10.7545 92.6326 10.4129 92.904 9.8512L94.4371 10.7273C94.1281 11.2741 93.6779 11.7279 93.1335 12.0413C92.5891 12.3547 91.9706 12.5161 91.3425 12.5088C89.2645 12.5077 87.7313 10.9327 87.7313 8.89233Z" fill="currentColor"/>\n<path d="M99.5123 12.316L97.0203 9.20776V12.316H95.2534V2.71994L97.0203 2.17606V8.48153L99.374 5.46974H101.482L98.7316 8.85145L101.566 12.316H99.5123Z" fill="currentColor"/>\n<path d="M108.623 8.11161V12.316H106.856V8.33377C106.856 7.40215 106.296 6.92324 105.501 6.92324C104.639 6.92324 103.994 7.4294 103.994 8.62091V12.316H102.229V5.46974H103.994V6.23579C104.405 5.6196 105.118 5.27797 106.035 5.27797C107.486 5.27797 108.623 6.29657 108.623 8.11161Z" fill="currentColor"/>\n<path d="M116.74 5.46974V12.316H114.975V11.508C114.481 12.1242 113.742 12.5077 112.743 12.5077C110.921 12.5077 109.415 10.9358 109.415 8.89233C109.415 6.84884 110.921 5.27797 112.743 5.27797C113.742 5.27797 114.481 5.66152 114.975 6.27771V5.46974H116.74ZM114.975 8.89233C114.975 7.73959 114.167 6.96201 113.071 6.96201C111.974 6.96201 111.184 7.74273 111.184 8.89233C111.184 10.0419 111.992 10.8237 113.071 10.8237C114.149 10.8237 114.975 10.043 114.975 8.89233Z" fill="currentColor"/>\n<path d="M121.344 7.16742V5.46975H119.796V3.45665L118.027 4.00053V10.0157C118.027 11.8643 118.866 12.5895 121.342 12.3212V10.7137C120.329 10.7692 119.794 10.7545 119.794 10.0157V7.16742H121.344Z" fill="currentColor"/>\n<path d="M122.582 5.46974H124.347V12.316H122.582V5.46974Z" fill="currentColor"/>\n<path d="M132.293 5.46974L129.691 12.316H127.678L125.077 5.46974H127.021L128.678 10.262L130.348 5.46974H132.293Z" fill="currentColor"/>\n<path d="M136.073 10.9075C136.757 10.9075 137.305 10.6204 137.607 10.2232L139.03 11.0448C138.387 11.9754 137.36 12.5119 136.046 12.5119C133.74 12.5119 132.294 10.94 132.294 8.89652C132.294 6.85303 133.761 5.28217 135.908 5.28217C137.935 5.28217 139.373 6.88447 139.373 8.89652C139.37 9.13886 139.346 9.38049 139.301 9.61856H134.143C134.389 10.5219 135.142 10.9075 136.073 10.9075ZM137.607 8.25099C137.387 7.26487 136.648 6.8677 135.908 6.8677C134.965 6.8677 134.321 7.37491 134.114 8.25099H137.607Z" fill="currentColor"/>\n</g>\n<defs>\n<linearGradient id="paint0_linear_13558_103869" x1="141.863" y1="6.82891" x2="146.782" y2="6.82891" gradientUnits="userSpaceOnUse">\n<stop stop-color="#55CCFE"/>\n<stop offset="1" stop-color="#5E93EF"/>\n</linearGradient>\n<linearGradient id="paint1_linear_13558_103869" x1="6973.93" y1="500.862" x2="7897.53" y2="500.862" gradientUnits="userSpaceOnUse">\n<stop stop-color="#55CCFE"/>\n<stop offset="1" stop-color="#5E93EF"/>\n</linearGradient>\n<clipPath id="clip0_13558_103869">\n<rect width="82.8232" height="12" fill="white" transform="translate(69.0884 2)"/>\n</clipPath>\n</defs>\n</svg>\n'),ip='\n  <svg height="100%" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4.99902 0.12619V5.20805L9.58065 7.12736L4.99902 0.12619Z" fill="white" fill-opacity="0.602"/>\n    <path d="M4.99923 0.12619L0.416992 7.12736L4.99923 5.20805V0.12619Z" fill="white"/>\n    <path d="M4.99902 10.4207V13.8737L9.58371 7.92728L4.99902 10.4207Z" fill="white" fill-opacity="0.602"/>\n    <path d="M4.99923 13.8737V10.4201L0.416992 7.92728L4.99923 13.8737Z" fill="white"/>\n    <path d="M4.99902 9.62134L9.58065 7.12739L4.99902 5.20923V9.62134Z" fill="white" fill-opacity="0.2"/>\n    <path d="M0.416992 7.12739L4.99923 9.62134V5.20923L0.416992 7.12739Z" fill="white" fill-opacity="0.602"/>\n  </svg>\n',ap='\n  <svg width="100%" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.5091 4.05856C10.2585 3.91901 9.9362 3.91901 9.64974 4.05856L7.64453 5.20986L6.28385 5.94251L4.31445 7.09382C4.0638 7.23337 3.74154 7.23337 3.45508 7.09382L1.91536 6.18673C1.66471 6.04718 1.48568 5.76807 1.48568 5.45408V3.70968C1.48568 3.43057 1.62891 3.15147 1.91536 2.97703L3.45508 2.10483C3.70573 1.96527 4.02799 1.96527 4.31445 2.10483L5.85417 3.01192C6.10482 3.15147 6.28385 3.43057 6.28385 3.74457V4.89587L7.64453 4.12833V2.94214C7.64453 2.66304 7.5013 2.38393 7.21484 2.20949L4.35026 0.569752C4.09961 0.4302 3.77734 0.4302 3.49089 0.569752L0.554687 2.24438C0.268229 2.38393 0.125 2.66304 0.125 2.94214V6.22162C0.125 6.50072 0.268229 6.77983 0.554687 6.95427L3.45508 8.59401C3.70573 8.73356 4.02799 8.73356 4.31445 8.59401L6.28385 7.47759L7.64453 6.71005L9.61393 5.59363C9.86458 5.45408 10.1868 5.45408 10.4733 5.59363L12.013 6.46583C12.2637 6.60539 12.4427 6.88449 12.4427 7.19848V8.94289C12.4427 9.22199 12.2995 9.50109 12.013 9.67553L10.5091 10.5477C10.2585 10.6873 9.9362 10.6873 9.64974 10.5477L8.11002 9.67553C7.85937 9.53598 7.68034 9.25688 7.68034 8.94289V7.82647L6.31966 8.59401V9.74531C6.31966 10.0244 6.46289 10.3035 6.74935 10.478L9.64974 12.1177C9.90039 12.2572 10.2227 12.2572 10.5091 12.1177L13.4095 10.478C13.6602 10.3384 13.8392 10.0593 13.8392 9.74531V6.43095C13.8392 6.15184 13.696 5.87274 13.4095 5.6983L10.5091 4.05856Z" fill="white"/>\n  </svg>\n',op='\n  <svg width="100%" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M3.33611 9.25254C2.38341 9.25254 1.60287 9.02834 0.99442 8.58002C0.393974 8.1237 0.09375 7.47526 0.09375 6.63462C0.09375 6.45849 0.113782 6.2423 0.153782 5.9861C0.257909 5.40972 0.406006 4.71718 0.598133 3.9086C1.14252 1.707 2.54757 0.606201 4.81323 0.606201C5.42967 0.606201 5.98206 0.710266 6.47044 0.918394C6.95882 1.11852 7.34308 1.42278 7.62327 1.8311C7.90346 2.23135 8.04362 2.71174 8.04362 3.27212C8.04362 3.44025 8.02359 3.65241 7.98352 3.9086C7.86346 4.62111 7.71933 5.31366 7.55121 5.9861C7.27101 7.08294 6.78666 7.90354 6.09815 8.44793C5.40964 8.98431 4.489 9.25254 3.33611 9.25254ZM3.50424 7.52326C3.95262 7.52326 4.33284 7.39116 4.6451 7.12697C4.96535 6.86278 5.19351 6.45849 5.32958 5.9141C5.51371 5.16153 5.65387 4.50502 5.74993 3.94463C5.78193 3.7765 5.79793 3.60441 5.79793 3.42822C5.79793 2.6997 5.41764 2.33542 4.65713 2.33542C4.20875 2.33542 3.82449 2.46751 3.50424 2.7317C3.19205 2.99596 2.96786 3.40025 2.83179 3.94463C2.68766 4.48102 2.54354 5.13753 2.39947 5.9141C2.36741 6.07417 2.35141 6.2423 2.35141 6.41842C2.35141 7.155 2.73573 7.52326 3.50424 7.52326Z" fill="white"/>\n    <path d="M8.59569 9.13247C8.50762 9.13247 8.43953 9.10443 8.39153 9.04837C8.35146 8.98431 8.33949 8.9123 8.35549 8.83224L10.0127 1.02648C10.0287 0.938417 10.0727 0.866353 10.1448 0.810289C10.2169 0.754289 10.2929 0.726257 10.373 0.726257H13.5673C14.456 0.726257 15.1685 0.910385 15.7049 1.27864C16.2493 1.64696 16.5215 2.17931 16.5215 2.87582C16.5215 3.07595 16.4975 3.28415 16.4495 3.50027C16.2493 4.42098 15.845 5.10149 15.2366 5.54181C14.6361 5.98213 13.8115 6.20229 12.7627 6.20229H11.1415L10.5892 8.83224C10.5731 8.92031 10.5291 8.99231 10.4571 9.04837C10.385 9.10443 10.3089 9.13247 10.2289 9.13247H8.59569ZM12.8468 4.54507C13.183 4.54507 13.4752 4.45298 13.7234 4.26885C13.9796 4.08472 14.1478 3.82053 14.2278 3.47627C14.2518 3.34015 14.2639 3.22008 14.2639 3.11602C14.2639 2.88383 14.1958 2.7077 14.0597 2.58763C13.9236 2.45951 13.6914 2.3955 13.3632 2.3955H11.9221L11.4658 4.54507H12.8468Z" fill="white"/>\n  </svg>\n',sp='\n  <svg height="100%" viewBox="0 0 22 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M13.7827 11.3172L15.5966 8.23933L20.4858 15.8545L20.4881 17.3159L20.4722 7.25942C20.4606 7.0136 20.3301 6.7887 20.1218 6.6561L11.3194 1.5928C11.1135 1.49162 10.8523 1.49269 10.6468 1.59594C10.6191 1.60989 10.593 1.62499 10.568 1.64147L10.5374 1.66079L1.99318 6.6121L1.95999 6.62712C1.91737 6.64674 1.8743 6.67165 1.83382 6.70063C1.67186 6.81683 1.56424 6.98861 1.52944 7.18131C1.52423 7.21052 1.52039 7.24026 1.51855 7.27023L1.53197 15.4653L6.08607 8.40666C6.65942 7.47067 7.90869 7.1692 9.06835 7.1856L10.4295 7.22155L2.40986 20.0827L3.3552 20.627L11.4709 7.23458L15.0581 7.22155L6.96327 20.9519L10.3366 22.8921L10.7396 23.1239C10.9101 23.1932 11.111 23.1967 11.283 23.1347L20.2091 17.9618L18.5026 18.9507L13.7827 11.3172ZM14.4747 21.2849L11.0677 15.9375L13.1474 12.4083L17.622 19.461L14.4747 21.2849Z" fill="#2D374B"/>\n    <path d="M11.0684 15.9375L14.4754 21.2849L17.6228 19.4609L13.1482 12.4083L11.0684 15.9375Z" fill="#28A0F0"/>\n    <path d="M20.4887 17.3159L20.4864 15.8545L15.5972 8.23932L13.7832 11.3172L18.5031 18.9507L20.2097 17.9618C20.3771 17.8259 20.4783 17.6264 20.489 17.4111L20.4887 17.3159Z" fill="#28A0F0"/>\n    <path d="M7.71943e-05 18.694L2.41 20.0826L10.4296 7.22152L9.0685 7.18557C7.90883 7.16916 6.65964 7.47063 6.08621 8.40662L1.53211 15.4652L0 17.8193V18.694H7.71943e-05Z" fill="white"/>\n    <path d="M15.0582 7.22156L11.4712 7.23459L3.35547 20.627L6.19211 22.2603L6.96354 20.9519L15.0582 7.22156Z" fill="white"/>\n    <path d="M21.9999 7.20306C21.97 6.45287 21.5638 5.76608 20.9275 5.36626L12.0097 0.237888C11.3803 -0.079066 10.594 -0.0794494 9.96363 0.237658C9.88913 0.275218 1.2912 5.26171 1.2912 5.26171C1.17223 5.31874 1.05764 5.38673 0.949789 5.46384C0.381801 5.87094 0.0355663 6.50346 0 7.19846V17.8194L1.53211 15.4653L1.5187 7.27029C1.52054 7.24032 1.52429 7.21088 1.52958 7.18175C1.56415 6.9889 1.67185 6.81689 1.83397 6.70069C1.87444 6.67171 10.6192 1.60995 10.647 1.596C10.8526 1.49275 11.1137 1.49168 11.3195 1.59286L20.122 6.65616C20.3302 6.78876 20.4608 7.01366 20.4723 7.25948V17.4111C20.4617 17.6265 20.3766 17.8259 20.2092 17.9619L18.5026 18.9508L17.6221 19.461L14.4748 21.285L11.283 23.1347C11.1111 23.1968 10.9101 23.1933 10.7397 23.124L6.96334 20.952L6.19191 22.2603L9.58559 24.2142C9.6978 24.278 9.79784 24.3345 9.87985 24.3807C10.0069 24.452 10.0935 24.4996 10.1241 24.5144C10.3653 24.6315 10.7123 24.6997 11.025 24.6997C11.3118 24.6997 11.5913 24.647 11.8559 24.5434L21.1266 19.1745C21.6587 18.7623 21.9717 18.1406 21.9999 17.467V7.20306Z" fill="#96BEDC"/>\n  </svg>\n',up='\n<svg height="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_1607_202)">\n<mask id="mask0_1607_202" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="32" height="32">\n<path d="M32 0H0V32H32V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_1607_202)">\n<path d="M16 32C19.1645 32 22.258 31.0616 24.8892 29.3036C27.5204 27.5454 29.571 25.0466 30.782 22.123C31.993 19.1993 32.31 15.9823 31.6926 12.8786C31.0752 9.77486 29.5514 6.92394 27.3138 4.6863C25.076 2.44866 22.2252 0.924806 19.1214 0.307442C16.0177 -0.30992 12.8007 0.0069325 9.87706 1.21793C6.95344 2.42894 4.45458 4.4797 2.69648 7.11088C0.938384 9.74206 0 12.8355 0 16C0 20.2434 1.68571 24.3132 4.6863 27.3138C7.68688 30.3142 11.7565 32 16 32Z" fill="#0052FF"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.9624 27.2676C22.1852 27.2676 27.23 22.223 27.23 16C27.23 9.7771 22.1852 4.73242 15.9624 4.73242C10.0588 4.73242 5.21566 9.2726 4.7341 15.0518H21.4546V16.928H4.73242C5.20432 22.7168 10.0519 27.2676 15.9624 27.2676Z" fill="white"/>\n</g>\n</g>\n<defs>\n<clipPath id="clip0_1607_202">\n<rect width="32" height="32" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n',cp=s("Y",'\n  <svg width="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.07 12.85C11.84 11.46 13.32 10.64 14.18 9.41C15.09 8.12 14.58 5.71 12 5.71C10.31 5.71 9.48 6.99 9.13 8.05L6.54 6.96C7.25 4.83 9.18 3 11.99 3C14.34 3 15.95 4.07 16.77 5.41C17.47 6.56 17.88 8.71 16.8 10.31C15.6 12.08 14.45 12.62 13.83 13.76C13.58 14.22 13.48 14.52 13.48 16H10.59C10.58 15.22 10.46 13.95 11.07 12.85ZM14 20C14 21.1 13.1 22 12 22C10.9 22 10 21.1 10 20C10 18.9 10.9 18 12 18C13.1 18 14 18.9 14 20Z" fill="currentColor"/>\n  </svg>\n'),lp='\n  <svg width="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V11H13V17ZM13 9H11V7H13V9Z" fill="currentColor"/>\n  </svg>\n',fp='\n  <svg width="100%" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6.74999 12.15L3.59999 9L2.54999 10.05L6.74999 14.25L15.75 5.25L14.7 4.2L6.74999 12.15Z" fill="currentColor"/>\n  </svg>\n';var hp=function(e){return null!=e};function dp(e){switch(e){case"0x1":case"0x89":case"0xa":case"0xa4b1":case"0xa4ba":case"0x144":return"0x1";case"0x5":case"0xaa36a7":return e;default:return null}}function pp(e){return e.includes("<svg")}function vp(){return vp=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to copy: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),vp.apply(this,arguments)}var mp=s("aS",(function(e){return"number"==typeof e?"0x".concat(e.toString(16)):e}));s("an",{"0x1":"Ethereum","0x3":"Ropsten","0x4":"Rinkeby","0x5":"Goerli","0xaa36a7":"Sepolia","0x2a":"Kovan","0x38":"Binance","0x89":"Polygon","0xfa":"Fantom","0xa":"Optimism","0x45":"Optimism Kovan","0xa86a":"Avalanche","0xa4ec":"Celo","0x2105":"Base","0x14a33":"Base Goerli","0x64":"Gnosis","0x63564C40":"Harmony One","0xa4b1":"Arbitrum One","0xa4ba":"Arbitrum Nova"});var gp=s("aL",{main:"0x1",ropsten:"0x3",rinkeby:"0x4",goerli:"0x5",kovan:"0x2a",xdai:"0x64","bsc-main":"0x38","matic-main":"0x89","fantom-main":"0xfa","matic-mumbai":"0x80001"}),yp=s("aK",{"0x1":{icon:ip,color:"#627EEA"},"0x3":{icon:ip,color:"#627EEA"},"0x4":{icon:ip,color:"#627EEA"},"0x5":{icon:ip,color:"#627EEA"},"0x2a":{icon:ip,color:"#627EEA"},"0xaa36a7":{icon:ip,color:"#627EEA"},"0x38":{icon:'\n  <svg width="100%" height="100%" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M4.32975 5.90275L7 3.2325L9.67163 5.90413L11.2254 4.35038L7 0.125L2.776 4.349L4.32975 5.90275ZM0.125 7L1.67875 5.44625L3.2325 7L1.67875 8.55375L0.125 7ZM4.32975 8.09725L7 10.7675L9.67163 8.09587L11.2254 9.64894L7 13.875L2.776 9.651L2.77394 9.64894L4.32975 8.09725ZM10.7675 7L12.3212 5.44625L13.875 7L12.3212 8.55375L10.7675 7ZM8.57575 6.99863H8.57713V7L7 8.57713L5.42494 7.00275L5.42219 7L5.42494 6.99794L5.70062 6.72156L5.83469 6.5875L7 5.42288L8.57644 6.99931L8.57575 6.99863Z" fill="white"/>\n  </svg>\n',color:"#F3BA2F"},"0x89":{icon:ap,color:"#8247E5"},"0xfa":{icon:'\n  <svg height="100%" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M5.26613 0.133876C5.46683 0.0457135 5.68592 0 5.90775 0C6.12958 0 6.34867 0.0457135 6.54938 0.133876L10.2679 1.9598C10.3617 1.99893 10.4437 2.05898 10.5068 2.13465C10.5699 2.21033 10.6121 2.29932 10.6298 2.3938H10.6335V11.5637C10.6245 11.6667 10.5857 11.7654 10.5213 11.8495C10.457 11.9336 10.3694 11.9998 10.2679 12.0411L6.54938 13.8656C6.34867 13.9538 6.12958 13.9995 5.90775 13.9995C5.68592 13.9995 5.46683 13.9538 5.26613 13.8656L1.54762 12.0397C1.44724 11.9979 1.36095 11.9313 1.29799 11.8472C1.23504 11.7631 1.19779 11.6646 1.19025 11.5623C1.19025 11.5465 1.19025 11.5332 1.19025 11.522V2.39205C1.20579 2.29767 1.24673 2.20852 1.30923 2.13292C1.37173 2.05733 1.45375 1.99776 1.54762 1.9598L5.26613 0.133876ZM10.0478 7.50898L6.54938 9.22396C6.34872 9.31229 6.12961 9.35809 5.90775 9.35809C5.68589 9.35809 5.46678 9.31229 5.26613 9.22396L1.77525 7.51283V11.5455L5.26613 13.2493C5.43937 13.3471 5.62982 13.4154 5.82863 13.4512L5.9085 13.4558C6.12668 13.4357 6.3373 13.3704 6.525 13.2647L10.05 11.5301V7.50898H10.0478ZM0.585375 11.3642C0.568078 11.6186 0.612957 11.8734 0.716625 12.1093C0.805331 12.2602 0.936232 12.3857 1.09538 12.4726L1.10662 12.4796C1.1505 12.5069 1.1985 12.5356 1.25663 12.5692L1.32563 12.6081L1.53675 12.7267L1.23375 13.1922L0.9975 13.0592L0.95775 13.0365C0.889125 12.9973 0.8325 12.9637 0.779625 12.9315C0.214875 12.5769 0.004125 12.1912 0 11.3887V11.3642H0.585H0.585375ZM5.61412 5.05096C5.58845 5.05933 5.5634 5.06926 5.53912 5.08071L1.82137 6.90524L1.81013 6.91119H1.80675L1.81275 6.91469L1.82137 6.91889L5.53988 8.74341C5.56405 8.75505 5.58912 8.76499 5.61487 8.77316L5.61412 5.05096ZM6.201 5.05096V8.77456C6.22675 8.76639 6.25182 8.75645 6.276 8.74481L9.9945 6.92029L10.0057 6.91434H10.0091L10.0031 6.91154L9.9945 6.90699L6.276 5.08246C6.25182 5.07083 6.22675 5.06088 6.201 5.05271V5.05096ZM10.0478 3.04479L6.71025 4.68137L10.0478 6.31795V3.04304V3.04479ZM1.77525 3.04864V6.3141L5.103 4.68137L1.77525 3.04864ZM6.27525 0.61617C6.15894 0.569406 6.03364 0.545286 5.907 0.545286C5.78036 0.545286 5.65506 0.569406 5.53875 0.61617L1.821 2.4393L1.80975 2.4449L1.80638 2.44665L1.81238 2.4498L1.821 2.45365L5.5395 4.27817C5.65571 4.32526 5.78106 4.34956 5.90775 4.34956C6.03444 4.34956 6.15979 4.32526 6.276 4.27817L9.9945 2.45365L10.0057 2.4498L10.0091 2.44805L10.0031 2.4449L9.9945 2.4407L6.27525 0.61617ZM10.5968 0.816717L10.833 0.949365L10.875 0.970015C10.9432 1.00921 10.9999 1.04316 11.0528 1.07501C11.6179 1.42851 11.8282 1.81455 11.8328 2.61709V2.64159H11.2459C11.2632 2.38703 11.2183 2.13212 11.1146 1.8961C11.0258 1.74528 10.8948 1.61983 10.7355 1.53316L10.7242 1.52616C10.6807 1.49851 10.6327 1.47016 10.5743 1.43656L10.5056 1.39981L10.2945 1.28151L10.5975 0.816017L10.5968 0.816717Z" fill="white"/>\n  </svg>\n',color:"#1969FF"},"0xa":{icon:op,color:"#FF0420"},"0x45":{icon:op,color:"#FF0420"},"0xa86a":{icon:'\n  <svg width="100%" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M19.8682 0.489349H0.110352V18.4468H19.8682V0.489349Z" fill="white"/>\n  </svg>\n',color:"#E84142"},"0xa4ec":{icon:'\n  <svg width="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M19.1511 8.08001C19.1511 4.11201 15.9191 0.880005 11.9511 0.880005C8.94313 0.880005 6.38313 2.70401 5.29513 5.32801C2.73513 6.41601 0.911133 8.976 0.911133 11.952C0.911133 15.92 4.14313 19.152 8.11113 19.152C11.1191 19.152 13.6791 17.328 14.7671 14.704C17.2951 13.616 19.1511 11.056 19.1511 8.08001ZM8.11113 17.36C5.13513 17.36 2.70313 14.928 2.70313 11.952C2.70313 10.256 3.50313 8.72001 4.75113 7.72801C4.75113 7.85601 4.75113 7.98401 4.75113 8.08001C4.75113 12.048 7.98313 15.28 11.9511 15.28C12.1111 15.28 12.2391 15.28 12.3991 15.28C11.3751 16.56 9.83913 17.36 8.11113 17.36ZM13.3591 13.296C12.9111 13.424 12.4311 13.488 11.9511 13.488C8.97513 13.488 6.54313 11.056 6.54313 8.08001C6.54313 7.60001 6.60713 7.15201 6.73513 6.736C7.18313 6.60801 7.66313 6.54401 8.14313 6.54401C11.1191 6.54401 13.5511 8.976 13.5511 11.952C13.5191 12.432 13.4551 12.88 13.3591 13.296ZM15.3111 12.304C15.3111 12.176 15.3111 12.048 15.3111 11.952C15.3111 7.984 12.0791 4.752 8.11113 4.752C7.95113 4.752 7.82313 4.752 7.66313 4.752C8.65513 3.472 10.1911 2.67201 11.9191 2.67201C14.8951 2.67201 17.3271 5.10401 17.3271 8.08001C17.3271 9.80801 16.5271 11.312 15.3111 12.304Z" fill="white"/>\n  </svg>\n',color:"#FBCC5C"},"0x64":{icon:'\n  <svg width="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z" fill="#04795B"/>\n    <path d="M11.6529 17.4492C12.2831 17.4492 12.8648 17.2392 13.3334 16.8758L9.4877 13.0316C9.12413 13.4919 8.9141 14.0734 8.9141 14.7114C8.906 16.2216 10.134 17.4492 11.6529 17.4492Z" fill="#EFEFEF"/>\n    <path d="M23.0931 14.7033C23.0931 14.0734 22.8831 13.4919 22.5195 13.0234L18.6738 16.8677C19.1343 17.2311 19.716 17.4411 20.3543 17.4411C21.8651 17.4492 23.0931 16.2216 23.0931 14.7033Z" fill="#EFEFEF"/>\n    <path d="M25.0322 10.528L23.3275 12.2321C23.8931 12.9105 24.2324 13.7666 24.2324 14.7195C24.2324 16.8597 22.4954 18.5961 20.3544 18.5961C19.4092 18.5961 18.5447 18.2569 17.866 17.6915L15.9998 19.5571L14.1335 17.6915C13.4549 18.2569 12.5985 18.5961 11.6451 18.5961C9.50416 18.5961 7.7672 16.8597 7.7672 14.7195C7.7672 13.7746 8.10651 12.9105 8.67206 12.2321L7.79947 11.3599L6.96736 10.528C5.99787 12.1271 5.44043 13.9927 5.44043 15.9956C5.44043 21.8265 10.1667 26.543 15.9917 26.543C21.8167 26.543 26.543 21.8185 26.543 15.9956C26.5591 13.9846 26.0017 12.119 25.0322 10.528Z" fill="#EFEFEF"/>\n    <path d="M23.6338 8.71084C21.7191 6.6999 19.0045 5.44 15.9991 5.44C12.9937 5.44 10.2872 6.6999 8.36435 8.71084C8.10584 8.98545 7.85539 9.27617 7.62109 9.575L15.991 17.9419L24.361 9.56695C24.1509 9.27617 23.9005 8.97734 23.6338 8.71084ZM15.9991 6.81297C18.4713 6.81297 20.7658 7.76593 22.4866 9.50231L15.9991 15.9874L9.5116 9.50231C11.2405 7.76593 13.5269 6.81297 15.9991 6.81297Z" fill="#EFEFEF"/>\n  </svg>\n',color:"#04795B"},"0x63564C40":{icon:'\n  <svg width="100%" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12.5484 1.04102e-06C11.6346 -0.000708404 10.7578 0.361217 10.1105 1.00633C9.46322 1.65145 9.09835 2.52703 9.096 3.44089V7.256C8.74045 7.28 8.37689 7.29511 8 7.29511C7.62311 7.29511 7.26133 7.31022 6.904 7.33156V3.44089C6.88946 2.53496 6.51938 1.67105 5.87358 1.03553C5.22779 0.400017 4.35805 0.0438409 3.452 0.0438409C2.54595 0.0438409 1.67621 0.400017 1.03042 1.03553C0.384623 1.67105 0.0145378 2.53496 0 3.44089V12.5591C0.0145378 13.465 0.384623 14.329 1.03042 14.9645C1.67621 15.6 2.54595 15.9562 3.452 15.9562C4.35805 15.9562 5.22779 15.6 5.87358 14.9645C6.51938 14.329 6.88946 13.465 6.904 12.5591V8.744C7.25956 8.72 7.62311 8.70489 8 8.70489C8.37689 8.70489 8.73867 8.68978 9.096 8.66845V12.5591C9.11054 13.465 9.48062 14.329 10.1264 14.9645C10.7722 15.6 11.6419 15.9562 12.548 15.9562C13.4541 15.9562 14.3238 15.6 14.9696 14.9645C15.6154 14.329 15.9855 13.465 16 12.5591V3.44089C15.9976 2.52719 15.6329 1.65173 14.9858 1.00665C14.3387 0.361557 13.4622 -0.000472854 12.5484 1.04102e-06ZM3.45156 1.40978C3.99089 1.40954 4.50828 1.62326 4.89023 2.00404C5.27218 2.38482 5.48748 2.90156 5.48889 3.44089V7.48089C4.47892 7.62724 3.49264 7.90609 2.55556 8.31023C2.14954 8.48842 1.76733 8.71655 1.41778 8.98934V3.44089C1.41919 2.90218 1.634 2.38597 2.01518 2.00529C2.39636 1.62462 2.91284 1.41048 3.45156 1.40978ZM5.48889 12.5591C5.48889 13.0994 5.27424 13.6177 4.89217 13.9997C4.51009 14.3818 3.99189 14.5964 3.45156 14.5964C2.91122 14.5964 2.39302 14.3818 2.01094 13.9997C1.62887 13.6177 1.41422 13.0994 1.41422 12.5591V11.6444C1.41422 10.8364 2.05422 10.0711 3.12711 9.59467C3.88309 9.26852 4.6763 9.03656 5.48889 8.904V12.5591ZM12.5484 14.5902C12.0091 14.5905 11.4917 14.3767 11.1098 13.996C10.7278 13.6152 10.5125 13.0984 10.5111 12.5591V8.51911C11.5211 8.37276 12.5074 8.09392 13.4444 7.68978C13.8505 7.51159 14.2327 7.28345 14.5822 7.01067V12.5591C14.5808 13.0978 14.366 13.614 13.9848 13.9947C13.6036 14.3754 13.0872 14.5895 12.5484 14.5902ZM12.8729 6.4C12.1169 6.72615 11.3237 6.95811 10.5111 7.09067V3.44089C10.5111 2.90056 10.7258 2.38235 11.1078 2.00028C11.4899 1.6182 12.0081 1.40356 12.5484 1.40356C13.0888 1.40356 13.607 1.6182 13.9891 2.00028C14.3711 2.38235 14.5858 2.90056 14.5858 3.44089V4.35556C14.5858 5.16 13.9458 5.92534 12.8729 6.4Z" fill="url(#paint0_linear_10254_2422)"/>\n    <defs>\n      <linearGradient id="paint0_linear_10254_2422" x1="1.01333" y1="14.7674" x2="14.8954" y2="0.847434" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#00AEE9"/>\n        <stop offset="1" stop-color="#69FABD"/>\n      </linearGradient>\n    </defs>\n  </svg>\n',color:"#ffffff"},"0xa4b1":{icon:sp,color:"#33394B"},"0xa4ba":{icon:sp,color:"#33394B"},"0x2105":{icon:up,color:"#0259F9"},"0x14a33":{icon:up,color:"#0259F9"},"0x80001":{icon:ap,color:"#8247E5"}});s("D",{icon:cp,color:"#33394B"});s("aT",{pending:{backgroundColor:"var(--onboard-primary-700, var(--primary-700))",borderColor:"#6370E5",eventIcon:'\n<svg width="100%" height="100%" viewBox="0 0 12 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M0 0L0.0100002 6L4 10L0.0100002 14.01L0 20H12V14L8 10L12 6.01V0H0ZM10 14.5V18H2V14.5L6 10.5L10 14.5Z" fill="#929BED"/>\n</svg>\n'},success:{backgroundColor:"#052E17",borderColor:"var(--onboard-success-300, var(--success-300))",eventIcon:'\n<svg width="14" height="11" viewBox="0 0 14 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.48076 8.10881L1.33076 4.95881L0.280762 6.00881L4.48076 10.2088L13.4808 1.20881L12.4308 0.158813L4.48076 8.10881Z" fill="#A4F4C6"/>\n</svg>\n'},error:{backgroundColor:"#FDB1B11A",borderColor:"var(--onboard-danger-300, var(--danger-300))",eventIcon:'<svg width="16" height="13" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M0.666992 13.0002H15.3337L8.00033 0.333496L0.666992 13.0002ZM8.66699 11.0002H7.33366V9.66683H8.66699V11.0002ZM8.66699 8.3335H7.33366V5.66683H8.66699V8.3335Z" fill="#FFB3B3"/>\n</svg>\n'},hint:{backgroundColor:"var(--onboard-gray-500, var(--gray-500))",borderColor:"var(--onboard-gray-500, var(--gray-500))",iconColor:"var(--onboard-gray-100, var(--gray-100))",eventIcon:lp}});var bp=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function wp(e){try{return localStorage.getItem(e)}catch(t){return null}}function _p(e,t){try{localStorage.setItem(e,t)}catch(r){return}}function kp(e){try{localStorage.removeItem(e)}catch(t){return}}var xp=s("_",{svelteInstance:null,apiKey:null,device:function(){if("undefined"!=typeof window){var e=mr.getParser(window.navigator.userAgent),t=e.getOS(),r=e.getBrowser();return{type:e.getPlatform().type,os:t,browser:r}}return{type:null,os:null,browser:null}}(),initialWalletInit:[],gas:null,containerElements:{accountCenter:null,connectModal:null},transactionPreview:null,unstoppableResolution:null});function Ep(e){s("_",xp=l(l({},xp),e))}var Ap={wallets:[],walletModules:[],chains:[],accountCenter:{enabled:!0,position:"bottomRight",expanded:!1,minimal:!0},notify:{enabled:!0,transactionHandler:function(){},position:"topRight",replacement:{gasPriceProbability:{speedup:80,cancel:95}}},notifications:[],locale:"",connect:{showSidebar:!0,disableClose:!1},appMetadata:null},Sp={TERMS_AGREEMENT:"onboard.js:agreement",LAST_CONNECTED_WALLET:"onboard.js:last_connected_wallet"},Op=768,Ip=(s("a1","https://rpc.blocknative.com/boost"),s("B","https://docs.blocknative.com/blocknative-mev-protection/transaction-boost"),"add_chains"),Rp="update_chains",Cp="reset_store",Np="add_wallet",Pp="update_wallet",Mp="remove_wallet",jp="update_account",Tp="update_account_center",Lp="update_connect_modal",$p="set_wallet_modules",Dp="set_locale",Up="update_notify",Fp="add_notification",Bp="remove_notification",qp="update_balance",zp="update_app_metadata";var Hp=new tt(Ap),Vp=new Xe;function Wp(e){var n=Hp.getValue();Vp.next(function(e,n){var a=n.type,o=n.payload;switch(a){case Ip:return l(l({},e),{},{chains:[].concat(w(e.chains),w(o))});case Rp:var s=o,u=e.chains,c=u.findIndex((function(e){return e.id===s.id}));return u[c]=s,l(l({},e),{},{chains:u});case Np:var f=o,h=e.wallets.find((function(e){return e.label===f.label}));return l(l({},e),{},{wallets:[h||o].concat(w(e.wallets.filter((function(e){return e.label!==f.label}))))});case Pp:var d=o,p=d.id,v=i(d,t),m=e.wallets.map((function(e){return e.label===p?l(l({},e),v):e}));return l(l({},e),{},{wallets:m});case Mp:var g=o;return l(l({},e),{},{wallets:e.wallets.filter((function(e){return e.label!==g.id}))});case jp:var y=o,b=y.id,_=y.address,k=i(y,r),x=e.wallets.map((function(e){return e.label===b&&(e.accounts=e.accounts.map((function(e){return e.address===_?l(l({},e),k):e}))),e}));return l(l({},e),{},{wallets:x});case qp:var E=o;return l(l({},e),{},{wallets:E});case Lp:var A=o;return l(l({},e),{},{connect:l(l({},e.connect),A)});case Tp:var S=o;return l(l({},e),{},{accountCenter:l(l({},e.accountCenter),S)});case Up:var O=o;return l(l({},e),{},{notify:l(l({},e.notify),O)});case Fp:var I=o,R=w(e.notifications),C=R.findIndex((function(e){return e.id===I.id}));return-1!==C?R[C]=I:R.unshift(I),l(l({},e),{},{notifications:R});case Bp:var N=o;return l(l({},e),{},{notifications:e.notifications.filter((function(e){return e.id!==N}))});case $p:return l(l({},e),{},{walletModules:o});case Dp:return Li.set(o),l(l({},e),{},{locale:o});case zp:var P=o;return l(l({},e),{},{appMetadata:l(l({},e.appMetadata),P)});case Cp:return Ap;default:throw new Error("Unknown type: ".concat(a," in appStore reducer"))}}(n,e))}Vp.subscribe(Hp);var Gp=s("m",{select:function(e){if(!e)return Vp.asObservable();if(!Object.keys(Hp.getValue()).includes(String(e)))throw new Error("key: ".concat(e," does not exist on this store"));return Vp.asObservable().pipe(Zt(e),Yt(e),Ht(hp))},get:function(){return Hp.getValue()}});function Kp(){}var Zp,Yp=function(e){return e};function Jp(e){return e()}function Qp(){return Object.create(null)}function Xp(e){e.forEach(Jp)}function ev(e){return"function"==typeof e}function tv(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function rv(e,t){return Zp||(Zp=document.createElement("a")),Zp.href=t,e===Zp.href}function nv(e,t,r){e.$$.on_destroy.push(function(e){if(null==e)return Kp;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.subscribe.apply(e,r);return i.unsubscribe?function(){return i.unsubscribe()}:i}(t,r))}function iv(e,t,r,n){if(e){var i=av(e,t,r,n);return e[0](i)}}function av(e,t,r,n){return e[1]&&n?function(e,t){for(var r in t)e[r]=t[r];return e}(r.ctx.slice(),e[1](n(t))):r.ctx}function ov(e,t,r,n){if(e[2]&&n){var i=e[2](n(r));if(void 0===t.dirty)return i;if("object"==typeof i){for(var a=[],o=Math.max(t.dirty.length,i.length),s=0;s<o;s+=1)a[s]=t.dirty[s]|i[s];return a}return t.dirty|i}return t.dirty}function sv(e,t,r,n,i,a){if(i){var o=av(t,r,n,a);e.p(o,i)}}function uv(e){if(e.ctx.length>32){for(var t=[],r=e.ctx.length/32,n=0;n<r;n++)t[n]=-1;return t}return-1}function cv(e){return null==e?"":e}function lv(e){var t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}var fv="undefined"!=typeof window,hv=fv?function(){return window.performance.now()}:function(){return Date.now()},dv=fv?function(e){return requestAnimationFrame(e)}:Kp,pv=new Set;function vv(e){pv.forEach((function(t){t.c(e)||(pv.delete(t),t.f())})),0!==pv.size&&dv(vv)}function mv(e){var t;return 0===pv.size&&dv(vv),{promise:new Promise((function(r){pv.add(t={c:e,f:r})})),abort:function(){pv.delete(t)}}}function gv(e,t){e.appendChild(t)}function yv(e,t,r){var n=bv(e);if(!n.getElementById(t)){var i=Av("style");i.id=t,i.textContent=r,_v(n,i)}}function bv(e){if(!e)return document;var t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function wv(e){var t=Av("style");return _v(bv(e),t),t.sheet}function _v(e,t){return gv(e.head||e,t),t.sheet}function kv(e,t,r){e.insertBefore(t,r||null)}function xv(e){e.parentNode&&e.parentNode.removeChild(e)}function Ev(e,t){for(var r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function Av(e){return document.createElement(e)}function Sv(e){return document.createTextNode(e)}function Ov(){return Sv(" ")}function Iv(){return Sv("")}function Rv(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}function Cv(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Nv(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Pv(e,t){t=""+t,e.data!==t&&(e.data=t)}function Mv(e,t,r,n){null==r?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function jv(e,t,r){e.classList[r?"add":"remove"](t)}var Tv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A(this,e),this.is_svg=!1,this.is_svg=t,this.e=this.n=null}return O(e,[{key:"c",value:function(e){this.h(e)}},{key:"m",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=(r=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",r)):this.e=Av(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}},{key:"h",value:function(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}},{key:"i",value:function(e){for(var t=0;t<this.n.length;t+=1)kv(this.t,this.n[t],e)}},{key:"p",value:function(e){this.d(),this.h(e),this.i(this.a)}},{key:"d",value:function(){this.n.forEach(xv)}}]),e}();function Lv(e,t){return new e(t)}s("as",Tv);var $v,Dv=new Map,Uv=0;function Fv(e,t,r,n,i,a,o){for(var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=16.666/n,c="{\n",l=0;l<=1;l+=u){var f=t+(r-t)*a(l);c+=100*l+"%{".concat(o(f,1-f),"}\n")}var h=c+"100% {".concat(o(r,1-r),"}\n}"),d="__svelte_".concat(function(e){for(var t=5381,r=e.length;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}(h),"_").concat(s),p=bv(e),v=Dv.get(p)||function(e,t){var r={stylesheet:wv(t),rules:{}};return Dv.set(e,r),r}(p,e),m=v.stylesheet,g=v.rules;g[d]||(g[d]=!0,m.insertRule("@keyframes ".concat(d," ").concat(h),m.cssRules.length));var y=e.style.animation||"";return e.style.animation="".concat(y?"".concat(y,", "):"").concat(d," ").concat(n,"ms linear ").concat(i,"ms 1 both"),Uv+=1,d}function Bv(e,t){var r=(e.style.animation||"").split(", "),n=r.filter(t?function(e){return e.indexOf(t)<0}:function(e){return-1===e.indexOf("__svelte")}),i=r.length-n.length;i&&(e.style.animation=n.join(", "),(Uv-=i)||dv((function(){Uv||(Dv.forEach((function(e){var t=e.stylesheet.ownerNode;t&&xv(t)})),Dv.clear())})))}function qv(e,t){var r=e.getBoundingClientRect();if(t.left!==r.left||t.top!==r.top){var n=getComputedStyle(e),i="none"===n.transform?"":n.transform;e.style.transform="".concat(i," translate(").concat(t.left-r.left,"px, ").concat(t.top-r.top,"px)")}}function zv(e){$v=e}function Hv(){if(!$v)throw new Error("Function called outside component initialization");return $v}function Vv(e){Hv().$$.on_destroy.push(e)}function Wv(e,t){var r=this,n=e.$$.callbacks[t.type];n&&n.slice().forEach((function(e){return e.call(r,t)}))}var Gv=[],Kv=s("T",[]),Zv=[],Yv=[],Jv=Promise.resolve(),Qv=!1;function Xv(e){Zv.push(e)}function em(e){Yv.push(e)}var tm,rm=new Set,nm=0;function im(){if(0===nm){var e=$v;do{try{for(;nm<Gv.length;){var t=Gv[nm];nm++,zv(t),am(t.$$)}}catch(i){throw Gv.length=0,nm=0,i}for(zv(null),Gv.length=0,nm=0;Kv.length;)Kv.pop()();for(var r=0;r<Zv.length;r+=1){var n=Zv[r];rm.has(n)||(rm.add(n),n())}Zv.length=0}while(Gv.length);for(;Yv.length;)Yv.pop()();Qv=!1,rm.clear(),zv(e)}}function am(e){if(null!==e.fragment){e.update(),Xp(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Xv)}}function om(){return tm||(tm=Promise.resolve()).then((function(){tm=null})),tm}function sm(e,t,r){e.dispatchEvent(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.bubbles,i=void 0!==n&&n,a=r.cancelable,o=void 0!==a&&a,s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i,o,t),s}("".concat(t?"intro":"outro").concat(r)))}var um,cm=new Set;function lm(){um={r:0,c:[],p:um}}function fm(){um.r||Xp(um.c),um=um.p}function hm(e,t){e&&e.i&&(cm.delete(e),e.i(t))}function dm(e,t,r,n){if(e&&e.o){if(cm.has(e))return;cm.add(e),um.c.push((function(){cm.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}else n&&n()}var pm={duration:0};function vm(e,t,r){var n,i,a={direction:"in"},o=t(e,r,a),s=!1,u=0;function c(){n&&Bv(e,n)}function l(){var t=o||pm,r=t.delay,a=void 0===r?0:r,l=t.duration,f=void 0===l?300:l,h=t.easing,d=void 0===h?Yp:h,p=t.tick,v=void 0===p?Kp:p,m=t.css;m&&(n=Fv(e,0,1,f,a,d,m,u++)),v(0,1);var g=hv()+a,y=g+f;i&&i.abort(),s=!0,Xv((function(){return sm(e,!0,"start")})),i=mv((function(t){if(s){if(t>=y)return v(1,0),sm(e,!0,"end"),c(),s=!1;if(t>=g){var r=d((t-g)/f);v(r,1-r)}}return s}))}var f=!1;return{start:function(){f||(f=!0,Bv(e),ev(o)?(o=o(a),om().then(l)):l())},invalidate:function(){f=!1},end:function(){s&&(c(),s=!1)}}}function mm(e,t,r,n){var i={direction:"both"},a=t(e,r,i),o=n?0:1,s=null,u=null,c=null;function l(){c&&Bv(e,c)}function f(e,t){var r=e.b-o;return t*=Math.abs(r),{a:o,b:e.b,d:r,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(t){var r=a||pm,n=r.delay,i=void 0===n?0:n,h=r.duration,d=void 0===h?300:h,p=r.easing,v=void 0===p?Yp:p,m=r.tick,g=void 0===m?Kp:m,y=r.css,b={start:hv()+i,b:t};t||(b.group=um,um.r+=1),s||u?u=b:(y&&(l(),c=Fv(e,o,t,d,i,v,y)),t&&g(0,1),s=f(b,d),Xv((function(){return sm(e,t,"start")})),mv((function(t){if(u&&t>u.start&&(s=f(u,d),u=null,sm(e,s.b,"start"),y&&(l(),c=Fv(e,o,s.b,s.duration,0,v,a.css))),s)if(t>=s.end)g(o=s.b,1-o),sm(e,s.b,"end"),u||(s.b?l():--s.group.r||Xp(s.group.c)),s=null;else if(t>=s.start){var r=t-s.start;o=s.a+s.d*v(r/s.duration),g(o,1-o)}return!(!s&&!u)})))}return{run:function(e){ev(a)?om().then((function(){a=a(i),h(e)})):h(e)},end:function(){l(),s=u=null}}}function gm(e,t){var r,n=t.token={};function i(e,r,i,a){if(t.token===n){t.resolved=a;var o=t.ctx;void 0!==i&&((o=o.slice())[i]=a);var s=e&&(t.current=e)(o),u=!1;t.block&&(t.blocks?t.blocks.forEach((function(e,n){n!==r&&e&&(lm(),dm(e,1,1,(function(){t.blocks[n]===e&&(t.blocks[n]=null)})),fm())})):t.block.d(1),s.c(),hm(s,1),s.m(t.mount(),t.anchor),u=!0),t.block=s,t.blocks&&(t.blocks[r]=s),u&&im()}}if(!(r=e)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved=e}else{var a=Hv();if(e.then((function(e){zv(a),i(t.then,1,t.value,e),zv(null)}),(function(e){if(zv(a),i(t.catch,2,t.error,e),zv(null),!t.hasCatch)throw e})),t.current!==t.pending)return i(t.pending,0),!0}}function ym(e,t,r){var n=t.slice(),i=e.resolved;e.current===e.then&&(n[e.value]=i),e.current===e.catch&&(n[e.error]=i),e.block.p(n,r)}function bm(e,t){dm(e,1,1,(function(){t.delete(e.key)}))}function wm(e,t,r){var n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function _m(e){e&&e.c()}function km(e,t,r,n){var i=e.$$,a=i.fragment,o=i.after_update;a&&a.m(t,r),n||Xv((function(){var t,r=e.$$.on_mount.map(Jp).filter(ev);e.$$.on_destroy?(t=e.$$.on_destroy).push.apply(t,w(r)):Xp(r);e.$$.on_mount=[]})),o.forEach(Xv)}function xm(e,t){var r,n,i,a=e.$$;null!==a.fragment&&(r=a.after_update,n=[],i=[],Zv.forEach((function(e){return-1===r.indexOf(e)?n.push(e):i.push(e)})),i.forEach((function(e){return e()})),Zv=n,Xp(a.on_destroy),a.fragment&&a.fragment.d(t),a.on_destroy=a.fragment=null,a.ctx=[])}function Em(e,t){-1===e.$$.dirty[0]&&(Gv.push(e),Qv||(Qv=!0,Jv.then(im)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Am(e,t,r,n,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],u=$v;zv(e);var c=e.$$={fragment:null,ctx:[],props:a,update:Kp,not_equal:i,bound:Qp(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Qp(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};o&&o(c.root);var l=!1;if(c.ctx=r?r(e,t.props||{},(function(t,r){var n=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:r;return c.ctx&&i(c.ctx[t],c.ctx[t]=n)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](n),l&&Em(e,t)),r})):[],c.update(),l=!0,Xp(c.before_update),c.fragment=!!n&&n(c.ctx),t.target){if(t.hydrate){var f=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(f),f.forEach(xv)}else c.fragment&&c.fragment.c();t.intro&&hm(e.$$.fragment),km(e,t.target,t.anchor,t.customElement),im()}zv(u)}var Sm=function(){function e(){A(this,e)}return O(e,[{key:"$destroy",value:function(){xm(this,1),this.$destroy=Kp}},{key:"$on",value:function(e,t){if(!ev(t))return Kp;var r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}();s("S",Sm);var Om=new Xe,Im=new Xe,Rm=s("ag",new tt({inProgress:!1,actionRequired:""})),Cm=new tt(null),Nm=s("z",Gp.select("wallets").pipe(Xt(1)));Om.pipe(nr(Nm),Yt("1")).subscribe((function(e){e.forEach((function(e){var t=e.label;Im.next(t)})),Wp({type:Cp})}));var Pm=s("aM",new tt([]));var Mm=$t((function(){var e=new Xe;return Vv((function(){e.next()})),e.asObservable().pipe(Vt(1))})),jm={default:{"--w3o-background-color":"unset","--w3o-foreground-color":"unset","--w3o-text-color":"unset","--w3o-border-color":"unset","--w3o-action-color":"unset","--w3o-border-radius":"unset","--w3o-font-family":"inherit"},light:{"--w3o-background-color":"#ffffff","--w3o-foreground-color":"#EFF1FC","--w3o-text-color":"#1a1d26","--w3o-border-color":"#d0d4f7","--w3o-action-color":"#6370E5","--w3o-border-radius":"16px","--w3o-font-family":"inherit"},dark:{"--w3o-background-color":"#1A1D26","--w3o-foreground-color":"#242835","--w3o-text-color":"#EFF1FC","--w3o-border-color":"#33394B","--w3o-action-color":"#929bed","--w3o-border-radius":"16px","--w3o-font-family":"inherit"}},Tm=function(e){return"string"==typeof e&&"system"===e?Dm():Lm(e)},Lm=function(e){return"string"==typeof e&&e in jm?jm[e]:"object"==typeof e?e:void 0},$m=function(e){Object.keys(e).forEach((function(t){document.documentElement.style.setProperty(t,e[t])}))},Dm=function(){var e=window.matchMedia("(prefers-color-scheme: dark)");e.matches?$m(jm.dark):$m(jm.light),Bt(e,"change").pipe(rr(Om)).subscribe((function(e){e.matches?$m(jm.dark):$m(jm.light)}))},Um=aa.object().unknown(),Fm=aa.object({namespace:ja.required(),id:Ma.required()}),Bm=aa.any().allow(aa.object({name:aa.string().required(),avatar:aa.string(),contentHash:aa.any().allow(aa.string(),null),getText:aa.function().arity(1).required()}),null),qm=aa.any().allow(aa.object({name:aa.string().required()}),null),zm=aa.any().allow(aa.object({eth:aa.number()}).unknown(),null),Hm=aa.any().allow(aa.object({balance:aa.string().required(),icon:aa.string()}),null),Vm=aa.object({address:aa.string().required(),ens:Bm,uns:qm,balance:zm,secondaryTokens:Hm}),Wm=aa.array().items($a).unique((function(e,t){return e.id===t.id})).error((function(e){return"array.unique"===e[0].code?new Error("There is a duplicate Chain ID in your Onboard Chains array: ".concat(e)):new Error("".concat(e))})),Gm=aa.array().items(Vm),Km=aa.object({label:aa.string(),icon:aa.string(),provider:Um,instance:Um,accounts:Gm,chains:aa.array().items(Fm)}).required().error(new Error("wallet must be defined")),Zm=aa.array().items(Km),Ym=aa.object({name:aa.string().required(),url:aa.string().uri().required()}),Jm=aa.object({version:aa.string().required(),termsUrl:aa.string().uri(),privacyUrl:aa.string().uri()}),Qm=aa.object({name:aa.string().required(),description:aa.string().required(),icon:aa.string(),logo:aa.string(),gettingStartedGuide:aa.string(),email:aa.string(),appUrl:aa.string(),explore:aa.string(),recommendedInjectedWallets:aa.array().items(Ym),agreement:Jm}),Xm=aa.object({name:aa.string(),description:aa.string(),icon:aa.string(),logo:aa.string(),gettingStartedGuide:aa.string(),email:aa.string(),appUrl:aa.string(),explore:aa.string(),recommendedInjectedWallets:aa.array().items(Ym),agreement:Jm});aa.object({label:aa.string().required(),getInfo:aa.function().arity(1).required(),getInterface:aa.function().arity(1).required()});var eg=aa.array().items(aa.function()).required(),tg=aa.string(),rg=aa.string().valid("topRight","bottomRight","bottomLeft","topLeft"),ng=[70,80,90,95,99],ig=aa.object({transactionHandler:aa.function(),enabled:aa.boolean(),position:rg,replacement:aa.object({gasPriceProbability:aa.object({speedup:(fe=aa.number()).valid.apply(fe,ng),cancel:(he=aa.number()).valid.apply(he,ng)})})}),ag=aa.object({desktop:ig,mobile:ig}),og=aa.object({enabled:aa.boolean(),position:rg,minimal:aa.boolean(),containerElement:aa.string(),hideTransactionProtectionBtn:aa.boolean(),transactionProtectionInfoLink:aa.string()}),sg=aa.object({enabled:aa.boolean(),position:rg,expanded:aa.boolean(),minimal:aa.boolean(),hideTransactionProtectionBtn:aa.boolean(),transactionProtectionInfoLink:aa.string(),containerElement:aa.string()}),ug=aa.object({showSidebar:aa.boolean(),disableClose:aa.boolean(),autoConnectLastWallet:aa.boolean(),autoConnectAllPreviousWallet:aa.boolean(),iDontHaveAWalletLink:aa.string(),wheresMyWalletLink:aa.string(),removeWhereIsMyWalletWarning:aa.boolean(),removeIDontHaveAWalletInfoLink:aa.boolean(),disableUDResolution:aa.boolean()}),cg=aa.object({accountCenter:aa.string(),connectModal:aa.string()}),lg=aa.object({"--w3o-background-color":aa.string(),"--w3o-font-family":aa.string(),"--w3o-foreground-color":aa.string(),"--w3o-text-color":aa.string(),"--w3o-border-color":aa.string(),"--w3o-action-color":aa.string(),"--w3o-border-radius":aa.string()}),fg=aa.string().valid("default","dark","light","system"),hg=aa.alternatives().try(lg,fg),dg=aa.object({wallets:eg,chains:Wm.required(),appMetadata:Qm,i18n:aa.object().unknown(),apiKey:aa.string(),accountCenter:aa.object({desktop:og,mobile:og,hideTransactionProtectionBtn:aa.boolean(),transactionProtectionInfoLink:aa.string()}),notify:[ag,ig],gas:aa.object({get:aa.function().required(),stream:aa.function().required()}),connect:ug,containerElements:cg,transactionPreview:aa.object({patchProvider:aa.function().required(),init:aa.function().required(),previewTransaction:aa.function()}),theme:hg,disableFontDownload:aa.boolean(),unstoppableResolution:aa.function()}),pg=aa.object({autoSelect:aa.alternatives().try(aa.object({label:aa.string().required(),disableModals:aa.boolean()}),aa.string())}),vg=aa.object({label:aa.string().required()}).required(),mg=aa.object({address:aa.string().required(),icon:aa.string().optional()}),gg=aa.object({chainId:Ma.required(),chainNamespace:ja,wallet:aa.string(),rpcUrl:aa.string(),label:aa.string(),token:aa.string(),protectedRpcUrl:aa.string(),secondaryTokens:aa.array().max(5).items(mg).optional()}),yg=aa.object({key:aa.string().required(),type:aa.string().allow("pending","error","success","hint"),eventCode:aa.string(),message:aa.string().required(),id:aa.string().required(),autoDismiss:aa.number(),onClick:aa.function(),link:aa.string()}),bg=aa.object({sendTransaction:aa.function(),estimateGas:aa.function(),gasPrice:aa.function(),balance:aa.alternatives(aa.string(),aa.number()),txDetails:aa.object({value:aa.alternatives(aa.string(),aa.number()),to:aa.string(),from:aa.string()}),txApproveReminderTimeout:aa.number()}),wg=aa.object({key:aa.string(),type:aa.string().allow("pending","error","success","hint"),eventCode:aa.string(),message:aa.string(),id:aa.string(),autoDismiss:aa.number(),onClick:aa.function(),link:aa.string()}),_g=aa.object({id:aa.string().required(),key:aa.string().required(),type:aa.string().allow("pending","error","success","hint").required(),eventCode:aa.string().required(),message:aa.string().required(),autoDismiss:aa.number().required(),network:aa.string().required(),startTime:aa.number(),onClick:aa.function(),link:aa.string()}),kg=aa.any().allow(yg,aa.boolean().allow(!1));function xg(e){return Pa(Km,e)}function Eg(e,t){return Pa(aa.string().required().label(t||"value"),e)}function Ag(e){return Pa(gg,e)}function Sg(e){return Pa(tg,e)}function Og(e){return Pa(ig,e)}function Ig(e){return Pa(_g,e)}function Rg(e){return Pa(wg,e)}function Cg(e){return Pa(hg,e)}function Ng(e){var t=Ag({label:e.label,token:e.token,rpcUrl:e.rpcUrl,chainId:e.id,chainNamespace:e.namespace});if(t)throw t;Wp({type:Rp,payload:e})}function Pg(e){var t=xg(e);if(t)throw console.error(t),t;Wp({type:Np,payload:e})}function Mg(e,t){var r=xg(t);if(r)throw console.error(r),r;Wp({type:Pp,payload:l({id:e},t)})}function jg(e){var t=Eg(e,"wallet id");if(t)throw t;Wp({type:Mp,payload:{id:e}})}function Tg(e,t){var r=xg(e)||t&&Eg(t,"address");if(r)throw r;if(t){var n=e.accounts.find((function(e){return e.address===t}));n&&(e.accounts=[n].concat(w(e.accounts.filter((function(e){return e.address!==n.address})))))}Pg(e)}function Lg(e,t,r){Wp({type:jp,payload:l({id:e,address:t},r)})}function $g(e){var t=Pa(sg,e);if(t)throw t;Wp({type:Tp,payload:e})}function Dg(e){var t=Pa(ug,e);if(t)throw t;Wp({type:Lp,payload:e})}function Ug(e){var t=Og(e);if(t)throw t;Wp({type:Up,payload:e})}function Fg(e){var t=Ig(e);if(t)throw t;Wp({type:Fp,payload:e})}function Bg(e){var t=Pa(yg,e);if(t)throw t;Wp({type:Fp,payload:e})}function qg(e){if("string"!=typeof e)throw new Error("Notification id must be of type string");Wp({type:Bp,payload:e})}function zg(e){var t=Pa(eg,e);if(t)throw t;var r,n=function(e){var t=xp.device;return e.reduce((function(e,r){var n=r({device:t});return n&&e.push.apply(e,w(Array.isArray(n)?n:[n])),e}),[])}(e),i=(r=n).filter((function(e,t){return e&&r.findIndex((function(t){return t&&t.label===e.label}))===t}));Wp({type:$p,payload:i})}function Hg(e){var t=Pa(Zm,e);if(t)throw t;Wp({type:qp,payload:e})}function Vg(e){var t=Cg(e);if(t)throw t;var r=Tm(e);r&&$m(r)}function Wg(e){var t=Pa(Xm,e);if(t)throw t;Wp({type:zp,payload:e})}function Gg(e){return Kg.apply(this,arguments)}function Kg(){return Kg=u(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}if(!(r=Pa(pg,t))){e.next=4;break}throw r;case 4:if(n=Gp.get(),n.chains.length){e.next=7;break}throw new Error("At least one chain must be set before attempting to connect a wallet");case 7:if(!(i=(t||{autoSelect:{label:"",disableModals:!1}}).autoSelect)||"string"!=typeof i&&!i.label){e.next=11;break}return e.next=11,bp(50);case 11:return Gp.get().walletModules.length||zg(xp.initialWalletInit),Rm.next({autoSelect:"string"==typeof i?{label:i,disableModals:!1}:i,inProgress:!0}),a=Rm.pipe(Ht((function(e){var t=e.inProgress,r=e.actionRequired;return!1===t&&!r})),nr(Nm),Yt(1)),e.abrupt("return",It(a));case 15:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}var Zg=s("C",{connect:{selectingWallet:{header:"Available Wallets",sidebar:{heading:"",subheading:"Connect your wallet",paragraph:"Connecting your wallet is like “logging in” to Web3. Select your wallet from the options to get started.",IDontHaveAWallet:"I don't have a wallet"},recommendedWalletsPart1:"{app} only supports",recommendedWalletsPart2:"on this platform. Please use or install one of the supported wallets to continue",installWallet:"You do not have any wallets installed that {app} supports, please use a supported wallet",agreement:{agree:"I agree to the",terms:"Terms & Conditions",and:"and",privacy:"Privacy Policy"},whyDontISeeMyWallet:"Why don't I see my wallet?",learnMore:"Click here to learn more"},connectingWallet:{header:"{connectionRejected, select, false {Connecting to {wallet}...} other {Connection Rejected}}",sidebar:{subheading:"Approve Connection",paragraph:"Please approve the connection in your wallet and authorize access to continue."},mainText:"Connecting...",paragraph:"Make sure to select all accounts that you want to grant access to.",previousConnection:"{wallet} already has a pending connection request, please open the {wallet} app to login and connect.",rejectedText:"Connection Rejected!",rejectedCTA:"Click here to try again",primaryButton:"Back to wallets"},connectedWallet:{header:"Connection Successful",sidebar:{subheading:"Connection Successful!",paragraph:"Your wallet is now connected to {app}"},mainText:"Connected"}},modals:{actionRequired:{heading:"Action required in {wallet}",paragraph:"Please switch the active account in your wallet.",linkText:"Learn more.",buttonText:"Okay"},switchChain:{heading:"Switch Chain",paragraph1:"{app} requires that you switch your wallet to the {nextNetworkName} network to continue.",paragraph2:"*Some wallets may not support changing networks. If you can not change networks in your wallet you may consider switching to a different wallet."},confirmDisconnectAll:{heading:"Disconnect all Wallets",description:"Are you sure that you would like to disconnect all your wallets?",confirm:"Confirm",cancel:"Cancel"},confirmTransactionProtection:{heading:"Enable Transaction Protection",description:"Protect RPC endpoints hide your transaction from front-running and sandwich bots.",link:"Learn more",enable:"Enable",dismiss:"Dismiss"}},accountCenter:{connectAnotherWallet:"Connect another Wallet",disconnectAllWallets:"Disconnect all Wallets",currentNetwork:"Current Network",enableTransactionProtection:"Enable Transaction Protection",appInfo:"App Info",learnMore:"Learn More",gettingStartedGuide:"Getting Started Guide",smartContracts:"Smart Contract(s)",explore:"Explore",poweredBy:"powered by",addAccount:"Add Account",setPrimaryAccount:"Set Primary Account",disconnectWallet:"Disconnect Wallet",copyAddress:"Copy Wallet address"},notify:{transaction:{txRequest:"Your transaction is waiting for you to confirm",nsfFail:"You have insufficient funds for this transaction",txUnderpriced:"The gas price for your transaction is too low, try a higher gas price",txRepeat:"This could be a repeat transaction",txAwaitingApproval:"You have a previous transaction waiting for you to confirm",txConfirmReminder:"Please confirm your transaction to continue",txSendFail:"You rejected the transaction",txSent:"Your transaction has been sent to the network",txStallPending:"Your transaction has stalled before it was sent, please try again",txStuck:"Your transaction is stuck due to a nonce gap",txPool:"Your transaction has started",txStallConfirmed:"Your transaction has stalled and hasn't been confirmed",txSpeedUp:"Your transaction has been sped up",txCancel:"Your transaction is being canceled",txFailed:"Your transaction has failed",txConfirmed:"Your transaction has succeeded",txError:"Oops something went wrong, please try again",txReplaceError:"There was an error replacing your transaction, please try again"},watched:{txPool:"Your account is {verb} {formattedValue} {asset} {preposition} {counterpartyShortened}",txSpeedUp:"Transaction for {formattedValue} {asset} {preposition} {counterpartyShortened} has been sped up",txCancel:"Transaction for {formattedValue} {asset} {preposition} {counterpartyShortened} has been canceled",txConfirmed:"Your account successfully {verb} {formattedValue} {asset} {preposition} {counterpartyShortened}",txFailed:"Your account failed to {verb} {formattedValue} {asset} {preposition} {counterpartyShortened}",txStuck:"Your transaction is stuck due to a nonce gap"},time:{minutes:"min",seconds:"sec"}}}),Yg={};function Jg(e){return e?(Yg[e.rpcUrl]||(Yg[e.rpcUrl]=new Gd(e.providerConnectionInfo&&e.providerConnectionInfo.url?e.providerConnectionInfo:e.rpcUrl)),Yg[e.rpcUrl]):null}function Qg(e){return e.request({method:"eth_requestAccounts"})}function Xg(e){return e.request({method:"eth_chainId"})}function ey(e){var t=e.provider,r=e.disconnected$;return zt((function(e){t.on("accountsChanged",e)}),(function(e){t.removeListener("accountsChanged",e)})).pipe(rr(r))}function ty(e,t){var r=Im.pipe(Ht((function(e){return e===t})),Vt(1)),n=ey({provider:e,disconnected$:r}).pipe(Jt());n.subscribe(function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h,d,p,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_(r,1),i=n[0],e.prev=1,e.next=4,hy(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.warn("Web3Onboard: Error whilst trying to sync connected accounts:",e.t0);case 9:if(i){e.next=12;break}return Sy({label:t}),e.abrupt("return");case 12:if(a=Gp.get(),s=a.wallets,u=s.find((function(e){return e.label===t})),c=u.accounts,l=Ua(c,(function(e){return e.address===i})),f=_(l,2),h=_(f[0],1),d=h[0],p=f[1],Mg(t,{accounts:[d||{address:i,ens:null,uns:null,balance:null}].concat(w(p))}),!Gp.get().notify.enabled||d){e.next=21;break}return e.next=19,ky();case 19:if(v=e.sent){m=Gp.get().wallets.find((function(e){return e.label===t}));try{v.subscribe({id:i,chainId:m.chains[0].id,type:"account"})}catch(o){}}case 21:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),n.pipe(tr(function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h,d,p,v,m,g,y,b,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_(r,1),i=n[0]){e.next=3;break}return e.abrupt("return");case 3:return a=Gp.get(),s=a.wallets,u=a.chains,c=s.find((function(e){return e.label===t})),l=c.chains,f=c.accounts,h=_(l,1),d=h[0],p=u.find((function(e){var t=e.namespace,r=e.id;return"evm"===t&&r===d.id})),v=oy(i,p),m=yy(c,i,p),g=f.find((function(e){return e.address===i})),y=u.find((function(e){return e.id===dp(d.id)})),b=g&&g.ens?Promise.resolve(g.ens):y?ry(i,y):Promise.resolve(null),w=g&&g.uns?Promise.resolve(g.uns):iy(i,p),e.abrupt("return",Promise.all([Promise.resolve(i),v,b,w,m]));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).subscribe((function(e){if(e){var r=_(e,5),n=r[0],i=r[1],a=r[2],o=r[3],s=r[4];Lg(t,n,{balance:i,ens:a,uns:o,secondaryTokens:s})}}));var i=function(e){var t=e.provider,r=e.disconnected$;return zt((function(e){t.on("chainChanged",e)}),(function(e){t.removeListener("chainChanged",e)})).pipe(rr(r))}({provider:e,disconnected$:r}).pipe(Jt());i.subscribe(function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Gp.get(),i=n.wallets,a=i.find((function(e){return e.label===t})),s=a.chains,u=a.accounts,c=_(s,1),l=c[0],r!==l.id){e.next=5;break}return e.abrupt("return");case 5:if(!Gp.get().notify.enabled){e.next=10;break}return e.next=8,ky();case 8:(f=e.sent)&&(h=Gp.get().wallets.find((function(e){return e.label===t})),h.accounts.forEach((function(e){var t=e.address;f.unsubscribe({id:t,chainId:h.chains[0].id,timeout:6e4})})),h.accounts.forEach((function(e){var t=e.address;try{f.subscribe({id:t,chainId:r,type:"account"})}catch(n){}})));case 10:d=u.map((function(e){return{address:e.address,ens:null,uns:null,balance:null}})),Mg(t,{chains:[{namespace:"evm",id:r}],accounts:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.pipe(tr(function(){var e=u(o().mark((function e(r){var n,i,a,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gp.get(),i=n.wallets,a=n.chains,s=i.find((function(e){return e.label===t})),c=s.accounts,l=a.find((function(e){var t=e.namespace,n=e.id;return"evm"===t&&n===r})),e.abrupt("return",Promise.all(c.map(function(){var e=u(o().mark((function e(t){var n,i,u,c,f,h,d,p,v,m,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,i=oy(n,l),u=yy(s,n,l),c=a.find((function(e){return e.id===dp(r)})),f=c?ry(n,c):Promise.resolve(null),h=dp(r)?iy(n,c):Promise.resolve(null),e.next=8,Promise.all([i,f,h,u]);case 8:return d=e.sent,p=_(d,4),v=p[0],m=p[1],g=p[2],y=p[3],e.abrupt("return",{address:n,balance:v,ens:m,uns:g,secondaryTokens:y});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).subscribe((function(e){e&&Mg(t,{accounts:e})})),r.subscribe((function(){e.disconnect&&e.disconnect()}))}function ry(e,t){return ny.apply(this,arguments)}function ny(){return(ny=u(o().mark((function e(t,r){var n,i,a,s,u,c,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return n=Jg(r),e.prev=3,e.next=6,n.lookupAddress(t);case 6:if(i=e.sent,a=null,!i){e.next=21;break}return e.next=11,n.getResolver(i);case 11:if(!(s=e.sent)){e.next=21;break}return e.next=15,Promise.all([s.getContentHash(),s.getAvatar()]);case 15:u=e.sent,c=_(u,2),l=c[0],f=c[1],h=s.getText.bind(s),a={name:i,avatar:f,contentHash:l,getText:h};case 21:return e.abrupt("return",a);case 24:return e.prev=24,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",null);case 28:case"end":return e.stop()}}),e,null,[[3,24]])})))).apply(this,arguments)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return(ay=u(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=xp.unstoppableResolution)&&js(t)&&r){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,n(t);case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function oy(e,t){return sy.apply(this,arguments)}function sy(){return sy=u(o().mark((function e(t,r){var n,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return n=Gp.get(),i=n.wallets,e.prev=3,a=i.find((function(e){return!!e.provider})),s=a.provider,e.next=8,s.request({method:"eth_getBalance",params:[t,"latest"]});case 8:return u=e.sent,e.abrupt("return",u?b({},r.token||"eth",Ra(u)):null);case 12:return e.prev=12,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),sy.apply(this,arguments)}function uy(e,t){return e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}function cy(e,t){return e.request({method:"wallet_addEthereumChain",params:[{chainId:t.id,chainName:t.label,nativeCurrency:{name:t.label,symbol:t.token,decimals:18},rpcUrls:[t.publicRpcUrl||t.rpcUrl],blockExplorerUrls:t.blockExplorerUrl?[t.blockExplorerUrl]:void 0}]})}function ly(e){return fy.apply(this,arguments)}function fy(){return(fy=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.request({method:"wallet_getPermissions"});case 3:return r=e.sent,e.abrupt("return",Array.isArray(r)?r:[]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function hy(e){return dy.apply(this,arguments)}function dy(){return dy=u(o().mark((function e(t){var r,n,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gp.get().wallets.find((function(e){return e.label===t})),e.next=3,ly(r.provider);case 3:n=e.sent,(i=n.find((function(e){return"eth_accounts"===e.parentCapability})))&&(a=i.caveats.find((function(e){return"restrictReturnedAccounts"===e.type}))||{value:null},(s=a.value)&&(u=r.accounts.filter((function(e){var t=e.address;return s.includes(t)})),Mg(r.label,l(l({},r),{},{accounts:u}))));case 6:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e){return vy.apply(this,arguments)}function vy(){return vy=u(o().mark((function e(t){var r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gp.get(),n=r.wallets,i=r.chains,e.next=3,Promise.all(n.map(function(){var e=u(o().mark((function e(r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.find((function(e){return e.id===r.chains[0].id})),e.next=3,Promise.all(r.accounts.map(function(){var e=u(o().mark((function e(i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yy(r,i.address,n);case 2:if(a=e.sent,t&&!t.some((function(e){return e.toLowerCase()===i.address.toLowerCase()}))){e.next=8;break}return e.next=6,oy(i.address,n);case 6:return s=e.sent,e.abrupt("return",l(l({},i),{},{balance:s,secondaryTokens:a}));case 8:return e.abrupt("return",l(l({},i),{},{secondaryTokens:a}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent,e.abrupt("return",l(l({},r),{},{accounts:a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:Hg(e.sent);case 5:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}var my,gy,yy=function(){var e=u(o().mark((function e(t,r,n){var i,a,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=n.rpcUrl,n.secondaryTokens&&n.secondaryTokens.length&&i){e.next=5;break}return e.abrupt("return");case 5:return a=new Jd(t.provider,"any"),s=a.getSigner(),c=[{inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}],e.next=10,Promise.all(n.secondaryTokens.map(function(){var e=u(o().mark((function e(t){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Nh(t.address,c,s),e.next=4,n.balanceOf(r);case 4:return i=e.sent,e.next=7,n.symbol();case 7:return a=e.sent,e.abrupt("return",{name:a,balance:Ra(i.toHexString()),icon:t.icon});case 11:e.prev=11,e.t0=e.catch(0),console.error("There was an error fetching balance and/or symbol \n          for token contract: ".concat(t.address," - ").concat(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function by(e){var t=Gp.get().notify.transactionHandler(e),r=Pa(kg,t);if(r)throw r;"txConfirmed"===e.eventCode&&py([e.watchedAddress,e.counterparty]);var n=function(e,t){var r=e.id,n=e.hash,i=e.startTime,a=e.eventCode,o=e.direction,s=e.counterparty,u=e.value,c=e.asset,f=e.network,h=wy(a),d="".concat(r||n,"-").concat("object"==typeof t&&t.eventCode||a),p=s&&s.substring(0,4)+"..."+s.substring(s.length-4),v=new Ia(u||0).div(new Ia("1000000000000000000")).toString(10),m=s&&u?{messageId:"notify.watched['".concat(a,"']"),values:{verb:"txConfirmed"===a?"incoming"===o?"received":"sent":"incoming"===o?"receiving":"sending",formattedValue:v,preposition:"incoming"===o?"from":"to",counterpartyShortened:p,asset:c}}:{messageId:"notify.transaction['".concat(a,"']"),values:{formattedValue:v,asset:c}},g=function(e){var t;return br(e,(function(e){return t=e}))(),t}(ra),y=Zg.notify[s?"watched":"transaction"][a],b=g(m.messageId,{values:m.values,default:y}),w={id:r||n,type:h,key:d,network:f,startTime:i||Date.now(),eventCode:a,message:b,autoDismiss:_y("object"==typeof t&&t.type||h)};"object"==typeof t&&(w=l(l({},w),t));return w}(e,t);Fg(n),function(e){var t=Pm.getValue(),r=t.findIndex((function(t){return t.hash===e.hash}));if(-1!==r){var n=t.map((function(t,n){return n===r?e:t}));Pm.next(n)}else Pm.next([].concat(w(t),[e]))}(e)}function wy(e){switch(e){case"txSent":case"txPool":return"pending";case"txSpeedUp":case"txCancel":case"txRequest":case"txRepeat":case"txAwaitingApproval":case"txConfirmReminder":case"txStuck":default:return"hint";case"txError":case"txSendFail":case"txFailed":case"txDropped":case"nsfFail":case"txUnderpriced":return"error";case"txConfirmed":return"success"}}function _y(e){switch(e){case"success":case"hint":return 4e3;default:return 0}}function ky(){return xy.apply(this,arguments)}function xy(){return(xy=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xp.apiKey){e.next=3;break}return e.abrupt("return",null);case 3:if(my){e.next=10;break}return e.next=6,S((function(){return c.import("./index-legacy-d24038f0.js")}),void 0,c.meta.url);case 6:t=e.sent,r=t.default,(my=r.multichain({apiKey:xp.apiKey})).transactions$.subscribe(by);case 10:return e.abrupt("return",my);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ey(){return Ay.apply(this,arguments)}function Ay(){return(Ay=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xp.apiKey){e.next=3;break}return e.abrupt("return",null);case 3:if(gy){e.next=10;break}return e.next=6,S((function(){return c.import("./index-legacy-d24038f0.js")}),void 0,c.meta.url);case 6:return t=e.sent,r=t.default,gy=new r({dappId:xp.apiKey,networkId:1}),e.abrupt("return",gy);case 10:return e.abrupt("return",gy);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sy(e){return Oy.apply(this,arguments)}function Oy(){return Oy=u(o().mark((function e(t){var r,n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Pa(vg,t))){e.next=3;break}throw r;case 3:if(n=t.label,!Gp.get().notify.enabled){e.next=9;break}return e.next=7,ky();case 7:(i=e.sent)&&(a=Gp.get().wallets.find((function(e){return e.label===n})),a.accounts.forEach((function(e){var t=e.address;i.unsubscribe({id:t,chainId:a.chains[0].id,timeout:6e4})})));case 9:return Im.next(n),jg(n),s=JSON.parse(wp(Sp.LAST_CONNECTED_WALLET)),Array.isArray(s)&&s.indexOf(n)>=0&&_p(Sp.LAST_CONNECTED_WALLET,JSON.stringify(s.filter((function(e){return e!==n})))),"string"==typeof s&&s===n&&kp(Sp.LAST_CONNECTED_WALLET),e.abrupt("return",Gp.get().wallets);case 15:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Iy(e){return Ry.apply(this,arguments)}function Ry(){return Ry=u(o().mark((function e(t){var r,n,i,a,s,u,c,l,f,h,d,p,v,m,g,y,b,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Ag(t))){e.next=3;break}throw r;case 3:if(n=Gp.get(),i=n.wallets,a=n.chains,s=t.chainId,u=t.chainNamespace,c=void 0===u?"evm":u,l=t.wallet,f=t.rpcUrl,h=t.label,d=t.token,p=mp(s),v=a.find((function(e){var t=e.namespace,r=e.id;return t===c&&r.toLowerCase()===p.toLowerCase()})),v){e.next=9;break}throw new Error("Chain with chainId: ".concat(s," and chainNamespace: ").concat(c," has not been set and must be added when Onboard is initialized."));case 9:if(m=l?i.find((function(e){return e.label===l})):i[0]){e.next=12;break}throw new Error(l?"Wallet with label ".concat(l," is not connected"):"A wallet must be connected before a chain can be set");case 12:if(g=_(m.chains,1),(y=g[0]).namespace!==c||y.id!==p){e.next=15;break}return e.abrupt("return",!0);case 15:return e.prev=15,e.next=18,uy(m.provider,p);case 18:return e.abrupt("return",!0);case 21:if(e.prev=21,e.t0=e.catch(15),b=e.t0.code,w=Cm.pipe(Ht((function(e){return null===e})),Rt((function(){return!1}))),b!==Oa.CHAIN_NOT_ADDED&&b!==Oa.UNRECOGNIZED_CHAIN_ID){e.next=28;break}return(f||h||d)&&(f&&(v.rpcUrl=f),h&&(v.label=h),d&&(v.token=d),Ng(v)),e.abrupt("return",Cy(m,v,w,p));case 28:if(b!==Oa.UNSUPPORTED_METHOD){e.next=31;break}return Cm.next({chain:v}),e.abrupt("return",It(w));case 31:return e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e,null,[[15,21]])}))),Ry.apply(this,arguments)}var Cy=function(){var e=u(o().mark((function e(t,r,n,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cy(t.provider,r);case 3:return e.next=5,uy(t.provider,i);case 5:return e.abrupt("return",!0);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.code!==Oa.ACCOUNT_ACCESS_REJECTED){e.next=13;break}return e.abrupt("return",!1);case 13:return Cm.next({chain:r}),e.abrupt("return",It(n));case 15:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n,i){return e.apply(this,arguments)}}();function Ny(e){yv(e,"svelte-1ubf722",".close-button.svelte-1ubf722.svelte-1ubf722{position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;height:2rem;width:2rem;border-radius:2rem;cursor:pointer;color:var(--onboard-close-button-color, inherit)}.close-button.svelte-1ubf722.svelte-1ubf722:hover::before{opacity:0.2}.close-button.svelte-1ubf722:hover .svg-box.svelte-1ubf722{opacity:1}.close-button.svelte-1ubf722.svelte-1ubf722::before{content:'';position:absolute;height:inherit;width:inherit;opacity:0.1;background:currentColor;transition:300ms ease-in-out opacity}.svg-box.svelte-1ubf722.svelte-1ubf722{position:absolute;height:1.5rem;width:1.5rem;opacity:0.6;transition:300ms ease-in-out opacity}")}function Py(e){var t,r;return{c:function(){t=Av("div"),Nv(r=Av("div"),"class","svg-box svelte-1ubf722"),Nv(t,"class","close-button svelte-1ubf722")},m:function(e,n){kv(e,t,n),gv(t,r),r.innerHTML='\n  <svg width="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="currentColor"/>\n  </svg>\n'},p:Kp,i:Kp,o:Kp,d:function(e){e&&xv(t)}}}var My=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,null,Py,tv,{},Ny),n}return O(r)}(Sm);function jy(e){var t=e-1;return t*t*t+1}function Ty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.delay,n=void 0===r?0:r,i=t.duration,a=void 0===i?400:i,o=t.easing,s=void 0===o?Yp:o,u=+getComputedStyle(e).opacity;return{delay:n,duration:a,easing:s,css:function(e){return"opacity: ".concat(e*u)}}}function Ly(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.delay,n=void 0===r?0:r,i=t.duration,a=void 0===i?400:i,o=t.easing,s=void 0===o?jy:o,u=t.axis,c=void 0===u?"y":u,l=getComputedStyle(e),f=+l.opacity,h="y"===c?"height":"width",d=parseFloat(l[h]),p="y"===c?["top","bottom"]:["left","right"],v=p.map((function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))})),m=parseFloat(l["padding".concat(v[0])]),g=parseFloat(l["padding".concat(v[1])]),y=parseFloat(l["margin".concat(v[0])]),b=parseFloat(l["margin".concat(v[1])]),w=parseFloat(l["border".concat(v[0],"Width")]),_=parseFloat(l["border".concat(v[1],"Width")]);return{delay:n,duration:a,easing:s,css:function(e){return"overflow: hidden;"+"opacity: ".concat(Math.min(20*e,1)*f,";")+"".concat(h,": ").concat(e*d,"px;")+"padding-".concat(p[0],": ").concat(e*m,"px;")+"padding-".concat(p[1],": ").concat(e*g,"px;")+"margin-".concat(p[0],": ").concat(e*y,"px;")+"margin-".concat(p[1],": ").concat(e*b,"px;")+"border-".concat(p[0],"-width: ").concat(e*w,"px;")+"border-".concat(p[1],"-width: ").concat(e*_,"px;")}}}function $y(e){yv(e,"svelte-baitaa","section.svelte-baitaa{top:0;left:0;pointer-events:none;z-index:var(--onboard-modal-z-index, var(--modal-z-index))}.background.svelte-baitaa{background:var(--onboard-modal-backdrop, var(--modal-backdrop));pointer-events:all}.full-screen-background.svelte-baitaa{width:100vw;height:100vh}.max-height.svelte-baitaa{max-height:calc(100vh - 2rem)}.modal-position.svelte-baitaa{top:var(--onboard-modal-top, var(--modal-top));bottom:var(--onboard-modal-bottom, var(--modal-bottom));left:var(--onboard-modal-left, var(--modal-left));right:var(--onboard-modal-right, var(--modal-right))}.modal-overflow.svelte-baitaa{overflow:hidden}.modal-styling.svelte-baitaa{--border-radius:var(\n      --onboard-modal-border-radius,\n      var(--w3o-border-radius, 1rem)\n    );border-radius:var(--border-radius) var(--border-radius) 0 0;box-shadow:var(--onboard-modal-box-shadow, var(--box-shadow-0));max-width:100vw}.modal.svelte-baitaa{overflow-y:auto;background:var(--onboard-modal-background, white);color:var(--onboard-modal-color, initial)}.width-100.svelte-baitaa{width:100%}.modal-container-mobile.svelte-baitaa{bottom:0}@media all and (min-width: 768px){.modal-styling.svelte-baitaa{border-radius:var(--border-radius)}.modal-container-mobile.svelte-baitaa{bottom:unset;margin:1rem}.width-100.svelte-baitaa{width:unset}}")}function Dy(e){var t,r,n,i,a,o,s,u,c,l,f=e[3].default,h=iv(f,e,e[2],null);return{c:function(){t=Av("section"),r=Av("div"),n=Av("div"),i=Av("div"),a=Av("div"),o=Av("div"),h&&h.c(),Nv(o,"class","modal relative svelte-baitaa"),Nv(a,"class","modal-overflow modal-styling relative flex justify-center svelte-baitaa"),Nv(a,"style","".concat(e[1]?"max-width: 100%;":"")),Nv(i,"class","flex relative max-height svelte-baitaa"),jv(i,"width-100",e[1]),Nv(n,"class","modal-container-mobile modal-position flex svelte-baitaa"),jv(n,"absolute",!e[1]),jv(n,"width-100",e[1]),Nv(r,"class","background flex items-center justify-center relative svelte-baitaa"),jv(r,"full-screen-background",!e[1]),Nv(t,"class","svelte-baitaa"),jv(t,"fixed",!e[1])},m:function(s,f){kv(s,t,f),gv(t,r),gv(r,n),gv(n,i),gv(i,a),gv(a,o),h&&h.m(o,null),u=!0,c||(l=[Rv(i,"click",Cv(e[4])),Rv(r,"click",(function(){ev(e[0])&&e[0].apply(this,arguments)}))],c=!0)},p:function(t,r){var n=_(r,1)[0];e=t,h&&h.p&&(!u||4&n)&&sv(h,f,e,e[2],u?ov(f,e[2],n,null):uv(e[2]),null)},i:function(e){u||(hm(h,e),Xv((function(){u&&(s||(s=mm(t,Ty,{},!0)),s.run(1))})),u=!0)},o:function(e){dm(h,e),s||(s=mm(t,Ty,{},!1)),s.run(0),u=!1},d:function(e){e&&xv(t),h&&h.d(e),e&&s&&s.end(),c=!1,Xp(l)}}}function Uy(e,t,r){var n=t.$$slots,i=void 0===n?{}:n,a=t.$$scope,o=!!xp.containerElements.connectModal,s=document.documentElement;!function(e){Hv().$$.on_mount.push(e)}((function(){o||(s.style.position="sticky",s.style.overflow="hidden")})),Vv((function(){o||(s.style.position="",s.style.removeProperty("overflow"))}));var u=t.close;return e.$$set=function(e){"close"in e&&r(0,u=e.close),"$$scope"in e&&r(2,a=e.$$scope)},[u,o,a,i,function(t){Wv.call(this,e,t)}]}var Fy=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Uy,Dy,tv,{close:0},$y),n}return O(r)}(Sm);function By(e){yv(e,"svelte-tz7ru1",".container.svelte-tz7ru1{padding:var(--onboard-spacing-4, var(--spacing-4));font-size:var(--onboard-font-size-6, var(--font-size-6));line-height:24px}input.svelte-tz7ru1{height:1rem;width:1rem;margin-right:0.5rem}")}function qy(e){var t,r,n,i,a,o,s,u,c,l,f,h,d=e[1]("connect.selectingWallet.agreement.agree")+"",p=e[3]&&function(e){var t,r,n,i=e[1]("connect.selectingWallet.agreement.terms")+"",a=e[4]?" "+e[1]("connect.selectingWallet.agreement.and")+" ":".";return{c:function(){t=Av("a"),r=Sv(i),n=Sv(a),Nv(t,"href",e[3]),Nv(t,"target","_blank")},m:function(e,i){kv(e,t,i),gv(t,r),kv(e,n,i)},p:function(e,t){2&t&&i!==(i=e[1]("connect.selectingWallet.agreement.terms")+"")&&Pv(r,i),2&t&&a!==(a=e[4]?" "+e[1]("connect.selectingWallet.agreement.and")+" ":".")&&Pv(n,a)},d:function(e){e&&xv(t),e&&xv(n)}}}(e),v=e[4]&&function(e){var t,r,n,i=e[1]("connect.selectingWallet.agreement.privacy")+"";return{c:function(){t=Av("a"),r=Sv(i),n=Sv("."),Nv(t,"href",e[4]),Nv(t,"target","_blank")},m:function(e,i){kv(e,t,i),gv(t,r),kv(e,n,i)},p:function(e,t){2&t&&i!==(i=e[1]("connect.selectingWallet.agreement.privacy")+"")&&Pv(r,i)},d:function(e){e&&xv(t),e&&xv(n)}}}(e);return{c:function(){t=Av("div"),r=Av("label"),n=Av("input"),i=Ov(),a=Av("span"),o=Sv(d),s=Ov(),u=Sv(" "),c=Ov(),p&&p.c(),l=Ov(),v&&v.c(),Nv(n,"class"," svelte-tz7ru1"),Nv(n,"type","checkbox"),Nv(r,"class","flex"),Nv(t,"class","container flex items-center svelte-tz7ru1")},m:function(d,m){kv(d,t,m),gv(t,r),gv(r,n),n.checked=e[0],gv(r,i),gv(r,a),gv(a,o),gv(a,s),gv(a,u),gv(a,c),p&&p.m(a,null),gv(a,l),v&&v.m(a,null),f||(h=Rv(n,"change",e[6]),f=!0)},p:function(e,t){1&t&&(n.checked=e[0]),2&t&&d!==(d=e[1]("connect.selectingWallet.agreement.agree")+"")&&Pv(o,d),e[3]&&p.p(e,t),e[4]&&v.p(e,t)},d:function(e){e&&xv(t),p&&p.d(),v&&v.d(),f=!1,h()}}}function zy(e){var t,r=e[5]&&qy(e);return{c:function(){r&&r.c(),t=Iv()},m:function(e,n){r&&r.m(e,n),kv(e,t,n)},p:function(e,t){var n=_(t,1)[0];e[5]&&r.p(e,n)},i:Kp,o:Kp,d:function(e){r&&r.d(e),e&&xv(t)}}}function Hy(e,t,r){var n,i;nv(e,ra,(function(e){return r(1,i=e)}));var a=t.agreed,o=JSON.parse(wp(Sp.TERMS_AGREEMENT)||"{}"),s=o.terms,u=o.privacy,c=o.version,l=Gp.select("appMetadata").pipe(er(Gp.get().appMetadata),Xt(1));nv(e,l,(function(e){return r(7,n=e)}));var f=n&&n.agreement||{termsUrl:"",privacyUrl:"",version:""},h=f.termsUrl,d=f.privacyUrl,p=f.version,v=!!(h&&!s||d&&!u||p&&p!==c);return a=!v,e.$$set=function(e){"agreed"in e&&r(0,a=e.agreed)},e.$$.update=function(){1&e.$$.dirty&&(a?_p(Sp.TERMS_AGREEMENT,JSON.stringify({version:p,terms:!!h,privacy:!!d})):!1===a&&kp(Sp.TERMS_AGREEMENT))},[a,i,l,h,d,v,function(){a=this.checked,r(0,a)}]}s("ac",Fy);var Vy=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Hy,zy,tv,{agreed:0},By),n}return O(r)}(Sm);function Wy(e){yv(e,"svelte-2btye1",".icon.svelte-2btye1{color:var(--onboard-white, var(--white));border-radius:50px;bottom:-0.25rem;right:-0.25rem}.yellow.svelte-2btye1{background:var(--onboard-warning-500, var(--warning-500))}")}function Gy(e){var t,r,n;return{c:function(){Nv(t=Av("div"),"class",r=cv("".concat(e[2]," icon flex absolute"))+" svelte-2btye1"),Nv(t,"style",n="width: ".concat(e[0],"px; height: ").concat(e[0],"px; padding: ").concat(e[0]/6,"px;")),jv(t,"yellow","yellow"===e[1])},m:function(e,r){kv(e,t,r),t.innerHTML='\n  <svg width="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 2L6.01 8L10 12L6.01 16.01L6 22H18V16L14 12L18 8.01V2H6ZM16 16.5V20H8V16.5L12 12.5L16 16.5Z" fill="currenColor"/>\n  </svg>\n'},p:function(e,i){var a=_(i,1)[0];4&a&&r!==(r=cv("".concat(e[2]," icon flex absolute"))+" svelte-2btye1")&&Nv(t,"class",r),1&a&&n!==(n="width: ".concat(e[0],"px; height: ").concat(e[0],"px; padding: ").concat(e[0]/6,"px;"))&&Nv(t,"style",n),6&a&&jv(t,"yellow","yellow"===e[1])},i:Kp,o:Kp,d:function(e){e&&xv(t)}}}function Ky(e,t,r){var n=t.size,i=t.color,a=void 0===i?"yellow":i,o=t.class,s=void 0===o?"test":o;return e.$$set=function(e){"size"in e&&r(0,n=e.size),"color"in e&&r(1,a=e.color),"class"in e&&r(2,s=e.class)},[n,a,s]}var Zy=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Ky,Gy,tv,{size:0,color:1,class:2},Wy),n}return O(r)}(Sm);function Yy(e){yv(e,"svelte-1bikw7k",".icon.svelte-1bikw7k{color:var(--onboard-white, var(--white));border-radius:50px}.green.svelte-1bikw7k{background:var(--onboard-success-600, var(--success-600))}.blue.svelte-1bikw7k{background:var(--onboard-primary-1, var(--primary-1))}")}function Jy(e){var t,r;return{c:function(){Nv(t=Av("div"),"class","icon flex svelte-1bikw7k"),Nv(t,"style",r="width: ".concat(e[0],"px; height: ").concat(e[0],"px; padding: ").concat(e[0]/5,"px;")),jv(t,"green","green"===e[1]),jv(t,"blue","blue"===e[1])},m:function(e,r){kv(e,t,r),t.innerHTML=fp},p:function(e,n){var i=_(n,1)[0];1&i&&r!==(r="width: ".concat(e[0],"px; height: ").concat(e[0],"px; padding: ").concat(e[0]/5,"px;"))&&Nv(t,"style",r),2&i&&jv(t,"green","green"===e[1]),2&i&&jv(t,"blue","blue"===e[1])},i:Kp,o:Kp,d:function(e){e&&xv(t)}}}function Qy(e,t,r){var n=t.size,i=t.color,a=void 0===i?"green":i;return e.$$set=function(e){"size"in e&&r(0,n=e.size),"color"in e&&r(1,a=e.color)},[n,a]}var Xy=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Qy,Jy,tv,{size:0,color:1},Yy),n}return O(r)}(Sm);function eb(e){yv(e,"svelte-1le5672",".loading-container.svelte-1le5672.svelte-1le5672{font-family:inherit;font-size:inherit;color:inherit}span.svelte-1le5672.svelte-1le5672{font-family:inherit;font-size:0.889em;margin-top:1rem}.loading.svelte-1le5672.svelte-1le5672{display:inline-block}.loading.svelte-1le5672 div.svelte-1le5672{font-size:inherit;display:block;position:absolute;border:3px solid;border-radius:50%;animation:svelte-1le5672-bn-loading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:currentColor transparent transparent transparent}.loading.svelte-1le5672 .loading-first.svelte-1le5672{animation-delay:-0.45s}.loading.svelte-1le5672 .loading-second.svelte-1le5672{animation-delay:-0.3s}.loading.svelte-1le5672 .loading-third.svelte-1le5672{animation-delay:-0.15s}@keyframes svelte-1le5672-bn-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function tb(e){var t,r;return{c:function(){t=Av("span"),r=Sv(e[0]),Nv(t,"class","svelte-1le5672")},m:function(e,n){kv(e,t,n),gv(t,r)},p:function(e,t){1&t&&Pv(r,e[0])},d:function(e){e&&xv(t)}}}function rb(e){var t,r,n,i,a,o,s,u,c,l,f,h,d=e[0]&&tb(e);return{c:function(){t=Av("div"),r=Av("div"),n=Av("div"),a=Ov(),o=Av("div"),u=Ov(),c=Av("div"),h=Ov(),d&&d.c(),Nv(n,"class","loading-first svelte-1le5672"),Nv(n,"style",i="height: ".concat(e[1],"; width: ").concat(e[1],";")),Nv(o,"class","loading-second svelte-1le5672"),Nv(o,"style",s="height: ".concat(e[1],"; width: ").concat(e[1],";")),Nv(c,"class","loading-third svelte-1le5672"),Nv(c,"style",l="height: ".concat(e[1],"; width: ").concat(e[1],";")),Nv(r,"class","loading relative svelte-1le5672"),Nv(r,"style",f="height: ".concat(e[1],"; width: ").concat(e[1],";")),Nv(t,"class","loading-container flex flex-column justify-center items-center absolute svelte-1le5672")},m:function(e,i){kv(e,t,i),gv(t,r),gv(r,n),gv(r,a),gv(r,o),gv(r,u),gv(r,c),gv(t,h),d&&d.m(t,null)},p:function(e,a){var u=_(a,1)[0];2&u&&i!==(i="height: ".concat(e[1],"; width: ").concat(e[1],";"))&&Nv(n,"style",i),2&u&&s!==(s="height: ".concat(e[1],"; width: ").concat(e[1],";"))&&Nv(o,"style",s),2&u&&l!==(l="height: ".concat(e[1],"; width: ").concat(e[1],";"))&&Nv(c,"style",l),2&u&&f!==(f="height: ".concat(e[1],"; width: ").concat(e[1],";"))&&Nv(r,"style",f),e[0]?d?d.p(e,u):((d=tb(e)).c(),d.m(t,null)):d&&(d.d(1),d=null)},i:Kp,o:Kp,d:function(e){e&&xv(t),d&&d.d()}}}function nb(e,t,r){var n=t.description,i=void 0===n?"":n,a=t.size,o=void 0===a?"2rem":a;return e.$$set=function(e){"description"in e&&r(0,i=e.description),"size"in e&&r(1,o=e.size)},[i,o]}s("X",Xy);var ib=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,nb,rb,tv,{description:0,size:1},eb),n}return O(r)}(Sm);function ab(e){yv(e,"svelte-i129jl",".icon.svelte-i129jl{height:100%}.border-custom.svelte-i129jl{border:1px solid var(--border-color)}.border-yellow.svelte-i129jl{border:1px solid var(--onboard-warning-500, var(--warning-500))}.border-gray.svelte-i129jl{border:1px solid var(--onboard-gray-400, var(--gray-400))}.border-green.svelte-i129jl{border:1px solid var(--onboard-success-500, var(--success-500))}.border-dark-green.svelte-i129jl{border:1px solid var(--onboard-success-700, var(--success-700))}.border-blue.svelte-i129jl{border:1px solid\n      var(\n        --onboard-wallet-app-icon-border-color,\n        var(--onboard-primary-300, var(--primary-300))\n      )}.border-dark-blue.svelte-i129jl{border:1px solid\n      var(\n        --onboard-wallet-app-icon-border-color,\n        var(--onboard-primary-600, var(--primary-600))\n      )}.border-transparent.svelte-i129jl{border:1px solid transparent}.border-black.svelte-i129jl{border:1px solid var(--onboard-gray-600, var(--gray-600))}.background-gray.svelte-i129jl{background:var(\n      --onboard-wallet-app-icon-background-gray,\n      var(--onboard-gray-500, var(--gray-500))\n    )}.background-light-gray.svelte-i129jl{background:var(\n      --onboard-wallet-app-icon-background-light-gray,\n      var(--onboard-gray-100, var(--gray-100))\n    )}.background-light-blue.svelte-i129jl{background:var(\n      --onboard-wallet-app-icon-background-light-blue,\n      var(--onboard-primary-100, var(--primary-100))\n    )}.background-green.svelte-i129jl{background:var(\n      --onboard-wallet-app-icon-background-green,\n      var(--onboard-success-100, var(--success-100))\n    )}.background-white.svelte-i129jl{background:var(\n      --onboard-wallet-app-icon-background-white,\n      var(--onboard-white, var(--white))\n    )}.background-transparent.svelte-i129jl{background:var(\n      --onboard-wallet-app-icon-background-transparent,\n      transparent\n    )}@keyframes svelte-i129jl-pulse{from{opacity:0}to{opacity:1}}.placeholder-icon.svelte-i129jl{width:100%;height:100%;background:var(--onboard-gray-100, var(--gray-100));border-radius:32px;animation:svelte-i129jl-pulse infinite 750ms alternate ease-in-out}.spinner-container.svelte-i129jl{color:var(--onboard-primary-300, var(--primary-300))}img.svelte-i129jl{max-width:100%;height:auto}.pending-status-icon{z-index:1;fill:white;box-shadow:0px 2px 12px 0px rgba(0, 0, 0, 0.1)}.status-icon-container.svelte-i129jl{right:-0.25rem;bottom:-0.25rem;position:absolute}")}var ob=function(e){return{}},sb=function(e){return{}};function ub(e){var t,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:vb,then:fb,catch:lb,value:13,blocks:[,,,]};return gm(r=e[1],i),{c:function(){t=Iv(),i.block.c()},m:function(e,r){kv(e,t,r),i.block.m(e,i.anchor=r),i.mount=function(){return t.parentNode},i.anchor=t,n=!0},p:function(t,n){e=t,i.ctx=e,2&n&&r!==(r=e[1])&&gm(r,i)||ym(i,e,n)},i:function(e){n||(hm(i.block),n=!0)},o:function(e){for(var t=0;t<3;t+=1){dm(i.blocks[t])}n=!1},d:function(e){e&&xv(t),i.block.d(e),i.token=null,i=null}}}function cb(e){var t,r,n;return r=new ib({props:{size:"2rem"}}),{c:function(){t=Av("div"),_m(r.$$.fragment),Nv(t,"class","spinner-container svelte-i129jl")},m:function(e,i){kv(e,t,i),km(r,t,null),n=!0},p:Kp,i:function(e){n||(hm(r.$$.fragment,e),n=!0)},o:function(e){dm(r.$$.fragment,e),n=!1},d:function(e){e&&xv(t),xm(r)}}}function lb(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function fb(e){var t,r,n,i,a,o;function s(e,t){return 2&t&&(r=null),null==r&&(r=!!pp(e[13])),r?db:hb}var u=s(e,-1),c=u(e),l=e[2]&&e[9]<=Op&&pb();return{c:function(){t=Av("div"),c.c(),i=Ov(),l&&l.c(),a=Iv(),Nv(t,"class","icon flex justify-center items-center svelte-i129jl")},m:function(e,r){kv(e,t,r),c.m(t,null),kv(e,i,r),l&&l.m(e,r),kv(e,a,r),o=!0},p:function(e,r){u===(u=s(e,r))&&c?c.p(e,r):(c.d(1),(c=u(e))&&(c.c(),c.m(t,null))),e[2]&&e[9]<=Op?l?516&r&&hm(l,1):((l=pb()).c(),hm(l,1),l.m(a.parentNode,a)):l&&(lm(),dm(l,1,1,(function(){l=null})),fm())},i:function(e){o||(e&&(n||Xv((function(){(n=vm(t,Ty,{})).start()}))),hm(l),o=!0)},o:function(e){dm(l),o=!1},d:function(e){e&&xv(t),c.d(),e&&xv(i),l&&l.d(e),e&&xv(a)}}}function hb(e){var t,r;return{c:function(){rv((t=Av("img")).src,r=e[13])||Nv(t,"src",r),Nv(t,"alt","logo"),Nv(t,"class","svelte-i129jl")},m:function(e,r){kv(e,t,r)},p:function(e,n){2&n&&!rv(t.src,r=e[13])&&Nv(t,"src",r)},d:function(e){e&&xv(t)}}}function db(e){var t,r,n=e[13]+"";return{c:function(){t=new Tv(!1),r=Iv(),t.a=r},m:function(e,i){t.m(n,e,i),kv(e,r,i)},p:function(e,r){2&r&&n!==(n=e[13]+"")&&t.p(n)},d:function(e){e&&xv(r),e&&t.d()}}}function pb(e){var t,r,n;return r=new Zy({props:{class:"pending-status-icon",size:20}}),{c:function(){t=Av("div"),_m(r.$$.fragment),Nv(t,"class","status-icon-container svelte-i129jl")},m:function(e,i){kv(e,t,i),km(r,t,null),n=!0},i:function(e){n||(hm(r.$$.fragment,e),n=!0)},o:function(e){dm(r.$$.fragment,e),n=!1},d:function(e){e&&xv(t),xm(r)}}}function vb(e){var t;return{c:function(){Nv(t=Av("div"),"class","placeholder-icon svelte-i129jl")},m:function(e,r){kv(e,t,r)},p:Kp,i:Kp,o:Kp,d:function(e){e&&xv(t)}}}function mb(e){var t,r,n,i,a,o,s,u;Xv(e[12]);var c=[cb,ub],l=[];function f(e,t){return e[2]&&e[9]>=Op?0:1}r=f(e),n=l[r]=c[r](e);var h=e[11].status,d=iv(h,e,e[10],sb);return{c:function(){t=Av("div"),n.c(),i=Ov(),d&&d.c(),Nv(t,"class","relative svelte-i129jl"),Nv(t,"style",a="".concat("custom"===e[6]?"background-color: ".concat(e[7]):"","; padding: ").concat(e[3]-1,"px; width: ").concat(e[0],"px; height: ").concat(e[0],"px; border-radius: ").concat(e[8],"px; color: ").concat(e[4],";")),jv(t,"border-custom","custom"===e[5]),jv(t,"border-yellow","yellow"===e[5]),jv(t,"border-gray","gray"===e[5]),jv(t,"border-green","green"===e[5]),jv(t,"border-dark-green","darkGreen"===e[5]),jv(t,"border-blue","blue"===e[5]),jv(t,"border-dark-blue","darkBlue"===e[5]),jv(t,"border-transparent","transparent"===e[5]),jv(t,"border-black","black"===e[5]),jv(t,"background-gray","gray"===e[6]),jv(t,"background-light-gray","lightGray"===e[6]),jv(t,"background-light-blue","lightBlue"===e[6]),jv(t,"background-green","green"===e[6]),jv(t,"background-white","white"===e[6]),jv(t,"background-transparent","transparent"===e[6])},m:function(n,a){kv(n,t,a),l[r].m(t,null),gv(t,i),d&&d.m(t,null),o=!0,s||(u=Rv(window,"resize",e[12]),s=!0)},p:function(e,s){var u=_(s,1)[0],p=r;(r=f(e))===p?l[r].p(e,u):(lm(),dm(l[p],1,1,(function(){l[p]=null})),fm(),(n=l[r])?n.p(e,u):(n=l[r]=c[r](e)).c(),hm(n,1),n.m(t,i)),d&&d.p&&(!o||1024&u)&&sv(d,h,e,e[10],o?ov(h,e[10],u,ob):uv(e[10]),sb),(!o||473&u&&a!==(a="".concat("custom"===e[6]?"background-color: ".concat(e[7]):"","; padding: ").concat(e[3]-1,"px; width: ").concat(e[0],"px; height: ").concat(e[0],"px; border-radius: ").concat(e[8],"px; color: ").concat(e[4],";")))&&Nv(t,"style",a),(!o||32&u)&&jv(t,"border-custom","custom"===e[5]),(!o||32&u)&&jv(t,"border-yellow","yellow"===e[5]),(!o||32&u)&&jv(t,"border-gray","gray"===e[5]),(!o||32&u)&&jv(t,"border-green","green"===e[5]),(!o||32&u)&&jv(t,"border-dark-green","darkGreen"===e[5]),(!o||32&u)&&jv(t,"border-blue","blue"===e[5]),(!o||32&u)&&jv(t,"border-dark-blue","darkBlue"===e[5]),(!o||32&u)&&jv(t,"border-transparent","transparent"===e[5]),(!o||32&u)&&jv(t,"border-black","black"===e[5]),(!o||64&u)&&jv(t,"background-gray","gray"===e[6]),(!o||64&u)&&jv(t,"background-light-gray","lightGray"===e[6]),(!o||64&u)&&jv(t,"background-light-blue","lightBlue"===e[6]),(!o||64&u)&&jv(t,"background-green","green"===e[6]),(!o||64&u)&&jv(t,"background-white","white"===e[6]),(!o||64&u)&&jv(t,"background-transparent","transparent"===e[6])},i:function(e){o||(hm(n),hm(d,e),o=!0)},o:function(e){dm(n),dm(d,e),o=!1},d:function(e){e&&xv(t),l[r].d(),d&&d.d(e),s=!1,u()}}}function gb(e,t,r){var n,i=t.$$slots,a=void 0===i?{}:i,o=t.$$scope,s=t.size,u=t.icon,c=t.loading,l=void 0!==c&&c,f=t.padding,h=void 0===f?s/6:f,d=t.color,p=void 0===d?"black":d,v=t.border,m=void 0===v?"transparent":v,g=t.background,y=void 0===g?"transparent":g,b=t.customBackgroundColor,w=void 0===b?"":b,_=t.radius,k=void 0===_?12:_;return e.$$set=function(e){"size"in e&&r(0,s=e.size),"icon"in e&&r(1,u=e.icon),"loading"in e&&r(2,l=e.loading),"padding"in e&&r(3,h=e.padding),"color"in e&&r(4,p=e.color),"border"in e&&r(5,m=e.border),"background"in e&&r(6,y=e.background),"customBackgroundColor"in e&&r(7,w=e.customBackgroundColor),"radius"in e&&r(8,k=e.radius),"$$scope"in e&&r(10,o=e.$$scope)},[s,u,l,h,p,m,y,w,k,n,o,a,function(){r(9,n=window.innerWidth)}]}var yb=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,gb,mb,tv,{size:0,icon:1,loading:2,padding:3,color:4,border:5,background:6,customBackgroundColor:7,radius:8},ab),n}return O(r)}(Sm);function bb(e){yv(e,"svelte-q2gson",".container.svelte-q2gson{gap:1rem;padding:0.75rem;color:var(--onboard-warning-700, var(--warning-700));font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:16px;border:1px solid var(--onboard-warning-400, var(--warning-400));background:var(--onboard-warning-100, var(--warning-100));border-radius:12px}.icon.svelte-q2gson{color:var(--onboard-warning-700, var(--warning-700));width:1rem;height:1rem;flex:0 0 auto}")}function wb(e){var t,r,n,i,a,o,s=e[1].default,u=iv(s,e,e[0],null);return{c:function(){t=Av("div"),r=Av("div"),u&&u.c(),n=Ov(),Nv(i=Av("div"),"class","icon svelte-q2gson"),Nv(t,"class","container flex justify-between svelte-q2gson")},m:function(e,a){kv(e,t,a),gv(t,r),u&&u.m(r,null),gv(t,n),gv(t,i),i.innerHTML=lp,o=!0},p:function(e,t){var r=_(t,1)[0];u&&u.p&&(!o||1&r)&&sv(u,s,e,e[0],o?ov(s,e[0],r,null):uv(e[0]),null)},i:function(e){o||(hm(u,e),e&&(a||Xv((function(){(a=vm(t,Ly,{delay:50,duration:500})).start()}))),o=!0)},o:function(e){dm(u,e),o=!1},d:function(e){e&&xv(t),u&&u.d(e)}}}function _b(e,t,r){var n=t.$$slots,i=void 0===n?{}:n,a=t.$$scope;return e.$$set=function(e){"$$scope"in e&&r(0,a=e.$$scope)},[a,i]}s("W",yb);var kb=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,_b,wb,tv,{},bb),n}return O(r)}(Sm);function xb(e){yv(e,"svelte-1kfgpsl",".container.svelte-1kfgpsl{padding:var(--onboard-spacing-4, var(--spacing-4));color:var(\n      --onboard-connect-accent-text-color,\n      var(--onboard-gray-700, var(--gray-700))\n    )}.connecting-container.svelte-1kfgpsl{padding:var(--onboard-spacing-4, var(--spacing-4));border-radius:var(--onboard-border-radius-1, var(--border-radius-1));background:var(--onboard-success-100, var(--success-100));border:1px solid var(--onboard-success-600, var(--success-600));width:100%}.text.svelte-1kfgpsl{right:var(--onboard-spacing-5, var(--spacing-5))}.tick.svelte-1kfgpsl{color:var(--onboard-success-700, var(--success-700))}")}function Eb(e){var t,r,n,i,a,o,s,u,c,l,f,h,d,p,v,m,g,y=e[2]("connect.connectedWallet.mainText",{default:Zg.connect.connectedWallet.mainText,values:{wallet:e[0].label}})+"";return a=new yb({props:{size:40,padding:8,background:e[1]&&e[1].icon?"lightBlue":"lightGray",border:"darkGreen",icon:e[1]&&e[1].icon||cp}}),u=new Xy({props:{size:17}}),f=new yb({props:{size:40,padding:8,border:"darkGreen",background:"white",icon:e[0].icon}}),{c:function(){t=Av("div"),r=Av("div"),n=Av("div"),i=Av("div"),_m(a.$$.fragment),o=Ov(),s=Av("div"),_m(u.$$.fragment),c=Ov(),l=Av("div"),_m(f.$$.fragment),h=Ov(),d=Av("div"),p=Sv(y),v=Ov(),m=Av("div"),Nv(s,"class","relative"),Mv(s,"right","1rem"),Mv(s,"top","4px"),Mv(s,"z-index","1"),Nv(l,"class","relative"),Mv(l,"right","1.75rem"),Nv(i,"class","flex justify-center items-end relative"),Nv(d,"class","text relative svelte-1kfgpsl"),Nv(n,"class","flex items-center"),Nv(m,"class","tick flex items-center svelte-1kfgpsl"),Mv(m,"width","24px"),Nv(r,"class","connecting-container flex justify-between items-center svelte-1kfgpsl"),Nv(t,"class","container svelte-1kfgpsl")},m:function(e,y){kv(e,t,y),gv(t,r),gv(r,n),gv(n,i),km(a,i,null),gv(i,o),gv(i,s),km(u,s,null),gv(i,c),gv(i,l),km(f,l,null),gv(n,h),gv(n,d),gv(d,p),gv(r,v),gv(r,m),m.innerHTML=fp,g=!0},p:function(e,t){var r=_(t,1)[0],n={};2&r&&(n.background=e[1]&&e[1].icon?"lightBlue":"lightGray"),2&r&&(n.icon=e[1]&&e[1].icon||cp),a.$set(n);var i={};1&r&&(i.icon=e[0].icon),f.$set(i),(!g||5&r)&&y!==(y=e[2]("connect.connectedWallet.mainText",{default:Zg.connect.connectedWallet.mainText,values:{wallet:e[0].label}})+"")&&Pv(p,y)},i:function(e){g||(hm(a.$$.fragment,e),hm(u.$$.fragment,e),hm(f.$$.fragment,e),g=!0)},o:function(e){dm(a.$$.fragment,e),dm(u.$$.fragment,e),dm(f.$$.fragment,e),g=!1},d:function(e){e&&xv(t),xm(a),xm(u),xm(f)}}}function Ab(e,t,r){var n,i;nv(e,ra,(function(e){return r(2,i=e)}));var a=t.selectedWallet,o=Gp.select("appMetadata").pipe(er(Gp.get().appMetadata),Xt(1));return nv(e,o,(function(e){return r(1,n=e)})),e.$$set=function(e){"selectedWallet"in e&&r(0,a=e.selectedWallet)},[a,n,i,o]}var Sb=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Ab,Eb,tv,{selectedWallet:0},xb),n}return O(r)}(Sm);function Ob(e){yv(e,"svelte-j1ywa3",".container.svelte-j1ywa3{padding:var(--onboard-spacing-4, var(--spacing-4))}.connecting-container.svelte-j1ywa3{width:100%;padding:var(--onboard-spacing-4, var(--spacing-4));transition:background-color 100ms ease-in-out,\n      border-color 100ms ease-in-out;border-radius:24px;background:var(--onboard-primary-100, var(--primary-100));border:1px solid;border-color:var(--onboard-primary-300, var(--primary-300));color:var(--onboard-gray-600, var(--gray-600))}.connecting-container.warning.svelte-j1ywa3{background:var(--onboard-warning-100, var(--warning-100));border-color:var(--onboard-warning-400, var(--warning-400))}.text.svelte-j1ywa3{line-height:16px;margin-bottom:var(--onboard-spacing-5, var(--spacing-5))}.text.text-rejected.svelte-j1ywa3{line-height:24px;margin-bottom:0}.subtext.svelte-j1ywa3{font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:16px}.rejected-cta.svelte-j1ywa3{color:var(--onboard-primary-500, var(--primary-500))}.onboard-button-primary.svelte-j1ywa3{bottom:var(--onboard-spacing-3, var(--spacing-3))}.ml.svelte-j1ywa3{margin-left:var(--onboard-spacing-4, var(--spacing-4))}@media all and (max-width: 520px){.connecting-container.svelte-j1ywa3{border-radius:var(--onboard-border-radius-4, var(--border-radius-4))}.container.svelte-j1ywa3{padding-bottom:0}.wallet-badges.svelte-j1ywa3{display:none}.connecting-wallet-info.svelte-j1ywa3{margin:0}.onboard-button-primary.svelte-j1ywa3{display:none}}")}function Ib(e){var t,r,n=e[7]("connect.connectingWallet.".concat(e[5]?"previousConnection":"paragraph"),{default:Zg.connect.connectingWallet.paragraph,values:{wallet:e[1].label}})+"";return{c:function(){t=Av("div"),r=Sv(n),Nv(t,"class","subtext svelte-j1ywa3")},m:function(e,n){kv(e,t,n),gv(t,r)},p:function(e,t){162&t&&n!==(n=e[7]("connect.connectingWallet.".concat(e[5]?"previousConnection":"paragraph"),{default:Zg.connect.connectingWallet.paragraph,values:{wallet:e[1].label}})+"")&&Pv(r,n)},d:function(e){e&&xv(t)}}}function Rb(e){var t,r,n,i,a=e[7]("connect.connectingWallet.rejectedCTA",{default:Zg.connect.connectingWallet.rejectedCTA,values:{wallet:e[1].label}})+"";return{c:function(){t=Av("div"),r=Sv(a),Nv(t,"class","rejected-cta pointer subtext svelte-j1ywa3")},m:function(a,o){kv(a,t,o),gv(t,r),n||(i=Rv(t,"click",(function(){ev(e[0])&&e[0].apply(this,arguments)})),n=!0)},p:function(t,n){e=t,130&n&&a!==(a=e[7]("connect.connectingWallet.rejectedCTA",{default:Zg.connect.connectingWallet.rejectedCTA,values:{wallet:e[1].label}})+"")&&Pv(r,a)},d:function(e){e&&xv(t),n=!1,i()}}}function Cb(e){var t,r,n,i,a,o,s,u,c,l,f,h,d,p,v,m,g,y,b,w=e[7]("connect.connectingWallet.".concat(e[4]?"rejectedText":"mainText"),{default:e[4]?Zg.connect.connectingWallet.rejectedText:Zg.connect.connectingWallet.mainText,values:{wallet:e[1].label}})+"",k=e[7]("connect.connectingWallet.primaryButton",{default:Zg.connect.connectingWallet.primaryButton})+"";function x(e,t){return e[4]?Rb:Ib}a=new yb({props:{size:40,padding:8,icon:e[6]&&e[6].icon||cp,border:e[4]||e[5]?"yellow":"blue",background:"lightGray"}}),u=new yb({props:{size:40,padding:8,border:e[4]||e[5]?"yellow":"blue",background:"white",icon:e[1].icon}});var E=x(e),A=E(e);return{c:function(){t=Av("div"),r=Av("div"),n=Av("div"),i=Av("div"),_m(a.$$.fragment),o=Ov(),s=Av("div"),_m(u.$$.fragment),c=Ov(),l=Av("div"),f=Av("div"),h=Sv(w),d=Ov(),A.c(),p=Ov(),v=Av("button"),m=Sv(k),Nv(s,"class","relative"),Mv(s,"right","0.5rem"),Nv(i,"class","flex justify-center relative wallet-badges svelte-j1ywa3"),Nv(f,"class","text svelte-j1ywa3"),jv(f,"text-rejected",e[4]),Nv(l,"class","flex flex-column justify-center ml connecting-wallet-info svelte-j1ywa3"),Nv(n,"class","flex"),Nv(r,"class","connecting-container flex justify-between items-center svelte-j1ywa3"),jv(r,"warning",e[4]||e[5]),Nv(v,"class","onboard-button-primary absolute svelte-j1ywa3"),Nv(t,"class","container flex flex-column items-center svelte-j1ywa3")},m:function(w,_){kv(w,t,_),gv(t,r),gv(r,n),gv(n,i),km(a,i,null),gv(i,o),gv(i,s),km(u,s,null),gv(n,c),gv(n,l),gv(l,f),gv(f,h),gv(l,d),A.m(l,null),gv(t,p),gv(t,v),gv(v,m),g=!0,y||(b=Rv(v,"click",e[9]),y=!0)},p:function(e,t){var n=_(t,1)[0],i={};64&n&&(i.icon=e[6]&&e[6].icon||cp),48&n&&(i.border=e[4]||e[5]?"yellow":"blue"),a.$set(i);var o={};48&n&&(o.border=e[4]||e[5]?"yellow":"blue"),2&n&&(o.icon=e[1].icon),u.$set(o),(!g||146&n)&&w!==(w=e[7]("connect.connectingWallet.".concat(e[4]?"rejectedText":"mainText"),{default:e[4]?Zg.connect.connectingWallet.rejectedText:Zg.connect.connectingWallet.mainText,values:{wallet:e[1].label}})+"")&&Pv(h,w),(!g||16&n)&&jv(f,"text-rejected",e[4]),E===(E=x(e))&&A?A.p(e,n):(A.d(1),(A=E(e))&&(A.c(),A.m(l,null))),(!g||48&n)&&jv(r,"warning",e[4]||e[5]),(!g||128&n)&&k!==(k=e[7]("connect.connectingWallet.primaryButton",{default:Zg.connect.connectingWallet.primaryButton})+"")&&Pv(m,k)},i:function(e){g||(hm(a.$$.fragment,e),hm(u.$$.fragment,e),g=!0)},o:function(e){dm(a.$$.fragment,e),dm(u.$$.fragment,e),g=!1},d:function(e){e&&xv(t),xm(a),xm(u),A.d(),y=!1,b()}}}function Nb(e,t,r){var n,i;nv(e,ra,(function(e){return r(7,i=e)}));var a=t.connectWallet,o=t.selectedWallet,s=t.deselectWallet,u=t.setStep,c=t.connectionRejected,l=t.previousConnectionRequest,f=Gp.select("appMetadata").pipe(er(Gp.get().appMetadata),Xt(1));nv(e,f,(function(e){return r(6,n=e)}));return e.$$set=function(e){"connectWallet"in e&&r(0,a=e.connectWallet),"selectedWallet"in e&&r(1,o=e.selectedWallet),"deselectWallet"in e&&r(2,s=e.deselectWallet),"setStep"in e&&r(3,u=e.setStep),"connectionRejected"in e&&r(4,c=e.connectionRejected),"previousConnectionRequest"in e&&r(5,l=e.previousConnectionRequest)},[a,o,s,u,c,l,n,i,f,function(){s(o.label),u("selectingWallet")}]}var Pb=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Nb,Cb,tv,{connectWallet:0,selectedWallet:1,deselectWallet:2,setStep:3,connectionRejected:4,previousConnectionRequest:5},Ob),n}return O(r)}(Sm);function Mb(e){yv(e,"svelte-1uy2ffh",".outer-container.svelte-1uy2ffh{padding:var(--onboard-spacing-4, var(--spacing-4))}.link.svelte-1uy2ffh{font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:16px;color:var(--onboard-primary-500, var(--primary-500));text-decoration:none}")}function jb(e,t,r){var n=e.slice();return n[3]=t[r].name,n[4]=t[r].url,n[6]=r,n}function Tb(e){var t,r=e[1]("connect.selectingWallet.installWallet",{default:Zg.connect.selectingWallet.installWallet,values:{app:e[0].name||"this app"}})+"";return{c:function(){t=Sv(r)},m:function(e,r){kv(e,t,r)},p:function(e,n){3&n&&r!==(r=e[1]("connect.selectingWallet.installWallet",{default:Zg.connect.selectingWallet.installWallet,values:{app:e[0].name||"this app"}})+"")&&Pv(t,r)},d:function(e){e&&xv(t)}}}function Lb(e){for(var t,r,n,i,a=e[1]("connect.selectingWallet.recommendedWalletsPart1",{default:Zg.connect.selectingWallet.recommendedWalletsPart1,values:{app:e[0].name||"This app"}})+"",o=e[1]("connect.selectingWallet.recommendedWalletsPart2",{default:Zg.connect.selectingWallet.recommendedWalletsPart2})+"",s=e[0].recommendedInjectedWallets,u=[],c=0;c<s.length;c+=1)u[c]=$b(jb(e,s,c));return{c:function(){t=Sv(a),r=Ov();for(var e=0;e<u.length;e+=1)u[e].c();n=Ov(),i=Sv(o)},m:function(e,a){kv(e,t,a),kv(e,r,a);for(var o=0;o<u.length;o+=1)u[o]&&u[o].m(e,a);kv(e,n,a),kv(e,i,a)},p:function(e,r){if(3&r&&a!==(a=e[1]("connect.selectingWallet.recommendedWalletsPart1",{default:Zg.connect.selectingWallet.recommendedWalletsPart1,values:{app:e[0].name||"This app"}})+"")&&Pv(t,a),1&r){var c;for(s=e[0].recommendedInjectedWallets,c=0;c<s.length;c+=1){var l=jb(e,s,c);u[c]?u[c].p(l,r):(u[c]=$b(l),u[c].c(),u[c].m(n.parentNode,n))}for(;c<u.length;c+=1)u[c].d(1);u.length=s.length}2&r&&o!==(o=e[1]("connect.selectingWallet.recommendedWalletsPart2",{default:Zg.connect.selectingWallet.recommendedWalletsPart2})+"")&&Pv(i,o)},d:function(e){e&&xv(t),e&&xv(r),Ev(u,e),e&&xv(n),e&&xv(i)}}}function $b(e){var t,r,n,i,a=e[3]+"",o=e[6]<e[0].recommendedInjectedWallets.length-1?", ":"";return{c:function(){t=Av("a"),r=Sv(a),n=Sv(o),Nv(t,"class","link pointer svelte-1uy2ffh"),Nv(t,"href",i=e[4]),Nv(t,"target","_blank"),Nv(t,"rel","noreferrer noopener")},m:function(e,i){kv(e,t,i),gv(t,r),gv(t,n)},p:function(e,s){1&s&&a!==(a=e[3]+"")&&Pv(r,a),1&s&&o!==(o=e[6]<e[0].recommendedInjectedWallets.length-1?", ":"")&&Pv(n,o),1&s&&i!==(i=e[4])&&Nv(t,"href",i)},d:function(e){e&&xv(t)}}}function Db(e){var t;function r(e,t){return e[0].recommendedInjectedWallets?Lb:Tb}var n=r(e),i=n(e);return{c:function(){i.c(),t=Iv()},m:function(e,r){i.m(e,r),kv(e,t,r)},p:function(e,a){n===(n=r(e))&&i?i.p(e,a):(i.d(1),(i=n(e))&&(i.c(),i.m(t.parentNode,t)))},d:function(e){i.d(e),e&&xv(t)}}}function Ub(e){var t,r,n;return r=new kb({props:{$$slots:{default:[Db]},$$scope:{ctx:e}}}),{c:function(){t=Av("div"),_m(r.$$.fragment),Nv(t,"class","outer-container svelte-1uy2ffh")},m:function(e,i){kv(e,t,i),km(r,t,null),n=!0},p:function(e,t){var n=_(t,1)[0],i={};131&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i:function(e){n||(hm(r.$$.fragment,e),n=!0)},o:function(e){dm(r.$$.fragment,e),n=!1},d:function(e){e&&xv(t),xm(r)}}}function Fb(e,t,r){var n,i;nv(e,ra,(function(e){return r(1,i=e)}));var a=Gp.select("appMetadata").pipe(er(Gp.get().appMetadata),Xt(1));return nv(e,a,(function(e){return r(0,n=e)})),[n,i,a]}var Bb=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Fb,Ub,tv,{},Mb),n}return O(r)}(Sm);function qb(e){yv(e,"svelte-1vlog3j","button.svelte-1vlog3j:disabled{opacity:0.5}button.wallet-button-styling.svelte-1vlog3j{position:relative;align-items:flex-start;flex:1;padding:0;background:none;color:var(--onboard-wallet-button-color, inherit)}.wallet-button-container.svelte-1vlog3j{display:flex}.wallet-button-container-inner.svelte-1vlog3j{position:relative;display:flex;flex-flow:column;align-items:center;gap:0.5rem;padding:0.75rem;width:5rem}.name.svelte-1vlog3j{font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:1rem;text-overflow:ellipsis;max-width:5rem;max-height:2rem;overflow:hidden}.status-icon.svelte-1vlog3j{position:absolute;top:3.5rem;left:3.5rem}@media screen and (min-width: 768px){button.wallet-button-styling.svelte-1vlog3j{transition:background-color 250ms ease-in-out;background:var(--onboard-wallet-button-background, none);border:1px solid transparent;border-color:var(--onboard-wallet-button-border-color, var(--border-color));border-radius:var(--onboard-wallet-button-border-radius, var(--border-radius-1))}button.wallet-button-styling.svelte-1vlog3j:hover{background:var(--onboard-wallet-button-background-hover, var(--foreground-color));color:var(--onboard-wallet-button-color-hover)}.wallet-button-container-inner.svelte-1vlog3j{flex:1;flex-flow:row nowrap;gap:1rem;padding:1rem}button.connected.svelte-1vlog3j{border-color:var(--onboard-success-500, var(--success-500))}.name.svelte-1vlog3j{font-size:1rem;line-height:1.25rem;text-align:initial;max-width:inherit;max-height:3rem}.status-icon.svelte-1vlog3j{top:0;bottom:0;left:auto;right:1rem;margin:auto;height:20px}}")}function zb(e){var t,r,n;return r=new Xy({props:{size:20}}),{c:function(){t=Av("div"),_m(r.$$.fragment),Nv(t,"class","status-icon svelte-1vlog3j")},m:function(e,i){kv(e,t,i),km(r,t,null),n=!0},i:function(e){n||(hm(r.$$.fragment,e),n=!0)},o:function(e){dm(r.$$.fragment,e),n=!1},d:function(e){e&&xv(t),xm(r)}}}function Hb(e){var t,r,n,i,a,o,s,u,c,l,f,h;Xv(e[7]),i=new yb({props:{size:e[6]>=Op?48:56,icon:e[0],loading:e[4],border:e[3]?"green":"custom",background:"transparent"}});var d=e[3]&&zb();return{c:function(){t=Av("div"),r=Av("button"),n=Av("div"),_m(i.$$.fragment),a=Ov(),o=Av("div"),s=Sv(e[1]),u=Ov(),d&&d.c(),Nv(o,"class","name svelte-1vlog3j"),Nv(n,"class","wallet-button-container-inner svelte-1vlog3j"),Nv(r,"class","wallet-button-styling svelte-1vlog3j"),r.disabled=e[5],jv(r,"connected",e[3]),Nv(t,"class","wallet-button-container svelte-1vlog3j")},m:function(c,p){kv(c,t,p),gv(t,r),gv(r,n),km(i,n,null),gv(n,a),gv(n,o),gv(o,s),gv(n,u),d&&d.m(n,null),l=!0,f||(h=[Rv(window,"resize",e[7]),Rv(r,"click",(function(){ev(e[2])&&e[2].apply(this,arguments)}))],f=!0)},p:function(t,a){var o=_(a,1)[0];e=t;var u={};64&o&&(u.size=e[6]>=Op?48:56),1&o&&(u.icon=e[0]),16&o&&(u.loading=e[4]),8&o&&(u.border=e[3]?"green":"custom"),i.$set(u),(!l||2&o)&&Pv(s,e[1]),e[3]?d?8&o&&hm(d,1):((d=zb()).c(),hm(d,1),d.m(n,null)):d&&(lm(),dm(d,1,1,(function(){d=null})),fm()),(!l||32&o)&&(r.disabled=e[5]),(!l||8&o)&&jv(r,"connected",e[3])},i:function(e){l||(hm(i.$$.fragment,e),hm(d),e&&(c||Xv((function(){(c=vm(r,Ty,{})).start()}))),l=!0)},o:function(e){dm(i.$$.fragment,e),dm(d),l=!1},d:function(e){e&&xv(t),xm(i),d&&d.d(),f=!1,Xp(h)}}}function Vb(e,t,r){var n,i=t.icon,a=t.label,o=t.onClick,s=t.connected,u=t.connecting,c=t.disabled;return e.$$set=function(e){"icon"in e&&r(0,i=e.icon),"label"in e&&r(1,a=e.label),"onClick"in e&&r(2,o=e.onClick),"connected"in e&&r(3,s=e.connected),"connecting"in e&&r(4,u=e.connecting),"disabled"in e&&r(5,c=e.disabled)},[i,a,o,s,u,c,n,function(){r(6,n=window.innerWidth)}]}var Wb=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Vb,Hb,tv,{icon:0,label:1,onClick:2,connected:3,connecting:4,disabled:5},qb),n}return O(r)}(Sm);function Gb(e){yv(e,"svelte-kpc6js",".wallets-container.svelte-kpc6js{display:flex;gap:0.5rem;overflow-x:scroll;overflow-y:hidden;padding:0.75rem 0.5rem;border-bottom:1px solid var(--border-color);-ms-overflow-style:none;scrollbar-width:none}.wallets-container.svelte-kpc6js::-webkit-scrollbar{display:none}.warning-container.svelte-kpc6js{margin:1rem 1rem 0}.notice-container.svelte-kpc6js{flex:0 0 100%;margin-top:0.75rem}@media all and (min-width: 768px){.wallets-container.svelte-kpc6js{display:grid;grid-template-columns:repeat(var(--onboard-wallet-columns, 2), 1fr);padding:1rem;border:none}.notice-container.svelte-kpc6js{grid-column:span 2;margin:0}}")}function Kb(e,t,r){var n=e.slice();return n[10]=t[r],n}function Zb(e){var t,r,n;return r=new kb({props:{$$slots:{default:[Yb]},$$scope:{ctx:e}}}),{c:function(){t=Av("div"),_m(r.$$.fragment),Nv(t,"class","warning-container svelte-kpc6js")},m:function(e,i){kv(e,t,i),km(r,t,null),n=!0},p:function(e,t){var n={};8200&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i:function(e){n||(hm(r.$$.fragment,e),n=!0)},o:function(e){dm(r.$$.fragment,e),n=!1},d:function(e){e&&xv(t),xm(r)}}}function Yb(e){var t,r;return{c:function(){t=new Tv(!1),r=Iv(),t.a=r},m:function(n,i){t.m(e[3],n,i),kv(n,r,i)},p:function(e,r){8&r&&t.p(e[3])},d:function(e){e&&xv(r),e&&t.d()}}}function Jb(e){var t,r;function n(){return e[9](e[10])}return t=new Wb({props:{connected:e[7](e[10].label),connecting:e[2]===e[10].label,label:e[10].label,icon:e[10].icon,onClick:n,disabled:e[4]<=Op&&e[2]&&e[2]!==e[10].label}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(r,i){e=r;var a={};1&i&&(a.connected=e[7](e[10].label)),5&i&&(a.connecting=e[2]===e[10].label),1&i&&(a.label=e[10].label),1&i&&(a.icon=e[10].icon),3&i&&(a.onClick=n),21&i&&(a.disabled=e[4]<=Op&&e[2]&&e[2]!==e[10].label),t.$set(a)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Qb(e){var t,r,n,i,a,o=e[5]("connect.selectingWallet.whyDontISeeMyWallet",{default:Zg.connect.selectingWallet.whyDontISeeMyWallet})+"",s=e[5]("connect.selectingWallet.learnMore",{default:Zg.connect.selectingWallet.learnMore})+"";return{c:function(){t=Av("div"),r=Sv(o),n=Ov(),i=Av("a"),a=Sv(s),Nv(i,"class","link pointer"),Nv(i,"href",e[6].wheresMyWalletLink||ew),Nv(i,"target","_blank"),Nv(i,"rel","noreferrer noopener")},m:function(e,o){kv(e,t,o),gv(t,r),kv(e,n,o),kv(e,i,o),gv(i,a)},p:function(e,t){32&t&&o!==(o=e[5]("connect.selectingWallet.whyDontISeeMyWallet",{default:Zg.connect.selectingWallet.whyDontISeeMyWallet})+"")&&Pv(r,o),32&t&&s!==(s=e[5]("connect.selectingWallet.learnMore",{default:Zg.connect.selectingWallet.learnMore})+"")&&Pv(a,s)},d:function(e){e&&xv(t),e&&xv(n),e&&xv(i)}}}function Xb(e){var t,r,n,i,a,o,s;Xv(e[8]);for(var u=e[3]&&Zb(e),c=e[0],l=[],f=0;f<c.length;f+=1)l[f]=Jb(Kb(e,c,f));var h=function(e){return dm(l[e],1,1,(function(){l[e]=null}))},d=!e[6].removeWhereIsMyWalletWarning&&function(e){var t,r,n;return r=new kb({props:{$$slots:{default:[Qb]},$$scope:{ctx:e}}}),{c:function(){t=Av("div"),_m(r.$$.fragment),Nv(t,"class","notice-container svelte-kpc6js")},m:function(e,i){kv(e,t,i),km(r,t,null),n=!0},p:function(e,t){var n={};8224&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i:function(e){n||(hm(r.$$.fragment,e),n=!0)},o:function(e){dm(r.$$.fragment,e),n=!1},d:function(e){e&&xv(t),xm(r)}}}(e);return{c:function(){t=Av("div"),u&&u.c(),r=Ov(),n=Av("div");for(var e=0;e<l.length;e+=1)l[e].c();i=Ov(),d&&d.c(),Nv(n,"class","wallets-container svelte-kpc6js"),Nv(t,"class","outer-container")},m:function(c,f){kv(c,t,f),u&&u.m(t,null),gv(t,r),gv(t,n);for(var h=0;h<l.length;h+=1)l[h]&&l[h].m(n,null);gv(n,i),d&&d.m(n,null),a=!0,o||(s=Rv(window,"resize",e[8]),o=!0)},p:function(e,a){var o=_(a,1)[0];if(e[3]?u?(u.p(e,o),8&o&&hm(u,1)):((u=Zb(e)).c(),hm(u,1),u.m(t,r)):u&&(lm(),dm(u,1,1,(function(){u=null})),fm()),151&o){var s;for(c=e[0],s=0;s<c.length;s+=1){var f=Kb(e,c,s);l[s]?(l[s].p(f,o),hm(l[s],1)):(l[s]=Jb(f),l[s].c(),hm(l[s],1),l[s].m(n,i))}for(lm(),s=c.length;s<l.length;s+=1)h(s);fm()}e[6].removeWhereIsMyWalletWarning||d.p(e,o)},i:function(e){if(!a){hm(u);for(var t=0;t<c.length;t+=1)hm(l[t]);hm(d),a=!0}},o:function(e){dm(u),l=l.filter(Boolean);for(var t=0;t<l.length;t+=1)dm(l[t]);dm(d),a=!1},d:function(e){e&&xv(t),u&&u.d(),Ev(l,e),d&&d.d(),o=!1,s()}}}var ew="https://www.blocknative.com/blog/metamask-wont-connect-web3-wallet-troubleshooting";function tw(e,t,r){var n;nv(e,ra,(function(e){return r(5,n=e)}));var i,a=t.wallets,o=t.selectWallet,s=t.connectingWalletLabel,u=t.connectingErrorMessage,c=Gp.get().connect;return e.$$set=function(e){"wallets"in e&&r(0,a=e.wallets),"selectWallet"in e&&r(1,o=e.selectWallet),"connectingWalletLabel"in e&&r(2,s=e.connectingWalletLabel),"connectingErrorMessage"in e&&r(3,u=e.connectingErrorMessage)},[a,o,s,u,i,n,c,function(e){return!!Gp.get().wallets.find((function(t){return t.label===e}))},function(){r(4,i=window.innerWidth)},function(e){return o(e)}]}var rw=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,tw,Xb,tv,{wallets:0,selectWallet:1,connectingWalletLabel:2,connectingErrorMessage:3},Gb),n}return O(r)}(Sm);function nw(e){yv(e,"svelte-obaru3",".sidebar.svelte-obaru3{--background-color:var(\n      --onboard-connect-sidebar-background,\n      var(--w3o-foreground-color, none)\n    );--text-color:var(--onboard-connect-sidebar-color, inherit);--border-color:var(--onboard-connect-sidebar-border-color, inherit);display:flex;flex-flow:column;gap:1rem;padding:1rem;align-items:center}.inner-container.svelte-obaru3{display:flex;flex-flow:column;align-items:center;align-self:stretch;gap:0.5rem;padding:1.5rem;text-align:center;border:1px solid transparent;border-radius:12px;border-color:var(--border-color);background:var(--background-color);color:var(--text-color)}.icon-container.svelte-obaru3{display:flex;height:3.5rem;width:auto;min-width:3.5rem;max-width:100%}.heading.svelte-obaru3{font-size:var(--onboard-font-size-3, var(--font-size-3));margin:0 0 var(--onboard-spacing-5, var(--spacing-5)) 0}.subheading.svelte-obaru3{line-height:1rem}.description.svelte-obaru3{line-height:1.25rem;font-size:var(--onboard-font-size-6, var(--font-size-6))}img.svelte-obaru3{max-width:100%;height:auto}.indicators.svelte-obaru3{margin-top:auto}.indicator.svelte-obaru3{box-sizing:content-box;width:8px;height:8px;border-radius:8px;background:var(\n      --onboard-connect-sidebar-progress-background,\n      var(--onboard-gray-700, var(--gray-700))\n    );transition:background 250ms ease-in-out}.indicator.on.svelte-obaru3{background:var(\n      --onboard-connect-sidebar-progress-color,\n      var(--action-color)\n    );border:2px solid\n      var(\n        --onboard-connect-sidebar-progress-background,\n        var(--onboard-gray-700, var(--gray-700))\n      )}.join.svelte-obaru3{box-sizing:content-box;z-index:1;right:4px;height:2px;background:var(\n      --onboard-connect-sidebar-progress-background,\n      var(--onboard-gray-700, var(--gray-700))\n    );transition:background 250ms ease-in-out}.join.active.svelte-obaru3{background:var(\n      --onboard-connect-sidebar-progress-color,\n      var(--action-color)\n    )}.no-link.svelte-obaru3{display:flex;flex-direction:row;align-items:center;padding:0.25rem 0.5rem 0.25rem 0.75rem;gap:0.25rem;font-size:var(--onboard-font-size-6, var(--font-size-6))}.info-icon.svelte-obaru3{width:1.25rem;display:flex;align-items:center}@media all and (min-width: 768px){.sidebar.svelte-obaru3{max-width:280px;border-right:1px solid;border-color:var(--border-color);background:var(--background-color)}.inner-container.svelte-obaru3{border:none;text-align:initial;flex:1;align-items:flex-start;gap:1rem}.indicators.svelte-obaru3{margin-bottom:0.25rem}}")}function iw(e){var t,r,n,i=e[3]("connect.".concat(e[0],".sidebar.header"),{default:""});function a(e,t){return e[2]&&(e[2].logo||e[2].icon)?ow:aw}var o=a(e),s=o(e),u=i&&cw(e);return{c:function(){t=Av("div"),s.c(),r=Ov(),u&&u.c(),n=Iv(),Nv(t,"class","icon-container svelte-obaru3")},m:function(e,i){kv(e,t,i),s.m(t,null),kv(e,r,i),u&&u.m(e,i),kv(e,n,i)},p:function(e,r){o===(o=a(e))&&s?s.p(e,r):(s.d(1),(s=o(e))&&(s.c(),s.m(t,null))),9&r&&(i=e[3]("connect.".concat(e[0],".sidebar.header"),{default:""})),i?u?u.p(e,r):((u=cw(e)).c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null)},d:function(e){e&&xv(t),s.d(),e&&xv(r),u&&u.d(e),e&&xv(n)}}}function aw(e){var t,r;return{c:function(){t=new Tv(!1),r=Iv(),t.a=r},m:function(e,n){t.m(rp,e,n),kv(e,r,n)},p:Kp,d:function(e){e&&xv(r),e&&t.d()}}}function ow(e){var t,r;function n(e,r){return 4&r&&(t=null),null==t&&(t=!!pp(e[2].logo||e[2].icon)),t?uw:sw}var i=n(e,-1),a=i(e);return{c:function(){a.c(),r=Iv()},m:function(e,t){a.m(e,t),kv(e,r,t)},p:function(e,t){i===(i=n(e,t))&&a?a.p(e,t):(a.d(1),(a=i(e))&&(a.c(),a.m(r.parentNode,r)))},d:function(e){a.d(e),e&&xv(r)}}}function sw(e){var t,r;return{c:function(){rv((t=Av("img")).src,r=e[2].logo||e[2].icon)||Nv(t,"src",r),Nv(t,"alt","logo"),Nv(t,"class","svelte-obaru3")},m:function(e,r){kv(e,t,r)},p:function(e,n){4&n&&!rv(t.src,r=e[2].logo||e[2].icon)&&Nv(t,"src",r)},d:function(e){e&&xv(t)}}}function uw(e){var t,r,n=(e[2].logo||e[2].icon)+"";return{c:function(){t=new Tv(!1),r=Sv("​"),t.a=r},m:function(e,i){t.m(n,e,i),kv(e,r,i)},p:function(e,r){4&r&&n!==(n=(e[2].logo||e[2].icon)+"")&&t.p(n)},d:function(e){e&&t.d(),e&&xv(r)}}}function cw(e){var t,r,n=e[3]("connect.".concat(e[0],".sidebar.header"),{default:e[7]})+"";return{c:function(){t=Av("div"),r=Sv(n),Nv(t,"class","heading svelte-obaru3")},m:function(e,n){kv(e,t,n),gv(t,r)},p:function(e,t){9&t&&n!==(n=e[3]("connect.".concat(e[0],".sidebar.header"),{default:e[7]})+"")&&Pv(r,n)},d:function(e){e&&xv(t)}}}function lw(e){var t,r,n,i,a,o,s,u,c,l,f,h;return{c:function(){t=Av("div"),r=Av("div"),n=Ov(),i=Av("div"),o=Ov(),s=Av("div"),u=Ov(),c=Av("div"),f=Ov(),h=Av("div"),Nv(r,"class","indicator relative svelte-obaru3"),jv(r,"on",!0),Nv(i,"class","join relative svelte-obaru3"),Nv(i,"style",a="".concat("selectingWallet"!==e[0]?"right: 4px; width: 52px;":"right: 2px; width: 54px;")),jv(i,"active","selectingWallet"!==e[0]),Nv(s,"class","indicator relative svelte-obaru3"),Nv(s,"style","right: 8px;"),jv(s,"on","selectingWallet"!==e[0]),Nv(c,"class","join relative svelte-obaru3"),Nv(c,"style",l="".concat("connectedWallet"===e[0]?"right: 12px; width: 52px;":"right: 10px; width: 54px;")),jv(c,"active","connectedWallet"===e[0]),Nv(h,"style","right: 16px;"),Nv(h,"class","indicator relative svelte-obaru3"),jv(h,"on","connectedWallet"===e[0]),Nv(t,"class","indicators flex items-center svelte-obaru3")},m:function(e,a){kv(e,t,a),gv(t,r),gv(t,n),gv(t,i),gv(t,o),gv(t,s),gv(t,u),gv(t,c),gv(t,f),gv(t,h)},p:function(e,t){1&t&&a!==(a="".concat("selectingWallet"!==e[0]?"right: 4px; width: 52px;":"right: 2px; width: 54px;"))&&Nv(i,"style",a),1&t&&jv(i,"active","selectingWallet"!==e[0]),1&t&&jv(s,"on","selectingWallet"!==e[0]),1&t&&l!==(l="".concat("connectedWallet"===e[0]?"right: 12px; width: 52px;":"right: 10px; width: 54px;"))&&Nv(c,"style",l),1&t&&jv(c,"active","connectedWallet"===e[0]),1&t&&jv(h,"on","connectedWallet"===e[0])},d:function(e){e&&xv(t)}}}function fw(e){var t,r,n,i,a,o,s,u,c,l,f,h;return{c:function(){t=Av("div"),r=Av("div"),n=Ov(),i=Av("div"),o=Ov(),s=Av("div"),u=Ov(),c=Av("div"),f=Ov(),h=Av("div"),Nv(r,"class","indicator relative svelte-obaru3"),jv(r,"on",!0),Nv(i,"class","join relative svelte-obaru3"),Nv(i,"style",a="right: 2px; ".concat("selectingWallet"!==e[0]?"width: 78px;":"width: 82px;")),jv(i,"active","selectingWallet"!==e[0]),Nv(s,"class","indicator relative svelte-obaru3"),Nv(s,"style","right: 4px;"),jv(s,"on","selectingWallet"!==e[0]),Nv(c,"class","join relative svelte-obaru3"),Nv(c,"style",l="right: 6px; ".concat("connectedWallet"===e[0]?"width: 74px;":"width: 81px;")),jv(c,"active","connectedWallet"===e[0]),Nv(h,"style","right: 8px;"),Nv(h,"class","indicator relative svelte-obaru3"),jv(h,"on","connectedWallet"===e[0]),Nv(t,"class","indicators flex items-center svelte-obaru3")},m:function(e,a){kv(e,t,a),gv(t,r),gv(t,n),gv(t,i),gv(t,o),gv(t,s),gv(t,u),gv(t,c),gv(t,f),gv(t,h)},p:function(e,t){1&t&&a!==(a="right: 2px; ".concat("selectingWallet"!==e[0]?"width: 78px;":"width: 82px;"))&&Nv(i,"style",a),1&t&&jv(i,"active","selectingWallet"!==e[0]),1&t&&jv(s,"on","selectingWallet"!==e[0]),1&t&&l!==(l="right: 6px; ".concat("connectedWallet"===e[0]?"width: 74px;":"width: 81px;"))&&Nv(c,"style",l),1&t&&jv(c,"active","connectedWallet"===e[0]),1&t&&jv(h,"on","connectedWallet"===e[0])},d:function(e){e&&xv(t)}}}function hw(e){var t,r,n,i,a,o,s,u,c,l,f,h,d,p,v,m=e[3]("connect.".concat(e[0],".sidebar.subheading"),{default:e[5]})+"",g=e[3]("connect.".concat(e[0],".sidebar.paragraph"),{values:{app:e[2]&&e[2].name||"This App"},default:e[6]})+"";Xv(e[9]);var y=e[1]>=Op&&iw(e),b=!e[4].removeIDontHaveAWalletInfoLink&&function(e){var t,r,n,i,a=e[3]("connect.selectingWallet.sidebar.IDontHaveAWallet",{default:Zg.connect.selectingWallet.sidebar.IDontHaveAWallet})+"";return{c:function(){t=Av("a"),r=Sv(a),n=Ov(),Nv(i=Av("div"),"class","info-icon svelte-obaru3"),Nv(t,"href",e[4].iDontHaveAWalletLink||"https://ethereum.org/en/wallets/find-wallet/#main-content"),Nv(t,"target","_blank"),Nv(t,"rel","noreferrer noopener"),Nv(t,"class","no-link svelte-obaru3")},m:function(e,a){kv(e,t,a),gv(t,r),gv(t,n),gv(t,i),i.innerHTML=lp},p:function(e,t){8&t&&a!==(a=e[3]("connect.selectingWallet.sidebar.IDontHaveAWallet",{default:Zg.connect.selectingWallet.sidebar.IDontHaveAWallet})+"")&&Pv(r,a)},d:function(e){e&&xv(t)}}}(e),w=e[1]<Op&&lw(e),k=e[1]>=Op&&fw(e);return{c:function(){t=Av("div"),r=Av("div"),y&&y.c(),n=Ov(),i=Av("div"),a=Sv(m),o=Ov(),s=Av("div"),u=Sv(g),c=Ov(),b&&b.c(),l=Ov(),w&&w.c(),f=Ov(),k&&k.c(),h=Ov(),d=Av("div"),Nv(i,"class","subheading svelte-obaru3"),Nv(s,"class","description svelte-obaru3"),Nv(r,"class","inner-container svelte-obaru3"),Nv(t,"class","sidebar svelte-obaru3")},m:function(m,g){kv(m,t,g),gv(t,r),y&&y.m(r,null),gv(r,n),gv(r,i),gv(i,a),gv(r,o),gv(r,s),gv(s,u),gv(r,c),b&&b.m(r,null),gv(r,l),w&&w.m(r,null),gv(t,f),k&&k.m(t,null),gv(t,h),gv(t,d),d.innerHTML=np,p||(v=Rv(window,"resize",e[9]),p=!0)},p:function(e,i){var o=_(i,1)[0];e[1]>=Op?y?y.p(e,o):((y=iw(e)).c(),y.m(r,n)):y&&(y.d(1),y=null),9&o&&m!==(m=e[3]("connect.".concat(e[0],".sidebar.subheading"),{default:e[5]})+"")&&Pv(a,m),13&o&&g!==(g=e[3]("connect.".concat(e[0],".sidebar.paragraph"),{values:{app:e[2]&&e[2].name||"This App"},default:e[6]})+"")&&Pv(u,g),e[4].removeIDontHaveAWalletInfoLink||b.p(e,o),e[1]<Op?w?w.p(e,o):((w=lw(e)).c(),w.m(r,null)):w&&(w.d(1),w=null),e[1]>=Op?k?k.p(e,o):((k=fw(e)).c(),k.m(t,h)):k&&(k.d(1),k=null)},i:Kp,o:Kp,d:function(e){e&&xv(t),y&&y.d(),b&&b.d(),w&&w.d(),k&&k.d(),p=!1,v()}}}function dw(e,t,r){var n,i;nv(e,ra,(function(e){return r(3,i=e)}));var a,o=t.step,s=Gp.get().connect,u=Zg.connect[o].sidebar,c=u.subheading,l=u.paragraph,f=u.heading,h=Gp.select("appMetadata").pipe(er(Gp.get().appMetadata),Xt(1));return nv(e,h,(function(e){return r(2,n=e)})),e.$$set=function(e){"step"in e&&r(0,o=e.step)},[o,a,n,i,s,c,l,f,h,function(){r(1,a=window.innerWidth)}]}var pw=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,dw,hw,tv,{step:0},nw),n}return O(r)}(Sm);function vw(e){yv(e,"svelte-b3j15j",".container.svelte-b3j15j{--background-color:var(\n      --onboard-main-scroll-container-background,\n      var(--w3o-background-color)\n    );--foreground-color:var(--w3o-foreground-color);--text-color:var(--onboard-connect-text-color, var(--w3o-text-color));--border-color:var(--w3o-border-color, var(--gray-200));--action-color:var(--w3o-action-color, var(--primary-500));font-family:var(--onboard-font-family-normal, var(--font-family-normal));font-size:var(--onboard-font-size-5, 1rem);background:var(--background-color);color:var(--text-color);border-color:var(--border-color);line-height:24px;overflow:hidden;position:relative;display:flex;height:min-content;flex-flow:column-reverse}.content.svelte-b3j15j{width:var(--onboard-connect-content-width, 100%)}.header.svelte-b3j15j{display:flex;padding:1rem;border-bottom:1px solid transparent;background:var(--onboard-connect-header-background);color:var(--onboard-connect-header-color);border-color:var(--border-color)}.header-heading.svelte-b3j15j{line-height:1rem}.button-container.svelte-b3j15j{right:0.5rem;top:0.5rem}.mobile-header.svelte-b3j15j{display:flex;gap:0.5rem;height:4.5rem;padding:1rem;border-bottom:1px solid;border-color:var(--border-color)}.mobile-subheader.svelte-b3j15j{opacity:0.6;font-size:0.875rem;font-weight:400;line-height:1rem;margin-top:0.25rem}.icon-container.svelte-b3j15j{display:flex;flex:0 0 auto;height:2.5rem;width:2.5rem;min-width:2.5rem;justify-content:center;align-items:center}.disabled.svelte-b3j15j{opacity:0.2;pointer-events:none;overflow:hidden}.icon-container svg{display:block;height:100%;width:auto}.w-full.svelte-b3j15j{width:100%}.scroll-container.svelte-b3j15j{overflow-y:auto;transition:opacity 250ms ease-in-out;scrollbar-width:none}.scroll-container.svelte-b3j15j::-webkit-scrollbar{display:none}.mobile-safari.svelte-b3j15j{padding-bottom:80px}@media all and (min-width: 768px){.container.svelte-b3j15j{margin:0;flex-flow:row;height:var(--onboard-connect-content-height, 440px)}.content.svelte-b3j15j{width:var(--onboard-connect-content-width, 488px)}.mobile-subheader.svelte-b3j15j{display:none}.icon-container.svelte-b3j15j{display:none}}")}function mw(e){var t,r;return t=new Fy({props:{close:!e[16].disableClose&&e[20],$$slots:{default:[Iw]},$$scope:{ctx:e}}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n={};32766&r[0]|64&r[1]&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function gw(e){var t,r,n,i,a,o=e[14]("connect.".concat(e[5],".header"),{default:Zg.connect[e[5]].header,values:{connectionRejected:e[1],wallet:e[3]&&e[3].label}})+"",s=("selectingWallet"===e[5]?"(".concat(e[12],")"):"")+"";return{c:function(){t=Av("div"),r=Av("div"),n=Sv(o),i=Ov(),a=Sv(s),Nv(r,"class","header-heading svelte-b3j15j"),Nv(t,"class","header relative flex items-center svelte-b3j15j")},m:function(e,o){kv(e,t,o),gv(t,r),gv(r,n),gv(r,i),gv(r,a)},p:function(e,t){16426&t[0]&&o!==(o=e[14]("connect.".concat(e[5],".header"),{default:Zg.connect[e[5]].header,values:{connectionRejected:e[1],wallet:e[3]&&e[3].label}})+"")&&Pv(n,o),4128&t[0]&&s!==(s=("selectingWallet"===e[5]?"(".concat(e[12],")"):"")+"")&&Pv(a,s)},d:function(e){e&&xv(t)}}}function yw(e){var t,r,n,i,a,o,s,u,c,l=e[14]("connectingWallet"===e[5]&&e[3]?"connect.".concat(e[5],".header"):"connect.".concat(e[5],".sidebar.subheading"),{default:"connectingWallet"===e[5]&&e[3]?Zg.connect[e[5]].header:Zg.connect[e[5]].sidebar.subheading,values:{connectionRejected:e[1],wallet:e[3]&&e[3].label}})+"",f=("selectingWallet"===e[5]?"".concat(e[12]," available wallets"):"1 account selected")+"";function h(e,t){return e[13]&&e[13].icon?ww:bw}var d=h(e),p=d(e);return{c:function(){t=Av("div"),r=Av("div"),p.c(),n=Ov(),i=Av("div"),a=Av("div"),o=Sv(l),s=Ov(),u=Av("div"),c=Sv(f),Nv(r,"class","icon-container svelte-b3j15j"),Nv(a,"class","header-heading svelte-b3j15j"),Nv(u,"class","mobile-subheader svelte-b3j15j"),Nv(i,"class","flex flex-column justify-center w-full svelte-b3j15j"),Nv(t,"class","mobile-header svelte-b3j15j")},m:function(e,l){kv(e,t,l),gv(t,r),p.m(r,null),gv(t,n),gv(t,i),gv(i,a),gv(a,o),gv(i,s),gv(i,u),gv(u,c)},p:function(e,t){d===(d=h(e))&&p?p.p(e,t):(p.d(1),(p=d(e))&&(p.c(),p.m(r,null))),16426&t[0]&&l!==(l=e[14]("connectingWallet"===e[5]&&e[3]?"connect.".concat(e[5],".header"):"connect.".concat(e[5],".sidebar.subheading"),{default:"connectingWallet"===e[5]&&e[3]?Zg.connect[e[5]].header:Zg.connect[e[5]].sidebar.subheading,values:{connectionRejected:e[1],wallet:e[3]&&e[3].label}})+"")&&Pv(o,l),4128&t[0]&&f!==(f=("selectingWallet"===e[5]?"".concat(e[12]," available wallets"):"1 account selected")+"")&&Pv(c,f)},d:function(e){e&&xv(t),p.d()}}}function bw(e){var t,r;return{c:function(){t=new Tv(!1),r=Iv(),t.a=r},m:function(e,n){t.m(rp,e,n),kv(e,r,n)},p:Kp,d:function(e){e&&xv(r),e&&t.d()}}}function ww(e){var t,r;function n(e,r){return 8192&r[0]&&(t=null),null==t&&(t=!!pp(e[13].icon)),t?kw:_w}var i=n(e,[-1,-1]),a=i(e);return{c:function(){a.c(),r=Iv()},m:function(e,t){a.m(e,t),kv(e,r,t)},p:function(e,t){i===(i=n(e,t))&&a?a.p(e,t):(a.d(1),(a=i(e))&&(a.c(),a.m(r.parentNode,r)))},d:function(e){a.d(e),e&&xv(r)}}}function _w(e){var t,r;return{c:function(){rv((t=Av("img")).src,r=e[13].icon)||Nv(t,"src",r),Nv(t,"alt","logo")},m:function(e,r){kv(e,t,r)},p:function(e,n){8192&n[0]&&!rv(t.src,r=e[13].icon)&&Nv(t,"src",r)},d:function(e){e&&xv(t)}}}function kw(e){var t,r,n=e[13].icon+"";return{c:function(){t=new Tv(!1),r=Iv(),t.a=r},m:function(e,i){t.m(n,e,i),kv(e,r,i)},p:function(e,r){8192&r[0]&&n!==(n=e[13].icon+"")&&t.p(n)},d:function(e){e&&xv(r),e&&t.d()}}}function xw(e){var t,r,n,i,a=[Aw,Ew],o=[];function s(e,t){return e[2].length?0:1}return t=s(e),r=o[t]=a[t](e),{c:function(){r.c(),n=Iv()},m:function(e,r){o[t].m(e,r),kv(e,n,r),i=!0},p:function(e,i){var u=t;(t=s(e))===u?o[t].p(e,i):(lm(),dm(o[u],1,1,(function(){o[u]=null})),fm(),(r=o[t])?r.p(e,i):(r=o[t]=a[t](e)).c(),hm(r,1),r.m(n.parentNode,n))},i:function(e){i||(hm(r),i=!0)},o:function(e){dm(r),i=!1},d:function(e){o[t].d(e),e&&xv(n)}}}function Ew(e){var t,r;return t=new Bb({}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:Kp,i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Aw(e){var t,r,n,i,a,o;function s(t){e[25](t)}var u={};return void 0!==e[7]&&(u.agreed=e[7]),t=new Vy({props:u}),Kv.push((function(){return wm(t,"agreed",s)})),a=new rw({props:{selectWallet:e[18],wallets:e[2],connectingWalletLabel:e[8],connectingErrorMessage:e[9]}}),{c:function(){_m(t.$$.fragment),n=Ov(),i=Av("div"),_m(a.$$.fragment),Nv(i,"class","svelte-b3j15j"),jv(i,"disabled",!e[7])},m:function(e,r){km(t,e,r),kv(e,n,r),kv(e,i,r),km(a,i,null),o=!0},p:function(e,n){var s={};!r&&128&n[0]&&(r=!0,s.agreed=e[7],em((function(){return r=!1}))),t.$set(s);var u={};4&n[0]&&(u.wallets=e[2]),256&n[0]&&(u.connectingWalletLabel=e[8]),512&n[0]&&(u.connectingErrorMessage=e[9]),a.$set(u),(!o||128&n[0])&&jv(i,"disabled",!e[7])},i:function(e){o||(hm(t.$$.fragment,e),hm(a.$$.fragment,e),o=!0)},o:function(e){dm(t.$$.fragment,e),dm(a.$$.fragment,e),o=!1},d:function(e){xm(t,e),e&&xv(n),e&&xv(i),xm(a)}}}function Sw(e){var t,r;return t=new Pb({props:{connectWallet:e[21],connectionRejected:e[1],previousConnectionRequest:e[6],setStep:e[22],deselectWallet:e[19],selectedWallet:e[3]}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n={};2&r[0]&&(n.connectionRejected=e[1]),64&r[0]&&(n.previousConnectionRequest=e[6]),8&r[0]&&(n.selectedWallet=e[3]),t.$set(n)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Ow(e){var t,r;return t=new Sb({props:{selectedWallet:e[3]}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n={};8&r[0]&&(n.selectedWallet=e[3]),t.$set(n)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Iw(e){var t,r,n,i,a,o,s,u,c,l=e[16].showSidebar&&function(e){var t,r;return t=new pw({props:{step:e[5]}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n={};32&r[0]&&(n.step=e[5]),t.$set(n)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}(e);function f(e,t){return e[4]<=Op?yw:gw}var h=f(e),d=h(e),p=!e[16].disableClose&&function(e){var t,r,n,i,a;return r=new My({}),{c:function(){t=Av("div"),_m(r.$$.fragment),Nv(t,"class","button-container absolute svelte-b3j15j")},m:function(o,s){kv(o,t,s),km(r,t,null),n=!0,i||(a=Rv(t,"click",e[20]),i=!0)},p:Kp,i:function(e){n||(hm(r.$$.fragment,e),n=!0)},o:function(e){dm(r.$$.fragment,e),n=!1},d:function(e){e&&xv(t),xm(r),i=!1,a()}}}(e),v=("selectingWallet"===e[5]||e[4]<=Op)&&xw(e),m=e[11]&&Sw(e),g="connectedWallet"===e[5]&&e[3]&&e[4]>=Op&&Ow(e);return{c:function(){t=Av("div"),l&&l.c(),r=Ov(),n=Av("div"),d.c(),i=Ov(),p&&p.c(),a=Ov(),o=Av("div"),v&&v.c(),s=Ov(),m&&m.c(),u=Ov(),g&&g.c(),Nv(o,"class","scroll-container svelte-b3j15j"),Nv(n,"class","content flex flex-column svelte-b3j15j"),Nv(t,"class","container svelte-b3j15j"),jv(t,"mobile-safari",e[23])},m:function(f,h){kv(f,t,h),l&&l.m(t,null),gv(t,r),gv(t,n),d.m(n,null),gv(n,i),p&&p.m(n,null),gv(n,a),gv(n,o),v&&v.m(o,null),gv(o,s),m&&m.m(o,null),gv(o,u),g&&g.m(o,null),e[26](o),c=!0},p:function(e,t){e[16].showSidebar&&l.p(e,t),h===(h=f(e))&&d?d.p(e,t):(d.d(1),(d=h(e))&&(d.c(),d.m(n,i))),e[16].disableClose||p.p(e,t),"selectingWallet"===e[5]||e[4]<=Op?v?(v.p(e,t),48&t[0]&&hm(v,1)):((v=xw(e)).c(),hm(v,1),v.m(o,s)):v&&(lm(),dm(v,1,1,(function(){v=null})),fm()),e[11]?m?(m.p(e,t),2048&t[0]&&hm(m,1)):((m=Sw(e)).c(),hm(m,1),m.m(o,u)):m&&(lm(),dm(m,1,1,(function(){m=null})),fm()),"connectedWallet"===e[5]&&e[3]&&e[4]>=Op?g?(g.p(e,t),56&t[0]&&hm(g,1)):((g=Ow(e)).c(),hm(g,1),g.m(o,null)):g&&(lm(),dm(g,1,1,(function(){g=null})),fm())},i:function(e){c||(hm(l),hm(p),hm(v),hm(m),hm(g),c=!0)},o:function(e){dm(l),dm(p),dm(v),dm(m),dm(g),c=!1},d:function(r){r&&xv(t),l&&l.d(),d.d(),p&&p.d(),v&&v.d(),m&&m.d(),g&&g.d(),e[26](null)}}}function Rw(e){var t,r,n,i;Xv(e[24]);var a=!e[0].disableModals&&mw(e);return{c:function(){a&&a.c(),t=Iv()},m:function(o,s){a&&a.m(o,s),kv(o,t,s),r=!0,n||(i=Rv(window,"resize",e[24]),n=!0)},p:function(e,r){e[0].disableModals?a&&(lm(),dm(a,1,1,(function(){a=null})),fm()):a?(a.p(e,r),1&r[0]&&hm(a,1)):((a=mw(e)).c(),hm(a,1),a.m(t.parentNode,t))},i:function(e){r||(hm(a),r=!0)},o:function(e){dm(a),r=!1},d:function(e){a&&a.d(e),e&&xv(t),n=!1,i()}}}function Cw(e,t,r){var n,i,a,s,c;nv(e,ra,(function(e){return r(14,c=e)}));var f=t.autoSelect,h=Gp.select("appMetadata").pipe(er(Gp.get().appMetadata),Xt(1));nv(e,h,(function(e){return r(13,a=e)}));var d,p,v,m,g,y,b=xp,k=b.unstoppableResolution,x=b.device,E=Gp.get(),A=E.walletModules,S=E.connect,O=E.chains,I=new Xe,R=!1,C=!1,N=[],P=new tt("selectingWallet");function M(e){return j.apply(this,arguments)}function j(){return j=u(o().mark((function e(t){var n,i,s,u,c,l,f,h,p,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.label,i=t.icon,s=t.getInterface,r(8,v=n),e.prev=2,u=Gp.get().wallets.find((function(e){return e.label===n})),!u){e.next=9;break}return Pg(u),setTimeout((function(){return B("connectedWallet")}),1),r(3,d=u),e.abrupt("return");case 9:return c=Gp.get(),l=c.chains,e.next=12,s({chains:l,BigNumber:Eo,EventEmitter:tp,appMetadata:a});case 12:return f=e.sent,h=f.provider,p=f.instance,e.next=17,i;case 17:g=e.sent,r(3,d={label:n,icon:g,provider:h,instance:p,accounts:[],chains:[{namespace:"evm",id:"0x1"}]}),r(9,m=""),q(),setTimeout((function(){return B("connectingWallet")}),1),e.next=30;break;case 24:e.prev=24,e.t0=e.catch(2),y=e.t0.message,r(9,m=y),r(8,v=""),q();case 30:case"end":return e.stop()}}),e,null,[[2,24]])}))),j.apply(this,arguments)}function T(e){r(3,d=l(l({},d),e))}function L(){return L=u(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getIcon,n=t.getInterface,i=t.label,a=r(),M({label:i,icon:a,getInterface:n});case 3:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function $(){return($=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(2,N=A.map((function(e){var t=e.getIcon,r=e.getInterface;return{label:e.label,icon:t(),getInterface:r}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return U.apply(this,arguments)}function U(){return(U=u(o().mark((function e(){var t,n,i,a,s,u,c,h,p,v,m,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(1,R=!1),n=(t=d).provider,i=t.label,I.next(),e.prev=3,e.next=6,Promise.race([Qg(n),It(I.pipe(Wt([])))]);case 6:if(a=e.sent,s=_(a,1),u=s[0]){e.next=11;break}return e.abrupt("return");case 11:if(!Gp.get().connect.autoConnectLastWallet&&!Gp.get().connect.autoConnectAllPreviousWallet){e.next=28;break}c=wp(Sp.LAST_CONNECTED_WALLET),e.prev=13,(h=JSON.parse(c))&&Array.isArray(h)&&(c=w(new Set([i].concat(w(h))))),e.next=26;break;case 18:if(e.prev=18,e.t0=e.catch(13),!(e.t0 instanceof SyntaxError&&c&&"string"==typeof c)){e.next=25;break}c=[c],e.next=26;break;case 25:throw new Error(e.t0);case 26:c||(c=[i]),_p(Sp.LAST_CONNECTED_WALLET,JSON.stringify(c));case 28:return e.next=30,Xg(n);case 30:if(p=e.sent,!Gp.get().notify.enabled){e.next=36;break}return e.next=34,ky();case 34:if(v=e.sent)try{v.subscribe({id:u,chainId:p,type:"account"})}catch(o){}case 36:m={accounts:[{address:u,ens:null,uns:null,balance:null}],chains:[{namespace:"evm",id:p}]},Pg(l(l({},d),m)),ty(n,i),T(m),B("connectedWallet"),q(),e.next=59;break;case 44:if(e.prev=44,e.t1=e.catch(3),g=e.t1.code,q(),g!==Oa.ACCOUNT_ACCESS_REJECTED){e.next=52;break}return r(1,R=!0),f.disableModals?Rm.next({inProgress:!1}):f.label&&r(0,f.label="",f),e.abrupt("return");case 52:if(g!==Oa.ACCOUNT_ACCESS_ALREADY_REQUESTED){e.next=59;break}if(r(6,C=!0),!f.disableModals){e.next=57;break}return Rm.next({inProgress:!1}),e.abrupt("return");case 57:return ey({provider:d.provider,disconnected$:Rm.pipe(Ht((function(e){return!e.inProgress})),Wt(""))}).pipe(Vt(1)).subscribe((function(e){_(e,1)[0]&&D()})),e.abrupt("return");case 59:case"end":return e.stop()}}),e,null,[[3,44],[13,18]])})))).apply(this,arguments)}function F(){return F=u(o().mark((function e(){var t,r,n,i,a,s,u,c,l,f,h,p,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(t=d).accounts,n=t.chains,i=Gp.get().chains,a=_(n,1),s=a[0],u=i.find((function(e){var t=e.namespace,r=e.id;return t===s.namespace&&r===s.id})),c=r[0].address,l=r[0],f=l.balance,h=l.ens,p=l.uns,v=l.secondaryTokens,null===f&&oy(c,u).then((function(e){Lg(d.label,c,{balance:e})})),u&&!v&&Array.isArray(u.secondaryTokens)&&u.secondaryTokens.length&&yy(d,c,u).then((function(e){Lg(d.label,c,{secondaryTokens:e})})),null===h&&dp(s.id)&&(m=O.find((function(e){return e.id===dp(s.id)})),ry(c,m).then((function(e){Lg(d.label,c,{ens:e})}))),null===p&&k&&iy(c,u).then((function(e){Lg(d.label,c,{uns:e})})),setTimeout((function(){return Rm.next({inProgress:!1})}),1500);case 11:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function B(e){I.next(),P.next(e)}function q(){y&&y.scrollTo(0,0)}nv(e,P,(function(e){return r(5,s=e)})),Rm.pipe(Gt((function(e,t){return e.autoSelect&&t.autoSelect&&e.autoSelect.disableModals===t.autoSelect.disableModals})),Ht((function(e){var t=e.autoSelect;return t&&!1===t.disableModals})),rr(Mm)).subscribe((function(){d&&D()})),P.pipe(rr(Mm)).subscribe((function(e){switch(e){case"selectingWallet":if(f.label){var t=A.find((function(e){return e.label.toLowerCase()===f.label.toLowerCase()}));t?function(e){L.apply(this,arguments)}(t):f.disableModals&&Rm.next({inProgress:!1})}else r(8,v=""),function(){$.apply(this,arguments)}();break;case"connectingWallet":D();break;case"connectedWallet":r(8,v=""),function(){F.apply(this,arguments)}()}}));var z="mobile"===x.type&&x.browser.name&&"Safari"===x.browser.name;return e.$$set=function(e){"autoSelect"in e&&r(0,f=e.autoSelect)},e.$$.update=function(){4&e.$$.dirty[0]&&r(12,n=N.length-Gp.get().wallets.length),58&e.$$.dirty[0]&&r(11,i="connectingWallet"===s&&d&&g>=Op||g<=Op&&R&&"connectingWallet"===s&&d)},[f,R,N,d,g,s,C,p,v,m,y,i,n,a,c,h,S,P,M,function(){r(3,d=null)},function(){Rm.next({inProgress:!1})},D,B,z,function(){r(4,g=window.innerWidth)},function(e){r(7,p=e)},function(e){Kv[e?"unshift":"push"]((function(){r(10,y=e)}))}]}var Nw=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Cw,Rw,tv,{autoSelect:0},vw,[-1,-1]),n}return O(r)}(Sm);function Pw(e){yv(e,"svelte-12yam41",".container.svelte-12yam41{padding:var(--onboard-spacing-4, var(--spacing-4));font-family:var(--onboard-font-family-normal, var(--font-family-normal));line-height:16px;font-size:var(--onboard-font-size-5, var(--font-size-5))}.close.svelte-12yam41{top:var(--onboard-spacing-5, var(--spacing-5));right:var(--onboard-spacing-5, var(--spacing-5));padding:0.5rem}h4.svelte-12yam41{font-size:var(--onboard-font-size-3, var(--font-size-3));margin:var(--onboard-spacing-4, var(--spacing-4)) 0}p.svelte-12yam41{margin:0 0 var(--onboard-spacing-4, var(--spacing-4)) 0;max-width:488px}")}function Mw(e){var t,r,n,i,a,o,s,u,c,l,f,h,d,p,v,m=e[0]("modals.switchChain.heading",{default:Zg.modals.switchChain.heading})+"",g=e[0]("modals.switchChain.paragraph1",{default:Zg.modals.switchChain.paragraph1,values:{app:e[1]&&e[1].name||"This app",nextNetworkName:e[2]}})+"",y=e[0]("modals.switchChain.paragraph2",{default:Zg.modals.switchChain.paragraph2})+"";return h=new My({}),{c:function(){t=Av("div"),r=Av("h4"),n=Sv(m),i=Ov(),a=Av("p"),o=Sv(g),s=Ov(),u=Av("p"),c=Sv(y),l=Ov(),f=Av("div"),_m(h.$$.fragment),Nv(r,"class","svelte-12yam41"),Nv(a,"class","svelte-12yam41"),Nv(u,"class","svelte-12yam41"),Nv(f,"class","close absolute svelte-12yam41"),Nv(t,"class","container relative svelte-12yam41")},m:function(m,g){kv(m,t,g),gv(t,r),gv(r,n),gv(t,i),gv(t,a),gv(a,o),gv(t,s),gv(t,u),gv(u,c),gv(t,l),gv(t,f),km(h,f,null),d=!0,p||(v=Rv(f,"click",e[3]),p=!0)},p:function(e,t){(!d||1&t)&&m!==(m=e[0]("modals.switchChain.heading",{default:Zg.modals.switchChain.heading})+"")&&Pv(n,m),(!d||3&t)&&g!==(g=e[0]("modals.switchChain.paragraph1",{default:Zg.modals.switchChain.paragraph1,values:{app:e[1]&&e[1].name||"This app",nextNetworkName:e[2]}})+"")&&Pv(o,g),(!d||1&t)&&y!==(y=e[0]("modals.switchChain.paragraph2",{default:Zg.modals.switchChain.paragraph2})+"")&&Pv(c,y)},i:function(e){d||(hm(h.$$.fragment,e),d=!0)},o:function(e){dm(h.$$.fragment,e),d=!1},d:function(e){e&&xv(t),xm(h),p=!1,v()}}}function jw(e){var t,r;return t=new Fy({props:{close:e[3],$$slots:{default:[Mw]},$$scope:{ctx:e}}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n=_(r,1)[0],i={};67&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Tw(e,t,r){var n,i,a;nv(e,Cm,(function(e){return r(5,n=e)})),nv(e,ra,(function(e){return r(0,i=e)}));var o=n.chain.label;var s=state.select("appMetadata").pipe(startWith(state.get().appMetadata),shareReplay(1));return nv(e,s,(function(e){return r(1,a=e)})),[i,a,o,function(){Cm.next(null)},s]}var Lw=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Tw,jw,tv,{},Pw),n}return O(r)}(Sm);function $w(e){yv(e,"svelte-z54y2j",".icon.svelte-z54y2j{border-radius:50px;color:var(--onboard-primary-500, var(--primary-500))}")}function Dw(e){var t,r;return{c:function(){Nv(t=Av("div"),"class","icon flex svelte-z54y2j"),Nv(t,"style",r="width: ".concat(e[0],"px; height: ").concat(e[0],"px;"))},m:function(e,r){kv(e,t,r),t.innerHTML=lp},p:function(e,n){1&_(n,1)[0]&&r!==(r="width: ".concat(e[0],"px; height: ").concat(e[0],"px;"))&&Nv(t,"style",r)},i:Kp,o:Kp,d:function(e){e&&xv(t)}}}function Uw(e,t,r){var n=t.size,i=void 0===n?20:n;return e.$$set=function(e){"size"in e&&r(0,i=e.size)},[i]}var Fw=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Uw,Dw,tv,{size:0},$w),n}return O(r)}(Sm);function Bw(e){yv(e,"svelte-20hjq1",".content.svelte-20hjq1{padding:1rem;width:300px;font-family:var(--onboard-font-family-normal, var(--font-family-normal));font-size:var(--onboard-font-size-5, var(--font-size-5));line-height:24px;background:var(\n      --onboard-action-required-modal-background,\n      var(--onboard-white, var(--white))\n    )}.icon-container.svelte-20hjq1{width:3rem;height:3rem;background:var(--onboard-primary-100, var(--primary-100));border-radius:24px}h4.svelte-20hjq1{margin:1.5rem 0 0.5rem 0;font-weight:600}.action-required-heading.svelte-20hjq1,.action-required-info.svelte-20hjq1{color:var(\n      --onboard-action-required-text-color,\n      var(--onboard-black, inherit)\n    )}.action-required-btn.svelte-20hjq1{color:var(\n      --onboard-action-required-btn-text-color,\n      var(--onboard-black, inherit)\n    )}p.svelte-20hjq1{margin:0;font-weight:400}a.svelte-20hjq1{font-weight:600}button.svelte-20hjq1{margin-top:1.5rem;font-weight:600}")}function qw(e){var t,r,n=e[1]("modals.actionRequired.linkText",{values:{wallet:e[0]}})+"";return{c:function(){t=Av("a"),r=Sv(n),Nv(t,"href","https://metamask.zendesk.com/hc/en-us/articles/360061346311-Switching-accounts-in-MetaMask"),Nv(t,"target","_blank"),Nv(t,"rel","noreferrer noopener"),Nv(t,"class","svelte-20hjq1")},m:function(e,n){kv(e,t,n),gv(t,r)},p:function(e,t){3&t&&n!==(n=e[1]("modals.actionRequired.linkText",{values:{wallet:e[0]}})+"")&&Pv(r,n)},d:function(e){e&&xv(t)}}}function zw(e){var t,r,n,i,a,o,s,u,c,l,f,h,d,p,v,m,g=e[1]("modals.actionRequired.heading",{values:{wallet:e[0]}})+"",y=e[1]("modals.actionRequired.paragraph",{values:{wallet:e[0]}})+"",b=e[1]("modals.actionRequired.buttonText")+"";n=new Fw({});var w="MetaMask"===e[0]&&qw(e);return{c:function(){t=Av("div"),r=Av("div"),_m(n.$$.fragment),i=Ov(),a=Av("h4"),o=Sv(g),s=Ov(),u=Av("p"),c=Sv(y),l=Ov(),w&&w.c(),f=Ov(),h=Av("button"),d=Sv(b),Nv(r,"class","icon-container flex justify-center items-center svelte-20hjq1"),Nv(a,"class","action-required-heading svelte-20hjq1"),Nv(u,"class","action-required-info svelte-20hjq1"),Nv(h,"class","button-neutral-solid rounded action-required-btn svelte-20hjq1"),Nv(t,"class","content svelte-20hjq1")},m:function(g,y){kv(g,t,y),gv(t,r),km(n,r,null),gv(t,i),gv(t,a),gv(a,o),gv(t,s),gv(t,u),gv(u,c),gv(u,l),w&&w.m(u,null),gv(t,f),gv(t,h),gv(h,d),p=!0,v||(m=Rv(h,"click",e[2]),v=!0)},p:function(e,t){(!p||3&t)&&g!==(g=e[1]("modals.actionRequired.heading",{values:{wallet:e[0]}})+"")&&Pv(o,g),(!p||3&t)&&y!==(y=e[1]("modals.actionRequired.paragraph",{values:{wallet:e[0]}})+"")&&Pv(c,y),"MetaMask"===e[0]?w?w.p(e,t):((w=qw(e)).c(),w.m(u,null)):w&&(w.d(1),w=null),(!p||2&t)&&b!==(b=e[1]("modals.actionRequired.buttonText")+"")&&Pv(d,b)},i:function(e){p||(hm(n.$$.fragment,e),p=!0)},o:function(e){dm(n.$$.fragment,e),p=!1},d:function(e){e&&xv(t),xm(n),w&&w.d(),v=!1,m()}}}function Hw(e){var t,r;return t=new Fy({props:{close:e[2],$$slots:{default:[zw]},$$scope:{ctx:e}}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n=_(r,1)[0],i={};11&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Vw(e,t,r){var n;nv(e,ra,(function(e){return r(1,n=e)}));var i=t.wallet;return e.$$set=function(e){"wallet"in e&&r(0,i=e.wallet)},[i,n,function(){Rm.next({inProgress:!1,actionRequired:""})}]}var Ww=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,Vw,Hw,tv,{wallet:0},Bw),n}return O(r)}(Sm);function Gw(e){yv(e,"svelte-g9s19b",".flex{display:flex}.inline-flex{display:inline-flex}.flex-column{flex-direction:column}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-center{justify-content:center}.justify-start{justify-content:flex-start}.justify-between{justify-content:space-between}.justify-end{justify-content:flex-end}.justify-around{justify-content:space-around}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.pointer{cursor:pointer}.shadow-1{box-shadow:var(--onboard-shadow-1, var(--shadow-1))}.w-100{width:100%}*{box-sizing:border-box}input{background:var(--onboard-white, var(--white))}input{width:100%;padding:0.5rem 1rem;outline:2px solid var(--onboard-gray-200, var(--gray-200));border:none;border-radius:8px;font-size:1rem;line-height:1.5;color:var(--onboard-gray-600, var(--gray-600));transition:all 200ms ease-in-out}input[type='checkbox']{-webkit-appearance:none;width:auto;background:var(--onboard-white, var(--white));outline:1px solid var(--onboard-gray-300, var(--gray-300));border:none;padding:0.5em;border-radius:3px;display:flex;justify-content:center;align-items:center;position:relative;cursor:pointer}input[type='checkbox']:hover{border-color:var(\n      --onboard-checkbox-background,\n      var(--onboard-primary-500, var(--primary-500))\n    )}input[type='checkbox']:checked{background:var(\n      --onboard-checkbox-background,\n      var(--onboard-primary-500, var(--primary-500))\n    );border-color:var(\n      --onboard-checkbox-background,\n      var(--onboard-primary-500, var(--primary-500))\n    );color:var(--onboard-checkbox-color, var(--onboard-white, var(--white)))}input[type='checkbox']:checked:after{content:url(\"data:image/svg+xml,%3Csvg width='0.885em' height='0.6em' viewBox='0 0 14 11' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 6L5 11L14 2L12.59 0.58L5 8.17L1.41 4.59L0 6Z' fill='white'/%3E%3C/svg%3E\");font-size:12px;position:absolute;color:var(--onboard-checkbox-color, var(--onboard-white, var(--white)))}input:hover{border-color:var(\n      --onboard-checkbox-color,\n      var(--onboard-white, var(--white))\n    )}input:focus{border-color:var(--onboard-primary-500, var(--primary-500));box-shadow:0 0 1px 1px\n      var(\n        --onboard-checkbox-background,\n        var(--onboard-primary-500, var(--primary-500))\n      );box-shadow:0 0 0 1px -moz-mac-focusring}input:disabled, textarea:disabled, select:disabled{background:var(--gray-100)}input::-moz-focus-inner{outline:0;padding:0;margin-top:-2px;margin-bottom:-2px}a{color:var(\n      --onboard-link-color,\n      var(--onboard-primary-500, var(--primary-500))\n    );text-decoration:none}a:hover{text-decoration:underline}button{display:flex;align-items:center;justify-content:center;padding:calc(var(--onboard-spacing-4, var(--spacing-4)) - 1px);border-radius:24px;cursor:pointer;font:inherit;border:none;transition:background-color 150ms ease-in-out, color 150ms ease-in-out}.onboard-button-primary{background:var(--onboard-white, var(--white));padding:calc(var(--onboard-spacing-5, var(--spacing-5)) - 1px)\n      calc(var(--onboard-spacing-4, var(--spacing-4)) - 1px);color:var(--onboard-gray-500, var(--gray-500));font-size:var(--onboard-font-size-6, var(--font-size-6));line-height:var(--onboard-font-line-height-3, var(--font-line-height-3));border:1px solid var(--onboard-gray-500, var(--gray-500));font-weight:600}.button-neutral-solid{width:100%;border-radius:8px;background:var(--onboard-gray-500, var(--gray-500));color:var(--onboard-white, var(--white));line-height:var(--onboard-font-line-height-3, var(--font-line-height-3))}.button-neutral-solid-b{width:100%;background:var(--onboard-gray-100, var(--gray-100));color:var(--onboard-gray-500, var(--gray-500));line-height:var(--onboard-font-line-height-3, var(--font-line-height-3))}button.rounded{border-radius:24px}.button-neutral-solid:hover{background:var(--onboard-gray-700, var(--gray-700))}.button-neutral-solid-b:hover{background:var(--onboard-gray-200, var(--gray-200))}.button-neutral-solid:active{color:var(--onboard-gray-300, var(--gray-300))}.button-neutral-solid-b:active{color:var(--onboard-gray-600, var(--gray-600));background:var(--onboard-gray-300, var(--gray-300))}.container.svelte-g9s19b{padding:16px;font-family:var(--onboard-font-family-normal, var(--font-family-normal));pointer-events:none;touch-action:none;width:100%}.z-indexed.svelte-g9s19b{z-index:var(--account-center-z-index)}@media all and (min-width: 428px){.container.svelte-g9s19b{max-width:348px}}")}function Kw(e){var t,r;return t=new Nw({props:{autoSelect:e[8].autoSelect}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n={};256&r&&(n.autoSelect=e[8].autoSelect),t.$set(n)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Zw(e){var t,r;return t=new Ww({props:{wallet:e[8].actionRequired}}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},p:function(e,r){var n={};256&r&&(n.wallet=e[8].actionRequired),t.$set(n)},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Yw(e){var t,r;return t=new Lw({}),{c:function(){_m(t.$$.fragment)},m:function(e,n){km(t,e,n),r=!0},i:function(e){r||(hm(t.$$.fragment,e),r=!0)},o:function(e){dm(t.$$.fragment,e),r=!1},d:function(e){xm(t,e)}}}function Jw(e){var t;return{c:function(){Nv(t=Av("div"),"class","container flex flex-column fixed z-indexed svelte-g9s19b"),Nv(t,"style","top: 0; right: 0; "+("mobile"===e[11].type?"padding-bottom: 0;":"")),Nv(t,"id","w3o-transaction-preview-container")},m:function(e,r){kv(e,t,r)},p:Kp,d:function(e){e&&xv(t)}}}function Qw(e){var t,r,n,i,a,o,s,u,c=e[3].position.includes("bottom")&&e[1].position.includes("bottom")&&e[7],l=e[1].position.includes("bottom"),f=e[1].position.includes("top"),h=e[3].position.includes("top")&&e[1].position.includes("top")&&e[7],d=c&&Xw(e),p=l&&n_(),v={ctx:e,current:null,token:null,hasCatch:!1,pending:o_,then:a_,catch:i_,value:23,blocks:[,,,]};gm(e[16],v);var m=f&&s_(),g=h&&u_(e);return{c:function(){t=Av("div"),d&&d.c(),r=Ov(),p&&p.c(),n=Ov(),i=Av("div"),v.block.c(),a=Ov(),m&&m.c(),o=Ov(),g&&g.c(),Nv(i,"id","account-center-with-notify"),Nv(t,"class","container flex flex-column fixed z-indexed svelte-g9s19b"),Nv(t,"style",s=e[15](S_)[e[1].position]+"; "+("mobile"===e[11].type&&e[1].position.includes("top")?"padding-bottom: 0;":"mobile"===e[11].type&&e[1].position.includes("bottom")?"padding-top:0;":""))},m:function(e,s){kv(e,t,s),d&&d.m(t,null),gv(t,r),p&&p.m(t,null),gv(t,n),gv(t,i),v.block.m(i,v.anchor=null),v.mount=function(){return i},v.anchor=null,gv(t,a),m&&m.m(t,null),gv(t,o),g&&g.m(t,null),u=!0},p:function(i,a){e=i,138&a&&(c=e[3].position.includes("bottom")&&e[1].position.includes("bottom")&&e[7]),c?d?(d.p(e,a),138&a&&hm(d,1)):((d=Xw(e)).c(),hm(d,1),d.m(t,r)):d&&(lm(),dm(d,1,1,(function(){d=null})),fm()),2&a&&(l=e[1].position.includes("bottom")),l?p||((p=n_()).c(),p.m(t,n)):p&&(p.d(1),p=null),ym(v,e,a),2&a&&(f=e[1].position.includes("top")),f?m||((m=s_()).c(),m.m(t,o)):m&&(m.d(1),m=null),138&a&&(h=e[3].position.includes("top")&&e[1].position.includes("top")&&e[7]),h?g?(g.p(e,a),138&a&&hm(g,1)):((g=u_(e)).c(),hm(g,1),g.m(t,null)):g&&(lm(),dm(g,1,1,(function(){g=null})),fm()),(!u||2&a&&s!==(s=e[15](S_)[e[1].position]+"; "+("mobile"===e[11].type&&e[1].position.includes("top")?"padding-bottom: 0;":"mobile"===e[11].type&&e[1].position.includes("bottom")?"padding-top:0;":"")))&&Nv(t,"style",s)},i:function(e){u||(hm(d),hm(v.block),hm(g),u=!0)},o:function(e){dm(d);for(var t=0;t<3;t+=1){dm(v.blocks[t])}dm(g),u=!1},d:function(e){e&&xv(t),d&&d.d(),p&&p.d(),v.block.d(),v.token=null,v=null,m&&m.d(),g&&g.d()}}}function Xw(e){var t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:r_,then:t_,catch:e_,value:22,blocks:[,,,]};return gm(e[17],n),{c:function(){t=Iv(),n.block.c()},m:function(e,i){kv(e,t,i),n.block.m(e,n.anchor=i),n.mount=function(){return t.parentNode},n.anchor=t,r=!0},p:function(t,r){ym(n,e=t,r)},i:function(e){r||(hm(n.block),r=!0)},o:function(e){for(var t=0;t<3;t+=1){dm(n.blocks[t])}r=!1},d:function(e){e&&xv(t),n.block.d(e),n.token=null,n=null}}}function e_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function t_(e){var t,r,n=e[22]&&function(e){var t,r,n,i=e[22];function a(e){return{props:{notifications:e[10],position:e[3].position,sharedContainer:e[0]}}}i&&(t=Lv(i,a(e)));return{c:function(){t&&_m(t.$$.fragment),r=Iv()},m:function(e,i){t&&km(t,e,i),kv(e,r,i),n=!0},p:function(e,n){var o={};if(1024&n&&(o.notifications=e[10]),8&n&&(o.position=e[3].position),1&n&&(o.sharedContainer=e[0]),i!==(i=e[22])){if(t){lm();var s=t;dm(s.$$.fragment,1,0,(function(){xm(s,1)})),fm()}i?(_m((t=Lv(i,a(e))).$$.fragment),hm(t.$$.fragment,1),km(t,r.parentNode,r)):t=null}else i&&t.$set(o)},i:function(e){n||(t&&hm(t.$$.fragment,e),n=!0)},o:function(e){t&&dm(t.$$.fragment,e),n=!1},d:function(e){e&&xv(r),t&&xm(t,e)}}}(e);return{c:function(){n&&n.c(),t=Iv()},m:function(e,i){n&&n.m(e,i),kv(e,t,i),r=!0},p:function(e,t){e[22]&&n.p(e,t)},i:function(e){r||(hm(n),r=!0)},o:function(e){dm(n),r=!1},d:function(e){n&&n.d(e),e&&xv(t)}}}function r_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function n_(e){var t;return{c:function(){Nv(t=Av("div"),"id","w3o-transaction-preview-container"),Mv(t,"margin-bottom","8px")},m:function(e,r){kv(e,t,r)},d:function(e){e&&xv(t)}}}function i_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function a_(e){var t,r,n=e[23]&&function(e){var t,r,n,i=e[23];function a(e){return{}}i&&(t=Lv(i,a()));return{c:function(){t&&_m(t.$$.fragment),r=Iv()},m:function(e,i){t&&km(t,e,i),kv(e,r,i),n=!0},p:function(e,n){if(i!==(i=e[23])){if(t){lm();var o=t;dm(o.$$.fragment,1,0,(function(){xm(o,1)})),fm()}i?(_m((t=Lv(i,a())).$$.fragment),hm(t.$$.fragment,1),km(t,r.parentNode,r)):t=null}},i:function(e){n||(t&&hm(t.$$.fragment,e),n=!0)},o:function(e){t&&dm(t.$$.fragment,e),n=!1},d:function(e){e&&xv(r),t&&xm(t,e)}}}(e);return{c:function(){n&&n.c(),t=Iv()},m:function(e,i){n&&n.m(e,i),kv(e,t,i),r=!0},p:function(e,t){e[23]&&n.p(e,t)},i:function(e){r||(hm(n),r=!0)},o:function(e){dm(n),r=!1},d:function(e){n&&n.d(e),e&&xv(t)}}}function o_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function s_(e){var t;return{c:function(){Nv(t=Av("div"),"id","w3o-transaction-preview-container"),Mv(t,"margin-top","8px")},m:function(e,r){kv(e,t,r)},d:function(e){e&&xv(t)}}}function u_(e){var t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:f_,then:l_,catch:c_,value:22,blocks:[,,,]};return gm(e[17],n),{c:function(){t=Iv(),n.block.c()},m:function(e,i){kv(e,t,i),n.block.m(e,n.anchor=i),n.mount=function(){return t.parentNode},n.anchor=t,r=!0},p:function(t,r){ym(n,e=t,r)},i:function(e){r||(hm(n.block),r=!0)},o:function(e){for(var t=0;t<3;t+=1){dm(n.blocks[t])}r=!1},d:function(e){e&&xv(t),n.block.d(e),n.token=null,n=null}}}function c_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function l_(e){var t,r,n=e[22]&&function(e){var t,r,n,i=e[22];function a(e){return{props:{notifications:e[10],position:e[3].position,sharedContainer:e[0]}}}i&&(t=Lv(i,a(e)));return{c:function(){t&&_m(t.$$.fragment),r=Iv()},m:function(e,i){t&&km(t,e,i),kv(e,r,i),n=!0},p:function(e,n){var o={};if(1024&n&&(o.notifications=e[10]),8&n&&(o.position=e[3].position),1&n&&(o.sharedContainer=e[0]),i!==(i=e[22])){if(t){lm();var s=t;dm(s.$$.fragment,1,0,(function(){xm(s,1)})),fm()}i?(_m((t=Lv(i,a(e))).$$.fragment),hm(t.$$.fragment,1),km(t,r.parentNode,r)):t=null}else i&&t.$set(o)},i:function(e){n||(t&&hm(t.$$.fragment,e),n=!0)},o:function(e){t&&dm(t.$$.fragment,e),n=!1},d:function(e){e&&xv(r),t&&xm(t,e)}}}(e);return{c:function(){n&&n.c(),t=Iv()},m:function(e,i){n&&n.m(e,i),kv(e,t,i),r=!0},p:function(e,t){e[22]&&n.p(e,t)},i:function(e){r||(hm(n),r=!0)},o:function(e){dm(n),r=!1},d:function(e){n&&n.d(e),e&&xv(t)}}}function f_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function h_(e){var t,r,n,i,a,o,s=e[1].position.includes("bottom"),u=e[1].position.includes("top"),c=s&&d_(),l=e[1].enabled&&e[2].length&&p_(e),f=u&&y_();return{c:function(){t=Av("div"),c&&c.c(),r=Ov(),n=Av("div"),l&&l.c(),i=Ov(),f&&f.c(),Nv(t,"class","container flex flex-column fixed z-indexed svelte-g9s19b"),Nv(t,"style",a=e[15](S_)[e[1].position]+"; "+("mobile"===e[11].type&&e[1].position.includes("top")?"padding-bottom: 0;":"mobile"===e[11].type&&e[1].position.includes("bottom")?"padding-top:0;":""))},m:function(e,a){kv(e,t,a),c&&c.m(t,null),gv(t,r),gv(t,n),l&&l.m(n,null),gv(t,i),f&&f.m(t,null),o=!0},p:function(e,i){2&i&&(s=e[1].position.includes("bottom")),s?c||((c=d_()).c(),c.m(t,r)):c&&(c.d(1),c=null),e[1].enabled&&e[2].length?l?(l.p(e,i),6&i&&hm(l,1)):((l=p_(e)).c(),hm(l,1),l.m(n,null)):l&&(lm(),dm(l,1,1,(function(){l=null})),fm()),2&i&&(u=e[1].position.includes("top")),u?f||((f=y_()).c(),f.m(t,null)):f&&(f.d(1),f=null),(!o||2&i&&a!==(a=e[15](S_)[e[1].position]+"; "+("mobile"===e[11].type&&e[1].position.includes("top")?"padding-bottom: 0;":"mobile"===e[11].type&&e[1].position.includes("bottom")?"padding-top:0;":"")))&&Nv(t,"style",a)},i:function(e){o||(hm(l),o=!0)},o:function(e){dm(l),o=!1},d:function(e){e&&xv(t),c&&c.d(),l&&l.d(),f&&f.d()}}}function d_(e){var t;return{c:function(){Nv(t=Av("div"),"id","w3o-transaction-preview-container"),Mv(t,"margin-bottom","8px")},m:function(e,r){kv(e,t,r)},d:function(e){e&&xv(t)}}}function p_(e){var t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:g_,then:m_,catch:v_,value:23,blocks:[,,,]};return gm(e[16],n),{c:function(){t=Iv(),n.block.c()},m:function(e,i){kv(e,t,i),n.block.m(e,n.anchor=i),n.mount=function(){return t.parentNode},n.anchor=t,r=!0},p:function(t,r){ym(n,e=t,r)},i:function(e){r||(hm(n.block),r=!0)},o:function(e){for(var t=0;t<3;t+=1){dm(n.blocks[t])}r=!1},d:function(e){e&&xv(t),n.block.d(e),n.token=null,n=null}}}function v_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function m_(e){var t,r,n=e[23]&&function(e){var t,r,n,i=e[23];function a(e){return{}}i&&(t=Lv(i,a()));return{c:function(){t&&_m(t.$$.fragment),r=Iv()},m:function(e,i){t&&km(t,e,i),kv(e,r,i),n=!0},p:function(e,n){if(i!==(i=e[23])){if(t){lm();var o=t;dm(o.$$.fragment,1,0,(function(){xm(o,1)})),fm()}i?(_m((t=Lv(i,a())).$$.fragment),hm(t.$$.fragment,1),km(t,r.parentNode,r)):t=null}},i:function(e){n||(t&&hm(t.$$.fragment,e),n=!0)},o:function(e){t&&dm(t.$$.fragment,e),n=!1},d:function(e){e&&xv(r),t&&xm(t,e)}}}(e);return{c:function(){n&&n.c(),t=Iv()},m:function(e,i){n&&n.m(e,i),kv(e,t,i),r=!0},p:function(e,t){e[23]&&n.p(e,t)},i:function(e){r||(hm(n),r=!0)},o:function(e){dm(n),r=!1},d:function(e){n&&n.d(e),e&&xv(t)}}}function g_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function y_(e){var t;return{c:function(){Nv(t=Av("div"),"id","w3o-transaction-preview-container"),Mv(t,"margin-top","8px")},m:function(e,r){kv(e,t,r)},d:function(e){e&&xv(t)}}}function b_(e){var t,r,n,i,a,o=e[3].position.includes("top"),s=e[3].position.includes("bottom"),u=o&&w_(),c={ctx:e,current:null,token:null,hasCatch:!1,pending:x_,then:k_,catch:__,value:22,blocks:[,,,]};gm(e[17],c);var l=s&&E_();return{c:function(){t=Av("div"),u&&u.c(),r=Ov(),c.block.c(),n=Ov(),l&&l.c(),Nv(t,"class","container flex flex-column fixed z-indexed svelte-g9s19b"),Nv(t,"style",i=e[15](O_)[e[3].position]+"; "+("mobile"===e[11].type&&e[3].position.includes("top")?"padding-bottom: 0;":"mobile"===e[11].type&&e[3].position.includes("bottom")?"padding-top:0;":""))},m:function(e,i){kv(e,t,i),u&&u.m(t,null),gv(t,r),c.block.m(t,c.anchor=null),c.mount=function(){return t},c.anchor=n,gv(t,n),l&&l.m(t,null),a=!0},p:function(n,f){e=n,8&f&&(o=e[3].position.includes("top")),o?u||((u=w_()).c(),u.m(t,r)):u&&(u.d(1),u=null),ym(c,e,f),8&f&&(s=e[3].position.includes("bottom")),s?l||((l=E_()).c(),l.m(t,null)):l&&(l.d(1),l=null),(!a||8&f&&i!==(i=e[15](O_)[e[3].position]+"; "+("mobile"===e[11].type&&e[3].position.includes("top")?"padding-bottom: 0;":"mobile"===e[11].type&&e[3].position.includes("bottom")?"padding-top:0;":"")))&&Nv(t,"style",i)},i:function(e){a||(hm(c.block),a=!0)},o:function(e){for(var t=0;t<3;t+=1){dm(c.blocks[t])}a=!1},d:function(e){e&&xv(t),u&&u.d(),c.block.d(),c.token=null,c=null,l&&l.d()}}}function w_(e){var t;return{c:function(){Nv(t=Av("div"),"id","w3o-transaction-preview-container")},m:function(e,r){kv(e,t,r)},d:function(e){e&&xv(t)}}}function __(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function k_(e){var t,r,n=e[22]&&function(e){var t,r,n,i=e[22];function a(e){return{props:{notifications:e[10],position:e[3].position,sharedContainer:e[0]}}}i&&(t=Lv(i,a(e)));return{c:function(){t&&_m(t.$$.fragment),r=Iv()},m:function(e,i){t&&km(t,e,i),kv(e,r,i),n=!0},p:function(e,n){var o={};if(1024&n&&(o.notifications=e[10]),8&n&&(o.position=e[3].position),1&n&&(o.sharedContainer=e[0]),i!==(i=e[22])){if(t){lm();var s=t;dm(s.$$.fragment,1,0,(function(){xm(s,1)})),fm()}i?(_m((t=Lv(i,a(e))).$$.fragment),hm(t.$$.fragment,1),km(t,r.parentNode,r)):t=null}else i&&t.$set(o)},i:function(e){n||(t&&hm(t.$$.fragment,e),n=!0)},o:function(e){t&&dm(t.$$.fragment,e),n=!1},d:function(e){e&&xv(r),t&&xm(t,e)}}}(e);return{c:function(){n&&n.c(),t=Iv()},m:function(e,i){n&&n.m(e,i),kv(e,t,i),r=!0},p:function(e,t){e[22]&&n.p(e,t)},i:function(e){r||(hm(n),r=!0)},o:function(e){dm(n),r=!1},d:function(e){n&&n.d(e),e&&xv(t)}}}function x_(e){return{c:Kp,m:Kp,p:Kp,i:Kp,o:Kp,d:Kp}}function E_(e){var t;return{c:function(){Nv(t=Av("div"),"id","w3o-transaction-preview-container")},m:function(e,r){kv(e,t,r)},d:function(e){e&&xv(t)}}}function A_(e){var t,r,n,i,a,o,s,u,c=e[8].inProgress&&Kw(e),l=e[8].actionRequired&&Zw(e),f=e[9]&&Yw(),h=!e[1].enabled&&!e[3].enabled&&Jw(e),d=e[4]&&Qw(e),p=e[5]&&h_(e),v=e[6]&&b_(e);return{c:function(){c&&c.c(),t=Ov(),l&&l.c(),r=Ov(),f&&f.c(),n=Ov(),h&&h.c(),i=Ov(),d&&d.c(),a=Ov(),p&&p.c(),o=Ov(),v&&v.c(),s=Iv()},m:function(e,m){c&&c.m(e,m),kv(e,t,m),l&&l.m(e,m),kv(e,r,m),f&&f.m(e,m),kv(e,n,m),h&&h.m(e,m),kv(e,i,m),d&&d.m(e,m),kv(e,a,m),p&&p.m(e,m),kv(e,o,m),v&&v.m(e,m),kv(e,s,m),u=!0},p:function(e,u){var m=_(u,1)[0];e[8].inProgress?c?(c.p(e,m),256&m&&hm(c,1)):((c=Kw(e)).c(),hm(c,1),c.m(t.parentNode,t)):c&&(lm(),dm(c,1,1,(function(){c=null})),fm()),e[8].actionRequired?l?(l.p(e,m),256&m&&hm(l,1)):((l=Zw(e)).c(),hm(l,1),l.m(r.parentNode,r)):l&&(lm(),dm(l,1,1,(function(){l=null})),fm()),e[9]?f?512&m&&hm(f,1):((f=Yw()).c(),hm(f,1),f.m(n.parentNode,n)):f&&(lm(),dm(f,1,1,(function(){f=null})),fm()),e[1].enabled||e[3].enabled?h&&(h.d(1),h=null):h?h.p(e,m):((h=Jw(e)).c(),h.m(i.parentNode,i)),e[4]?d?(d.p(e,m),16&m&&hm(d,1)):((d=Qw(e)).c(),hm(d,1),d.m(a.parentNode,a)):d&&(lm(),dm(d,1,1,(function(){d=null})),fm()),e[5]?p?(p.p(e,m),32&m&&hm(p,1)):((p=h_(e)).c(),hm(p,1),p.m(o.parentNode,o)):p&&(lm(),dm(p,1,1,(function(){p=null})),fm()),e[6]?v?(v.p(e,m),64&m&&hm(v,1)):((v=b_(e)).c(),hm(v,1),v.m(s.parentNode,s)):v&&(lm(),dm(v,1,1,(function(){v=null})),fm())},i:function(e){u||(hm(c),hm(l),hm(f),hm(d),hm(p),hm(v),u=!0)},o:function(e){dm(c),dm(l),dm(f),dm(d),dm(p),dm(v),u=!1},d:function(e){c&&c.d(e),e&&xv(t),l&&l.d(e),e&&xv(r),f&&f.d(e),e&&xv(n),h&&h.d(e),e&&xv(i),d&&d.d(e),e&&xv(a),p&&p.d(e),e&&xv(o),v&&v.d(e),e&&xv(s)}}}var S_="account-center",O_="notify-onboard-container";function I_(e,t,r){var n,i,a,s,l,f,h,d,p,v,m,g;nv(e,Nm,(function(e){return r(2,d=e)})),nv(e,Rm,(function(e){return r(8,v=e)})),nv(e,Cm,(function(e){return r(9,m=e)}));var y=xp,b=y.device,w=y.containerElements,_=Gp.select("accountCenter").pipe(er(Gp.get().accountCenter),Xt(1));nv(e,_,(function(e){return r(1,h=e)}));var k=Gp.select("notify").pipe(er(Gp.get().notify),Xt(1));nv(e,k,(function(e){return r(3,p=e)}));var x=Gp.select("notifications").pipe(er(Gp.get().notifications));nv(e,x,(function(e){return r(10,g=e)}));var E=h.enabled?S((function(){return c.import("./Index-a8f5e52f-legacy-15690dc9.js")}),void 0,c.meta.url).then((function(e){return e.default})):Promise.resolve(null),A=p.enabled?S((function(){return c.import("./Index-66e3b3f1-legacy-d4b2418b.js")}),void 0,c.meta.url).then((function(e){return e.default})):Promise.resolve(null),O=h.enabled&&w&&w.accountCenter;O&&function(e,t,r,n){var i=e.attachShadow({mode:"open"}),a=document.querySelector("onboard-v2").shadowRoot.styleSheets,s=new CSSStyleSheet;Object.values(a).forEach((function(e){Object.values(e.cssRules).forEach((function(e){return s.insertRule(e.cssText)}))})),i.adoptedStyleSheets=[s];var c=document.querySelector(t);if(c.appendChild(e),!c)throw new Error("Element with query ".concat(t," does not exist."));var l=function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:(t=e.sent)&&new t({target:i,props:{settings:n,mountInContainer:!0}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l()}(document.createElement("onboard-account-center"),O,E,h);return e.$$.update=function(){10&e.$$.dirty&&r(0,n=!O&&h.enabled&&p.enabled&&p.position===h.position),10&e.$$.dirty&&r(7,i="mobile"===b.type||h.position===p.position),10&e.$$.dirty&&r(18,a=p.position.includes("bottom")&&h.position.includes("bottom")||p.position.includes("top")&&h.position.includes("top")),262158&e.$$.dirty&&r(6,s=p.enabled&&(!h.enabled||O||p.position!==h.position&&"mobile"!==b.type||"mobile"===b.type&&!a||!d.length)),262158&e.$$.dirty&&r(5,l=h.enabled&&(!p.enabled||p.position!==h.position&&"mobile"!==b.type||"mobile"===b.type&&!a)&&d.length),262159&e.$$.dirty&&r(4,f=p.enabled&&h.enabled&&(n||"mobile"===b.type&&a)&&d.length)},[n,h,d,p,f,l,s,i,v,m,g,b,_,k,x,function(e){return{topLeft:"\n        top: var(--".concat(e,"-position-top, 0); \n        left: var(--").concat(e,"-position-left, 0);"),topRight:"\n        top: var(--".concat(e,"-position-top, 0); \n        right: var(--").concat(e,"-position-right, 0);"),bottomRight:"\n        bottom: var(--".concat(e,"-position-bottom, 0); \n        right: var(--").concat(e,"-position-right, 0);"),bottomLeft:"\n        bottom: var(--".concat(e,"-position-bottom, 0); \n        left: var(--").concat(e,"-position-left, 0);")}},E,A,a]}var R_,C_=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),Am(d(n=t.call(this)),e,I_,A_,tv,{},Gw),n}return O(r)}(Sm);function N_(){return N_=u(o().mark((function e(t){var r,n,i,a,s,u,c,l,f,h,d,p,v,m,g,y,b,w,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Pa(bg,t))){e.next=3;break}throw r;case 3:return n=t.sendTransaction,i=t.estimateGas,a=t.gasPrice,s=t.balance,u=t.txDetails,c=t.txApproveReminderTimeout,l=c&&c>3e3?c:15e3,e.next=7,$_(i,a);case 7:if(f=e.sent,h=_(f,2),d=h[0],p=h[1],v=j_(na()),m=new Ia(u&&u.value||0),s&&d&&p&&d.times(p).plus(m).gt(new Ia(s))&&("nsfFail",Fg(P_("nsfFail",v))),(g=R_.find((function(e){return"txRequest"===e.eventCode})))&&("txAwaitingApproval",Fg(P_("txAwaitingApproval",g.id))),setTimeout((function(){var e=R_.find((function(e){return e.id===v&&"txRequest"===e.eventCode}));if(e){Fg(P_("txConfirmReminder",e.id))}}),l),"txRequest",Fg(P_("txRequest",v)),n){e.next=21;break}return e.abrupt("return",v);case 21:return e.prev=21,e.next=24,n();case 24:y=e.sent,e.next=33;break;case 27:return e.prev=27,e.t0=e.catch(21),b=L_(e.t0),w=b.eventCode,k=b.errorMsg,Fg(P_(w,v)),console.error(k),e.abrupt("return");case 33:if(qg(v),!y){e.next=36;break}return e.abrupt("return",y);case 36:return e.abrupt("return");case 37:case"end":return e.stop()}}),e,null,[[21,27]])}))),N_.apply(this,arguments)}Gp.select("notifications").subscribe((function(e){R_=e}));var P_=function(e,t){return{eventCode:e,type:wy(e),id:t,key:M_(t,e),message:T_(e),startTime:Date.now(),network:Object.keys(gp).find((function(e){return gp[e]===Gp.get().chains[0].id})),autoDismiss:0}},M_=function(e,t){return"".concat(e,"-").concat(t)},j_=function(e){return"".concat(e,"-preflight")},T_=function(e){var t=Zg.notify;return t.transaction,t.transaction[e]};function L_(e){if(!e.stack||!e.message)return{eventCode:"txError",errorMsg:"An unknown error occured"};var t=e.stack||e.message;return t.includes("User denied transaction signature")?{eventCode:"txSendFail",errorMsg:"User denied transaction signature"}:t.includes("transaction underpriced")?{eventCode:"txUnderpriced",errorMsg:"Transaction is under priced"}:{eventCode:"txError",errorMsg:t}}var $_=function(){var e=u(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return",Promise.resolve([]));case 2:if((n=t()).then){e.next=5;break}throw new Error("The `estimateGas` function must return a Promise");case 5:if((i=r()).then){e.next=8;break}throw new Error("The `gasPrice` function must return a Promise");case 8:return e.abrupt("return",Promise.all([n,i]).then((function(e){var t=_(e,2),r=t[0],n=t[1];if("string"!=typeof r)throw new Error("The Promise returned from calling 'estimateGas' must resolve with a value of type 'string'. Received a value of: ".concat(r," with a type: ").concat(typeof r));if("string"!=typeof n)throw new Error("The Promise returned from calling 'gasPrice' must resolve with a value of type 'string'. Received a value of: ".concat(n," with a type: ").concat(typeof n));return[new Ia(r),new Ia(n)]})).catch((function(e){throw new Error("There was an error getting gas estimates: ".concat(e))})));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),D_={connectWallet:Gg,disconnectWallet:Sy,setChain:Iy,state:{get:Gp.get,select:Gp.select,actions:{setWalletModules:zg,setLocale:function(e){var t=Sg(e);if(t)throw t;Wp({type:Dp,payload:e})},updateNotify:Ug,customNotification:function(e){var t=Rg(e);if(t)throw t;var r="customNotification-".concat(na()),n=l(l({},e),{},{id:r,key:r});Bg(n);var i=function(){return qg(n.id)};return Bg(n),{dismiss:i,update:function t(r){var a=Rg(e);if(a)throw a;return Bg(l(l({},r),{},{id:n.id,key:n.key})),{dismiss:i,update:t}}}},preflightNotifications:function(e){return N_.apply(this,arguments)},updateBalances:py,updateAccountCenter:$g,setPrimaryWallet:Tg,updateTheme:Vg,updateAppMetadata:Wg}}};function U_(t){if("undefined"==typeof window)return D_;if(t){var r=Pa(dg,t);if(r)throw r}var a=t.wallets,s=t.chains,c=t.appMetadata,d=t.i18n,v=t.accountCenter,m=t.apiKey,g=t.notify,y=t.gas,b=t.connect,w=t.containerElements,_=t.transactionPreview,k=t.theme,x=t.disableFontDownload,E=t.unstoppableResolution;w&&Ep({containerElements:w});var S=xp,I=S.device,R=S.svelteInstance;if(R&&(console.warn("Re-initializing Onboard and resetting back to initial state"),Om.next()),function(e){if(e){var t=e.en;ui("en",Xd(Zg,t||{}));var r=Object.keys(e).filter((function(e){return"en"!==e}));r.forEach((function(t){var r=e[t];r&&ui(t,r)}))}else ui("en",Zg);ki({fallbackLocale:"en",initialLocale:$i()})}(d),function(e){var t={type:Ip,payload:e.map((function(e){var t=e.namespace,r=void 0===t?"evm":t,a=e.id,o=e.rpcUrl;return l(l({},i(e,n)),{},{namespace:r,id:a.toLowerCase(),rpcUrl:o?o.trim():null})}))};Wp(t)}(function(t){return t.map((function(t){var r=t.id,n=i(t,e);return l({id:mp(r)},n)}))}(s)),void 0!==typeof b&&Dg(b),void 0!==v){var C,N=v.hideTransactionProtectionBtn,P=v.transactionProtectionInfoLink;"mobile"===I.type?C=l(l({},Ap.accountCenter),{},{hideTransactionProtectionBtn:N,transactionProtectionInfoLink:P},v.mobile?v.mobile:{}):v.desktop&&(C=l(l({},Ap.accountCenter),{},{hideTransactionProtectionBtn:N,transactionProtectionInfoLink:P},v.desktop)),$g(C)}if(void 0!==g)if("desktop"in g||"mobile"in g){var M,j=function(e){return Pa(ag,e)}(g);if(j)throw j;(!g.desktop||g.desktop&&!g.desktop.position)&&v&&v.desktop&&v.desktop.position&&(g.desktop.position=v.desktop.position),(!g.mobile||g.mobile&&!g.mobile.position)&&v&&v.mobile&&v.mobile.position&&(g.mobile.position=v.mobile.position),"mobile"===I.type&&g.mobile?M=l(l({},Ap.notify),g.mobile):g.desktop&&(M=l(l({},Ap.notify),g.desktop)),Ug(M)}else{var T=Og(g);if(T)throw T;Ug(l(l({},Ap.notify),g))}else Ug(Ap.notify);var L=R||function(e,t){var r=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.call(this)}return O(r)}(p(HTMLElement));customElements.get("onboard-v2")||customElements.define("onboard-v2",r);F_(e,t)||B_();var n=document.createElement("onboard-v2"),i=n.attachShadow({mode:"open"});n.style.all="initial",i.innerHTML="\n\n  <style>\n    :host {\n          /* COLORS */\n          --white: white;\n          --black: black;\n          --primary-1: #2F80ED;\n          --primary-100: #eff1fc;\n          --primary-200: #d0d4f7;\n          --primary-300: #b1b8f2;\n          --primary-400: #929bed;\n          --primary-500: #6370e5;\n          --primary-600: #454ea0;\n          --primary-700: #323873;\n          --gray-100: #ebebed;\n          --gray-200: #c2c4c9;\n          --gray-300: #999ca5;\n          --gray-400: #707481;\n          --gray-500: #33394b;\n          --gray-600: #242835;\n          --gray-700: #1a1d26;\n          --success-100: #d1fae3;\n          --success-200: #baf7d5;\n          --success-300: #a4f4c6;\n          --success-400: #8df2b8;\n          --success-500: #5aec99;\n          --success-600: #18ce66;\n          --success-700: #129b4d;\n          --danger-100: #ffe5e6;\n          --danger-200: #ffcccc;\n          --danger-300: #ffb3b3;\n          --danger-400: #ff8080;\n          --danger-500: #ff4f4f;\n          --danger-600: #cc0000;\n          --danger-700: #660000;\n          --warning-100: #ffefcc;\n          --warning-200: #ffe7b3;\n          --warning-300: #ffd780;\n          --warning-400: #ffc74c;\n          --warning-500: #ffaf00;\n          --warning-600: #cc8c00;\n          --warning-700: #664600;\n\n          /* FONTS */\n          --font-family-normal: var(--w3o-font-family, Inter, sans-serif);\n\n          --font-size-1: 3rem;\n          --font-size-2: 2.25rem;\n          --font-size-3: 1.5rem;\n          --font-size-4: 1.25rem;\n          --font-size-5: 1rem;\n          --font-size-6: .875rem;\n          --font-size-7: .75rem;\n\n          --font-line-height-1: 24px;\n          --font-line-height-2: 20px;\n          --font-line-height-3: 16px;\n          --font-line-height-4: 12px;\n\n          /* SPACING */\n          --spacing-1: 3rem;\n          --spacing-2: 2rem;\n          --spacing-3: 1.5rem;\n          --spacing-4: 1rem;\n          --spacing-5: 0.5rem;\n          --spacing-6: 0.25rem;\n          --spacing-7: 0.125rem;\n\n          /* BORDER RADIUS */\n          --border-radius-1: 24px;\n          --border-radius-2: 20px;\n          --border-radius-3: 16px;\n          --border-radius-4: 12px;\n          --border-radius-5: 8px;\n\n          /* SHADOWS */\n          --shadow-0: none;\n          --shadow-1: 0px 4px 12px rgba(0, 0, 0, 0.1);\n          --shadow-2: inset 0px -1px 0px rgba(0, 0, 0, 0.1);\n          --shadow-3: 0px 4px 16px rgba(0, 0, 0, 0.2);\n\n          /* MODAL POSITIONING */\n          --modal-z-index: 10;\n          --modal-top: unset;\n          --modal-right: unset;\n          --modal-bottom: unset;\n          --modal-left: unset;\n\n          /* MODAL STYLES */\n          --modal-backdrop: rgba(0, 0, 0, 0.6);\n\n        }\n      </style>\n    ";var a=xp.containerElements.connectModal||Gp.get().accountCenter.containerElement||"body",o=document.querySelector(a);if(!o)throw new Error("Element with query ".concat(a," does not exist."));o.appendChild(n);var s=new C_({target:i});return s}(k,x);if(Ep({svelteInstance:L,apiKey:m,initialWalletInit:a,gas:y,transactionPreview:_,unstoppableResolution:E}),c&&Wg(c),m&&_){var $=function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_,e.next=3,Ey();case 3:e.t1=e.sent,e.t2=m,e.t3={containerElement:"#w3o-transaction-preview-container",sdk:e.t1,apiKey:e.t2},e.t0.init.call(e.t0,e.t3),Nm.subscribe((function(e){e.forEach((function(e){var t=e.provider;_.patchProvider(t)}))}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();$()}if(k&&Vg(k),b&&(b.autoConnectLastWallet||b.autoConnectAllPreviousWallet)){var D=wp(Sp.LAST_CONNECTED_WALLET);try{var U=JSON.parse(D);U&&Array.isArray(U)&&U.length&&q_(U,b)}catch(F){F instanceof SyntaxError&&D&&D_.connectWallet({autoSelect:{label:D,disableModals:!0}})}}return D_}var F_=function(e,t){return!!t||(!(!document.body||!getComputedStyle(document.body).getPropertyValue("--onboard-font-family-normal")&&!getComputedStyle(document.body).getPropertyValue("--w3o-font-family"))||!!e&&!("object"!=typeof e||!e["--w3o-font-family"]))},B_=function(){var e=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./index-legacy-0e080c0c.js")}),void 0,c.meta.url);case 2:t=e.sent,r=t.InterVar,(n=document.createElement("style")).innerHTML="\n    ".concat(r,"\n  "),document.body.appendChild(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q_=function(){var e=u(o().mark((function e(t,r){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],i=t,r.autoConnectAllPreviousWallet){e.next=7;break}D_.connectWallet({autoSelect:{label:i[0],disableModals:!0}}),n.push(i[0]),e.next=13;break;case 7:a=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D_.connectWallet({autoSelect:{label:i[t],disableModals:!0}});case 2:e.sent.some((function(e){return e.label===i[t]}))&&n.unshift(i[t]);case 4:case"end":return e.stop()}}),e)})),s=i.length;case 9:if(!s--){e.next=13;break}return e.delegateYield(a(s),"t0",11);case 11:e.next=9;break;case 13:_p(Sp.LAST_CONNECTED_WALLET,JSON.stringify(n));case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var z_={exports:{}};!function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,a=2,o=1/0,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",y="[object Promise]",b="[object RegExp]",w="[object Set]",_="[object String]",k="[object Symbol]",E="[object WeakMap]",A="[object ArrayBuffer]",S="[object DataView]",O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/,R=/^\./,C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,P=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[u]=j[c]=j[A]=j[l]=j[S]=j[f]=j[h]=j[d]=j[v]=j[m]=j[g]=j[b]=j[w]=j[_]=j[E]=!1;var T="object"==typeof x&&x&&x.Object===Object&&x,L="object"==typeof self&&self&&self.Object===Object&&self,$=T||L||Function("return this")(),D=t&&!t.nodeType&&t,U=D&&e&&!e.nodeType&&e,F=U&&U.exports===D&&T.process,B=function(){try{return F&&F.binding("util")}catch(e){}}(),q=B&&B.isTypedArray;function z(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,a=r+(n?1:-1);for(;n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,W,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function H(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function V(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function W(e){return e!=e}function G(e,t){return e.has(t)}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function Z(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Y(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var J,Q,X,ee=Array.prototype,te=Function.prototype,re=Object.prototype,ne=$["__core-js_shared__"],ie=(J=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",ae=te.toString,oe=re.hasOwnProperty,se=re.toString,ue=RegExp("^"+ae.call(oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=$.Symbol,le=$.Uint8Array,fe=re.propertyIsEnumerable,he=ee.splice,de=(Q=Object.keys,X=Object,function(e){return Q(X(e))}),pe=Ve($,"DataView"),ve=Ve($,"Map"),me=Ve($,"Promise"),ge=Ve($,"Set"),ye=Ve($,"WeakMap"),be=Ve(Object,"create"),we=Xe(pe),_e=Xe(ve),ke=Xe(me),xe=Xe(ge),Ee=Xe(ye),Ae=ce?ce.prototype:void 0,Se=Ae?Ae.valueOf:void 0,Oe=Ae?Ae.toString:void 0;function Ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Re(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ne(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ce;++t<r;)this.add(e[t])}function Pe(e){this.__data__=new Re(e)}function Me(e,t){var r=nt(e)||rt(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var a in e)!t&&!oe.call(e,a)||i&&("length"==a||Ge(a,n))||r.push(a);return r}function je(e,t){for(var r=e.length;r--;)if(tt(e[r][0],t))return r;return-1}function Te(e,t){for(var r=0,n=(t=Ke(t,e)?[t]:Be(t)).length;null!=e&&r<n;)e=e[Qe(t[r++])];return r&&r==n?e:void 0}function Le(e,t){return null!=e&&t in Object(e)}function $e(e,t,r,n,o){return e===t||(null==e||null==t||!st(e)&&!ut(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var d=nt(e),p=nt(t),y=c,x=c;d||(y=(y=We(e))==u?g:y);p||(x=(x=We(t))==u?g:x);var E=y==g&&!K(e),O=x==g&&!K(t),I=y==x;if(I&&!E)return s||(s=new Pe),d||lt(e)?ze(e,t,r,n,o,s):function(e,t,r,n,o,s,u){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!n(new le(e),new le(t)));case l:case f:case m:return tt(+e,+t);case h:return e.name==t.name&&e.message==t.message;case b:case _:return e==t+"";case v:var c=Z;case w:var d=s&a;if(c||(c=Y),e.size!=t.size&&!d)return!1;var p=u.get(e);if(p)return p==t;s|=i,u.set(e,t);var g=ze(c(e),c(t),n,o,s,u);return u.delete(e),g;case k:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,y,r,n,o,s);if(!(o&a)){var R=E&&oe.call(e,"__wrapped__"),C=O&&oe.call(t,"__wrapped__");if(R||C){var N=R?e.value():e,P=C?t.value():t;return s||(s=new Pe),r(N,P,n,o,s)}}if(!I)return!1;return s||(s=new Pe),function(e,t,r,n,i,o){var s=i&a,u=ft(e),c=u.length,l=ft(t),f=l.length;if(c!=f&&!s)return!1;var h=c;for(;h--;){var d=u[h];if(!(s?d in t:oe.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var v=!0;o.set(e,t),o.set(t,e);var m=s;for(;++h<c;){var g=e[d=u[h]],y=t[d];if(n)var b=s?n(y,g,d,t,e,o):n(g,y,d,e,t,o);if(!(void 0===b?g===y||r(g,y,n,i,o):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,r,n,o,s)}(e,t,$e,r,n,o))}function De(e){return!(!st(e)||function(e){return!!ie&&ie in e}(e))&&(at(e)||K(e)?ue:P).test(Xe(e))}function Ue(e){return"function"==typeof e?e:null==e?ht:"object"==typeof e?nt(e)?function(e,t){if(Ke(e)&&Ze(t))return Ye(Qe(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Te(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=Ke(t,e)?[t]:Be(t);var n,i=-1,a=t.length;for(;++i<a;){var o=Qe(t[i]);if(!(n=null!=e&&r(e,o)))break;e=e[o]}if(n)return n;a=e?e.length:0;return!!a&&ot(a)&&Ge(o,a)&&(nt(e)||rt(e))}(e,t,Le)}(r,e):$e(t,n,void 0,i|a)}}(e[0],e[1]):function(e){var t=function(e){var t=ft(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ze(i)]}return t}(e);if(1==t.length&&t[0][2])return Ye(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var o=r.length,s=o,u=!n;if(null==e)return!s;for(e=Object(e);o--;){var c=r[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=r[o])[0],f=e[l],h=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new Pe;if(n)var p=n(f,h,l,e,t,d);if(!(void 0===p?$e(h,f,n,i|a,d):p))return!1}}return!0}(r,e,t)}}(e):Ke(t=e)?function(e){return function(t){return null==t?void 0:t[e]}}(Qe(t)):function(e){return function(t){return Te(t,e)}}(t);var t}function Fe(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||re,t!==n)return de(e);var t,r,n,i=[];for(var a in Object(e))oe.call(e,a)&&"constructor"!=a&&i.push(a);return i}function Be(e){return nt(e)?e:Je(e)}Ie.prototype.clear=function(){this.__data__=be?be(null):{}},Ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ie.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return oe.call(t,e)?t[e]:void 0},Ie.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:oe.call(t,e)},Ie.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Re.prototype.clear=function(){this.__data__=[]},Re.prototype.delete=function(e){var t=this.__data__,r=je(t,e);return!(r<0)&&(r==t.length-1?t.pop():he.call(t,r,1),!0)},Re.prototype.get=function(e){var t=this.__data__,r=je(t,e);return r<0?void 0:t[r][1]},Re.prototype.has=function(e){return je(this.__data__,e)>-1},Re.prototype.set=function(e,t){var r=this.__data__,n=je(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ie,map:new(ve||Re),string:new Ie}},Ce.prototype.delete=function(e){return He(this,e).delete(e)},Ce.prototype.get=function(e){return He(this,e).get(e)},Ce.prototype.has=function(e){return He(this,e).has(e)},Ce.prototype.set=function(e,t){return He(this,e).set(e,t),this},Ne.prototype.add=Ne.prototype.push=function(e){return this.__data__.set(e,n),this},Ne.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.clear=function(){this.__data__=new Re},Pe.prototype.delete=function(e){return this.__data__.delete(e)},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Re){var i=n.__data__;if(!ve||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new Ce(i)}return n.set(e,t),this};var qe=ge&&1/Y(new ge([,-0]))[1]==o?function(e){return new ge(e)}:function(){};function ze(e,t,r,n,o,s){var u=o&a,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var h=-1,d=!0,p=o&i?new Ne:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var v=e[h],m=t[h];if(n)var g=u?n(m,v,h,t,e,s):n(v,m,h,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!V(t,(function(e,t){if(!p.has(t)&&(v===e||r(v,e,n,o,s)))return p.add(t)}))){d=!1;break}}else if(v!==m&&!r(v,m,n,o,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function He(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ve(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return De(r)?r:void 0}var We=function(e){return se.call(e)};function Ge(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Ke(e,t){if(nt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ct(e))||(I.test(e)||!O.test(e)||null!=t&&e in Object(t))}function Ze(e){return e==e&&!st(e)}function Ye(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(pe&&We(new pe(new ArrayBuffer(1)))!=S||ve&&We(new ve)!=v||me&&We(me.resolve())!=y||ge&&We(new ge)!=w||ye&&We(new ye)!=E)&&(We=function(e){var t=se.call(e),r=t==g?e.constructor:void 0,n=r?Xe(r):void 0;if(n)switch(n){case we:return S;case _e:return v;case ke:return y;case xe:return w;case Ee:return E}return t});var Je=et((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ct(e))return Oe?Oe.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var r=[];return R.test(e)&&r.push(""),e.replace(C,(function(e,t,n,i){r.push(n?i.replace(N,"$1"):t||e)})),r}));function Qe(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function Xe(e){if(null!=e){try{return ae.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function et(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o),o};return r.cache=new(et.Cache||Ce),r}function tt(e,t){return e===t||e!=e&&t!=t}function rt(e){return function(e){return ut(e)&&it(e)}(e)&&oe.call(e,"callee")&&(!fe.call(e,"callee")||se.call(e)==u)}et.Cache=Ce;var nt=Array.isArray;function it(e){return null!=e&&ot(e.length)&&!at(e)}function at(e){var t=st(e)?se.call(e):"";return t==d||t==p}function ot(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function st(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ut(e){return!!e&&"object"==typeof e}function ct(e){return"symbol"==typeof e||ut(e)&&se.call(e)==k}var lt=q?function(e){return function(t){return e(t)}}(q):function(e){return ut(e)&&ot(e.length)&&!!j[se.call(e)]};function ft(e){return it(e)?Me(e):Fe(e)}function ht(e){return e}e.exports=function(e,t){return e&&e.length?function(e,t,n){var i=-1,a=z,o=e.length,s=!0,u=[],c=u;if(n)s=!1,a=H;else if(o>=r){var l=t?null:qe(e);if(l)return Y(l);s=!1,a=G,c=new Ne}else c=t?[]:u;e:for(;++i<o;){var f=e[i],h=t?t(f):f;if(f=n||0!==f?f:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),u.push(f)}else a(c,h,n)||(c!==u&&c.push(h),u.push(f))}return u}(e,Ue(t)):[]}}(z_,z_.exports);var H_,V_,W_,G_,K_=g(z_.exports);!function(e){e.AlphaWallet="isAlphaWallet",e.ApexWallet="isApexWallet",e.AToken="isAToken",e.BifrostWallet="isBifrost",e.Binance="bbcSignTx",e.Bitpie="isBitpie",e.BlockWallet="isBlockWallet",e.Coinbase="isToshi",e.CoinbaseExtension="isCoinbaseWallet",e.Detected="request",e.Dcent="isDcentWallet",e.Exodus="isExodus",e.Frontier="isFrontier",e.Frame="isFrame",e.HuobiWallet="isHbWallet",e.HyperPay="isHyperPay",e.ImToken="isImToken",e.InfinityWallet="isInfinityWallet",e.Liquality="isLiquality",e.MeetOne="wallet",e.MetaMask="isMetaMask",e.MyKey="isMYKEY",e.OwnBit="isOwnbit",e.Status="isStatus",e.Trust="isTrust",e.TokenPocket="isTokenPocket",e.TP="isTp",e.WalletIo="isWalletIO",e.XDEFI="isXDEFI",e.OneInch="isOneInchIOSWallet",e.Tokenary="isTokenary",e.Tally="isTally",e.BraveWallet="isBraveWallet",e.Rabby="isRabby",e.MathWallet="isMathWallet",e.GameStop="isGamestop",e.BitKeep="isBitKeep",e.Sequence="isSequence",e.Core="isAvalanche",e.Opera="isOpera",e.Bitski="isBitski",e.Enkrypt="isEnkrypt",e.Phantom="isPhantom",e.OKXWallet="isOkxWallet",e.Zeal="isZeal",e.Zerion="isZerion",e.Rainbow="isRainbow",e.SafePal="isSafePal",e.DeFiWallet="isDeficonnectProvider",e.Safeheron="isSafeheron",e.Talisman="isTalisman",e.OneKey="isOneKey",e.Fordefi="isFordefi",e.Coin98Wallet="isCoin98",e.SubWallet="isSubWallet",e.Kayros="isKayros"}(H_||(H_={})),function(e){e.Binance="https://www.bnbchain.org/ru/blog/binance-extension-wallet/",e.BitKeep="https://bitkeep.com/en/download?type=0",e.Coinbase="https://www.coinbase.com/wallet/downloads",e.MetaMask="https://metamask.io/download/",e.OKXWallet="https://okx.com/download",e.Phantom="https://phantom.app/download",e.Talisman="https://www.talisman.xyz/",e.Trust="https://trustwallet.com/download/",e.OneKey="https://onekey.so/download/",e.RoninWallet="https://wallet.skymavis.com/",e.Coin98Wallet="https://coin98.com/wallet/",e.SubWallet="https://www.subwallet.app/",e.Kayros="https://www.kayros.games/wallet/"}(V_||(V_={})),function(e){e.AlphaWallet="AlphaWallet",e.ApexWallet="Apex Wallet",e.AToken="AToken",e.BifrostWallet="Bifrost Wallet",e.Binance="Binance Smart Wallet",e.Bitpie="Bitpie",e.Bitski="Bitski",e.BlockWallet="BlockWallet",e.Brave="Brave Wallet",e.Coinbase="Coinbase Wallet",e.Dcent="D'CENT",e.Detected="Detected Wallet",e.Exodus="Exodus",e.Frame="Frame",e.Frontier="Frontier",e.HuobiWallet="Huobi Wallet",e.HyperPay="HyperPay",e.ImToken="imToken",e.InfinityWallet="Infinity Wallet",e.Liquality="Liquality",e.MeetOne="MeetOne",e.MetaMask="MetaMask",e.MyKey="MyKey",e.Opera="Opera Wallet",e.OwnBit="OwnBit",e.Status="Status Wallet",e.Trust="Trust Wallet",e.TokenPocket="TokenPocket",e.TP="TP Wallet",e.WalletIo="Wallet.io",e.XDEFI="XDEFI Wallet",e.OneInch="1inch Wallet",e.Tokenary="Tokenary Wallet",e.Tally="Taho",e.Rabby="Rabby Wallet",e.MathWallet="MathWallet",e.GameStop="GameStop Wallet",e.BitKeep="BitKeep",e.Sequence="Sequence",e.Core="Core",e.Enkrypt="Enkrypt",e.Zeal="Zeal",e.Phantom="Phantom",e.OKXWallet="OKX Wallet",e.Zerion="Zerion",e.Rainbow="Rainbow",e.SafePal="SafePal",e.DeFiWallet="DeFi Wallet",e.Safeheron="Safeheron",e.Talisman="Talisman",e.OneKey="OneKey",e.Fordefi="Fordefi",e.RoninWallet="Ronin Wallet",e.Coin98Wallet="Coin98 Wallet",e.SubWallet="SubWallet",e.Kayros="Kayros"}(W_||(W_={})),function(e){e.Ethereum="ethereum",e.Binance="BinanceChain",e.Tally="tally",e.Web3="web3",e.Arbitrum="arbitrum",e.XFI="xfi",e.GameStop="gamestop",e.BitKeep="bitkeep",e.Avalanche="avalanche",e.Bitski="Bitski",e.Enkrypt="enkrypt",e.Zeal="zeal",e.Phantom="phantom",e.OKXWallet="okxwallet",e.Trust="trustwallet",e.Frontier="frontier",e.DeFiConnectProvider="deficonnectProvider",e.Safeheron="safeheron",e.Talisman="talismanEth",e.OneKey="$onekey",e.RoninWallet="ronin",e.Coin98Wallet="coin98",e.SubWallet="SubWallet",e.Kayros="kayros"}(G_||(G_={}));var Z_=null;function Y_(e,t){return u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{provider:window.ethereum.providers&&Array.isArray(window.ethereum.providers)?J_(e,t):window.ethereum});case 1:case"end":return r.stop()}}),r)})))}function J_(e,t){return window.ethereum.providers.find((function(r){return t?!!r[e]&&!Q_(e,r):!!r[e]}))}function Q_(e,t){var r=Object.values(H_).filter((function(t){return t!==e&&t!==H_.Detected}));return r.some((function(e){return!!t[e]}))}var X_,ek,tk,rk,nk,ik,ak,ok,sk,uk,ck,lk,fk,hk,dk,pk,vk,mk,gk,yk,bk,wk,_k,kk,xk,Ek,Ak,Sk,Ok,Ik,Rk,Ck,Nk,Pk,Mk,jk,Tk,Lk,$k,Dk,Uk,Fk,Bk,qk,zk,Hk,Vk,Wk,Gk,Kk,Zk,Yk,Jk,Qk,Xk,ex,tx,rx,nx,ix,ax,ox,sx,ux,cx,lx,fx,hx,dx,px,vx,mx,gx,yx,bx,wx,_x,kx,xx,Ex,Ax,Sx,Ox,Ix,Rx,Cx,Nx,Px,Mx,jx,Tx,Lx,$x,Dx,Ux,Fx,Bx,qx={label:W_.MetaMask,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.MetaMask]&&!Q_(H_.MetaMask,t)},getIcon:(X_=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./metamask-legacy-aedf097f.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return X_.apply(this,arguments)}),getInterface:Y_(H_.MetaMask,!0),platforms:["all"],externalUrl:V_.MetaMask},zx={label:W_.InfinityWallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.InfinityWallet]},getIcon:(ek=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./infinitywallet-legacy-828a3510.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return ek.apply(this,arguments)}),getInterface:Y_(H_.InfinityWallet),platforms:["desktop"]},Hx={label:W_.Exodus,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Exodus]},getIcon:(tk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./exodus-legacy-936fc41e.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return tk.apply(this,arguments)}),getInterface:Y_(H_.Exodus),platforms:["all"]},Vx={label:W_.Frontier,injectedNamespace:G_.Frontier,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t.ethereum&&!!t.ethereum[H_.Frontier]},getIcon:(nk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./frontier-legacy-488e02d2.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return nk.apply(this,arguments)}),getInterface:(rk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.frontier.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return rk.apply(this,arguments)}),platforms:["all"]},Wx={label:W_.Brave,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.BraveWallet]},getIcon:(ik=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./brave-legacy-d962adda.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return ik.apply(this,arguments)}),getInterface:Y_(H_.BraveWallet),platforms:["all"]},Gx={label:W_.Binance,injectedNamespace:G_.Binance,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Binance]},getIcon:(ok=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./binance-legacy-a1ccfd50.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return ok.apply(this,arguments)}),getInterface:(ak=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l({},window.BinanceChain),window.BinanceChain=t,r=window.BinanceChain.on.bind(window.BinanceChain),window.BinanceChain.on=function(e,t){r(e,"chainChanged"===e?function(e){t("0x".concat(parseInt(e).toString(16)))}:t)},n=sa(window.BinanceChain,{eth_chainId:function(e){return(0,e.baseRequest)({method:"eth_chainId"}).then((function(e){return"0x".concat(parseInt(e).toString(16))}))},eth_selectAccounts:Z_,wallet_switchEthereumChain:Z_}),n.removeListener=function(e,t){},e.abrupt("return",{provider:n});case 7:case"end":return e.stop()}}),e)}))),function(){return ak.apply(this,arguments)}),platforms:["desktop"],externalUrl:V_.Binance},Kx={label:W_.Coinbase,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Coinbase]||!!t&&!!t[H_.CoinbaseExtension]},getIcon:(uk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./coinbase-legacy-e5e5ee06.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return uk.apply(this,arguments)}),getInterface:(sk=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y_(H_.CoinbaseExtension)();case 2:return t=e.sent,r=t.provider,n=r.on.bind(r),r.on=function(e,t){n(e,"chainChanged"===e?function(e){t("0x".concat(parseInt(e).toString(16)))}:t)},e.abrupt("return",{provider:r});case 7:case"end":return e.stop()}}),e)}))),function(){return sk.apply(this,arguments)}),platforms:["all"],externalUrl:V_.Coinbase},Zx={label:W_.Detected,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Detected]},getIcon:(lk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./detected-legacy-d4ba35bb.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return lk.apply(this,arguments)}),getInterface:(ck=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return ck.apply(this,arguments)}),platforms:["all"]},Yx={label:W_.Trust,injectedNamespace:G_.Trust,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Trust]},getIcon:(hk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./trust-legacy-f83fe2c6.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return hk.apply(this,arguments)}),getInterface:(fk=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.hasOwnProperty(G_.Ethereum),r=t&&window[G_.Ethereum].isTrust?window[G_.Ethereum]:window[G_.Trust],e.abrupt("return",{provider:r});case 3:case"end":return e.stop()}}),e)}))),function(){return fk.apply(this,arguments)}),platforms:["all"],externalUrl:V_.Trust},Jx={label:W_.Opera,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Opera]},getIcon:(pk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./opera-legacy-0cbbfa9a.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return pk.apply(this,arguments)}),getInterface:(dk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum,{eth_requestAccounts:function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.baseRequest,e.abrupt("return",r({method:"eth_accounts"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eth_selectAccounts:Z_})});case 1:case"end":return e.stop()}}),e)}))),function(){return dk.apply(this,arguments)}),platforms:["all"]},Qx={label:W_.Status,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Status]},getIcon:(mk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./status-legacy-451ca73a.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return mk.apply(this,arguments)}),getInterface:(vk=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.ethereum,e.abrupt("return",{provider:t});case 2:case"end":return e.stop()}}),e)}))),function(){return vk.apply(this,arguments)}),platforms:["mobile"]},Xx={label:W_.AlphaWallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.AlphaWallet]},getIcon:(yk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./alphawallet-legacy-d6919f53.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return yk.apply(this,arguments)}),getInterface:(gk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum,{wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_})});case 1:case"end":return e.stop()}}),e)}))),function(){return gk.apply(this,arguments)}),platforms:["mobile"]},eE={label:W_.ApexWallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.ApexWallet]},getIcon:(wk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./apexwallet-legacy-234e19df.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return wk.apply(this,arguments)}),getInterface:(bk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return bk.apply(this,arguments)}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},tE={label:W_.AToken,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.AToken]},getIcon:(kk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./atoken-legacy-79de13e0.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return kk.apply(this,arguments)}),getInterface:(_k=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return _k.apply(this,arguments)}),platforms:["mobile"]},rE={label:W_.BifrostWallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.BifrostWallet]},getIcon:(xk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./bifrostwallet-legacy-c223973a.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return xk.apply(this,arguments)}),getInterface:Y_(H_.BifrostWallet),platforms:["all"]},nE={label:W_.Bitpie,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(){return!!window.Bitpie},getIcon:(Ak=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./bitpie-legacy-37b9d25f.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Ak.apply(this,arguments)}),getInterface:(Ek=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum,{wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_})});case 1:case"end":return e.stop()}}),e)}))),function(){return Ek.apply(this,arguments)}),platforms:["mobile"]},iE={label:W_.BlockWallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.BlockWallet]},getIcon:(Sk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./blockwallet-legacy-38ac56b3.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Sk.apply(this,arguments)}),getInterface:Y_(H_.BlockWallet),platforms:["desktop"]},aE={label:W_.Frame,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Frame]},getIcon:(Ik=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./frame-legacy-60f0a7a3.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Ik.apply(this,arguments)}),getInterface:(Ok=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=window.ethereum)&&t.connected){e.next=3;break}throw new Error("Frame App must be open with a hot wallet connected. If not installed first download the Frame App.");case 3:return e.abrupt("return",{provider:t});case 4:case"end":return e.stop()}}),e)}))),function(){return Ok.apply(this,arguments)}),platforms:["desktop"]},oE={label:W_.HuobiWallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.HuobiWallet]},getIcon:(Ck=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./huobiwallet-legacy-5fac7a63.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Ck.apply(this,arguments)}),getInterface:(Rk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum,{wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_})});case 1:case"end":return e.stop()}}),e)}))),function(){return Rk.apply(this,arguments)}),platforms:["mobile"]},sE={label:W_.HyperPay,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(){return!!window.hiWallet},getIcon:(Pk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./hyperpay-legacy-65f97bcf.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Pk.apply(this,arguments)}),getInterface:(Nk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum,{wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_})});case 1:case"end":return e.stop()}}),e)}))),function(){return Nk.apply(this,arguments)}),platforms:["mobile"]},uE={label:W_.ImToken,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.ImToken]},getIcon:(jk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./imtoken-legacy-452ef8aa.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return jk.apply(this,arguments)}),getInterface:(Mk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum,{wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_})});case 1:case"end":return e.stop()}}),e)}))),function(){return Mk.apply(this,arguments)}),platforms:["mobile"]},cE={label:W_.Liquality,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Liquality]},getIcon:(Lk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./liquality-legacy-84a80c1e.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Lk.apply(this,arguments)}),getInterface:(Tk=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=sa(window.ethereum,{wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_})).removeListener=function(e,t){},e.abrupt("return",{provider:t});case 3:case"end":return e.stop()}}),e)}))),function(){return Tk.apply(this,arguments)}),platforms:["desktop"]},lE={label:W_.MeetOne,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&"MEETONE"===t[H_.MeetOne]},getIcon:(Dk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./meetone-legacy-9d0c0e2e.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Dk.apply(this,arguments)}),getInterface:($k=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return $k.apply(this,arguments)}),platforms:["mobile"]},fE={label:W_.MyKey,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.MyKey]},getIcon:(Fk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./mykey-legacy-c41265cd.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Fk.apply(this,arguments)}),getInterface:(Uk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return Uk.apply(this,arguments)}),platforms:["mobile"]},hE={label:W_.OwnBit,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.OwnBit]},getIcon:(qk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./ownbit-legacy-22d06008.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return qk.apply(this,arguments)}),getInterface:(Bk=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sa(window.ethereum,{eth_chainId:function(e){return(0,e.baseRequest)({method:"eth_chainId"}).then((function(e){return"0x".concat(parseInt(e).toString(16))}))},wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_}),t.removeListener=function(e,t){},t.on=function(e,t){},e.abrupt("return",{provider:t});case 4:case"end":return e.stop()}}),e)}))),function(){return Bk.apply(this,arguments)}),platforms:["mobile"]},dE={label:W_.TokenPocket,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.TokenPocket]&&!t[H_.TP]},getIcon:(zk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./tokenpocket-legacy-cddec83b.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return zk.apply(this,arguments)}),getInterface:Y_(H_.TokenPocket),platforms:["all"]},pE={label:W_.TP,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.TP]},getIcon:(Vk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./tp-legacy-52d66b37.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Vk.apply(this,arguments)}),getInterface:(Hk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum,{wallet_switchEthereumChain:Z_,eth_selectAccounts:Z_})});case 1:case"end":return e.stop()}}),e)}))),function(){return Hk.apply(this,arguments)}),platforms:["mobile"]},vE={label:W_.XDEFI,injectedNamespace:G_.XFI,checkProviderIdentity:function(e){var t=e.provider;return t&&t.ethereum&&t.ethereum[H_.XDEFI]},getIcon:(Gk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./xdefi-legacy-f7e2607b.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Gk.apply(this,arguments)}),getInterface:(Wk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.xfi&&window.xfi.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return Wk.apply(this,arguments)}),platforms:["all"]},mE={label:W_.OneInch,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.OneInch]},getIcon:(Zk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./oneInch-legacy-5c0d4354.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Zk.apply(this,arguments)}),getInterface:(Kk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return Kk.apply(this,arguments)}),platforms:["mobile"]},gE={label:W_.Tokenary,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Tokenary]},getIcon:(Jk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./tokenary-legacy-70280dae.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Jk.apply(this,arguments)}),getInterface:(Yk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return Yk.apply(this,arguments)}),platforms:["all"]},yE={label:W_.Tally,injectedNamespace:G_.Tally,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Tally]},getIcon:(Xk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./tallywallet-legacy-b4eb08f9.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Xk.apply(this,arguments)}),getInterface:(Qk=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.tally)});case 1:case"end":return e.stop()}}),e)}))),function(){return Qk.apply(this,arguments)}),platforms:["desktop"]},bE={label:W_.Zeal,injectedNamespace:G_.Zeal,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Zeal]},getIcon:(tx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./zeal-legacy-f68991b3.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return tx.apply(this,arguments)}),getInterface:(ex=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.zeal)});case 1:case"end":return e.stop()}}),e)}))),function(){return ex.apply(this,arguments)}),platforms:["desktop"]},wE={label:W_.Rabby,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Rabby]},getIcon:(nx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./rabby-legacy-e02cee52.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return nx.apply(this,arguments)}),getInterface:(rx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return rx.apply(this,arguments)}),platforms:["desktop"]},_E={label:W_.MathWallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.MathWallet]},getIcon:(ix=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./mathwallet-legacy-2586b09d.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return ix.apply(this,arguments)}),getInterface:Y_(H_.MathWallet),platforms:["all"]},kE={label:W_.GameStop,injectedNamespace:G_.GameStop,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.GameStop]},getIcon:(ox=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./gamestop-legacy-d0bdbdbf.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return ox.apply(this,arguments)}),getInterface:(ax=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sa(window.gamestop,{eth_chainId:function(e){return(0,e.baseRequest)({method:"eth_chainId"}).then((function(e){return"0x".concat(parseInt(e).toString(16))}))},wallet_switchEthereumChain:Z_}),t.removeListener=function(e,t){},t.on=function(e,t){},e.abrupt("return",{provider:t});case 4:case"end":return e.stop()}}),e)}))),function(){return ax.apply(this,arguments)}),platforms:["desktop"]},xE={label:W_.BitKeep,injectedNamespace:G_.BitKeep,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t.ethereum[H_.BitKeep]},getIcon:(ux=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./bitkeep-legacy-291b38f0.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return ux.apply(this,arguments)}),getInterface:(sx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.bitkeep&&window.bitkeep.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return sx.apply(this,arguments)}),platforms:["all"],externalUrl:V_.BitKeep},EE={label:W_.Sequence,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Sequence]},getIcon:(lx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./sequence-legacy-02fa30d7.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return lx.apply(this,arguments)}),getInterface:(cx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.ethereum});case 1:case"end":return e.stop()}}),e)}))),function(){return cx.apply(this,arguments)}),platforms:["all"]},AE={label:W_.Core,injectedNamespace:G_.Avalanche,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Core]},getIcon:(fx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./core-legacy-1adf469b.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return fx.apply(this,arguments)}),getInterface:Y_(H_.Core),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},SE={label:W_.Bitski,injectedNamespace:G_.Bitski,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t.getProvider&&!!t.getProvider().isBitski},getIcon:(dx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./bitski-legacy-c806a781.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return dx.apply(this,arguments)}),getInterface:(hx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:window.Bitski&&window.Bitski.getProvider&&window.Bitski.getProvider()});case 1:case"end":return e.stop()}}),e)}))),function(){return hx.apply(this,arguments)}),platforms:["all"]},OE={label:W_.Zerion,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Zerion]},getIcon:(vx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./zerion-legacy-1ea961b8.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return vx.apply(this,arguments)}),getInterface:(px=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return px.apply(this,arguments)}),platforms:["all"]},IE={label:W_.Enkrypt,injectedNamespace:G_.Enkrypt,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t.providers&&!!t.providers.ethereum},getIcon:(gx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./enkrypt-legacy-bcc5244f.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return gx.apply(this,arguments)}),getInterface:(mx=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.enkrypt.providers.ethereum.on.bind(window.enkrypt.providers.ethereum),window.enkrypt.providers.ethereum.on=function(e,r){t(e,"chainChanged"===e?function(e){r("0x".concat(parseInt(e).toString(16)))}:r)},r=sa(window.enkrypt.providers.ethereum,{eth_chainId:function(e){return(0,e.baseRequest)({method:"eth_chainId"}).then((function(e){return"0x".concat(parseInt(e).toString(16))}))}}),r.removeListener=function(e,t){},e.abrupt("return",{provider:r});case 5:case"end":return e.stop()}}),e)}))),function(){return mx.apply(this,arguments)}),platforms:["all"]},RE={label:W_.Phantom,injectedNamespace:G_.Phantom,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t.ethereum&&!!t.ethereum[H_.Phantom]},getIcon:(bx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./phantom-legacy-58c5fa3b.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return bx.apply(this,arguments)}),getInterface:(yx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.phantom.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return yx.apply(this,arguments)}),platforms:["all"],externalUrl:V_.Phantom},CE={label:W_.SafePal,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.SafePal]},getIcon:(_x=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./safepal-legacy-6b167d71.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return _x.apply(this,arguments)}),getInterface:(wx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return wx.apply(this,arguments)}),platforms:["all"]},NE={label:W_.Rainbow,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Rainbow]},getIcon:(kx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./rainbow-legacy-cac2f018.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return kx.apply(this,arguments)}),getInterface:Y_(H_.Rainbow),platforms:["all"]},PE={label:W_.OKXWallet,injectedNamespace:G_.OKXWallet,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.OKXWallet]},getIcon:(Ex=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./okxwallet-legacy-97787c55.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Ex.apply(this,arguments)}),getInterface:(xx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.okxwallet)});case 1:case"end":return e.stop()}}),e)}))),function(){return xx.apply(this,arguments)}),platforms:["all"],externalUrl:V_.OKXWallet},ME={label:W_.DeFiWallet,injectedNamespace:G_.DeFiConnectProvider,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.DeFiWallet]},getIcon:(Sx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./defiwallet-legacy-87ec67cc.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Sx.apply(this,arguments)}),getInterface:(Ax=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.deficonnectProvider)});case 1:case"end":return e.stop()}}),e)}))),function(){return Ax.apply(this,arguments)}),platforms:["all"]},jE={label:W_.Safeheron,injectedNamespace:G_.Safeheron,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Safeheron]},getIcon:(Ix=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./safeheron-legacy-558a6f3a.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Ix.apply(this,arguments)}),getInterface:(Ox=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.safeheron)});case 1:case"end":return e.stop()}}),e)}))),function(){return Ox.apply(this,arguments)}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},TE={label:W_.Talisman,injectedNamespace:G_.Talisman,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Talisman]},getIcon:(Cx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./talisman-legacy-e4f4644d.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Cx.apply(this,arguments)}),getInterface:(Rx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.talismanEth)});case 1:case"end":return e.stop()}}),e)}))),function(){return Rx.apply(this,arguments)}),platforms:["desktop"],externalUrl:V_.Talisman},LE={label:W_.RoninWallet,injectedNamespace:G_.RoninWallet,checkProviderIdentity:function(e){return!!e.provider},getIcon:(Px=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./roninwallet-legacy-16c85bb3.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Px.apply(this,arguments)}),getInterface:(Nx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.ronin.provider)});case 1:case"end":return e.stop()}}),e)}))),function(){return Nx.apply(this,arguments)}),platforms:["all"],externalUrl:V_.RoninWallet},$E={label:W_.OneKey,injectedNamespace:G_.OneKey,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t.ethereum&&!!t.ethereum[H_.OneKey]},getIcon:(jx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./onekey-legacy-48032e94.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return jx.apply(this,arguments)}),getInterface:(Mx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.$onekey.ethereum)});case 1:case"end":return e.stop()}}),e)}))),function(){return Mx.apply(this,arguments)}),platforms:["all"],externalUrl:V_.OneKey},DE={label:W_.Fordefi,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Fordefi]},getIcon:(Tx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./fordefi-legacy-d48209af.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Tx.apply(this,arguments)}),getInterface:Y_(H_.Fordefi,!0),platforms:["desktop"]},UE={label:W_.Coin98Wallet,injectedNamespace:G_.Ethereum,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Coin98Wallet]},getIcon:($x=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./coin98wallet-legacy-61101b42.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return $x.apply(this,arguments)}),getInterface:(Lx=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.hasOwnProperty(G_.Ethereum),r=t&&window[G_.Ethereum].isCoin98?window[G_.Ethereum]:window[G_.Coin98Wallet].provider,e.abrupt("return",{provider:r});case 3:case"end":return e.stop()}}),e)}))),function(){return Lx.apply(this,arguments)}),platforms:["all"],externalUrl:V_.Coin98Wallet},FE={label:W_.SubWallet,injectedNamespace:G_.SubWallet,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.SubWallet]},getIcon:(Ux=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./subwallet-legacy-8ce40cc0.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Ux.apply(this,arguments)}),getInterface:(Dx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.SubWallet)});case 1:case"end":return e.stop()}}),e)}))),function(){return Dx.apply(this,arguments)}),platforms:["all"],externalUrl:V_.SubWallet},BE={label:W_.Kayros,injectedNamespace:G_.Kayros,checkProviderIdentity:function(e){var t=e.provider;return!!t&&!!t[H_.Kayros]},getIcon:(Bx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./kayros-legacy-0357252b.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return Bx.apply(this,arguments)}),getInterface:(Fx=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:sa(window.kayros)});case 1:case"end":return e.stop()}}),e)}))),function(){return Fx.apply(this,arguments)}),platforms:["desktop"]},qE=[bE,Hx,Vx,qx,rE,Gx,Kx,Zx,Yx,Jx,Qx,Xx,eE,tE,nE,iE,Wx,aE,oE,sE,uE,cE,lE,fE,hE,dE,pE,vE,mE,gE,yE,wE,_E,kE,xE,EE,AE,SE,IE,RE,PE,OE,NE,CE,ME,zx,jE,TE,$E,DE,LE,UE,FE,BE],zE={exports:{}};!function(e,t){var r,n;self,e.exports=(r={7629:function(e,t,r){var n=r(375),i=r(8571),a=r(9474),o=r(1687),s=r(8652),u=r(8160),c=r(3292),l=r(6354),f=r(8901),h=r(9708),d=r(6914),p=r(2294),v=r(6133),m=r(1152),g=r(8863),y=r(2036),_={Base:function(){function e(t){A(this,e),this.type=t,this.$_root=null,this._definition={},this._reset()}return O(e,[{key:"_reset",value:function(){this._ids=new p.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}},{key:"describe",value:function(){return n("function"==typeof h.describe,"Manifest functionality disabled"),h.describe(this)}},{key:"allow",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"allow"),this._values(t,"_valids")}},{key:"alter",value:function(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");var t=this.clone();for(var r in t.$_terms.alterations=t.$_terms.alterations||[],e){var i=e[r];n("function"==typeof i,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:i})}return t.$_temp.ruleset=!1,t}},{key:"artifact",value:function(e){return n(void 0!==e,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}},{key:"cast",value:function(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}},{key:"default",value:function(e,t){return this._default("default",e,t)}},{key:"description",value:function(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}},{key:"empty",value:function(e){var t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}},{key:"error",value:function(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}},{key:"example",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(void 0!==e,"Missing example"),u.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}},{key:"external",value:function(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}},{key:"failover",value:function(e,t){return this._default("failover",e,t)}},{key:"forbidden",value:function(){return this.presence("forbidden")}},{key:"id",value:function(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}},{key:"invalid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._values(t,"_invalids")}},{key:"label",value:function(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}},{key:"meta",value:function(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}},{key:"note",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing notes");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Notes must be non-empty strings")}return this._inner("notes",t)}},{key:"only",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}},{key:"optional",value:function(){return this.presence("optional")}},{key:"prefs",value:function(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),u.checkPreferences(e);var t=this.clone();return t._preferences=u.preferences(t._preferences,e),t}},{key:"presence",value:function(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}},{key:"raw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"raw":void 0)}},{key:"result",value:function(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}},{key:"required",value:function(){return this.presence("required")}},{key:"strict",value:function(e){var t=this.clone(),r=void 0!==e&&!e;return t._preferences=u.preferences(t._preferences,{convert:r}),t}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"strip":void 0)}},{key:"tag",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing tags");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Tags must be non-empty strings")}return this._inner("tags",t)}},{key:"unit",value:function(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}},{key:"valid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];u.verifyFlat(t,"valid");var n=this.allow.apply(this,t);return n.$_setFlag("only",!!n._valids,{clone:!1}),n}},{key:"when",value:function(e,t){var r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);var i=c.when(r,e,t);if(!["any","link"].includes(r.type)){var a,o=k(i.is?[i]:i.switch);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(!s.then||"any"===s.then.type||s.then.type===r.type,"Cannot combine",r.type,"with",s.then&&s.then.type),n(!s.otherwise||"any"===s.otherwise.type||s.otherwise.type===r.type,"Cannot combine",r.type,"with",s.otherwise&&s.otherwise.type)}}catch(u){o.e(u)}finally{o.f()}}return r.$_terms.whens.push(i),r.$_mutateRebuild()}},{key:"cache",value:function(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");var t=this.clone();return t._cache=e||s.provider.provision(),t.$_temp.ruleset=!1,t}},{key:"clone",value:function(){var e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}},{key:"concat",value:function(e){n(u.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");var t=this.clone();if("any"===this.type&&"any"!==e.type){for(var r=e.clone(),i=0,a=Object.keys(t);i<a.length;i++){var s=a[i];"type"!==s&&(r[s]=t[s])}t=r}t._ids.concat(e._ids),t._refs.register(e,v.toSibling),t._preferences=t._preferences?u.preferences(t._preferences,e._preferences):e._preferences,t._valids=y.merge(t._valids,e._valids,e._invalids),t._invalids=y.merge(t._invalids,e._invalids,e._valids);var c,l=k(e._singleRules.keys());try{var f=function(){var e=c.value;t._singleRules.has(e)&&(t._rules=t._rules.filter((function(t){return t.keep||t.name!==e})),t._singleRules.delete(e))};for(l.s();!(c=l.n()).done;)f()}catch(_){l.e(_)}finally{l.f()}var h,d=k(e._rules);try{for(d.s();!(h=d.n()).done;){var p=h.value;e._definition.rules[p.method].multi||t._singleRules.set(p.name,p),t._rules.push(p)}}catch(_){d.e(_)}finally{d.f()}if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);var m=Object.assign({},e._flags);delete m.empty,o(t._flags,m)}else if(e._flags.empty){t._flags.empty=e._flags.empty;var g=Object.assign({},e._flags);delete g.empty,o(t._flags,g)}else o(t._flags,e._flags);for(var b in e.$_terms){var w=e.$_terms[b];w?t.$_terms[b]?t.$_terms[b]=t.$_terms[b].concat(w):t.$_terms[b]=w.slice():t.$_terms[b]||(t.$_terms[b]=w)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}},{key:"extend",value:function(e){return n(!e.base,"Cannot extend type with another base"),f.type(this,e)}},{key:"extract",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}},{key:"fork",value:function(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");var r,i=this,a=k([].concat(e));try{for(a.s();!(r=a.n()).done;){var o=r.value;o=Array.isArray(o)?o:o.split("."),i=i._ids.fork(o,t,i)}}catch(s){a.e(s)}finally{a.f()}return i.$_temp.ruleset=!1,i}},{key:"rule",value:function(e){var t=this._definition;u.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");for(var a=this.clone(),o=r;o<a._rules.length;++o){var s=a._rules[o],c=i(s);for(var l in e)t.modifiers[l](c,e[l]),n(c.name===s.name,"Cannot change rule name");a._rules[o]=c,a._singleRules.get(c.name)===s&&a._singleRules.set(c.name,c)}return a.$_temp.ruleset=!1,a.$_mutateRebuild()}},{key:"ruleset",get:function(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");var e=this.clone();return e.$_temp.ruleset=e._rules.length,e}},{key:"$",get:function(){return this.ruleset}},{key:"tailor",value:function(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");var t=this;if(this.$_terms.alterations){var r,i=k(this.$_terms.alterations);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.target,s=a.adjuster;e.includes(o)&&(t=s(t),n(u.isSchema(t),"Alteration adjuster for",o,"failed to return a schema object"))}}catch(c){i.e(c)}finally{i.f()}}return(t=t.$_modify({each:function(t){return t.tailor(e)},ref:!1})).$_temp.ruleset=!1,t.$_mutateRebuild()}},{key:"tracer",value:function(){return m.location?m.location(this):this}},{key:"validate",value:function(e,t){return g.entry(e,this,t)}},{key:"validateAsync",value:function(e,t){return g.entryAsync(e,this,t)}},{key:"$_addRule",value:function(e){for(var t in"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name"),e)n("_"!==t[0],"Cannot set private rule properties");var r=Object.assign({},e);r._resolve=[],r.method=r.method||r.name;var i=this._definition.rules[r.method],a=r.args;n(i,"Unknown rule",r.method);var o=this.clone();if(a)for(var s in n(1===Object.keys(a).length||Object.keys(a).length===this._definition.rules[r.name].args.length,"Invalid rule definition for",this.type,r.name),a){var c=a[s];if(i.argsByName){var l=i.argsByName.get(s);if(l.ref&&u.isResolvable(c))r._resolve.push(s),o.$_mutateRegister(c);else if(l.normalize&&(c=l.normalize(c),a[s]=c),l.assert){var f=u.validateArg(c,s,l);n(!f,f,"or reference")}}void 0!==c?a[s]=c:delete a[s]}return i.multi||(o._ruleRemove(r.name,{clone:!1}),o._singleRules.set(r.name,r)),!1===o.$_temp.ruleset&&(o.$_temp.ruleset=null),i.priority?o._rules.unshift(r):o._rules.push(r),o}},{key:"$_compile",value:function(e,t){return c.schema(this.$_root,e,t)}},{key:"$_createError",value:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=!1!==a.flags?this._flags:{},s=a.messages?d.merge(this._definition.messages,a.messages):this._definition.messages;return new l.Report(e,t,r,o,s,n,i)}},{key:"$_getFlag",value:function(e){return this._flags[e]}},{key:"$_getRule",value:function(e){return this._singleRules.get(e)}},{key:"$_mapLabels",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}},{key:"$_match",value:function(e,t,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();var i=!g.validate(e,this,t,r,n).errors;return t.restore(),i}},{key:"$_modify",value:function(e){return u.assertOptions(e,["each","once","ref","schema"]),p.schema(this,e)||this}},{key:"$_mutateRebuild",value:function(){var e=this;return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:function(t,r){var n=r.source,i=r.name,a=(r.path,r.key),o=e._definition[n][i]&&e._definition[n][i].register;!1!==o&&e.$_mutateRegister(t,{family:o,key:a})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}},{key:"$_mutateRegister",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.family,n=t.key;this._refs.register(e,r),this._ids.register(e,{key:n})}},{key:"$_property",value:function(e){return this._definition.properties[e]}},{key:"$_reach",value:function(e){return this._ids.reach(e)}},{key:"$_rootReferences",value:function(){return this._refs.roots()}},{key:"$_setFlag",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");var i=this._definition.flags[e]||{};if(a(t,i.default)&&(t=void 0),a(t,this._flags[e]))return this;var o=!1!==r.clone?this.clone():this;return void 0!==t?(o._flags[e]=t,o.$_mutateRegister(t)):delete o._flags[e],"_"!==e[0]&&(o.$_temp.ruleset=!1),o}},{key:"$_parent",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this[e][u.symbols.parent]).call.apply(t,[this].concat(n))}},{key:"$_validate",value:function(e,t,r){return g.validate(e,this,t,r)}},{key:"_assign",value:function(e){for(var t in e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={},this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;for(var r in e.$_super={},this.$_super)e.$_super[r]=this._super[r].bind(e);return e}},{key:"_bare",value:function(){var e=this.clone();e._reset();var t=e._definition.terms;for(var r in t){var n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}},{key:"_default",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.assertOptions(i,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!i.literal,"Only function value supports literal option"),"function"==typeof t&&i.literal&&(b(r={},u.symbols.literal,!0),b(r,"literal",t),t=r),this.$_setFlag(e,t)}},{key:"_generate",value:function(e,t,r){if(!this.$_terms.whens)return{schema:this};for(var n=[],i=[],a=0;a<this.$_terms.whens.length;++a){var o=this.$_terms.whens[a];if(o.concat)n.push(o.concat),i.push("".concat(a,".concat"));else{for(var s=o.ref?o.ref.resolve(e,t,r):e,u=o.is?[o]:o.switch,c=i.length,l=0;l<u.length;++l){var f=u[l],h=f.is,d=f.then,p=f.otherwise,v="".concat(a).concat(o.switch?"."+l:"");if(h.$_match(s,t.nest(h,"".concat(v,".is")),r)){if(d){var m=t.localize([].concat(w(t.path),["".concat(v,".then")]),t.ancestors,t.schemas),g=d._generate(e,m,r),y=g.schema,b=g.id;n.push(y),i.push("".concat(v,".then").concat(b?"(".concat(b,")"):""));break}}else if(p){var _=t.localize([].concat(w(t.path),["".concat(v,".otherwise")]),t.ancestors,t.schemas),k=p._generate(e,_,r),x=k.schema,E=k.id;n.push(x),i.push("".concat(v,".otherwise").concat(E?"(".concat(E,")"):""));break}}if(o.break&&i.length>c)break}}var A=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",A),!A)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[A])return{schema:this.$_temp.whens[A],id:A};var S=this;this._definition.generate&&(S=this._definition.generate(this,e,t,r));for(var O=0,I=n;O<I.length;O++){var R=I[O];S=S.concat(R)}return this.$_root._tracer&&this.$_root._tracer._combine(S,[this].concat(n)),this.$_temp.whens[A]=S,{schema:S,id:A}}},{key:"_inner",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(!this._inRuleset(),"Cannot set ".concat(e," inside a ruleset"));var a=this.clone();return a.$_terms[e]&&!i.override||(a.$_terms[e]=[]),i.single?a.$_terms[e].push(t):(r=a.$_terms[e]).push.apply(r,w(t)),a.$_temp.ruleset=!1,a}},{key:"_inRuleset",value:function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}},{key:"_ruleRemove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._singleRules.has(e))return this;var r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);for(var n=[],i=0;i<r._rules.length;++i){var a=r._rules[i];a.name!==e||a.keep?n.push(a):r._inRuleset()&&i<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}},{key:"_values",value:function(e,t){u.verifyFlat(e,t.slice(1,-1));var r=this.clone(),i=e[0]===u.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new y:i&&(r[t]=e.length?new y:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n(s!==u.symbols.override,"Override must be the first value");var c="_invalids"===t?"_valids":"_invalids";r[c]&&(r[c].remove(s),r[c].length||(n("_valids"===t||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[c]=null)),r[t].add(s,r._refs)}}catch(l){o.e(l)}finally{o.f()}return r}}]),e}()};_.Base.prototype[u.symbols.any]={version:u.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,e.exports=new _.Base},8652:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:function(e){return new o.Cache(e)}},o.Cache=function(){function e(){A(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.assertOptions(t,["max"]),n(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this._max=t.max||o.max,this._map=new Map,this._list=new o.List}return O(e,[{key:"length",get:function(){return this._map.size}},{key:"set",value:function(e,t){if(null===e||o.supported.has(typeof e)){var r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}}},{key:"get",value:function(e){var t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}},{key:"_compact",value:function(){if(this._map.size>this._max){var e=this._list.pop();this._map.delete(e.key)}}}]),e}(),o.List=function(){function e(){A(this,e),this.tail=null,this.head=null}return O(e,[{key:"unshift",value:function(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}},{key:"first",value:function(e){e!==this.head&&(this._remove(e),this.unshift(e))}},{key:"pop",value:function(){return this._remove(this.tail)}},{key:"_remove",value:function(e){var t=e.next,r=e.prev;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}]),e}()},8160:function(e,t,r){var n,i,a=r(375),o=r(7916),s=r(5934),u={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=s.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Options";a(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");var n=Object.keys(e).filter((function(e){return!t.includes(e)}));a(0===n.length,"".concat(r," contain unknown keys: ").concat(n))},t.checkPreferences=function(e){var t=(i=i||r(3378)).preferences.validate(e);if(t.error)throw new o([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return u.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e&&e[t.symbols.any];return!!n&&(a(r.legacy||n.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,i){n=n||r(6914),e=e||{},i=i||{};var a=Object.assign({},e,i);return i.errors&&e.errors&&(a.errors=Object.assign({},e.errors,i.errors),a.errors.wrap=Object.assign({},e.errors.wrap,i.errors.wrap)),i.messages&&(a.messages=n.compile(i.messages,e.messages)),delete a[t.symbols.prefs],a},t.tryWithPath=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},t.validateArg=function(e,r,n){var i=n.assert,a=n.message;if(t.isSchema(i)){var o=i.validate(e);if(!o.error)return;return o.error.message}if(!i(e))return r?"".concat(r," ").concat(a):a},t.verifyFlat=function(e,t){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;a(!Array.isArray(i),"Method no longer accepts array arguments:",t)}}catch(o){n.e(o)}finally{n.f()}}},3292:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.schema=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(r,["appendPath","override"]);try{return o.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},o.schema=function(e,t,r){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));var a=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return!1!==r.override?t.valid.apply(t,[e.override].concat(i)):t.valid.apply(t,i)};if(o.simple(t))return a(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return a(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){var s,u=k(t);try{for(u.s();!(s=u.n()).done;){var c,l=s.value;if(!o.simple(l))return(c=e.alternatives()).try.apply(c,w(t))}}catch(f){u.e(f)}finally{u.f()}return a.apply(void 0,[e].concat(w(t)))}return t instanceof RegExp?e.string().regex(t):t instanceof Date?a(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return a.isRef(e)?e:a.create(e,t)},t.compile=function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(a,["legacy"]);var s=r&&r[i.symbols.any];if(s)return n(a.legacy||s.version===i.version,"Cannot mix different versions of joi schemas:",s.version,i.version),r;if("object"!=typeof r||!a.legacy)return t.schema(e,r,{appendPath:!0});var u=o.walk(r);return u?u.compile(u.root,r):t.schema(e,r,{appendPath:!0})},o.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=o.walk(a);if(s)return s}}catch(f){r.e(f)}finally{r.f()}return null}var u=e[i.symbols.any];if(u)return{root:e[u.root],compile:u.compile};for(var c in n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e){var l=o.walk(e[c]);if(l)return l}return null},o.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,s){if(void 0===s&&(n(r&&"object"==typeof r,"Missing options"),s=r,r=a.create(".")),Array.isArray(s)&&(s={switch:s}),i.assertOptions(s,["is","not","then","otherwise","switch","break"]),i.isSchema(r))return n(void 0===s.is,'"is" can not be used with a schema condition'),n(void 0===s.not,'"not" can not be used with a schema condition'),n(void 0===s.switch,'"switch" can not be used with a schema condition'),o.condition(e,{is:r,then:s.then,otherwise:s.otherwise,break:s.break});if(n(a.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===s.not||void 0===s.is,'Cannot combine "is" with "not"'),void 0===s.switch){var u=s;void 0!==s.not&&(u={is:s.not,then:s.otherwise,otherwise:s.then,break:s.break});var c=void 0!==u.is?e.$_compile(u.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==u.then||void 0!==u.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===u.break||void 0===u.then||void 0===u.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===s.is||a.isRef(s.is)||i.isSchema(s.is)||(c=c.required()),o.condition(e,{ref:t.ref(r),is:c,then:u.then,otherwise:u.otherwise,break:u.break})}n(Array.isArray(s.switch),'"switch" must be an array'),n(void 0===s.is,'Cannot combine "switch" with "is"'),n(void 0===s.not,'Cannot combine "switch" with "not"'),n(void 0===s.then,'Cannot combine "switch" with "then"');for(var l={ref:t.ref(r),switch:[],break:s.break},f=0;f<s.switch.length;++f){var h=s.switch[f],d=f===s.switch.length-1;i.assertOptions(h,d?["is","then","otherwise"]:["is","then"]),n(void 0!==h.is,'Switch statement missing "is"'),n(void 0!==h.then,'Switch statement missing "then"');var p={is:e.$_compile(h.is),then:e.$_compile(h.then)};if(a.isRef(h.is)||i.isSchema(h.is)||(p.is=p.is.required()),d){n(void 0===s.otherwise||void 0===h.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var v=void 0!==s.otherwise?s.otherwise:h.otherwise;void 0!==v&&(n(void 0===l.break,"Cannot specify both otherwise and break"),p.otherwise=e.$_compile(v))}l.switch.push(p)}return l},o.condition=function(e,t){for(var r=0,n=["then","otherwise"];r<n.length;r++){var i=n[r];void 0===t[i]?delete t[i]:t[i]=e.$_compile(t[i])}return t}},6354:function(e,t,r){var n=r(5688),i=r(8160),a=r(3328);t.Report=function(){function e(r,n,i,a,o,s,u){if(A(this,e),this.code=r,this.flags=a,this.messages=o,this.path=s.path,this.prefs=u,this.state=s,this.value=n,this.message=null,this.template=null,this.local=i||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var c=this.path[this.path.length-1];"object"!=typeof c&&(this.local.key=c)}}return O(e,[{key:"_setTemplate",value:function(e){if(this.template=e,!this.flags.label&&0===this.path.length){var t=this._template(this.template,"root");t&&(this.local.label=t)}}},{key:"toString",value:function(){if(this.message)return this.message;var e=this.code;if(!this.prefs.errors.render)return this.code;var t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?'Error code "'.concat(e,'" is not defined, your custom type is missing the correct messages definition'):(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}},{key:"_template",value:function(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}}]),e}(),t.path=function(e){var t,r="",n=k(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"object"!=typeof i&&("string"==typeof i?(r&&(r+="."),r+=i):r+="[".concat(i,"]"))}}catch(a){n.e(a)}finally{n.f()}return r},t.template=function(e,t,r,n,o){if(t){if(a.isTemplate(t))return"root"!==r?t:null;var s=o.errors.language;if(i.isResolvable(s)&&(s=s.resolve(e,n,o)),s&&t[s]){if(void 0!==t[s][r])return t[s][r];if(void 0!==t[s]["*"])return t[s]["*"]}return t[r]?t[r]:t["*"]}},t.label=function(e,r,n,i){if(e.label)return e.label;if(!n.errors.label)return"";var a=r.path;return"key"===n.errors.label&&r.path.length>1&&(a=r.path.slice(-1)),t.path(a)||t.template(null,n.messages,"root",r,n)||i&&t.template(null,i,"root",r,n)||"value"},t.process=function(e,r,n){if(!e)return null;var i=t.details(e),a=i.override,o=i.message,s=i.details;if(a)return a;if(n.errors.stack)return new t.ValidationError(o,s,r);var u=Error.stackTraceLimit;Error.stackTraceLimit=0;var c=new t.ValidationError(o,s,r);return Error.stackTraceLimit=u,c},t.details=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o instanceof Error){if(!1!==r.override)return{override:o};var s=o.toString();n.push(s),i.push({message:s,type:"override",context:{error:o}})}else{var u=o.toString();n.push(u),i.push({message:u,path:o.path.filter((function(e){return"object"!=typeof e})),type:o.code,context:o.local})}}}catch(c){a.e(c)}finally{a.f()}return n.length>1&&(n=w(new Set(n))),{message:n.join(". "),details:i}},t.ValidationError=function(e){f(n,e);var r=h(n);function n(e,t,i){var a;return A(this,n),(a=r.call(this,e))._original=i,a.details=t,a}return O(n,null,[{key:"isError",value:function(e){return e instanceof t.ValidationError}}]),n}(p(Error)),t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},8901:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o=r(6914),s={};t.type=function(e,t){var r=Object.getPrototypeOf(e),u=i(r),c=e._assign(Object.create(u)),l=Object.assign({},t);delete l.base,u._definition=l;var f=r._definition||{};l.messages=o.merge(f.messages,l.messages),l.properties=Object.assign({},f.properties,l.properties),c.type=l.type,l.flags=Object.assign({},f.flags,l.flags);var h=Object.assign({},f.terms);if(l.terms)for(var d in l.terms){var p=l.terms[d];n(void 0===c.$_terms[d],"Invalid term override for",l.type,d),c.$_terms[d]=p.init,h[d]=p}l.terms=h,l.args||(l.args=f.args),l.prepare=s.prepare(l.prepare,f.prepare),l.coerce&&("function"==typeof l.coerce&&(l.coerce={method:l.coerce}),l.coerce.from&&!Array.isArray(l.coerce.from)&&(l.coerce={method:l.coerce.method,from:[].concat(l.coerce.from)})),l.coerce=s.coerce(l.coerce,f.coerce),l.validate=s.validate(l.validate,f.validate);var v=Object.assign({},f.rules);if(l.rules){var m=function(e){var t=l.rules[e];n("object"==typeof t,"Invalid rule definition for",l.type,e);var r=t.method;if(void 0===r&&(r=function(){return this.$_addRule(e)}),r&&(n(!u[e],"Rule conflict in",l.type,e),u[e]=r),n(!v[e],"Rule conflict in",l.type,e),v[e]=t,t.alias){var i,o=k([].concat(t.alias));try{for(o.s();!(i=o.n()).done;){var s=i.value;u[s]=t.method}}catch(c){o.e(c)}finally{o.f()}}t.args&&(t.argsByName=new Map,t.args=t.args.map((function(e){return"string"==typeof e&&(e={name:e}),n(!t.argsByName.has(e.name),"Duplicated argument name",e.name),a.isSchema(e.assert)&&(e.assert=e.assert.strict().label(e.name)),t.argsByName.set(e.name,e),e})))};for(var g in l.rules)m(g)}l.rules=v;var y=Object.assign({},f.modifiers);if(l.modifiers){var w=function(e){n(!u[e],"Rule conflict in",l.type,e);var t=l.modifiers[e];n("function"==typeof t,"Invalid modifier definition for",l.type,e);var r=function(t){return this.rule(b({},e,t))};u[e]=r,y[e]=t};for(var _ in l.modifiers)w(_)}if(l.modifiers=y,l.overrides){for(var x in u._super=r,c.$_super={},l.overrides)n(r[x],"Cannot override missing",x),l.overrides[x][a.symbols.parent]=r[x],c.$_super[x]=r[x].bind(c);Object.assign(u,l.overrides)}l.cast=Object.assign({},f.cast,l.cast);var E=Object.assign({},f.manifest,l.manifest);return E.build=s.build(l.manifest&&l.manifest.build,f.manifest&&f.manifest.build),l.manifest=E,l.rebuild=s.rebuild(l.rebuild,f.rebuild),c},s.build=function(e,t){return e&&t?function(r,n){return t(e(r,n),n)}:e||t},s.coerce=function(e,t){return e&&t?{from:e.from&&t.from?w(new Set([].concat(w(e.from),w(t.from)))):null,method:function(r,n){var i;if((!t.from||t.from.includes(typeof r))&&(i=t.method(r,n))){if(i.errors||void 0===i.value)return i;r=i.value}if(!e.from||e.from.includes(typeof r)){var a=e.method(r,n);if(a)return a}return i}}:e||t},s.prepare=function(e,t){return e&&t?function(r,n){var i=e(r,n);if(i){if(i.errors||void 0===i.value)return i;r=i.value}return t(r,n)||i}:e||t},s.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},s.validate=function(e,t){return e&&t?function(r,n){var i=t(r,n);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;r=i.value}return e(r,n)||i}:e||t}},5107:function(e,t,r){var n,i=r(375),a=r(8571),o=r(8652),s=r(8160),u=r(3292),c=r(6354),l=r(8901),f=r(9708),h=r(6133),d=r(3328),p=r(1152),m={types:{alternatives:r(4946),any:r(8068),array:r(546),boolean:r(4937),date:r(7500),function:r(390),link:r(8785),number:r(3832),object:r(8966),string:r(7417),symbol:r(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){var e,t={_types:new Set(Object.keys(m.types))},r=k(t._types);try{var n=function(){var r=e.value;t[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(!t.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],t)}};for(r.s();!(e=r.n()).done;)n()}catch(l){r.e(l)}finally{r.f()}for(var a=function(){var e=s[o];t[e]=function(){var t;return(t=this.any())[e].apply(t,arguments)}},o=0,s=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];o<s.length;o++)a();for(var u in Object.assign(t,m.methods),m.aliases){var c=m.aliases[u];t[u]=t[c]}return t.x=t.expression,p.setup&&p.setup(t),t}};m.methods={ValidationError:c.ValidationError,version:s.version,cache:o.provider,assert:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];m.assert(e,t,!0,n)},attempt:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return m.assert(e,t,!1,n)},build:function(e){return i("function"==typeof f.build,"Manifest functionality disabled"),f.build(this,e)},checkPreferences:function(e){s.checkPreferences(e)},compile:function(e,t){return u.compile(this,e,t)},defaults:function(e){i("function"==typeof e,"modifier must be a function");var t,r=Object.assign({},this),n=k(r._types);try{var a=function(){var n=t.value,a=e(r[n]());i(s.isSchema(a),"modifier must return a valid schema object"),r[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,a,t)}};for(n.s();!(t=n.n()).done;)a()}catch(o){n.e(o)}finally{n.f()}return r},expression:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(d,t)},extend:function(){for(var e=this,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];s.verifyFlat(a,"extend"),n=n||r(3378),i(a.length,"You need to provide at least one extension"),this.assert(a,n.extensions);var u=Object.assign({},this);u._types=new Set(u._types);for(var c=0,f=a;c<f.length;c++){var h=f[c];"function"==typeof h&&(h=h(u)),this.assert(h,n.extension);var d,p=k(m.expandExtension(h,u));try{var v=function(){var t=d.value;i(void 0===u[t.type]||u._types.has(t.type),"Cannot override name",t.type);var r=t.base||e.any(),n=l.type(r,t);u._types.add(t.type),u[t.type]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,n,t)}};for(p.s();!(d=p.n()).done;)v()}catch(g){p.e(g)}finally{p.f()}}return u},isError:c.ValidationError.isError,isExpression:d.isTemplate,isRef:h.isRef,isSchema:s.isSchema,in:function(){return h.in.apply(h,arguments)},override:s.symbols.override,ref:function(){return h.create.apply(h,arguments)},types:function(){var e,t={},r=k(this._types);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n]=this[n]()}}catch(a){r.e(a)}finally{r.f()}for(var i in m.aliases)t[i]=this[i]();return t}},m.assert=function(e,t,r,n){var i=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,o=null!==i?n[1]:n[0],u=t.validate(e,s.preferences({errors:{stack:!0}},o||{})),l=u.error;if(!l)return u.value;if(i instanceof Error)throw i;var f=r&&"function"==typeof l.annotate?l.annotate():l.message;throw l instanceof c.ValidationError==0&&(l=a(l)),l.message=i?"".concat(i," ").concat(f):f,l},m.generate=function(e,t,r){var n;return i(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?(n=t._definition).args.apply(n,[t].concat(w(r))):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];var r,n=[],i=k(t._types);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.type.test(a)){var o=Object.assign({},e);o.type=a,o.base=t[a](),n.push(o)}}}catch(s){i.e(s)}finally{i.f()}return n},e.exports=m.root()},6914:function(e,t,r){var n=r(375),i=r(8571),a=r(3328);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new a(e);if(a.isTemplate(e))return n(!t,"Cannot set single message template"),e;for(var r in n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{},e){var o=e[r];if("root"===r||a.isTemplate(o))t[r]=o;else if("string"!=typeof o){n("object"==typeof o&&!Array.isArray(o),"Invalid message for",r);var s=r;for(r in t[s]=t[s]||{},o){var u=o[r];"root"===r||a.isTemplate(u)?t[s][r]=u:(n("string"==typeof u,"Invalid message for",r,"in",s),t[s][r]=new a(u))}}else t[r]=new a(o)}return t},t.decompile=function(e){var t={};for(var r in e){var n=e[r];if("root"!==r)if(a.isTemplate(n))t[r]=n.describe({compact:!0});else{var i=r;for(r in t[i]={},n){var o=n[r];"root"!==r?t[i][r]=o.describe({compact:!0}):t[i].root=o}}else t.root=n}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new a(r);if(a.isTemplate(r))return r;var o=i(e);for(var s in r){var u=r[s];if("root"===s||a.isTemplate(u))o[s]=u;else if("string"!=typeof u){n("object"==typeof u&&!Array.isArray(u),"Invalid message for",s);var c=s;for(s in o[c]=o[c]||{},u){var l=u[s];"root"===s||a.isTemplate(l)?o[c][s]=l:(n("string"==typeof l,"Invalid message for",s,"in",c),o[c][s]=new a(l))}}else o[s]=new a(u)}return o}},2294:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.Ids=o.Ids=function(){function e(){A(this,e),this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}return O(e,[{key:"clone",value:function(){var e=new o.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}},{key:"concat",value:function(e){e._schemaChain&&(this._schemaChain=!0);var t,r=k(e._byId.entries());try{for(r.s();!(t=r.n()).done;){var i=_(t.value,2),a=i[0],o=i[1];n(!this._byKey.has(a),"Schema id conflicts with existing key:",a),this._byId.set(a,o)}}catch(h){r.e(h)}finally{r.f()}var s,u=k(e._byKey.entries());try{for(u.s();!(s=u.n()).done;){var c=_(s.value,2),l=c[0],f=c[1];n(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,f)}}catch(h){u.e(h)}finally{u.f()}}},{key:"fork",value:function(e,t,r){var a=this._collect(e);a.push({schema:r});var s=a.shift(),u={id:s.id,schema:t(s.schema)};n(i.isSchema(u.schema),"adjuster function failed to return a joi schema type");var c,l=k(a);try{for(l.s();!(c=l.n()).done;){var f=c.value;u={id:f.id,schema:o.fork(f.schema,u.id,u.schema)}}}catch(h){l.e(h)}finally{l.f()}return u.schema}},{key:"labels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],n=this._get(r);if(!n)return[].concat(w(t),w(e)).join(".");var i=e.slice(1);return t=[].concat(w(t),[n.schema._flags.label||r]),i.length?n.schema._ids.labels(i,t):t.join(".")}},{key:"reach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],i=this._get(r);n(i,"Schema does not contain path",[].concat(w(t),w(e)).join("."));var a=e.slice(1);return a.length?i.schema._ids.reach(a,[].concat(w(t),[r])):i.schema}},{key:"register",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).key;if(e&&i.isSchema(e)){(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);var r=e._flags.id;if(r){var a=this._byId.get(r);n(!a||a.schema===e,"Cannot add different schemas with the same id:",r),n(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(n(!this._byKey.has(t),"Schema already contains key:",t),n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}}},{key:"reset",value:function(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}},{key:"_collect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[0],a=this._get(i);n(a,"Schema does not contain path",[].concat(w(t),w(e)).join(".")),r=[a].concat(w(r));var o=e.slice(1);return o.length?a.schema._ids._collect(o,[].concat(w(t),[i]),r):r}},{key:"_get",value:function(e){return this._byId.get(e)||this._byKey.get(e)}}]),e}(),o.fork=function(e,r,n){var i=t.schema(e,{each:function(e,t){var i=t.key;if(r===(e._flags.id||i))return n},ref:!1});return i?i.$_mutateRebuild():e},t.schema=function(e,t){var r;for(var n in e._flags)if("_"!==n[0]){var i=o.scan(e._flags[n],{source:"flags",name:n},t);void 0!==i&&((r=r||e.clone())._flags[n]=i)}for(var a=0;a<e._rules.length;++a){var s=e._rules[a],u=o.scan(s.args,{source:"rules",name:s.name},t);if(void 0!==u){r=r||e.clone();var c=Object.assign({},s);c.args=u,r._rules[a]=c,r._singleRules.get(s.name)===s&&r._singleRules.set(s.name,c)}}for(var l in e.$_terms)if("_"!==l[0]){var f=o.scan(e.$_terms[l],{source:"terms",name:l},t);void 0!==f&&((r=r||e.clone()).$_terms[l]=f)}return r},o.scan=function(e,t,r,n,s){var u=n||[];if(null!==e&&"object"==typeof e){var c;if(Array.isArray(e)){for(var f=0;f<e.length;++f){var h="terms"===t.source&&"keys"===t.name&&e[f].key,d=o.scan(e[f],t,r,[f].concat(w(u)),h);void 0!==d&&((c=c||e.slice())[f]=d)}return c}if(!1!==r.schema&&i.isSchema(e)||!1!==r.ref&&a.isRef(e)){var p=r.each(e,l(l({},t),{},{path:u,key:s}));if(p===e)return;return p}for(var v in e)if("_"!==v[0]){var m=o.scan(e[v],t,r,[v].concat(w(u)),s);void 0!==m&&((c=c||Object.assign({},e))[v]=m)}return c}}},6133:function(e,t,r){var n,i=r(375),a=r(8571),o=r(9621),s=r(8160),u={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i("string"==typeof e,"Invalid reference key:",e),s.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),i(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");var r=Object.assign({},u.defaults,t);delete r.prefix;var n=r.separator,a=u.context(e,n,t.prefix);if(r.type=a.type,e=a.key,"value"===r.type)if(a.root&&(i(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)i(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{var o=_(u.ancestor(e,n),2),c=o[0],l=o[1];l&&""===(e=e.slice(l))&&(e=null),r.ancestor=c}return r.path=n?null===e?[]:e.split(n):[e],new u.Ref(r)},t.in=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.create(e,l(l({},r),{},{in:!0}))},t.isRef=function(e){return!!e&&!!e[s.symbols.ref]},u.Ref=function(){function e(t){A(this,e),i("object"==typeof t,"Invalid reference construction"),s.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),i([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),i(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),i(!t.map||Array.isArray(t.map),"options.map must be an array"),i(!t.map||!t.adjust,"Cannot set both map and adjust options"),Object.assign(this,u.defaults,t),i("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}return O(e,[{key:"resolve",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return i(!this.in||a.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,a):"local"===this.type?this._resolve(n,t,a):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,a):(i(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,a)):this._resolve(e,t,a)}},{key:"_resolve",value:function(e,t,r){var n;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=o(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){var i=this.map.get(n);void 0!==i&&(n=i)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}},{key:"toString",value:function(){return this.display}},{key:"absolute",value:function(e){return[].concat(w(e.path.slice(0,-this.ancestor)),w(this.path))}},{key:"clone",value:function(){return new u.Ref(this)}},{key:"describe",value:function(){var e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=w(this.map));for(var t=0,r=["adjust","iterables","render"];t<r.length;t++){var n=r[t];null!==this[n]&&void 0!==this[n]&&(e[n]=this[n])}return!1!==this.in&&(e.in=!0),{ref:e}}},{key:"updateDisplay",value:function(){var e=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var t=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(t).concat(e||"")}else this.display="ref:".concat(e||"..");else this.display="ref:root:".concat(e);else this.display="ref:".concat(this.separator).concat(e);else this.display="ref:".concat(e);else this.display="ref:".concat(this.type,":").concat(e)}}]),e}(),u.Ref.prototype[s.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},u.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new u.Ref(e)},u.context=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e.trim(),r){var n=void 0===r.global?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};var i=void 0===r.local?"#":r.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};var a=void 0===r.root?"/":r.root;if(a!==t&&e.startsWith(a))return{key:e.slice(a.length),type:"value",root:!0}}return{key:e,type:"value"}},u.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];for(var r=2;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=function(){function e(){A(this,e),this.refs=[]}return O(e,[{key:"register",value:function(e,i){if(e)if(i=void 0===i?t.toParent:i,Array.isArray(e)){var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;this.register(u,i)}}catch(h){o.e(h)}finally{o.f()}}else if(s.isSchema(e)){var c,l=k(e._refs.refs);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.ancestor-i>=0&&this.refs.push({ancestor:f.ancestor-i,root:f.root})}}catch(h){l.e(h)}finally{l.f()}}else t.isRef(e)&&"value"===e.type&&e.ancestor-i>=0&&this.refs.push({ancestor:e.ancestor-i,root:e.root}),(n=n||r(3328)).isTemplate(e)&&this.register(e.refs(),i)}},{key:"length",get:function(){return this.refs.length}},{key:"clone",value:function(){var e=new t.Manager;return e.refs=a(this.refs),e}},{key:"reset",value:function(){this.refs=[]}},{key:"roots",value:function(){return this.refs.filter((function(e){return!e.ancestor})).map((function(e){return e.root}))}}]),e}()},3378:function(e,t,r){var n=r(5107),i={};i.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:i.wrap,array:i.wrap,string:i.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]\w*$/,i.rule=n.object({alias:n.array().items(n.string().pattern(i.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(i.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(i.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(i.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(i.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(i.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(i.nameRx,i.rule),terms:n.object().pattern(i.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),i.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},i.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,n.link("/")]),i.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=n.object().pattern(/.+/,[n.string(),i.desc.template,n.object().pattern(/.+/,[n.string(),i.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:i.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),i.desc.ref],wrap:{label:i.wrap,array:i.wrap}},externals:n.boolean(),messages:i.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),i.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:function(e,t,r){var n=r(8571),i=r(9621),a=r(8160),o={value:Symbol("value")};e.exports=o.State=function(){function e(t,r,n){A(this,e),this.path=t,this.ancestors=r,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}return O(e,[{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new o.State(e,t,this);return r&&n.schemas&&(n.schemas=[o.schemas(r)].concat(w(n.schemas))),n}},{key:"nest",value:function(e,t){var r=new o.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[o.schemas(e)].concat(w(r.schemas)),r.debug=t,r}},{key:"shadow",value:function(e,t){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,e,t)}},{key:"snapshot",value:function(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}},{key:"restore",value:function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}}]),e}(),o.schemas=function(e){return a.isSchema(e)?{schema:e}:e},o.Shadow=function(){function e(){A(this,e),this._values=null}return O(e,[{key:"set",value:function(e,t,r){if(e.length&&("strip"!==r||"number"!=typeof e[e.length-1])){this._values=this._values||new Map;for(var n=this._values,i=0;i<e.length;++i){var a=e[i],s=n.get(a);s||(s=new Map,n.set(a,s)),n=s}n[o.value]=t}}},{key:"get",value:function(e){var t=this.node(e);if(t)return t[o.value]}},{key:"node",value:function(e){if(this._values)return i(this._values,e,{iterables:!0})}},{key:"override",value:function(e,t){if(this._values){var r=e.slice(0,-1),n=e[e.length-1],a=i(this._values,r,{iterables:!0});t?a.set(n,t):a&&a.delete(n)}}}]),e}()},3328:function(e,t,r){var n=r(375),i=r(8571),a=r(5277),o=r(1447),s=r(8160),u=r(6354),c=r(6133),f={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=f.Template=function(){function e(t,r){A(this,e),n("string"==typeof t,"Template source must be a string"),n(!t.includes("\0")&&!t.includes(""),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this._template=null,this._settings=i(r),this._parse()}return O(e,[{key:"_parse",value:function(){if(this.source.includes("{")){var e=f.encode(this.source),t=f.split(e),r=!1,n=[],i=t.shift();i&&n.push(i);var a,o=k(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u="{"!==s[0],c=u?"}":"}}",l=s.indexOf(c);if(-1!==l&&"{"!==s[1]){var h=s.slice(u?0:1,l),d=":"===h[0];d&&(h=h.slice(1));var p=this._ref(f.decode(h),{raw:u,wrapped:d});n.push(p),"string"!=typeof p&&(r=!0);var v=s.slice(l+c.length);v&&n.push(f.decode(v))}else n.push("{".concat(f.decode(s)))}}catch(m){o.e(m)}finally{o.f()}r?this._template=n:this.rendered=n.join("")}}},{key:"describe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._settings&&e.compact)return this.source;var t={template:this.source};return this._settings&&(t.options=this._settings),t}},{key:"isDynamic",value:function(){return!!this._template}},{key:"refs",value:function(){if(this._template){var e,t=[],r=k(this._template);try{for(r.s();!(e=r.n()).done;){var n=e.value;"string"!=typeof n&&t.push.apply(t,w(n.refs))}}catch(i){r.e(i)}finally{r.f()}return t}}},{key:"resolve",value:function(e,t,r,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}},{key:"_part",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.ref?(t=e.ref).resolve.apply(t,n):e.formula.evaluate(n)}},{key:"render",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.isDynamic())return this.rendered;var o,s=[],u=k(this._template);try{for(u.s();!(o=u.n()).done;){var c=o.value;if("string"==typeof c)s.push(c);else{var l=this._part(c,e,t,r,n,i),h=f.stringify(l,e,t,r,n,i);if(void 0!==h){var d=c.raw||!1===(i.errors&&i.errors.escapeHtml)?h:a(h);s.push(f.wrap(d,c.wrapped&&r.errors.wrap.label))}}}}catch(p){u.e(p)}finally{u.f()}return s.join("")}},{key:"_ref",value:function(e,t){var r=this,n=t.raw,i=t.wrapped,a=[],s=function(e){var t=c.create(e,r._settings);return a.push(t),function(e){return t.resolve.apply(t,w(e))}};try{var u=new o.Parser(e,{reference:s,functions:f.functions,constants:f.constants})}catch(t){throw t.message='Invalid template variable "'.concat(e,'" fails due to: ').concat(t.message),t}if(u.single){if("reference"===u.single.type){var l=a[0];return{ref:l,raw:n,refs:a,wrapped:i||"local"===l.type&&"label"===l.key}}return f.stringify(u.single.value)}return{formula:u,raw:n,refs:a}}},{key:"toString",value:function(){return this.source}}],[{key:"date",value:function(e,t){return f.dateFormat[t.dateFormat].call(e)}},{key:"build",value:function(e){return new f.Template(e.template,e.options)}},{key:"isTemplate",value:function(e){return!!e&&!!e[s.symbols.template]}}]),e}(),f.Template.prototype[s.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(e){return e.replace(/\\(\{+)/g,(function(e,t){return f.opens.slice(0,t.length)})).replace(/\\(\}+)/g,(function(e,t){return f.closes.slice(0,t.length)}))},f.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(e){for(var t=[],r="",n=0;n<e.length;++n){var i=e[n];if("{"===i){for(var a="";n+1<e.length&&"{"===e[n+1];)a+="{",++n;t.push(r),r=a}else r+=i}return t.push(r),t},f.wrap=function(e,t){return t?1===t.length?"".concat(t).concat(e).concat(t):"".concat(t[0]).concat(e).concat(t[1]):e},f.stringify=function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=typeof e,s=n&&n.errors&&n.errors.wrap||{},u=!1;if(c.isRef(e)&&e.render&&(u=e.in,e=e.resolve(t,r,n,i,l({in:e.in},a))),null===e)return"null";if("string"===o)return f.wrap(e,a.arrayItems&&s.string);if("number"===o||"function"===o||"symbol"===o)return e.toString();if("object"!==o)return JSON.stringify(e);if(e instanceof Date)return f.Template.date(e,n);if(e instanceof Map){var h,d=[],p=k(e.entries());try{for(p.s();!(h=p.n()).done;){var v=_(h.value,2),m=v[0],g=v[1];d.push("".concat(m.toString()," -> ").concat(g.toString()))}}catch(E){p.e(E)}finally{p.f()}e=d}if(!Array.isArray(e))return e.toString();var y,b=[],w=k(e);try{for(w.s();!(y=w.n()).done;){var x=y.value;b.push(f.stringify(x,t,r,n,i,l({arrayItems:!0},a)))}}catch(E){w.e(E)}finally{w.f()}return f.wrap(b.join(", "),!u&&s.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(e,t,r){return e?t:r},length:function(e){return"string"==typeof e?e.length:e&&"object"==typeof e?Array.isArray(e)?e.length:Object.keys(e).length:null},msg:function(e){var t=_(this,5),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=o.messages;if(!s)return"";var c=u.template(r,s[0],e,n,i)||u.template(r,s[1],e,n,i);return c?c.render(r,n,i,a,o):""},number:function(e){return"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}}},4946:function(e,t,r){var n=r(375),i=r(1687),a=r(8068),o=r(8160),s=r(3292),u=r(6354),c=r(6133),l={};e.exports=a.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:c.toSibling}},args:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 1===r.length&&Array.isArray(r[0])?e.try.apply(e,w(r[0])):e.try.apply(e,r)},validate:function(e,t){var r=t.schema,n=t.error,a=t.state,o=t.prefs;if(r._flags.match){for(var s=[],c=[],f=0;f<r.$_terms.matches.length;++f){var h=r.$_terms.matches[f],d=a.nest(h.schema,"match.".concat(f));d.snapshot();var p=h.schema.$_validate(e,d,o);p.errors?(c.push(p.errors),d.restore()):s.push(p.value)}if(0===s.length)return{errors:n("alternatives.any",{details:c.map((function(e){return u.details(e,{override:!1})}))})};if("one"===r._flags.match)return 1===s.length?{value:s[0]}:{errors:n("alternatives.one")};if(s.length!==r.$_terms.matches.length)return{errors:n("alternatives.all",{details:c.map((function(e){return u.details(e,{override:!1})}))})};var v=function e(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&e(t.schema)}))};return v(r)?{value:s.reduce((function(e,t){return i(e,t,{mergeArrays:!1})}))}:{value:s[s.length-1]}}for(var m=[],g=0;g<r.$_terms.matches.length;++g){var y=r.$_terms.matches[g];if(y.schema){var b=a.nest(y.schema,"match.".concat(g));b.snapshot();var w=y.schema.$_validate(e,b,o);if(!w.errors)return w;b.restore(),m.push({schema:y.schema,reports:w.errors})}else for(var _=y.ref?y.ref.resolve(e,a,o):e,k=y.is?[y]:y.switch,x=0;x<k.length;++x){var E=k[x],A=E.is,S=E.then,O=E.otherwise,I="match.".concat(g).concat(y.switch?"."+x:"");if(A.$_match(_,a.nest(A,"".concat(I,".is")),o)){if(S)return S.$_validate(e,a.nest(S,"".concat(I,".then")),o)}else if(O)return O.$_validate(e,a.nest(O,"".concat(I,".otherwise")),o)}}return l.errors(m,t)},rules:{conditional:{method:function(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");var r,i=this.clone(),a=s.when(i,e,t),o=k(a.is?[a]:a.switch);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(u.then&&u.otherwise){i.$_setFlag("_endedSwitch",!0,{clone:!1});break}}}catch(c){o.e(c)}finally{o.f()}return i.$_terms.matches.push(a),i.$_mutateRebuild()}},match:{method:function(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e){var t,r=k(this.$_terms.matches);try{for(r.s();!(t=r.n()).done;){var i=t.value;n(i.schema,"Cannot combine match mode",e,"with conditional rules")}}catch(a){r.e(a)}finally{r.f()}}return this.$_setFlag("match",e)}},try:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing alternative schemas"),o.verifyFlat(t,"try"),n(!this._flags._endedSwitch,"Unreachable condition");for(var i=this.clone(),a=0,s=t;a<s.length;a++){var u=s[a];i.$_terms.matches.push({schema:i.$_compile(u)})}return i.$_mutateRebuild()}}},overrides:{label:function(e){return this.$_parent("label",e).$_modify({each:function(t,r){return"is"!==r.path[0]?t.label(e):void 0},ref:!1})}},rebuild:function(e){e.$_modify({each:function(t){o.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build:function(e,t){if(t.matches){var r,n=k(t.matches);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.ref,s=i.is,u=i.not,c=i.then,l=i.otherwise;e=a?e.try(a):o?e.conditional(o,{is:s,then:c,not:u,otherwise:l,switch:i.switch}):e.conditional(s,{then:c,otherwise:l})}}catch(f){n.e(f)}finally{n.f()}}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),l.errors=function(e,t){var r=t.error,n=t.state;if(!e.length)return{errors:r("alternatives.any")};if(1===e.length)return{errors:e[0].reports};var i,a=new Set,o=[],s=k(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,f=c.reports,h=c.schema;if(f.length>1)return l.unmatched(e,r);var d=f[0];if(d instanceof u.Report==0)return l.unmatched(e,r);if(d.state.path.length===n.path.length)if("any.only"!==d.code){var p=_(d.code.split("."),2),v=p[0];"base"===p[1]?a.add(v):o.push({type:h.type,report:d})}else{var m,g=k(d.local.valids);try{for(g.s();!(m=g.n()).done;){var y=m.value;a.add(y)}}catch(b){g.e(b)}finally{g.f()}}else o.push({type:h.type,report:d})}}catch(b){s.e(b)}finally{s.f()}return o.length?1===o.length?{errors:o[0].report}:l.unmatched(e,r):{errors:r("alternatives.types",{types:w(a)})}},l.unmatched=function(e,t){var r,n=[],i=k(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push.apply(n,w(a.reports))}}catch(o){i.e(o)}finally{i.f()}return{errors:t("alternatives.match",u.details(n,{override:!1}))}}},8068:function(e,t,r){var n=r(375),i=r(7629),a=r(8160),o=r(6914);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate:function(e,t,r){var n=r.method;try{return n(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method:function(e){return this.prefs({messages:e})}},shared:{method:function(e){n(a.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");var t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method:function(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:function(e,t,r){var n=r.code,i=r.local;return t.error(n,i)},args:["code","local"],multi:!0}},modifiers:{keep:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.keep=t},message:function(e,t){e.message=o.compile(t)},warn:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.warn=t}},manifest:{build:function(e,t){for(var r in t){var n=t[r];if(["examples","externals","metas","notes","tags"].includes(r)){var i,a=k(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;e=e[r.slice(0,-1)](o)}}catch(S){a.e(S)}finally{a.f()}}else if("alterations"!==r)if("whens"!==r){if("shared"===r){var s,u=k(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;e=e.shared(c)}}catch(S){u.e(S)}finally{u.f()}}}else{var l,f=k(n);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.ref,p=h.is,v=h.not,m=h.then,g=h.otherwise,y=h.concat;e=y?e.concat(y):d?e.when(d,{is:p,not:v,then:m,otherwise:g,switch:h.switch,break:h.break}):e.when(p,{then:m,otherwise:g,break:h.break})}}catch(S){f.e(S)}finally{f.f()}}else{var b,w={},_=k(n);try{for(_.s();!(b=_.n()).done;){var x=b.value,E=x.target,A=x.adjuster;w[E]=A}}catch(S){_.e(S)}finally{_.f()}e=e.alter(w)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(e,t,r){var n=r(375),i=r(9474),a=r(9621),o=r(8068),s=r(8160),u=r(3292),c={};e.exports=o.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs;if(Array.isArray(e)){var a=r.$_getRule("sort");return a?c.sort(r,e,a.args.options,n,i):void 0}}},validate:function(e,t){var r=t.schema,n=t.error;if(!Array.isArray(e)){if(r._flags.single){var i=[e];return i[s.symbols.arraySingle]=!0,{value:i}}return{errors:n("array.base")}}if(r.$_getRule("items")||r.$_terms.externals)return{value:e.slice()}},rules:{has:{method:function(e){e=this.$_compile(e,{appendPath:!0});var t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate:function(e,t,r){for(var n=t.state,i=t.prefs,a=t.error,o=r.schema,s=[e].concat(w(n.ancestors)),u=0;u<e.length;++u){var c=n.localize([].concat(w(n.path),[u]),s,o);if(o.$_match(e[u],c,i))return e}var l=o._flags.label;return l?a("array.hasKnown",{patternLabel:l}):a("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"items");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});i.$_terms.items.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs,o=t.errorsArray,u=r.$_terms._requireds.slice(),l=r.$_terms.ordered.slice(),f=[].concat(w(r.$_terms._inclusions),w(u)),h=!e[s.symbols.arraySingle];delete e[s.symbols.arraySingle];for(var d=o(),p=e.length,v=0;v<p;++v){var m=e[v],g=!1,y=!1,b=h?v:new Number(v),_=[].concat(w(i.path),[b]);if(r._flags.sparse||void 0!==m){var x,E=[e].concat(w(i.ancestors)),A=k(r.$_terms._exclusions);try{for(A.s();!(x=A.n()).done;){var S=x.value;if(S.$_match(m,i.localize(_,E,S),a,{presence:"ignore"})){if(d.push(n("array.excludes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d;g=!0,l.shift();break}}}catch(B){A.e(B)}finally{A.f()}if(!g){if(r.$_terms.ordered.length){if(l.length){var O=l.shift(),I=O.$_validate(m,i.localize(_,E,O),a);if(I.errors){if(d.push.apply(d,w(I.errors)),a.abortEarly)return d}else if("strip"===O._flags.result)c.fastSplice(e,v),--v,--p;else{if(!r._flags.sparse&&void 0===I.value){if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;continue}e[v]=I.value}continue}if(!r.$_terms.items.length){if(d.push(n("array.orderedLength",{pos:v,limit:r.$_terms.ordered.length})),a.abortEarly)return d;break}}for(var R=[],C=u.length,N=0;N<C;++N){var P=i.localize(_,E,u[N]);P.snapshot();var M=u[N].$_validate(m,P,a);if(R[N]=M,!M.errors){if(e[v]=M.value,y=!0,c.fastSplice(u,N),--N,--C,!r._flags.sparse&&void 0===M.value&&(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly))return d;break}P.restore()}if(!y){var j=a.stripUnknown&&!!a.stripUnknown.arrays||!1;C=f.length;var T,L=k(f);try{for(L.s();!(T=L.n()).done;){var $=T.value,D=void 0,U=u.indexOf($);if(-1!==U)D=R[U];else{var F=i.localize(_,E,$);if(F.snapshot(),!(D=$.$_validate(m,F,a)).errors){"strip"===$._flags.result?(c.fastSplice(e,v),--v,--p):r._flags.sparse||void 0!==D.value?e[v]=D.value:(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),g=!0),y=!0;break}F.restore()}if(1===C){if(j){c.fastSplice(e,v),--v,--p,y=!0;break}if(d.push.apply(d,w(D.errors)),a.abortEarly)return d;g=!0;break}}}catch(B){L.e(B)}finally{L.f()}if(!g&&(r.$_terms._inclusions.length||r.$_terms._requireds.length)&&!y){if(j){c.fastSplice(e,v),--v,--p;continue}if(d.push(n("array.includes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d}}}}else{if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;l.shift()}}return u.length&&c.fillMissedErrors(r,d,u,e,i,a),l.length&&(c.fillOrderedErrors(r,d,l,e,i,a),d.length||c.fillDefault(l,e,i,a)),d.length?d:e},priority:!0,manifest:!1},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,u=n.args;return s.compare(e.length,i,o)?e:t.error("array."+a,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:s.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"ordered");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});c.validateSingle(n,i),i.$_mutateRegister(n),i.$_terms.ordered.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()}},single:{method:function(e){var t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assertOptions(e,["by","order"]);var t={order:e.order||"ascending"};return e.by&&(t.by=u.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate:function(e,t,r){var n=t.error,i=t.state,a=t.prefs,o=t.schema,s=r.options,u=c.sort(o,e,s,i,a),l=u.value,f=u.errors;if(f)return f;for(var h=0;h<e.length;++h)if(e[h]!==l[h])return n("array.sort",{order:s.order,by:s.by?s.by.key:"value"});return e},convert:!0},sparse:{method:function(e){var t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),s.assertOptions(t,["ignoreUndefined","separator"]);var r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){var i=s.default(t.separator,".");r.path=i?e.split(i):[e]}else r.comparator=e;return this.$_addRule(r)},validate:function(e,t,r,o){for(var s=t.state,u=t.error,c=(t.schema,r.comparator),l=r.options,f=o.comparator,h=o.path,d={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},p=f||i,v=l.ignoreUndefined,m=0;m<e.length;++m){var g=h?a(e[m],h):e[m],y=f?d.custom:d[typeof g];if(n(y,"Failed to find unique map container for type",typeof g),y instanceof Map){for(var b=y.entries(),_=void 0;!(_=b.next()).done;)if(p(_.value[0],g)){var k=s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))),x={pos:m,value:e[m],dupePos:_.value[1],dupeValue:e[_.value[1]]};return h&&(x.path=c),u("array.unique",x,k)}y.set(g,m)}else{if((!v||void 0!==g)&&void 0!==y[g]){var E={pos:m,value:e[m],dupePos:y[g],dupeValue:e[y[g]]};return h&&(E.path=c),u("array.unique",E,s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))))}y[g]=m}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(e,t){return new Set(e)}}},rebuild:function(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];var t,r=k(e.$_terms.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;c.validateSingle(n,e),"required"===n._flags.presence?e.$_terms._requireds.push(n):"forbidden"===n._flags.presence?e.$_terms._exclusions.push(n):e.$_terms._inclusions.push(n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(e.$_terms.ordered);try{for(a.s();!(i=a.n()).done;){var o=i.value;c.validateSingle(o,e)}}catch(s){a.e(s)}finally{a.f()}},manifest:{build:function(e,t){var r,n;return t.items&&(e=(r=e).items.apply(r,w(t.items))),t.ordered&&(e=(n=e).ordered.apply(n,w(t.ordered))),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),c.fillMissedErrors=function(e,t,r,n,i,a){var o,s=[],u=0,c=k(r);try{for(c.s();!(o=c.n()).done;){var l=o.value._flags.label;l?s.push(l):++u}}catch(f){c.e(f)}finally{c.f()}s.length?u?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:s,unknownMisses:u},i,a)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:s},i,a)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:u},i,a))},c.fillOrderedErrors=function(e,t,r,n,i,a){var o,s=[],u=k(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;"required"===l._flags.presence&&s.push(l)}}catch(f){u.e(f)}finally{u.f()}s.length&&c.fillMissedErrors(e,t,s,n,i,a)},c.fillDefault=function(e,t,r,n){for(var i=[],a=!0,o=e.length-1;o>=0;--o){var s=e[o],u=[t].concat(w(r.ancestors)),c=s.$_validate(void 0,r.localize(r.path,u,s),n).value;if(a){if(void 0===c)continue;a=!1}i.unshift(c)}i.length&&t.push.apply(t,i)},c.fastSplice=function(e,t){for(var r=t;r<e.length;)e[r++]=e[r];--e.length},c.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},c.sort=function(e,t,r,n,i){var a="ascending"===r.order?1:-1,o=-1*a,s=a,u=function(u,l){var f=c.compare(u,l,o,s);if(null!==f)return f;if(r.by&&(u=r.by.resolve(u,n,i),l=r.by.resolve(l,n,i)),null!==(f=c.compare(u,l,o,s)))return f;var h=typeof u;if(h!==typeof l)throw e.$_createError("array.sort.mismatching",t,null,n,i);if("number"!==h&&"string"!==h)throw e.$_createError("array.sort.unsupported",t,{type:h},n,i);return"number"===h?(u-l)*a:u<l?o:s};try{return{value:t.slice().sort(u)}}catch(e){return{errors:e}}},c.compare=function(e,t,r,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?r:null}},4937:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(2036),s={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(e,t){var r=t.schema;if("boolean"!=typeof e){if("string"==typeof e){var n=r._flags.sensitive?e:e.toLowerCase();e="true"===n||"false"!==n&&e}return"boolean"!=typeof e&&(e=r.$_terms.truthy&&r.$_terms.truthy.has(e,null,null,!r._flags.sensitive)||(!r.$_terms.falsy||!r.$_terms.falsy.has(e,null,null,!r._flags.sensitive))&&e),{value:e}}},validate:function(e,t){var r=t.error;if("boolean"!=typeof e)return{value:e,errors:r("boolean.base")}},rules:{truthy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"truthy");var i=this.clone();i.$_terms.truthy=i.$_terms.truthy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call truthy with undefined"),i.$_terms.truthy.add(u)}return i}},falsy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"falsy");var i=this.clone();i.$_terms.falsy=i.$_terms.falsy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call falsy with undefined"),i.$_terms.falsy.add(u)}return i}},sensitive:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("sensitive",e)}}},cast:{number:{from:s.isBool,to:function(e,t){return e?1:0}},string:{from:s.isBool,to:function(e,t){return e?"true":"false"}}},manifest:{build:function(e,t){var r,n;return t.truthy&&(e=(r=e).truthy.apply(r,w(t.truthy))),t.falsy&&(e=(n=e).falsy.apply(n,w(t.falsy))),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3328),s={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:function(e,t){var r=t.schema;return{value:s.parse(e,r._flags.format)||e}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(!(e instanceof Date)||isNaN(e.getTime())){var a=r._flags.format;return i.convert&&a&&"string"==typeof e?{value:e,errors:n("date.format",{format:a})}:{value:e,errors:n("date.base")}}},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.date,o=n.name,s=n.operator,u=n.args,c="now"===i?Date.now():i.getTime();return a.compare(e.getTime(),c,s)?e:t.error("date."+o,{limit:u.date,value:e})},args:[{name:"date",ref:!0,normalize:function(e){return"now"===e?e:s.parse(e)},assert:function(e){return null!==e},message:"must have a valid date format"}]},format:{method:function(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:s.isDate,to:function(e,t){return e.getTime()}},string:{from:s.isDate,to:function(e,t){var r=t.prefs;return o.date(e,r)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),s.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return a.isIsoDate(e)?s.date(e.toString()):null;var r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return s.date(1*e);if("unix"===t)return s.date(1e3*e);if("string"==typeof r)return null}return s.date(e)},s.date=function(e){var t=new Date(e);return isNaN(t.getTime())?null:t}},390:function(e,t,r){var n=r(375),i=r(7824);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length===n?e:t.error("function.arity",{n:n})}},class:{method:function(){return this.$_addRule("class")},validate:function(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length>=n?e:t.error("function.minArity",{n:n})}},maxArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length<=n?e:t.error("function.maxArity",{n:n})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(e,t,r){var n=r(978),i=r(375),a=r(8571),o=r(3652),s=r(8068),u=r(8160),c=r(3292),d=r(6354),m=r(6133),g=r(3328),y={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=s.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(e,t){return e.keys(t)},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs;if(!e||typeof e!==r.$_property("typeof")||Array.isArray(e))return{value:e,errors:n("object.base",{type:r.$_property("typeof")})};if(r.$_terms.renames||r.$_terms.dependencies||r.$_terms.keys||r.$_terms.patterns||r.$_terms.externals){e=y.clone(e,a);var o=[];if(r.$_terms.renames&&!y.rename(r,e,i,a,o))return{value:e,errors:o};if(!r.$_terms.keys&&!r.$_terms.patterns&&!r.$_terms.dependencies)return{value:e,errors:o};var s=new Set(Object.keys(e));if(r.$_terms.keys){var u,c=[e].concat(w(i.ancestors)),l=k(r.$_terms.keys);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f.key,d=e[h];s.delete(h);var p=i.localize([].concat(w(i.path),[h]),c,f),v=f.schema.$_validate(d,p,a);if(v.errors){if(a.abortEarly)return{value:e,errors:v.errors};void 0!==v.value&&(e[h]=v.value),o.push.apply(o,w(v.errors))}else"strip"===f.schema._flags.result||void 0===v.value&&void 0!==d?delete e[h]:void 0!==v.value&&(e[h]=v.value)}}catch(A){l.e(A)}finally{l.f()}}if(s.size||r._flags._hasPatternMatch){var m=y.unknown(r,e,s,o,i,a);if(m)return m}if(r.$_terms.dependencies){var g,b=k(r.$_terms.dependencies);try{for(b.s();!(g=b.n()).done;){var _=g.value;if(null===_.key||!1!==y.isPresent(_.options)(_.key.resolve(e,i,a,null,{shadow:!1}))){var x=y.dependencies[_.rel](r,_,e,i,a);if(x){var E=r.$_createError(x.code,e,x.context,i,a);if(a.abortEarly)return{value:e,errors:E};o.push(E)}}}}catch(A){b.e(A)}finally{b.f()}}return{value:e,errors:o}}},rules:{and:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"and"),y.dependency(this,"and",null,t)}},append:{method:function(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method:function(e,t,r){g.isTemplate(e)||(e=c.ref(e)),i(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate:function(e,t,r){var n=t.error,i=t.prefs,a=t.state,o=r.subject,s=r.schema,u=r.message,c=o.resolve(e,a,i),l=m.isRef(o)?o.absolute(a):[];return s.$_match(c,a.localize(l,[e].concat(w(a.ancestors)),s),i)?e:n("object.assert",{subject:o,message:u})},args:["subject","schema","message"],multi:!0},instance:{method:function(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:function(e,t,r){var n=r.constructor,i=r.name;return e instanceof n?e:t.error("object.instance",{type:i,value:e})},args:["constructor","name"]},keys:{method:function(e){var t=this;i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!u.isSchema(e),"Object schema cannot be a joi schema");var r=this.clone();if(e)if(Object.keys(e).length){r.$_terms.keys=r.$_terms.keys?r.$_terms.keys.filter((function(t){return!e.hasOwnProperty(t.key)})):new y.Keys;var n=function(n){u.tryWithPath((function(){return r.$_terms.keys.push({key:n,schema:t.$_compile(e[n])})}),n)};for(var a in e)n(a)}else r.$_terms.keys=new y.Keys;else r.$_terms.keys=null;return r.$_mutateRebuild()}},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,s=n.args;return u.compare(Object.keys(e).length,i,o)?e:t.error("object."+a,{limit:s.limit,value:e})},args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"nand"),y.dependency(this,"nand",null,t)}},or:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"or"),y.dependency(this,"or",null,t)}},oxor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.dependency(this,"oxor",null,t)}},pattern:{method:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e instanceof RegExp;a||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),u.assertOptions(n,["fallthrough","matches"]),a&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});var o=this.clone();o.$_terms.patterns=o.$_terms.patterns||[];var s=(b(r={},a?"regex":"schema",e),b(r,"rule",t),r);return n.matches&&(s.matches=this.$_compile(n.matches),"array"!==s.matches.type&&(s.matches=s.matches.$_root.array().items(s.matches)),o.$_mutateRegister(s.matches),o.$_setFlag("_hasPatternMatch",!0,{clone:!1})),n.fallthrough&&(s.fallthrough=!0),o.$_terms.patterns.push(s),o.$_mutateRegister(t),o}},ref:{method:function(){return this.$_addRule("ref")},validate:function(e,t){return m.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof g,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),u.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);var a=this.clone();a.$_terms.renames=a.$_terms.renames||[];var o,s=k(a.$_terms.renames);try{for(s.s();!(o=s.n()).done;){var c=o.value;i(c.from!==e,"Cannot rename the same key multiple times")}}catch(l){s.e(l)}finally{s.f()}return t instanceof g&&a.$_mutateRegister(t),a.$_terms.renames.push({from:e,to:t,options:n(y.renameDefaults,r)}),a}},schema:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:e}})},validate:function(e,t,r){var n=r.type;return!u.isSchema(e)||"any"!==n&&e.type!==n?t.error("object.schema",{type:n}):e}},unknown:{method:function(e){return this.$_setFlag("unknown",!1!==e)}},with:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"with",e,t,r)}},without:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"without",e,t,r)}},xor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"xor"),y.dependency(this,"xor",null,t)}}},overrides:{default:function(e,t){return void 0===e&&(e=u.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild:function(e){if(e.$_terms.keys){var t,r=new o.Sorter,n=k(e.$_terms.keys);try{var i=function(){var e=t.value;u.tryWithPath((function(){return r.add(e,{after:e.schema.$_rootReferences(),group:e.key})}),e.key)};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}e.$_terms.keys=v(y.Keys,w(r.nodes))}},manifest:{build:function(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies){var r,n=k(t.dependencies);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.rel,o=i.key,s=void 0===o?null:o,u=i.peers,c=i.options;e=y.dependency(e,a,s,u,c)}}catch(S){n.e(S)}finally{n.f()}}if(t.patterns){var l,f=k(t.patterns);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.regex,p=h.schema,v=h.rule,m=h.fallthrough,g=h.matches;e=e.pattern(d||p,v,{fallthrough:m,matches:g})}}catch(S){f.e(S)}finally{f.f()}}if(t.renames){var b,w=k(t.renames);try{for(w.s();!(b=w.n()).done;){var _=b.value,x=_.from,E=_.to,A=_.options;e=e.rename(x,E,A)}}catch(S){w.e(S)}finally{w.f()}}return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),y.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return a(e,{shallow:!0});var r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}var n=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)};return n.prototype=a(e.prototype),Object.defineProperty(n,"name",{value:e.name,writable:!1}),Object.defineProperty(n,"length",{value:e.length,writable:!1}),Object.assign(n,e),n},y.dependency=function(e,t,r,n,a){i(null===r||"string"==typeof r,t,"key must be a strings"),a||(a=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),u.assertOptions(a,["separator","isPresent"]),n=[].concat(n);var o,s=u.default(a.separator,"."),l=[],f=k(n);try{for(f.s();!(o=f.n()).done;){var h=o.value;i("string"==typeof h,t,"peers must be strings"),l.push(c.ref(h,{separator:s,ancestor:0,prefix:!1}))}}catch(p){f.e(p)}finally{f.f()}null!==r&&(r=c.ref(r,{separator:s,ancestor:0,prefix:!1}));var d=e.clone();return d.$_terms.dependencies=d.$_terms.dependencies||[],d.$_terms.dependencies.push(new y.Dependency(t,r,l,n,a)),d},y.dependencies={and:function(e,t,r,n,i){var a,o=[],s=[],u=t.peers.length,c=y.isPresent(t.options),l=k(t.peers);try{for(l.s();!(a=l.n()).done;){var f=a.value;!1===c(f.resolve(r,n,i,null,{shadow:!1}))?o.push(f.key):s.push(f.key)}}catch(h){l.e(h)}finally{l.f()}if(o.length!==u&&s.length!==u)return{code:"object.and",context:{present:s,presentWithLabels:y.keysToLabels(e,s),missing:o,missingWithLabels:y.keysToLabels(e,o)}}},nand:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(h){u.e(h)}finally{u.f()}if(o.length===t.peers.length){var l=t.paths[0],f=t.paths.slice(1);return{code:"object.nand",context:{main:l,mainWithLabel:y.keysToLabels(e,l),peers:f,peersWithLabels:y.keysToLabels(e,f)}}}},or:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;)if(o(a.value.resolve(r,n,i,null,{shadow:!1})))return}catch(u){s.e(u)}finally{s.f()}return{code:"object.missing",context:{peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)}}},oxor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(o.length&&1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.oxor",context:l}}},with:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(!1===o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.with",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},without:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},xor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return 0===o.length?{code:"object.missing",context:l}:(l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.xor",context:l})}}},y.keysToLabels=function(e,t){return Array.isArray(t)?t.map((function(t){return e.$_mapLabels(t)})):e.$_mapLabels(t)},y.isPresent=function(e){return"function"==typeof e.isPresent?e.isPresent:function(e){return void 0!==e}},y.rename=function(e,t,r,n,i){var a,o={},s=k(e.$_terms.renames);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=[],l="string"!=typeof u.from;if(l){for(var f in t)if((void 0!==t[f]||!u.options.ignoreUndefined)&&f!==u.to){var h=u.from.exec(f);h&&c.push({from:f,to:u.to,match:h})}}else!Object.prototype.hasOwnProperty.call(t,u.from)||void 0===t[u.from]&&u.options.ignoreUndefined||c.push(u);for(var d=0,p=c;d<p.length;d++){var v=p[d],m=v.from,y=v.to;if(y instanceof g&&(y=y.render(t,r,n,v.match)),m!==y){if(!u.options.multiple&&o[y]&&(i.push(e.$_createError("object.rename.multiple",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,y)&&!u.options.override&&!o[y]&&(i.push(e.$_createError("object.rename.override",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;void 0===t[m]?delete t[y]:t[y]=t[m],o[y]=!0,u.options.alias||delete t[m]}}}}catch(b){s.e(b)}finally{s.f()}return!0},y.unknown=function(e,t,r,n,i,a){if(e.$_terms.patterns){var o,s=!1,c=e.$_terms.patterns.map((function(e){if(e.matches)return s=!0,[]})),l=[t].concat(w(i.ancestors)),f=k(r);try{for(f.s();!(o=f.n()).done;)for(var h=o.value,p=t[h],v=[].concat(w(i.path),[h]),m=0;m<e.$_terms.patterns.length;++m){var g=e.$_terms.patterns[m];if(g.regex){var y=g.regex.test(h);if(i.mainstay.tracer.debug(i,"rule","pattern.".concat(m),y?"pass":"error"),!y)continue}else if(!g.schema.$_match(h,i.nest(g.schema,"pattern.".concat(m)),a))continue;r.delete(h);var b=i.localize(v,l,{schema:g.rule,key:h}),_=g.rule.$_validate(p,b,a);if(_.errors){if(a.abortEarly)return{value:t,errors:_.errors};n.push.apply(n,w(_.errors))}if(g.matches&&c[m].push(h),t[h]=_.value,!g.fallthrough)break}}catch(U){f.e(U)}finally{f.f()}if(s)for(var x=0;x<c.length;++x){var E=c[x];if(E){var A=e.$_terms.patterns[x].matches,S=i.localize(i.path,l,A),O=A.$_validate(E,S,a);if(O.errors){var I=d.details(O.errors,{override:!1});I.matches=E;var R=e.$_createError("object.pattern.match",t,I,i,a);if(a.abortEarly)return{value:t,errors:R};n.push(R)}}}}if(r.size&&(e.$_terms.keys||e.$_terms.patterns)){if(a.stripUnknown&&!e._flags.unknown||a.skipFunctions){var C,N=!(!a.stripUnknown||!0!==a.stripUnknown&&!a.stripUnknown.objects),P=k(r);try{for(P.s();!(C=P.n()).done;){var M=C.value;N?(delete t[M],r.delete(M)):"function"==typeof t[M]&&r.delete(M)}}catch(U){P.e(U)}finally{P.f()}}if(!u.default(e._flags.unknown,a.allowUnknown)){var j,T=k(r);try{for(T.s();!(j=T.n()).done;){var L=j.value,$=i.localize([].concat(w(i.path),[L]),[]),D=e.$_createError("object.unknown",t[L],{child:L},$,a,{flags:!1});if(a.abortEarly)return{value:t,errors:D};n.push(D)}}catch(U){T.e(U)}finally{T.f()}}}},y.Dependency=function(){function e(t,r,n,i,a){A(this,e),this.rel=t,this.key=r,this.peers=n,this.paths=i,this.options=a}return O(e,[{key:"describe",value:function(){var e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options=l(l({},e.options),{},{separator:this.peers[0].separator})),this.options.isPresent&&(e.options=l(l({},e.options),{},{isPresent:this.options.isPresent})),e}}]),e}(),y.Keys=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"concat",value:function(e){for(var t=this.slice(),r=new Map,n=0;n<t.length;++n)r.set(t[n].key,n);var i,a=k(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.key,u=r.get(s);void 0!==u?t[u]={key:s,schema:t[u].schema.concat(o.schema)}:t.push(o)}}catch(c){a.e(c)}finally{a.f()}return t}}]),r}(p(Array))},8785:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3292),s=r(6354),u={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(e,t){return e.ref(t)},validate:function(e,t){var r=t.schema,i=t.state,a=t.prefs;n(r.$_terms.link,"Uninitialized link schema");var o=u.generate(r,e,i,a),s=r.$_terms.link[0].ref;return o.$_validate(e,i.nest(o,"link:".concat(s.display,":").concat(o.type)),a)},generate:function(e,t,r,n){return u.generate(e,t,r,n)},rules:{ref:{method:function(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=o.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");var t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("relative",e)}}},overrides:{concat:function(e){n(this.$_terms.link,"Uninitialized link schema"),n(a.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");var t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:function(e,t){return n(t.link,"Invalid link description missing link"),e.ref(t.link)}}}),u.generate=function(e,t,r,n){var i=r.mainstay.links.get(e);if(i)return i._generate(t,r,n).schema;var a=e.$_terms.link[0].ref,o=u.perspective(a,r),s=o.perspective,c=o.path;u.assert(s,"which is outside of schema boundaries",a,e,r,n);try{i=c.length?s.$_reach(c):s}catch(t){u.assert(!1,"to non-existing schema",a,e,r,n)}return u.assert("link"!==i.type,"which is another link",a,e,r,n),e._flags.relative||r.mainstay.links.set(e,i),i._generate(t,r,n).schema},u.perspective=function(e,t){if("local"===e.type){var r,n=k(t.schemas);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.key;if((a._flags.id||o)===e.path[0])return{perspective:a,path:e.path.slice(1)};if(a.$_terms.shared){var s,u=k(a.$_terms.shared);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c._flags.id===e.path[0])return{perspective:c,path:e.path.slice(1)}}}catch(l){u.e(l)}finally{u.f()}}}}catch(l){n.e(l)}finally{n.f()}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},u.assert=function(e,t,r,i,a,o){e||n(!1,'"'.concat(s.label(i._flags,a,o),'" contains link reference "').concat(r.display,'" ').concat(t))}},3832:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.error;if(e.match(o.numberRx)){e=e.trim();var i={value:parseFloat(e)};if(0===i.value&&(i.value=0),!r._flags.unsafe)if(e.match(/e/i)){if(o.extractSignificantDigits(e)!==o.extractSignificantDigits(String(i.value)))return i.errors=n("number.unsafe"),i}else{var a=i.value.toString();if(a.match(/e/i))return i;if(a!==o.normalizeDecimal(e))return i.errors=n("number.unsafe"),i}return i}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(e===1/0||e===-1/0)return{value:e,errors:n("number.infinity")};if(!a.isNumber(e))return{value:e,errors:n("number.base")};var o={value:e};if(i.convert){var s=r.$_getRule("precision");if(s){var u=Math.pow(10,s.args.limit);o.value=Math.round(o.value*u)/u}}return 0===o.value&&(o.value=0),!r._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(o.errors=n("number.unsafe")),o},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.limit,o=n.name,s=n.operator,u=n.args;return a.compare(e,i,s)?e:t.error("number."+o,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:a.isNumber,message:"must be a number"}]},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(e,t){return Math.trunc(e)-e==0?e:t.error("number.integer")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method:function(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate:function(e,t,r,n){return e*(1/r.base)%1==0?e:t.error("number.multiple",{multiple:n.args.base,value:e})},args:[{name:"base",ref:!0,assert:function(e){return"number"==typeof e&&isFinite(e)&&e>0},message:"must be a positive number"}],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate:function(e,t,r){var n=r.limit,i=e.toString().match(o.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=n?e:t.error("number.precision",{limit:n,value:e})},convert:!0},sign:{method:function(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:function(e,t,r){var n=r.sign;return"negative"===n&&e<0||"positive"===n&&e>0?e:t.error("number.".concat(n))}},unsafe:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:function(e){return"number"==typeof e},to:function(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),o.extractSignificantDigits=function(e){return e.replace(o.exponentialPartRegex,"").replace(o.dotRegex,"").replace(o.trailingZerosRegex,"").replace(o.leadingSignAndZerosRegex,"")},o.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},8966:function(e,t,r){var n=r(7824);e.exports=n.extend({type:"object",cast:{map:{from:function(e){return e&&"object"==typeof e},to:function(e,t){return new Map(Object.entries(e))}}}})},7417:function(e,t,r){var n=r(375),i=r(5380),a=r(1745),o=r(9959),s=r(6064),u=r(9926),c=r(5752),f=r(8068),h=r(8160),d={tlds:u instanceof Set&&{tlds:{allow:u,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:o.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=f.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs,a=r.$_getRule("normalize");a&&(e=e.normalize(a.args.form));var o=r.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());var s=r.$_getRule("trim");if(s&&s.args.enabled&&(e=e.trim()),r.$_terms.replacements){var u,c=k(r.$_terms.replacements);try{for(c.s();!(u=c.n()).done;){var l=u.value;e=e.replace(l.pattern,l.replacement)}}catch(g){c.e(g)}finally{c.f()}}var f=r.$_getRule("hex");if(f&&f.args.options.byteAligned&&e.length%2!=0&&(e="0".concat(e)),r.$_getRule("isoDate")){var p=d.isoDate(e);p&&(e=p)}if(r._flags.truncate){var v=r.$_getRule("max");if(v){var m=v.args.limit;if(h.isResolvable(m)&&(m=m.resolve(e,n,i),!h.limit(m)))return{value:e,errors:r.$_createError("any.ref",m,{ref:v.args.limit,arg:"limit",reason:"must be a positive integer"},n,i)};e=e.slice(0,m)}}return{value:e}}},validate:function(e,t){var r=t.schema,n=t.error;if("string"!=typeof e)return{value:e,errors:n("string.base")};if(""===e){var i=r.$_getRule("min");if(i&&0===i.args.limit)return;return{value:e,errors:n("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired","urlSafe"]),e=l({urlSafe:!1,paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),n("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.base64Regex[n.paddingRequired][n.urlSafe].test(e)?e:t.error("string.base64")}},case:{method:function(e){return n(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:function(e,t,r){var n=r.direction;return"lower"===n&&e===e.toLocaleLowerCase()||"upper"===n&&e===e.toLocaleUpperCase()?e:t.error("string.".concat(n,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(e,t){for(var r=e.length,n=0,i=1;r--;){var a=e.charAt(r)*i;n+=a-9*(a>9),i^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired"]),e=l({paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate:function(e,t,r){var n=r.options,i=e.match(d.dataUriRegex);if(i){if(!i[2])return e;if("base64"!==i[2])return e;if(d.base64Regex[n.paddingRequired].false.test(i[3]))return e}return t.error("string.dataUri")}},domain:{method:function(e){e&&h.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=d.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:function(e,t,r,n){var a=n.address;return i.isValid(e,a)?e:t.error("string.domain")}},email:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),n(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");var t=d.addressOptions(e),r=new RegExp("\\s*[".concat(e.separator?s(e.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate:function(e,t,r,n){var i,o=r.options,s=n.regex,u=n.address,c=[],l=k(o.multiple?e.split(s):[e]);try{for(l.s();!(i=l.n()).done;){var f=i.value;a.isValid(f,u)||c.push(f)}}catch(h){l.e(h)}finally{l.f()}return c.length?t.error("string.email",{value:e,invalids:c}):e}},guid:{alias:"uuid",method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["version","separator"]);var t="";if(e.version){var r=[].concat(e.version);n(r.length>=1,"version must have at least 1 valid version specified");for(var i=new Set,a=0;a<r.length;++a){var o=r[a];n("string"==typeof o,"version at position "+a+" must be a string");var s=d.guidVersions[o.toLowerCase()];n(s,"version at position "+a+" must be one of "+Object.keys(d.guidVersions).join(", ")),n(!i.has(s),"version at position "+a+" must not be a duplicate"),t+=s,i.add(s)}}n(d.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');var u=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":"\\".concat(e.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(u,")[0-9A-F]{4}\\2?[").concat(t||"0-9A-F","][0-9A-F]{3}\\2?[").concat(t?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:e},regex:c})},validate:function(e,t,r,n){var i=n.regex.exec(e);return i?d.guidBrackets[i[1]]!==i[i.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["byteAligned"]),e=l({byteAligned:!1},e),n("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.hexRegex.test(e)?n.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(e,t){return i.isValid(e,{minDomainSegments:1})||d.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["cidr","version"]);var t=o.regex(e),r=t.cidr,n=t.versions,i=t.regex,a=e.version?n:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:r,version:a}},regex:i})},validate:function(e,t,r,n){var i=r.options;return n.regex.test(e)?e:i.version?t.error("string.ipVersion",{value:e,cidr:i.cidr,version:i.version}):t.error("string.ip",{value:e,cidr:i.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(e,t){var r=t.error;return d.isoDate(e)?e:r("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(e,t){return d.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method:function(e,t){return d.length(this,"length",e,"=",t)},validate:function(e,t,r,n){var i=r.limit,a=r.encoding,o=n.name,s=n.operator,u=n.args,c=!a&&e.length;return h.compare(c,i,s)?e:t.error("string."+o,{limit:u.limit,value:e,encoding:a})},args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(e,t){return d.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method:function(e,t){return d.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";return n(d.normalizationForms.includes(e),"normalization form must be one of "+d.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:function(e,t,r){var n=t.error,i=r.form;return e===e.normalize(i)?e:n("string.normalize",{value:e,form:i})},convert:!0},pattern:{alias:"regex",method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e instanceof RegExp,"regex must be a RegExp"),n(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),h.assertOptions(t,["invert","name"]);var r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:function(e,t,r,n){var i=r.regex,a=r.options,o=n.errorCode;return i.test(e)^a.invert?e:t.error(o,{name:a.name,regex:i,value:e})},args:["regex","options"],multi:!0},replace:{method:function(e,t){"string"==typeof e&&(e=new RegExp(s(e),"g")),n(e instanceof RegExp,"pattern must be a RegExp"),n("string"==typeof t,"replacement must be a String");var r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method:function(){return this.$_addRule("token")},validate:function(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:function(e,t,r){return r.enabled&&e!==e.trim()?t.error("string.trim"):e},convert:!0},truncate:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&h.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=c.regex(e),r=t.regex,n=t.scheme,i=e.domain?d.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:r,domain:i,scheme:n})},validate:function(e,t,r,n){var a=r.options,o=n.regex,s=n.domain,u=n.scheme;if(["http:/","https:/"].includes(e))return t.error("string.uri");var c=o.exec(e);if(c){var l=c[1]||c[2];return!s||a.allowRelative&&!l||i.isValid(l,s)?e:t.error("string.domain",{value:l})}return a.relativeOnly?t.error("string.uriRelativeOnly"):a.scheme?t.error("string.uriCustomScheme",{scheme:u,value:e}):t.error("string.uri")}}},manifest:{build:function(e,t){if(t.replacements){var r,n=k(t.replacements);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.pattern,o=i.replacement;e=e.replace(a,o)}}catch(s){n.e(s)}finally{n.f()}}return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),d.addressOptions=function(e){if(!e)return e;if(n(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),n(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds);n("object"==typeof e.tlds,"tlds must be true, false, or an object");var t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),n(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),d.validateTlds(e.tlds.deny,"tlds.deny"),e;var r=e.tlds.allow;return r?!0===r?(n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),n(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),d.validateTlds(e.tlds.allow,"tlds.allow"),e):e},d.validateTlds=function(e,t){var r,a=k(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;n(i.isValid(o,{minDomainSegments:1,maxDomainSegments:1}),"".concat(t," must contain valid top level domain names"))}}catch(s){a.e(s)}finally{a.f()}},d.isoDate=function(e){if(!h.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");var t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},d.length=function(e,t,r,i,a){return n(!a||!1,"Invalid encoding:",a),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:a},operator:i})}},8826:function(e,t,r){var n=r(375),i=r(8068),a={};a.Map=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"slice",value:function(){return new a.Map(this)}}]),r}(p(Map)),e.exports=i.extend({type:"symbol",terms:{map:{init:new a.Map}},coerce:{method:function(e,t){var r=t.schema,n=t.error,i=r.$_terms.map.get(e);return i&&(e=i),r._flags.only&&"symbol"!=typeof e?{value:e,errors:n("symbol.map",{map:r.$_terms.map})}:{value:e}}},validate:function(e,t){var r=t.error;if("symbol"!=typeof e)return{value:e,errors:r("symbol.base")}},rules:{map:{method:function(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");var t,r=this.clone(),i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n(o&&o[Symbol.iterator],"Entry must be an iterable");var s=_(o,2),u=s[0],c=s[1];n("object"!=typeof u&&"function"!=typeof u&&"symbol"!=typeof u,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof c,"Value must be a Symbol"),r.$_terms.map.set(u,c),i.push(c)}}catch(l){a.e(l)}finally{a.f()}return r.valid.apply(r,i)}}},manifest:{build:function(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(e,t,r){var n=r(375),i=r(8571),a=r(738),s=r(9621),c=r(8160),l=r(6354),f=r(493),h={result:Symbol("result")};t.entry=function(e,t,r){var i=c.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),i=c.preferences(c.defaults,r));var a=h.entry(e,t,i);n(!a.mainstay.externals.length,"Schema with external rules must use validateAsync()");var o={value:a.value};return a.error&&(o.error=a.error),a.mainstay.warnings.length&&(o.warning=l.details(a.mainstay.warnings)),a.mainstay.debug&&(o.debug=a.mainstay.debug),a.mainstay.artifacts&&(o.artifacts=a.mainstay.artifacts),o},t.entryAsync=function(){var e=u(o().mark((function e(t,r,n){var i,a,u,f,d,p,v,m,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.defaults,n&&(i=c.preferences(c.defaults,n)),a=h.entry(t,r,i),u=a.mainstay,!a.error){e.next=5;break}throw u.debug&&(a.error.debug=u.debug),a.error;case 5:if(!u.externals.length){e.next=31;break}f=a.value,d=[],p=k(u.externals),e.prev=9,m=o().mark((function e(){var r,a,p,m,g,y,b,_,x,E,A,S,O,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.value,a=r.state.path,p="link"===r.schema.type?u.links.get(r.schema):null,y=f,b=a.length?[f]:[],_=a.length?s(t,a):t,a.length){m=a[a.length-1],x=f,E=k(a.slice(0,-1));try{for(E.s();!(A=E.n()).done;)S=A.value,x=x[S],b.unshift(x)}catch(o){E.e(o)}finally{E.f()}g=b[0],y=g[m]}return e.prev=5,O=function(e,t){return(p||r.schema).$_createError(e,y,t,r.state,i)},e.next=9,r.method(y,{schema:r.schema,linked:p,state:r.state,prefs:n,original:_,error:O,errorsArray:h.errorsArray,warn:function(e,t){return u.warnings.push((p||r.schema).$_createError(e,y,t,r.state,i))},message:function(e,t){return(p||r.schema).$_createError("external",y,t,r.state,i,{messages:e})}});case 9:if(void 0!==(I=e.sent)&&I!==y){e.next=12;break}return e.abrupt("return",0);case 12:if(!(I instanceof l.Report)){e.next=16;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push(I),!i.abortEarly){e.next=15;break}return e.abrupt("return",1);case 15:case 19:return e.abrupt("return",0);case 16:if(!Array.isArray(I)||!I[c.symbols.errors]){e.next=20;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push.apply(d,w(I)),!i.abortEarly){e.next=19;break}return e.abrupt("return",1);case 20:g?(u.tracer.value(r.state,"rule",y,I,"external"),g[m]=I):(u.tracer.value(r.state,"rule",f,I,"external"),f=I),e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(5),i.errors.label&&(e.t0.message+=" (".concat(r.label,")")),e.t0;case 26:case"end":return e.stop()}}),e,null,[[5,23]])})),p.s();case 12:if((v=p.n()).done){e.next=21;break}return e.delegateYield(m(),"t0",14);case 14:if(0!==(g=e.t0)){e.next=17;break}return e.abrupt("continue",19);case 17:if(1!==g){e.next=19;break}return e.abrupt("break",21);case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(9),p.e(e.t1);case 26:return e.prev=26,p.f(),e.finish(26);case 29:if(a.value=f,!d.length){e.next=31;break}throw a.error=l.process(d,t,i),u.debug&&(a.error.debug=u.debug),a.error;case 31:if(i.warnings||i.debug||i.artifacts){e.next=33;break}return e.abrupt("return",a.value);case 33:return y={value:a.value},e.abrupt("return",(u.warnings.length&&(y.warning=l.details(u.warnings)),u.debug&&(y.debug=u.debug),u.artifacts&&(y.artifacts=u.artifacts),y));case 35:case"end":return e.stop()}}),e,null,[[9,23,26,29]])})));return function(t,r,n){return e.apply(this,arguments)}}(),h.Mainstay=function(){function e(t,r,n){A(this,e),this.externals=[],this.warnings=[],this.tracer=t,this.debug=r,this.links=n,this.shadow=null,this.artifacts=null,this._snapshots=[]}return O(e,[{key:"snapshot",value:function(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}},{key:"restore",value:function(){var e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}}]),e}(),h.entry=function(e,r,n){var i=h.tracer(r,n),a=i.tracer,o=i.cleanup,s=n.debug?[]:null,u=r._ids._schemaChain?new Map:null,c=new h.Mainstay(a,s,u),d=r._ids._schemaChain?[{schema:r}]:null,p=new f([],[],{mainstay:c,schemas:d}),v=t.validate(e,r,p,n);o&&r.$_root.untrace();var m=l.process(v.errors,e,n);return{value:v.value,error:m,mainstay:c}},h.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:h.ignore}},t.validate=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=h.prefs(t,n)),t._cache&&n.cache){var a=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!a),a)return a}var o=function(i,a,o){return t.$_createError(i,e,a,o||r,n)},s={original:e,prefs:n,schema:t,state:r,error:o,errorsArray:h.errorsArray,warn:function(e,t,n){return r.mainstay.warnings.push(o(e,t,n))},message:function(i,a){return t.$_createError("custom",e,a,r,n,{messages:i})}};r.mainstay.tracer.entry(t,r);var u=t._definition;if(u.prepare&&void 0!==e&&n.convert){var l=u.prepare(e,s);if(l){if(r.mainstay.tracer.value(r,"prepare",e,l.value),l.errors)return h.finalize(l.value,[].concat(l.errors),s);e=l.value}}if(u.coerce&&void 0!==e&&n.convert&&(!u.coerce.from||u.coerce.from.includes(typeof e))){var f=u.coerce.method(e,s);if(f){if(r.mainstay.tracer.value(r,"coerced",e,f.value),f.errors)return h.finalize(f.value,[].concat(f.errors),s);e=f.value}}var d=t._flags.empty;d&&d.$_match(h.trim(e,t),r.nest(d),c.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);var p=i.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(void 0===e){if("forbidden"===p)return h.finalize(e,null,s);if("required"===p)return h.finalize(e,[t.$_createError("any.required",e,null,r,n)],s);if("optional"===p){if(t._flags.default!==c.symbols.deepDefault)return h.finalize(e,null,s);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===p)return h.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],s);var v=[];if(t._valids){var m=t._valids.get(e,r,n,t._flags.insensitive);if(m)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,m.value),e=m.value),r.mainstay.tracer.filter(t,r,"valid",m),h.finalize(e,null,s);if(t._flags.only){var g=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[g],s);v.push(g)}}if(t._invalids){var y=t._invalids.get(e,r,n,t._flags.insensitive);if(y){r.mainstay.tracer.filter(t,r,"invalid",y);var b=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[b],s);v.push(b)}}if(u.validate){var _=u.validate(e,s);if(_&&(r.mainstay.tracer.value(r,"base",e,_.value),e=_.value,_.errors)){if(!Array.isArray(_.errors))return v.push(_.errors),h.finalize(e,v,s);if(_.errors.length)return v.push.apply(v,w(_.errors)),h.finalize(e,v,s)}}return t._rules.length?h.rules(e,v,s):h.finalize(e,v,s)},h.rules=function(e,t,r){var n,i=r.schema,a=r.state,o=r.prefs,s=k(i._rules);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=i._definition.rules[u.method];if(l.convert&&o.convert)a.mainstay.tracer.log(i,a,"rule",u.name,"full");else{var f=void 0,d=u.args;if(u._resolve.length){d=Object.assign({},d);var p,v=k(u._resolve);try{for(v.s();!(p=v.n()).done;){var m=p.value,g=l.argsByName.get(m),y=d[m].resolve(e,a,o),b=g.normalize?g.normalize(y):y,_=c.validateArg(b,null,g);if(_){f=i.$_createError("any.ref",y,{arg:m,ref:d[m],reason:_},a,o);break}d[m]=b}}catch(A){v.e(A)}finally{v.f()}}f=f||l.validate(e,r,d,u);var x=h.rule(f,u);if(x.errors){if(a.mainstay.tracer.log(i,a,"rule",u.name,"error"),u.warn){var E;(E=a.mainstay.warnings).push.apply(E,w(x.errors));continue}if(o.abortEarly)return h.finalize(e,x.errors,r);t.push.apply(t,w(x.errors))}else a.mainstay.tracer.log(i,a,"rule",u.name,"pass"),a.mainstay.tracer.value(a,"rule",e,x.value,u.name),e=x.value}}}catch(A){s.e(A)}finally{s.f()}return h.finalize(e,t,r)},h.rule=function(e,t){return e instanceof l.Report?(h.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[c.symbols.errors]?(e.forEach((function(e){return h.error(e,t)})),{errors:e,value:null}):{errors:null,value:e}},h.error=function(e,t){return t.message&&e._setTemplate(t.message),e},h.finalize=function(e,t,r){t=t||[];var i=r.schema,a=r.state,o=r.prefs;if(t.length){var s=h.default("failover",void 0,t,r);void 0!==s&&(a.mainstay.tracer.value(a,"failover",e,s),e=s,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);var u,c=k(t);try{for(c.s();!(u=c.n()).done;){var f=u.value;n(f instanceof Error||f instanceof l.Report,"error() must return an Error object")}}catch(w){c.e(w)}finally{c.f()}}else t=[i._flags.error];if(void 0===e){var d=h.default("default",e,t,r);a.mainstay.tracer.value(a,"default",e,d),e=d}if(i._flags.cast&&void 0!==e){var p=i._definition.cast[i._flags.cast];if(p.from(e)){var v=p.to(e,r);a.mainstay.tracer.value(a,"cast",e,v,i._flags.cast),e=v}}if(i.$_terms.externals&&o.externals&&!1!==o._externals){var m,g=k(i.$_terms.externals);try{for(g.s();!(m=g.n()).done;){var y=m.value.method;a.mainstay.externals.push({method:y,schema:i,state:a,label:l.label(i._flags,a,o)})}}catch(w){g.e(w)}finally{g.f()}}var b={value:e,errors:t.length?t:null};return i._flags.result&&(b.value="strip"===i._flags.result?void 0:r.original,a.mainstay.tracer.value(a,i._flags.result,e,b.value),a.shadow(e,i._flags.result)),i._cache&&!1!==o.cache&&!i._refs.length&&i._cache.set(r.original,b),void 0===e||b.errors||void 0===i._flags.artifact||(a.mainstay.artifacts=a.mainstay.artifacts||new Map,a.mainstay.artifacts.has(i._flags.artifact)||a.mainstay.artifacts.set(i._flags.artifact,[]),a.mainstay.artifacts.get(i._flags.artifact).push(a.path)),b},h.prefs=function(e,t){var r=t===c.defaults;return r&&e._preferences[c.symbols.prefs]?e._preferences[c.symbols.prefs]:(t=c.preferences(t,e._preferences),r&&(e._preferences[c.symbols.prefs]=t),t)},h.default=function(e,t,r,n){var a=n.schema,o=n.state,s=n.prefs,u=a._flags[e];if(s.noDefaults||void 0===u)return t;if(o.mainstay.tracer.log(a,o,"rule",e,"full"),!u)return u;if("function"==typeof u){var l=u.length?[i(o.ancestors[0]),n]:[];try{return u.apply(void 0,l)}catch(t){return void r.push(a.$_createError("any.".concat(e),null,{error:t},o,s))}}return"object"!=typeof u?u:u[c.symbols.literal]?u.literal:c.isResolvable(u)?u.resolve(t,o,s):i(u)},h.trim=function(e,t){if("string"!=typeof e)return e;var r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},h.ignore={active:!1,debug:a,entry:a,filter:a,log:a,resolve:a,value:a},h.errorsArray=function(){var e=[];return e[c.symbols.errors]=!0,e}},2036:function(e,t,r){var n=r(375),i=r(9474),a=r(8160),o={};e.exports=o.Values=function(){function e(t,r){A(this,e),this._values=new Set(t),this._refs=new Set(r),this._lowercase=o.lowercases(t),this._override=!1}return O(e,[{key:"length",get:function(){return this._values.size+this._refs.size}},{key:"add",value:function(e,t){a.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}},{key:"remove",value:function(e){a.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}},{key:"has",value:function(e,t,r,n){return!!this.get(e,t,r,n)}},{key:"get",value:function(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){var a=this._lowercase.get(e.toLowerCase());if(a)return{value:a}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e){var o,s=k(this._values);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(i(u,e))return{value:u}}}catch(m){s.e(m)}finally{s.f()}}if(t){var c,l=k(this._refs);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=f.resolve(e,t,r,null,{in:!0});if(void 0!==h){var d,p=k(f.in&&"object"==typeof h?Array.isArray(h)?h:Object.keys(h):[h]);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(typeof v==typeof e)if(n&&e&&"string"==typeof e){if(v.toLowerCase()===e.toLowerCase())return{value:v,ref:f}}else if(i(v,e))return{value:v,ref:f}}}catch(m){p.e(m)}finally{p.f()}}}}catch(m){l.e(m)}finally{l.f()}}return!1}},{key:"override",value:function(){this._override=!0}},{key:"values",value:function(e){if(e&&e.display){for(var t=[],r=0,n=[].concat(w(this._values),w(this._refs));r<n.length;r++){var i=n[r];void 0!==i&&t.push(i)}return t}return Array.from([].concat(w(this._values),w(this._refs)))}},{key:"clone",value:function(){var e=new o.Values(this._values,this._refs);return e._override=this._override,e}},{key:"concat",value:function(e){n(!e._override,"Cannot concat override set of values");var t=new o.Values([].concat(w(this._values),w(e._values)),[].concat(w(this._refs),w(e._refs)));return t._override=this._override,t}},{key:"describe",value:function(){var e=[];this._override&&e.push({override:!0});var t,r=k(this._values.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n&&"object"==typeof n?{value:n}:n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(this._refs.values());try{for(a.s();!(i=a.n()).done;){var o=i.value;e.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return e}}],[{key:"merge",value:function(e,t,r){if(e=e||new o.Values,t){if(t._override)return t.clone();for(var n=0,i=[].concat(w(t._values),w(t._refs));n<i.length;n++){var a=i[n];e.add(a)}}if(r)for(var s=0,u=[].concat(w(r._values),w(r._refs));s<u.length;s++){var c=u[s];e.remove(c)}return e.length?e:null}}]),e}(),o.Values.prototype[a.symbols.values]=!0,o.Values.prototype.slice=o.Values.prototype.clone,o.lowercases=function(e){var t=new Map;if(e){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;"string"==typeof i&&t.set(i.toLowerCase(),i)}}catch(a){n.e(a)}finally{n.f()}}return t}},978:function(e,t,r){var n=r(375),i=r(8571),a=r(1687),o=r(9621),s={};e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return s.applyToDefaultsWithShallow(e,t,r);var o=i(e);if(!0===t)return o;var u=void 0!==r.nullOverride&&r.nullOverride;return a(o,t,{nullOverride:u,mergeArrays:!1})},s.applyToDefaultsWithShallow=function(e,t,r){var u=r.shallow;n(Array.isArray(u),"Invalid keys");var c,l=new Map,f=!0===t?null:new Set,h=k(u);try{for(h.s();!(c=h.n()).done;){var d=c.value;d=Array.isArray(d)?d:d.split(".");var p=o(e,d);p&&"object"==typeof p?l.set(p,f&&o(t,d)||p):f&&f.add(d)}}catch(w){h.e(w)}finally{h.f()}var v=i(e,{},l);if(!f)return v;var m,g=k(f);try{for(g.s();!(m=g.n()).done;){var y=m.value;s.reachCopy(v,t,y)}}catch(w){g.e(w)}finally{g.f()}var b=void 0!==r.nullOverride&&r.nullOverride;return a(v,t,{nullOverride:b,mergeArrays:!1})},s.reachCopy=function(e,t,r){var n,i=k(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!(a in t))return;var o=t[a];if("object"!=typeof o||null===o)return;t=o}}catch(f){i.e(f)}finally{i.f()}for(var s=t,u=e,c=0;c<r.length-1;++c){var l=r[c];"object"!=typeof u[l]&&(u[l]={}),u=u[l]}u[r[r.length-1]]=s}},375:function(e,t,r){var n=r(7916);e.exports=function(e){if(!e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(1===r.length&&r[0]instanceof Error)throw r[0];throw new n(r)}}},8571:function(e,t,r){var n=r(9621),i=r(4277),a=r(7043),o={needsProtoHack:new Set([i.set,i.map,i.weakSet,i.weakMap])};e.exports=o.clone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"!=typeof e||null===e)return e;var n=o.clone,s=r;if(t.shallow){if(!0!==t.shallow)return o.cloneWithShallow(e,t);n=function(e){return e}}else if(s){var u=s.get(e);if(u)return u}else s=new Map;var c=i.getInternalProto(e);if(c===i.buffer)return!1;if(c===i.date)return new Date(e.getTime());if(c===i.regex)return new RegExp(e);var l=o.base(e,c,t);if(l===e)return e;if(s&&s.set(e,l),c===i.set){var f,h=k(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;l.add(n(d,t,s))}}catch(A){h.e(A)}finally{h.f()}}else if(c===i.map){var p,v=k(e);try{for(v.s();!(p=v.n()).done;){var m=_(p.value,2),g=m[0],y=m[1];l.set(g,n(y,t,s))}}catch(A){v.e(A)}finally{v.f()}}var b,w=k(a.keys(e,t));try{for(w.s();!(b=w.n()).done;){var x=b.value;if("__proto__"!==x)if(c!==i.array||"length"!==x){var E=Object.getOwnPropertyDescriptor(e,x);E?E.get||E.set?Object.defineProperty(l,x,E):E.enumerable?l[x]=n(e[x],t,s):Object.defineProperty(l,x,{enumerable:!1,writable:!0,configurable:!0,value:n(e[x],t,s)}):Object.defineProperty(l,x,{enumerable:!0,writable:!0,configurable:!0,value:n(e[x],t,s)})}else l.length=e.length}}catch(A){w.e(A)}finally{w.f()}return l},o.cloneWithShallow=function(e,t){var r=t.shallow;(t=Object.assign({},t)).shallow=!1;var i,a=new Map,s=k(r);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=n(e,u);"object"!=typeof c&&"function"!=typeof c||a.set(c,c)}}catch(l){s.e(l)}finally{s.f()}return o.clone(e,t,a)},o.base=function(e,t,r){if(!1===r.prototype)return o.needsProtoHack.has(t)?new t.constructor:t===i.array?[]:{};var n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===i.array){var a=[];return n!==t&&Object.setPrototypeOf(a,n),a}if(o.needsProtoHack.has(t)){var s=new n.constructor;return n!==t&&Object.setPrototypeOf(s,n),s}return Object.create(n)}},9474:function(e,t,r){var n=r(4277),i={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!i.isDeepEqual(e,t,r,[])},i.isDeepEqual=function(e,t,r,a){if(e===t)return 0!==e||1/e==1/t;var o=typeof e;if(o!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===o){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==o)return e!=e&&t!=t;var s=i.getSharedType(e,t,!!r.prototype);switch(s){case n.buffer:return!1;case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(var u=a.length-1;u>=0;--u)if(a[u].isSame(e,t))return!0;a.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(s,e,t,r,a)}finally{a.pop()}},i.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:n.getInternalProto(e);var a=n.getInternalProto(e);return a!==n.getInternalProto(t)?i.mismatched:a},i.valueOf=function(e){var t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){var r,n=k(Set.prototype.values.call(e));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!Set.prototype.has.call(t,i))return!1}}catch(a){n.e(a)}finally{n.f()}return!0},i.isDeepEqualObj=function(e,t,r,a,o){var s=i.isDeepEqual,u=i.valueOf,c=i.hasOwnEnumerableProperty,l=Object.keys,f=Object.getOwnPropertySymbols;if(e===n.array){if(!a.part){if(t.length!==r.length)return!1;for(var h=0;h<t.length;++h)if(!s(t[h],r[h],a,o))return!1;return!0}var d,p=k(t);try{for(p.s();!(d=p.n()).done;){var v,m=d.value,g=k(r);try{for(g.s();!(v=g.n()).done;)if(s(m,v.value,a,o))return!0}catch(G){g.e(G)}finally{g.f()}}}catch(G){p.e(G)}finally{p.f()}}else if(e===n.set){if(t.size!==r.size)return!1;if(!i.isSetSimpleEqual(t,r)){var y,b=new Set(Set.prototype.values.call(r)),w=k(Set.prototype.values.call(t));try{for(w.s();!(y=w.n()).done;){var x=y.value;if(!b.delete(x)){var E,A=!1,S=k(b);try{for(S.s();!(E=S.n()).done;){var O=E.value;if(s(x,O,a,o)){b.delete(O),A=!0;break}}}catch(G){S.e(G)}finally{S.f()}if(!A)return!1}}}catch(G){w.e(G)}finally{w.f()}}}else if(e===n.map){if(t.size!==r.size)return!1;var I,R=k(Map.prototype.entries.call(t));try{for(R.s();!(I=R.n()).done;){var C=_(I.value,2),N=C[0],P=C[1];if(void 0===P&&!Map.prototype.has.call(r,N))return!1;if(!s(P,Map.prototype.get.call(r,N),a,o))return!1}}catch(G){R.e(G)}finally{R.f()}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;var M=u(t),j=u(r);if((t!==M||r!==j)&&!s(M,j,a,o))return!1;var T=l(t);if(!a.part&&T.length!==l(r).length&&!a.skip)return!1;var L,$=0,D=k(T);try{for(D.s();!(L=D.n()).done;){var U=L.value;if(a.skip&&a.skip.includes(U))void 0===r[U]&&++$;else{if(!c(r,U))return!1;if(!s(t[U],r[U],a,o))return!1}}}catch(G){D.e(G)}finally{D.f()}if(!a.part&&T.length-$!==l(r).length)return!1;if(!1!==a.symbols){var F,B=f(t),q=new Set(f(r)),z=k(B);try{for(z.s();!(F=z.n()).done;){var H=F.value;if(!a.skip||!a.skip.includes(H))if(c(t,H)){if(!c(r,H))return!1;if(!s(t[H],r[H],a,o))return!1}else if(c(r,H))return!1;q.delete(H)}}catch(G){z.e(G)}finally{z.f()}var V,W=k(q);try{for(W.s();!(V=W.n()).done;)if(c(r,V.value))return!1}catch(G){W.e(G)}finally{W.f()}}return!0},i.SeenEntry=function(){function e(t,r){A(this,e),this.obj=t,this.ref=r}return O(e,[{key:"isSame",value:function(e,t){return this.obj===e&&this.ref===t}}]),e}()},7916:function(e,t,r){var n=r(8761);e.exports=function(e){f(i,e);var r=h(i);function i(e){var a;return A(this,i),a=r.call(this,e.filter((function(e){return""!==e})).map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:n(e)})).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(d(a),t.assert),a}return O(i)}(p(Error))},5277:function(e){var t={};e.exports=function(e){if(!e)return"";for(var r="",n=0;n<e.length;++n){var i=e.charCodeAt(n);t.isSafe(i)?r+=e[n]:r+=t.escapeHtmlChar(i)}return r},t.escapeHtmlChar=function(e){return t.namedHtml.get(e)||(e>=256?"&#"+e+";":"&#x".concat(e.toString(16).padStart(2,"0"),";"))},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){for(var e=new Set,t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},6064:function(e){e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(e){e.exports=function(){}},1687:function(e,t,r){var n=r(375),i=r(8571),a=r(7043),o={};e.exports=o.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(var s=0;s<t.length;++s)e.push(i(t[s],{symbols:r.symbols}));return e}for(var u=a.keys(t,r),c=0;c<u.length;++c){var l=u[c];if("__proto__"!==l&&Object.prototype.propertyIsEnumerable.call(t,l)){var f=t[l];if(f&&"object"==typeof f){if(e[l]===f)continue;!e[l]||"object"!=typeof e[l]||Array.isArray(e[l])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?e[l]=i(f,{symbols:r.symbols}):o.merge(e[l],f,r)}else(null!=f||r.nullOverride)&&(e[l]=f)}}return e}},9621:function(e,t,r){var n=r(375),i={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});var a=Array.isArray(t);n(!a||!r.separator,"Separator option is not valid for array-based chain");for(var o=a?t:t.split(r.separator||"."),s=e,u=0;u<o.length;++u){var c=o[u],l=r.iterables&&i.iterables(s);if(Array.isArray(s)||"set"===l){var f=Number(c);Number.isInteger(f)&&(c=f<0?s.length+f:f)}if(!s||"function"==typeof s&&!1===r.functions||!l&&void 0===s[c]){n(!r.strict||u+1===o.length,"Missing segment",c,"in reach path ",t),n("object"==typeof s||!0===r.functions||"function"!=typeof s,"Invalid segment",c,"in reach path ",t),s=r.default;break}s=l?"set"===l?w(s)[c]:s.get(c):s[c]}return s},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},8761:function(e){e.exports=function(){try{return JSON.stringify.apply(JSON,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}}},4277:function(e,t){var r={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;var n=Object.prototype.toString.call(e);return r.typeMap.get(n)||t.generic}},7043:function(e,t){t.keys=function(e){return!1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},3652:function(e,t,r){var n=r(375),i={};t.Sorter=function(){function e(){A(this,e),this._items=[],this.nodes=[]}return O(e,[{key:"add",value:function(e,t){var r=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),a=t.group||"?",o=t.sort||0;n(!r.includes(a),"Item cannot come before itself: ".concat(a)),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!i.includes(a),"Item cannot come after itself: ".concat(a)),n(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);var s,u=k(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l={seq:this._items.length,sort:o,before:r,after:i,group:a,node:c};this._items.push(l)}}catch(h){u.e(h)}finally{u.f()}if(!t.manual){var f=this._sort();n(f,"item","?"!==a?"added into group ".concat(a):"","created a dependencies error")}return this.nodes}},{key:"merge",value:function(e){Array.isArray(e)||(e=[e]);var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a){var o,s=k(a._items);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._items.push(Object.assign({},u))}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){r.e(f)}finally{r.f()}this._items.sort(i.mergeSort);for(var c=0;c<this._items.length;++c)this._items[c].seq=c;var l=this._sort();return n(l,"merge created a dependencies error"),this.nodes}},{key:"sort",value:function(){var e=this._sort();return n(e,"sort created a dependencies error"),this.nodes}},{key:"_sort",value:function(){var e,t={},r=Object.create(null),n=Object.create(null),i=k(this._items);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=a.seq,s=a.group;n[s]=n[s]||[],n[s].push(o),t[o]=a.before;var u,c=k(a.after);try{for(c.s();!(u=c.n()).done;){var l=u.value;r[l]=r[l]||[],r[l].push(o)}}catch(B){c.e(B)}finally{c.f()}}}catch(B){i.e(B)}finally{i.f()}for(var f in t){var h=[];for(var d in t[f]){var p=t[f][d];n[p]=n[p]||[],h.push.apply(h,w(n[p]))}t[f]=h}for(var v in r)if(n[v]){var m,g=k(n[v]);try{for(g.s();!(m=g.n()).done;){var y;(y=t[m.value]).push.apply(y,w(r[v]))}}catch(B){g.e(B)}finally{g.f()}}var b={};for(var _ in t){var x,E=k(t[_]);try{for(E.s();!(x=E.n()).done;){var A=x.value;b[A]=b[A]||[],b[A].push(_)}}catch(B){E.e(B)}finally{E.f()}}for(var S={},O=[],I=0;I<this._items.length;++I){var R=I;if(b[I]){R=null;for(var C=0;C<this._items.length;++C)if(!0!==S[C]){b[C]||(b[C]=[]);for(var N=b[C].length,P=0,M=0;M<N;++M)S[b[C][M]]&&++P;if(P===N){R=C;break}}}null!==R&&(S[R]=!0,O.push(R))}if(O.length!==this._items.length)return!1;var j,T={},L=k(this._items);try{for(L.s();!(j=L.n()).done;){var $=j.value;T[$.seq]=$}}catch(B){L.e(B)}finally{L.f()}this._items=[],this.nodes=[];for(var D=0,U=O;D<U.length;D++){var F=T[U[D]];this.nodes.push(F.node),this._items.push(F)}return!0}}]),e}(),i.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1}},5380:function(e,t,r){var n=r(443),i=r(2178),a={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return i.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(e.length>256)return i.code("DOMAIN_TOO_LONG");if(a.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return i.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(a.domainControlRx.test(e))return i.code("DOMAIN_INVALID_CHARS");e=a.punycode(e),t.allowFullyQualified&&"."===e[e.length-1]&&(e=e.slice(0,-1));var r=t.minDomainSegments||a.minDomainSegments,n=e.split(".");if(n.length<r)return i.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&n.length>t.maxDomainSegments)return i.code("DOMAIN_SEGMENTS_COUNT_MAX");var o=t.tlds;if(o){var s=n[n.length-1].toLowerCase();if(o.deny&&o.deny.has(s)||o.allow&&!o.allow.has(s))return i.code("DOMAIN_FORBIDDEN_TLDS")}for(var u=0;u<n.length;++u){var c=n[u];if(!c.length)return i.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return i.code("DOMAIN_LONG_SEGMENT");if(u<n.length-1){if(!a.domainSegmentRx.test(c))return i.code("DOMAIN_INVALID_CHARS")}else if(!a.tldSegmentRx.test(c))return i.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},a.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new a.URL("http://".concat(e)).host}catch(t){return e}}},1745:function(e,t,r){var n=r(9848),i=r(5380),a=r(2178),o={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return o.email(e,t)},t.isValid=function(e,t){return!o.email(e,t)},o.email=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return a.code("EMPTY_STRING");var r=!o.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return a.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}var n=e.split("@");if(2!==n.length)return n.length>2?a.code("MULTIPLE_AT_CHAR"):a.code("MISSING_AT_CHAR");var s=_(n,2),u=s[0],c=s[1];if(!u)return a.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return a.code("ADDRESS_TOO_LONG");if(o.encoder.encode(u).length>64)return a.code("LOCAL_TOO_LONG")}return o.local(u,r)||i.analyze(c,t)},o.local=function(e,t){var r,n=k(e.split("."));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!i.length)return a.code("EMPTY_LOCAL_SEGMENT");if(t){if(!o.atextRx.test(i))return a.code("INVALID_LOCAL_CHARS")}else{var s,u=k(i);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!o.atextRx.test(c)){var l=o.binary(c);if(!o.atomRx.test(l))return a.code("INVALID_LOCAL_CHARS")}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){n.e(f)}finally{n.f()}},o.binary=function(e){return Array.from(o.encoder.encode(e)).map((function(e){return String.fromCharCode(e)})).join("")},o.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,o.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(e,t){t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},9959:function(e,t,r){var n=r(375),i=r(5752);t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");var t=e.cidr?e.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),n(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");var r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(var a=0;a<r.length;++a)n("string"==typeof r[a],"options.version must only contain strings"),r[a]=r[a].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[a]),"options.version contains unknown version "+r[a]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));var o="(?:".concat(r.map((function(e){if("forbidden"===t)return i.ip[e];var r="\\/".concat("ipv4"===e?i.ip.v4Cidr:i.ip.v6Cidr);return"required"===t?"".concat(i.ip[e]).concat(r):"".concat(i.ip[e],"(?:").concat(r,")?")})).join("|"),")"),s=new RegExp("^".concat(o,"$"));return{cidr:t,versions:r,regex:s,raw:o}}},5752:function(e,t,r){var n=r(375),i=r(6064),a={generate:function(){var e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",i="!\\$&'\\(\\)\\*\\+,;=",a="%"+t,o=n+a+i+":@",s="["+o+"]",u="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+u+"\\.){3}"+u;var c=r+"{1,4}",l="(?:"+c+":"+c+"|"+e.ipv4address+")",f="(?:"+c+":){6}"+l,h="::(?:"+c+":){5}"+l,d="(?:"+c+")?::(?:"+c+":){4}"+l,p="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+l,v="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+l,m="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+l,g="(?:(?:"+c+":){0,4}"+c+")?::"+l,y="(?:(?:"+c+":){0,5}"+c+")?::"+c,b="(?:(?:"+c+":){0,6}"+c+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+f+"|"+h+"|"+d+"|"+p+"|"+v+"|"+m+"|"+g+"|"+y+"|"+b+")",e.ipvFuture="v"+r+"+\\.["+n+i+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);var w="["+n+a+i+":]*",_="["+n+a+i+"]{1,255}",k="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|"+_+")",x="(?:"+w+"@)?"+k+"(?::\\d*)?",E="(?:"+w+"@)?("+k+")(?::\\d*)?",A=s+"*",S=s+"+",O="(?:\\/"+A+")*",I="\\/(?:"+S+O+")?",R=S+O,C="["+n+a+i+"@]+"+O,N="(?:\\/\\/\\/"+A+O+")";return e.hierPart="(?:(?:\\/\\/"+x+O+")|"+I+"|"+R+"|"+N+")",e.hierPartCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+R+")",e.relativeRef="(?:(?:\\/\\/"+x+O+")|"+I+"|"+C+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+C+"|)",e.query="["+o+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+o+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+o+"\\/\\?]*",e}};a.rfc3986=a.generate(),t.ip={v4Cidr:a.rfc3986.ipv4Cidr,v6Cidr:a.rfc3986.ipv6Cidr,ipv4:a.rfc3986.ipv4address,ipv6:a.rfc3986.ipv6address,ipvfuture:a.rfc3986.ipvFuture},a.createRegex=function(e){var t=a.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",o=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return a.wrap(o+r);var s="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");var u=[].concat(e.scheme);n(u.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],l=0;l<u.length;++l){var f=u[l];n(f instanceof RegExp||"string"==typeof f,"scheme at position "+l+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(n(t.schemeRegex.test(f),"scheme at position "+l+" must be a valid scheme"),c.push(i(f)))}s=c.join("|")}var h="(?:"+(s?"(?:"+s+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",d=e.allowRelative?"(?:"+h+"|"+o+")":h;return a.wrap(d+r,s)},a.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(e),regex:new RegExp("^".concat(e,"$")),scheme:t}},a.uriRegex=a.createRegex({}),t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?a.createRegex(e):a.uriRegex}},1447:function(e,t){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=function(){function e(t){var n;A(this,e);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i[r.settings]&&i.constants)for(var a in i.constants){var o=i.constants[a];if(null!==o&&!["boolean","number","string"].includes(typeof o))throw new Error("Formula constant ".concat(a," contains invalid ").concat(typeof o," value type"))}this.settings=i[r.settings]?i:Object.assign((b(n={},r.settings,!0),b(n,"constants",{}),b(n,"functions",{}),n),i),this.single=null,this._parts=null,this._parse(t)}return O(e,[{key:"_parse",value:function(e){var n,i=this,a=[],o="",s=0,u=!1,c=function(e){if(s)throw new Error("Formula missing closing parenthesis");var n=a.length?a[a.length-1]:null;if(u||o||e){if(n&&"reference"===n.type&&")"===e)return n.type="function",n.value=i._subFormula(o,n.value),void(o="");if(")"===e){var c=new t.Parser(o,i.settings);a.push({type:"segment",value:c})}else if(u){if("]"===u)return a.push({type:"reference",value:o}),void(o="");a.push({type:"literal",value:o})}else if(r.operatorCharacters.includes(o))n&&"operator"===n.type&&r.operators.includes(n.value+o)?n.value+=o:a.push({type:"operator",value:o});else if(o.match(r.numberRx))a.push({type:"constant",value:parseFloat(o)});else if(void 0!==i.settings.constants[o])a.push({type:"constant",value:i.settings.constants[o]});else{if(!o.match(r.tokenRx))throw new Error("Formula contains invalid token: ".concat(o));a.push({type:"reference",value:o})}o=""}},l=k(e);try{for(l.s();!(n=l.n()).done;){var f=n.value;u?f===u?(c(),u=!1):o+=f:s?"("===f?(o+=f,++s):")"===f?--s?o+=f:c(f):o+=f:f in r.literals?u=r.literals[f]:"("===f?(c(),++s):r.operatorCharacters.includes(f)?(c(),o=f,c()):" "!==f?o+=f:c()}}catch(m){l.e(m)}finally{l.f()}c(),a=a.map((function(e,t){return"operator"!==e.type||"-"!==e.value||t&&"operator"!==a[t-1].type?e:{type:"operator",value:"n"}}));var h,d=!1,p=k(a);try{for(p.s();!(h=p.n()).done;){var v=h.value;if("operator"===v.type){if(r.operatorsPrefix.includes(v.value))continue;if(!d)throw new Error("Formula contains an operator in invalid position");if(!r.operators.includes(v.value))throw new Error("Formula contains an unknown operator ".concat(v.value))}else if(d)throw new Error("Formula missing expected operator");d=!d}}catch(m){p.e(m)}finally{p.f()}if(!d)throw new Error("Formula contains invalid trailing operator");1===a.length&&["reference","literal","constant"].includes(a[0].type)&&(this.single={type:"reference"===a[0].type?"reference":"value",value:a[0].value}),this._parts=a.map((function(e){if("operator"===e.type)return r.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(i.settings.tokenRx&&!i.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference ".concat(e.value));return i.settings.reference?i.settings.reference(e.value):r.reference(e.value)}))}},{key:"_subFormula",value:function(e,n){var i=this,a=this.settings.functions[n];if("function"!=typeof a)throw new Error("Formula contains unknown function ".concat(n));var o=[];if(e){for(var s="",u=0,c=!1,l=function(){if(!s)throw new Error("Formula contains function ".concat(n," with invalid arguments ").concat(e));o.push(s),s=""},f=0;f<e.length;++f){var h=e[f];c?(s+=h,h===c&&(c=!1)):h in r.literals&&!u?(s+=h,c=r.literals[h]):","!==h||u?(s+=h,"("===h?++u:")"===h&&--u):l()}l()}return o=o.map((function(e){return new t.Parser(e,i.settings)})),function(e){var t,r=[],n=k(o);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(i.evaluate(e))}}catch(s){n.e(s)}finally{n.f()}return a.call.apply(a,[e].concat(r))}}},{key:"evaluate",value:function(e){for(var t=this._parts.slice(),n=t.length-2;n>=0;--n){var i=t[n];if(i&&"operator"===i.type){var a=t[n+1];t.splice(n+1,1);var o=r.evaluate(a,e);t[n]=r.single(i.value,o)}}return r.operatorsOrder.forEach((function(n){for(var i=1;i<t.length-1;)if(n.includes(t[i])){var a=t[i],o=r.evaluate(t[i-1],e),s=r.evaluate(t[i+1],e);t.splice(i,2);var u=r.calculate(a,o,s);t[i-1]=0===u?0:u}else i+=2})),r.evaluate(t[0],e)}}]),e}(),t.Parser.prototype[r.symbol]=!0,r.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},r.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[r.symbol]?e.evaluate(t):e},r.single=function(e,t){if("!"===e)return!t;var r=-t;return 0===r?0:r},r.calculate=function(e,t,n){if("??"===e)return r.exists(t)?t:n;if("string"==typeof t||"string"==typeof n){if("+"===e)return(t=r.exists(t)?t:"")+(r.exists(n)?n:"")}else switch(e){case"^":return Math.pow(t,n);case"*":return t*n;case"/":return t/n;case"%":return t%n;case"+":return t+n;case"-":return t-n}switch(e){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"==":return t===n;case"!=":return t!==n;case"&&":return t&&n;case"||":return t||n}return null},r.exists=function(e){return null!=e}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(e){e.exports={version:"17.9.1"}}},n={},function e(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return r[t](a,a.exports,e),a.exports}(5107))}(zE);var HE=g(zE.exports),VE=HE.object({label:HE.string().required(),getIcon:HE.function().arity(0).required(),getInterface:HE.function().maxArity(1).required(),injectedNamespace:HE.string().required(),checkProviderIdentity:HE.function().arity(1).required(),platforms:HE.array().items(HE.string()),externalUrl:HE.string()}),WE=HE.array().items(VE),GE=HE.object().pattern(/\w+/,HE.any().allow(HE.boolean(),HE.array().items(HE.string()))),KE=HE.object({custom:WE,filter:GE,displayUnavailable:[HE.boolean(),HE.array().items(HE.string())],walletUnavailableMessage:HE.function(),sort:HE.function(),externalUrl:HE.string()}),ZE=function(e){var t=e.label,r=e.externalUrl;return r?'Please <a href="'.concat(r,'" target="_blank">install</a> or enable ').concat(t," to continue"):"Please install or enable ".concat(t," to continue")};function YE(e){if("undefined"==typeof window)return function(){return null};if(e){var t=Pa(KE,e);if(t&&t.error)throw t.error}return function(t){var r=t.device,n=e||{},i=n.custom,a=void 0===i?[]:i,s=n.filter,c=void 0===s?{}:s,f=n.displayUnavailable,h=n.sort,d=n.walletUnavailableMessage,p=K_([].concat(w(a),qE),(function(e){return e.label})).reduce((function(e,t){var n=t.label,i=t.platforms,a=t.injectedNamespace,s=t.checkProviderIdentity,h=c[n],p=!1===h,v=function(e,t,r){var n;return!(!e||!t({provider:e,device:r})&&!(null===(n=e.providers)||void 0===n?void 0:n.some((function(e){return t({provider:e,device:r})}))))}(window[a],s,r),m=!1;Array.isArray(h)&&(h.includes(r.type)||h.includes(r.os.name))&&(m=!0),"unavailable"!==h||v||(m=!0);var g,y=!i.includes("all")&&!i.includes(r.type)&&!i.includes(r.os.name);return!p&&!m&&!y&&(v||!0===f||Array.isArray(f)&&f.length&&f.includes(t.label))&&e.push((!0===f||Array.isArray(f)&&f.length&&f.includes(t.label))&&!v?l(l({},t),{},{getInterface:(g=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(d?d(t):ZE(t));case 1:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)})}):t),e}),[]);if(p.length){var v=p.length>1,m=p.filter((function(e){return!(e.label===W_.Detected&&v)})).map((function(e){return{label:e.label,getIcon:e.getIcon,getInterface:e.getInterface}})).sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}));return h?h(m):m}return[]}}var JE={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:qa.Buffer}catch(S){}function o(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,n,i){for(var a=0,o=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;a*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&o<i,"Invalid character"),a+=o}return a}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=s(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=s(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){c(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(S){i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);a=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==a||o!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?v+n:f[c-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;l+=(o=(i=0|e.words[p])*(a=0|t.words[d])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var v=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,h=l>>>13,d=0|o[1],p=8191&d,v=d>>>13,m=0|o[2],g=8191&m,y=m>>>13,b=0|o[3],w=8191&b,_=b>>>13,k=0|o[4],x=8191&k,E=k>>>13,A=0|o[5],S=8191&A,O=A>>>13,I=0|o[6],R=8191&I,C=I>>>13,N=0|o[7],P=8191&N,M=N>>>13,j=0|o[8],T=8191&j,L=j>>>13,$=0|o[9],D=8191&$,U=$>>>13,F=0|s[0],B=8191&F,q=F>>>13,z=0|s[1],H=8191&z,V=z>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,J=Z>>>13,Q=0|s[4],X=8191&Q,ee=Q>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,B))|0)+((8191&(i=(i=Math.imul(f,q))+Math.imul(h,B)|0))<<13)|0;c=((a=Math.imul(h,q))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,B),i=(i=Math.imul(p,q))+Math.imul(v,B)|0,a=Math.imul(v,q);var ge=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,H)|0))<<13)|0;c=((a=a+Math.imul(h,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,B),i=(i=Math.imul(g,q))+Math.imul(y,B)|0,a=Math.imul(y,q),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,V)|0;var ye=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,G)|0))<<13)|0;c=((a=a+Math.imul(h,K)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(w,B),i=(i=Math.imul(w,q))+Math.imul(_,B)|0,a=Math.imul(_,q),n=n+Math.imul(g,H)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(y,H)|0,a=a+Math.imul(y,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(v,G)|0,a=a+Math.imul(v,K)|0;var be=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Y)|0))<<13)|0;c=((a=a+Math.imul(h,J)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,B),i=(i=Math.imul(x,q))+Math.imul(E,B)|0,a=Math.imul(E,q),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,H)|0,a=a+Math.imul(_,V)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(y,G)|0,a=a+Math.imul(y,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,a=a+Math.imul(v,J)|0;var we=(c+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,X)|0))<<13)|0;c=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,B),i=(i=Math.imul(S,q))+Math.imul(O,B)|0,a=Math.imul(O,q),n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,K)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,a=a+Math.imul(y,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,X)|0,a=a+Math.imul(v,ee)|0;var _e=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,B),i=(i=Math.imul(R,q))+Math.imul(C,B)|0,a=Math.imul(C,q),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,V)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(E,G)|0,a=a+Math.imul(E,K)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,Y)|0,a=a+Math.imul(_,J)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,X)|0,a=a+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(v,re)|0,a=a+Math.imul(v,ne)|0;var ke=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(h,ae)|0))<<13)|0;c=((a=a+Math.imul(h,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(P,B),i=(i=Math.imul(P,q))+Math.imul(M,B)|0,a=Math.imul(M,q),n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(O,G)|0,a=a+Math.imul(O,K)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(E,Y)|0,a=a+Math.imul(E,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,X)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,a=a+Math.imul(y,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,oe)|0;var xe=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((a=a+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(T,B),i=(i=Math.imul(T,q))+Math.imul(L,B)|0,a=Math.imul(L,q),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(M,H)|0,a=a+Math.imul(M,V)|0,n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(C,G)|0,a=a+Math.imul(C,K)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,J)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(E,X)|0,a=a+Math.imul(E,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,ce)|0;var Ee=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,B),i=(i=Math.imul(D,q))+Math.imul(U,B)|0,a=Math.imul(U,q),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(L,H)|0,a=a+Math.imul(L,V)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(M,G)|0,a=a+Math.imul(M,K)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(O,X)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(E,re)|0,a=a+Math.imul(E,ne)|0,n=n+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(y,ue)|0,a=a+Math.imul(y,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(v,fe)|0,a=a+Math.imul(v,he)|0;var Ae=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ve)|0)+Math.imul(h,pe)|0))<<13)|0;c=((a=a+Math.imul(h,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,H),i=(i=Math.imul(D,V))+Math.imul(U,H)|0,a=Math.imul(U,V),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(L,G)|0,a=a+Math.imul(L,K)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(M,Y)|0,a=a+Math.imul(M,J)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(C,X)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,a=a+Math.imul(_,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(y,fe)|0,a=a+Math.imul(y,he)|0;var Se=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;c=((a=a+Math.imul(v,ve)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,K))+Math.imul(U,G)|0,a=Math.imul(U,K),n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(L,Y)|0,a=a+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(M,X)|0,a=a+Math.imul(M,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,ce)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,he)|0;var Oe=(c+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ve)|0)+Math.imul(y,pe)|0))<<13)|0;c=((a=a+Math.imul(y,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,J))+Math.imul(U,Y)|0,a=Math.imul(U,J),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(L,X)|0,a=a+Math.imul(L,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(M,re)|0,a=a+Math.imul(M,ne)|0,n=n+Math.imul(R,ae)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(E,fe)|0,a=a+Math.imul(E,he)|0;var Ie=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ve)|0)+Math.imul(_,pe)|0))<<13)|0;c=((a=a+Math.imul(_,ve)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,X),i=(i=Math.imul(D,ee))+Math.imul(U,X)|0,a=Math.imul(U,ee),n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(L,re)|0,a=a+Math.imul(L,ne)|0,n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(M,ae)|0,a=a+Math.imul(M,oe)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(O,fe)|0,a=a+Math.imul(O,he)|0;var Re=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ve)|0)+Math.imul(E,pe)|0))<<13)|0;c=((a=a+Math.imul(E,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(U,re)|0,a=Math.imul(U,ne),n=n+Math.imul(T,ae)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(M,ue)|0,a=a+Math.imul(M,ce)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,he)|0;var Ce=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(O,pe)|0))<<13)|0;c=((a=a+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,ae),i=(i=Math.imul(D,oe))+Math.imul(U,ae)|0,a=Math.imul(U,oe),n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,ce)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(M,fe)|0,a=a+Math.imul(M,he)|0;var Ne=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ve)|0)+Math.imul(C,pe)|0))<<13)|0;c=((a=a+Math.imul(C,ve)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,ue),i=(i=Math.imul(D,ce))+Math.imul(U,ue)|0,a=Math.imul(U,ce),n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,he)|0)+Math.imul(L,fe)|0,a=a+Math.imul(L,he)|0;var Pe=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(M,pe)|0))<<13)|0;c=((a=a+Math.imul(M,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,fe),i=(i=Math.imul(D,he))+Math.imul(U,fe)|0,a=Math.imul(U,he);var Me=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ve)|0)+Math.imul(L,pe)|0))<<13)|0;c=((a=a+Math.imul(L,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var je=(c+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ve))+Math.imul(U,pe)|0))<<13)|0;return c=((a=Math.imul(U,ve))+(i>>>13)|0)+(je>>>26)|0,je&=67108863,u[0]=me,u[1]=ge,u[2]=ye,u[3]=be,u[4]=we,u[5]=_e,u[6]=ke,u[7]=xe,u[8]=Ee,u[9]=Ae,u[10]=Se,u[11]=Oe,u[12]=Ie,u[13]=Re,u[14]=Ce,u[15]=Ne,u[16]=Pe,u[17]=Me,u[18]=je,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r._strip()}function g(e,t,r){return m(e,t,r)}Math.imul||(v=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?v(this,e,t):r<63?p(this,e,t):r<1024?m(this,e,t):g(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),g(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&n);n>>=26,n+=a/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<n;this.words[t]=u|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=n;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,o=0|a.words[a.length-1];0!==(r=26-this._countBits(o))&&(a=a.ushln(r),n.iushln(r),o=0|a.words[a.length-1]);var s,u=n.length-a.length;if("mod"!==t){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(a,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(a,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(a=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:a,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(a=s.div.neg()),{div:a,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,o,s},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(n*i+(0|this.words[a]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*n;this.words[i]=a/e|0,n=a%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),o=new i(0),s=new i(0),u=new i(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(a.isOdd()||o.isOdd())&&(a.iadd(l),o.isub(f)),a.iushrn(1),o.iushrn(1);for(var p=0,v=1;0==(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s),o.isub(u)):(n.isub(t),s.isub(a),u.isub(o))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,o=new i(1),s=new i(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(a=0===t.cmpn(1)?o:s).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,b),n(k,b),n(x,b),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new _;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return y[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),o=0;!a.isZero()&&0===a.andln(1);)o++,a.iushrn(1);r(!a.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,a),h=this.pow(e,a.addn(1).iushrn(1)),d=this.pow(e,a),p=o;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();r(m<p);var g=this.pow(f,new i(1).iushln(p-m-1));h=h.redMul(g),f=g.redSqr(),d=d.redMul(f),p=m}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==o?(o<<=1,o|=f,(4===++s||0===n&&0===l)&&(a=this.mul(a,r[o]),s=0,o=0)):s=0}u=26}return a},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,E),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,x)}(JE);var QE=g(JE.exports),XE=!1,eA=!1,tA={debug:1,default:2,info:2,warning:3,error:4,off:5},rA=tA.default,nA=null;var iA,aA,oA=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(iA||(iA={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(aA||(aA={}));var sA="0123456789abcdef",uA=function(){function e(t){A(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return O(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==tA[r]&&this.throwArgumentError("invalid log level name","logLevel",e),rA>tA[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(eA)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",a=0;a<t.length;a++)r+=sA[t[a]>>4],r+=sA[15&t[a]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var a=t,o="";switch(r){case aA.NUMERIC_FAULT:o="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":o+="-"+s;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break;case aA.CALL_EXCEPTION:case aA.INSUFFICIENT_FUNDS:case aA.MISSING_NEW:case aA.NONCE_EXPIRED:case aA.REPLACEMENT_UNDERPRICED:case aA.TRANSACTION_REPLACED:case aA.UNPREDICTABLE_GAS_LIMIT:o=r}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var u=new Error(t);return u.reason=a,u.code=r,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){oA&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:oA})}},{key:"checkSafeUint53",value:function(t,r){"number"==typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return nA||(nA=new e("logger/5.7.0")),nA}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),XE){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}eA=!!t,XE=!!r}},{key:"setLogLevel",value:function(t){var r=tA[t.toLowerCase()];null!=r?rA=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();uA.errors=aA,uA.levels=iA;var cA=new uA("bytes/5.7.0");function lA(e){return!!e.toHexString}function fA(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return fA(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function hA(e){return yA(e)&&!(e.length%2)||pA(e)}function dA(e){return"number"==typeof e&&e==e&&e%1==0}function pA(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!dA(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!dA(r)||r<0||r>=256)return!1}return!0}function vA(e,t){if(t||(t={}),"number"==typeof e){cA.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),fA(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),lA(e)&&(e=e.toHexString()),yA(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":cA.throwArgumentError("hex data is odd-length","value",e));for(var i=[],a=0;a<n.length;a+=2)i.push(parseInt(n.substring(a,a+2),16));return fA(new Uint8Array(i))}return pA(e)?fA(new Uint8Array(e)):cA.throwArgumentError("invalid arrayify value","value",e)}function mA(e){var t=e.map((function(e){return vA(e)})),r=t.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(r);return t.reduce((function(e,t){return n.set(t,e),e+t.length}),0),fA(n)}function gA(e){var t=vA(e);if(0===t.length)return t;for(var r=0;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function yA(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var bA="0123456789abcdef";function wA(e,t){if(t||(t={}),"number"==typeof e){cA.checkSafeUint53(e,"invalid hexlify value");for(var r="";e;)r=bA[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),lA(e))return e.toHexString();if(yA(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":cA.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(pA(e)){for(var n="0x",i=0;i<e.length;i++){var a=e[i];n+=bA[(240&a)>>4]+bA[15&a]}return n}return cA.throwArgumentError("invalid hexlify value","value",e)}function _A(e){if("string"!=typeof e)e=wA(e);else if(!yA(e)||e.length%2)return null;return(e.length-2)/2}function kA(e,t,r){return"string"!=typeof e?e=wA(e):(!yA(e)||e.length%2)&&cA.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function xA(e){var t="0x";return e.forEach((function(e){t+=wA(e).substring(2)})),t}function EA(e){var t=function(e){"string"!=typeof e&&(e=wA(e));yA(e)||cA.throwArgumentError("invalid hex string","value",e);e=e.substring(2);var t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(wA(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function AA(e,t){for("string"!=typeof e?e=wA(e):yA(e)||cA.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&cA.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function SA(e){var t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(hA(e)){var r=vA(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=wA(r.slice(0,32)),t.s=wA(r.slice(32,64))):65===r.length?(t.r=wA(r.slice(0,32)),t.s=wA(r.slice(32,64)),t.v=r[64]):cA.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:cA.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=wA(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var n=function(e,t){(e=vA(e)).length>t&&cA.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(t);return r.set(e,t-e.length),fA(r)}(vA(t._vs),32);t._vs=wA(n);var i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&cA.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;var a=wA(n);null==t.s?t.s=a:t.s!==a&&cA.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?cA.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var o=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==o&&cA.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&yA(t.r)?t.r=AA(t.r,32):cA.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&yA(t.s)?t.s=AA(t.s,32):cA.throwArgumentError("signature missing or invalid s","signature",e);var s=vA(t.s);s[0]>=128&&cA.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(s[0]|=128);var u=wA(s);t._vs&&(yA(t._vs)||cA.throwArgumentError("signature invalid _vs","signature",e),t._vs=AA(t._vs,32)),null==t._vs?t._vs=u:t._vs!==u&&cA.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var OA="bignumber/5.7.0",IA=QE.BN,RA=new uA(OA),CA={},NA=9007199254740991;var PA=!1,MA=function(){function e(t,r){A(this,e),t!==CA&&RA.throwError("cannot call constructor directly; use BigNumber.from",uA.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return O(e,[{key:"fromTwos",value:function(e){return TA(LA(this).fromTwos(e))}},{key:"toTwos",value:function(e){return TA(LA(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return TA(LA(this).add(LA(e)))}},{key:"sub",value:function(e){return TA(LA(this).sub(LA(e)))}},{key:"div",value:function(t){return e.from(t).isZero()&&$A("division-by-zero","div"),TA(LA(this).div(LA(t)))}},{key:"mul",value:function(e){return TA(LA(this).mul(LA(e)))}},{key:"mod",value:function(e){var t=LA(e);return t.isNeg()&&$A("division-by-zero","mod"),TA(LA(this).umod(t))}},{key:"pow",value:function(e){var t=LA(e);return t.isNeg()&&$A("negative-power","pow"),TA(LA(this).pow(t))}},{key:"and",value:function(e){var t=LA(e);return(this.isNegative()||t.isNeg())&&$A("unbound-bitwise-result","and"),TA(LA(this).and(t))}},{key:"or",value:function(e){var t=LA(e);return(this.isNegative()||t.isNeg())&&$A("unbound-bitwise-result","or"),TA(LA(this).or(t))}},{key:"xor",value:function(e){var t=LA(e);return(this.isNegative()||t.isNeg())&&$A("unbound-bitwise-result","xor"),TA(LA(this).xor(t))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&$A("negative-width","mask"),TA(LA(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&$A("negative-width","shl"),TA(LA(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&$A("negative-width","shr"),TA(LA(this).shrn(e))}},{key:"eq",value:function(e){return LA(this).eq(LA(e))}},{key:"lt",value:function(e){return LA(this).lt(LA(e))}},{key:"lte",value:function(e){return LA(this).lte(LA(e))}},{key:"gt",value:function(e){return LA(this).gt(LA(e))}},{key:"gte",value:function(e){return LA(this).gte(LA(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return LA(this).isZero()}},{key:"toNumber",value:function(){try{return LA(this).toNumber()}catch(e){$A("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return RA.throwError("this platform does not support BigInt",uA.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?PA||(PA=!0,RA.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?RA.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",uA.errors.UNEXPECTED_ARGUMENT,{}):RA.throwError("BigNumber.toString does not accept parameters",uA.errors.UNEXPECTED_ARGUMENT,{})),LA(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(t){if(t instanceof e)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(CA,jA(t)):t.match(/^-?[0-9]+$/)?new e(CA,jA(new IA(t))):RA.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&$A("underflow","BigNumber.from",t),(t>=NA||t<=-NA)&&$A("overflow","BigNumber.from",t),e.from(String(t));var r=t;if("bigint"==typeof r)return e.from(r.toString());if(pA(r))return e.from(wA(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"==typeof n)return e.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"==typeof i&&(yA(i)||"-"===i[0]&&yA(i.substring(1))))return e.from(i)}return RA.throwArgumentError("invalid BigNumber value","value",t)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function jA(e){if("string"!=typeof e)return jA(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&RA.throwArgumentError("invalid hex","value",e),"0x00"===(e=jA(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function TA(e){return MA.from(jA(e))}function LA(e){var t=MA.from(e).toHexString();return"-"===t[0]?new IA("-"+t.substring(3),16):new IA(t.substring(2),16)}function $A(e,t,r){var n={fault:e,operation:t};return null!=r&&(n.value=r),RA.throwError(e,uA.errors.NUMERIC_FAULT,n)}var DA=new uA(OA),UA={},FA=MA.from(0),BA=MA.from(-1);function qA(e,t,r,n){var i={fault:t,operation:r};return void 0!==n&&(i.value=n),DA.throwError(e,uA.errors.NUMERIC_FAULT,i)}for(var zA="0";zA.length<256;)zA+=zA;function HA(e){if("number"!=typeof e)try{e=MA.from(e).toNumber()}catch(t){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+zA.substring(0,e):DA.throwArgumentError("invalid decimal size","decimals",e)}function VA(e,t){null==t&&(t=0);var r=HA(t),n=(e=MA.from(e)).lt(FA);n&&(e=e.mul(BA));for(var i=e.mod(r).toString();i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];var a=e.div(r).toString();return e=1===r.length?a:a+"."+i,n&&(e="-"+e),e}function WA(e,t){null==t&&(t=0);var r=HA(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||DA.throwArgumentError("invalid decimal value","value",e);var n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&DA.throwArgumentError("missing value","value",e);var i=e.split(".");i.length>2&&DA.throwArgumentError("too many decimal points","value",e);var a=i[0],o=i[1];for(a||(a="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&qA("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";var s=MA.from(a),u=MA.from(o),c=s.mul(r).add(u);return n&&(c=c.mul(BA)),c}var GA=function(){function e(t,r,n,i){A(this,e),t!==UA&&DA.throwError("cannot use FixedFormat constructor; use FixedFormat.from",uA.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=HA(i),Object.freeze(this)}return O(e,null,[{key:"from",value:function(t){if(t instanceof e)return t;"number"==typeof t&&(t="fixed128x".concat(t));var r=!0,n=128,i=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)r=!1;else{var a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||DA.throwArgumentError("invalid fixed format","format",t),r="u"!==a[1],n=parseInt(a[2]),i=parseInt(a[3])}else if(t){var o=function(e,r,n){return null==t[e]?n:(typeof t[e]!==r&&DA.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e])};r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&DA.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&DA.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new e(UA,r,n,i)}}]),e}(),KA=function(){function e(t,r,n,i){A(this,e),t!==UA&&DA.throwError("cannot use FixedNumber constructor; use FixedNumber.from",uA.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return O(e,[{key:"_checkFormat",value:function(e){this.format.name!==e.format.name&&DA.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}},{key:"addUnsafe",value:function(t){this._checkFormat(t);var r=WA(this._value,this.format.decimals),n=WA(t._value,t.format.decimals);return e.fromValue(r.add(n),this.format.decimals,this.format)}},{key:"subUnsafe",value:function(t){this._checkFormat(t);var r=WA(this._value,this.format.decimals),n=WA(t._value,t.format.decimals);return e.fromValue(r.sub(n),this.format.decimals,this.format)}},{key:"mulUnsafe",value:function(t){this._checkFormat(t);var r=WA(this._value,this.format.decimals),n=WA(t._value,t.format.decimals);return e.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}},{key:"divUnsafe",value:function(t){this._checkFormat(t);var r=WA(this._value,this.format.decimals),n=WA(t._value,t.format.decimals);return e.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}},{key:"floor",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(ZA.toFormat(r.format))),r}},{key:"ceiling",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(ZA.toFormat(r.format))),r}},{key:"round",value:function(t){null==t&&(t=0);var r=this.toString().split(".");if(1===r.length&&r.push("0"),(t<0||t>80||t%1)&&DA.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;var n=e.from("1"+zA.substring(0,t),this.format),i=YA.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}},{key:"isZero",value:function(){return"0.0"===this._value||"0"===this._value}},{key:"isNegative",value:function(){return"-"===this._value[0]}},{key:"toString",value:function(){return this._value}},{key:"toHexString",value:function(e){return null==e?this._hex:(e%8&&DA.throwArgumentError("invalid byte width","width",e),AA(MA.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(t){return e.fromString(this._value,t)}}],[{key:"fromValue",value:function(t,r,n){return null!=n||null==r||function(e){return null!=e&&(MA.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||yA(e)||"bigint"==typeof e||pA(e))}(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),e.fromString(VA(t,r),GA.from(n))}},{key:"fromString",value:function(t,r){null==r&&(r="fixed");var n=GA.from(r),i=WA(t,n.decimals);!n.signed&&i.lt(FA)&&qA("unsigned value cannot be negative","overflow","value",t);var a=null;a=n.signed?i.toTwos(n.width).toHexString():AA(a=i.toHexString(),n.width/8);var o=VA(i,n.decimals);return new e(UA,a,o,n)}},{key:"fromBytes",value:function(t,r){null==r&&(r="fixed");var n=GA.from(r);if(vA(t).length>n.width/8)throw new Error("overflow");var i=MA.from(t);n.signed&&(i=i.fromTwos(n.width));var a=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=VA(i,n.decimals);return new e(UA,a,o,n)}},{key:"from",value:function(t,r){if("string"==typeof t)return e.fromString(t,r);if(pA(t))return e.fromBytes(t,r);try{return e.fromValue(t,0,r)}catch(n){if(n.code!==uA.errors.INVALID_ARGUMENT)throw n}return DA.throwArgumentError("invalid FixedNumber value","value",t)}},{key:"isFixedNumber",value:function(e){return!(!e||!e._isFixedNumber)}}]),e}(),ZA=KA.from(1),YA=KA.from("0.5"),JA=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},QA=new uA("properties/5.7.0");function XA(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function eS(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function tS(e){return JA(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.keys(e).map((function(t){var r=e[t];return Promise.resolve(r).then((function(e){return{key:t,value:e}}))})),t.next=3,Promise.all(r);case 3:return n=t.sent,t.abrupt("return",n.reduce((function(e,t){return e[t.key]=t.value,e}),{}));case 5:case"end":return t.stop()}}),t)})))}function rS(e){var t={};for(var r in e)t[r]=e[r];return t}var nS={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function iS(e){if(null==e||nS[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;for(var t=Object.keys(e),r=0;r<t.length;r++){var n=null;try{n=e[t[r]]}catch(i){continue}if(!iS(n))return!1}return!0}return QA.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function aS(e){if(iS(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return oS(e)})));if("object"==typeof e){var t={};for(var r in e){var n=e[r];void 0!==n&&XA(t,r,oS(n))}return t}return QA.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function oS(e){return aS(e)}var sS=O((function e(t){for(var r in A(this,e),t)this[r]=oS(t[r])})),uS="abi/5.7.0",cS=new uA(uS),lS={},fS={calldata:!0,memory:!0,storage:!0},hS={calldata:!0,memory:!0};function dS(e,t){if("bytes"===e||"string"===e){if(fS[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&hS[t])return!0;return(fS[t]||"payable"===t)&&cS.throwArgumentError("invalid modifier","name",t),!1}function pS(e,t){for(var r in t)XA(e,r,t[r])}var vS=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),mS=new RegExp(/^(.*)\[([0-9]*)\]$/),gS=function(){function e(t,r){A(this,e),t!==lS&&cS.throwError("use fromString",uA.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),pS(this,r);var n=this.type.match(mS);pS(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:e.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return O(e,[{key:"format",value:function(e){if(e||(e=vS.sighash),vS[e]||cS.throwArgumentError("invalid format type","format",e),e===vS.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(t)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==vS.sighash&&(r+=this.type),r+="("+this.components.map((function(t){return t.format(e)})).join(e===vS.full?", ":",")+")"):r+=this.type,e!==vS.sighash&&(!0===this.indexed&&(r+=" indexed"),e===vS.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(t,r){return"string"==typeof t?e.fromString(t,r):e.fromObject(t)}},{key:"fromObject",value:function(t){return e.isParamType(t)?t:new e(lS,{name:t.name||null,type:IS(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})}},{key:"fromString",value:function(t,r){return function(t){return e.fromObject({name:t.name,type:t.type,indexed:t.indexed,components:t.components})}(function(e,t){var r=e;function n(t){cS.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function i(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var a={type:"",name:"",state:{allowType:!0}},o=a,s=0;s<e.length;s++){var u=e[s];switch(u){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(s),o.state.allowType=!1,o.type=IS(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),dS(o.type,o.name)&&(o.name=""),o.type=IS(o.type);var c=o;(o=o.parent)||n(s),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),dS(o.type,o.name)&&(o.name=""),o.type=IS(o.type);var l=i(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&""!==o.type&&(o.type=IS(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(s),o.indexed&&n(s),o.indexed=!0,o.name=""):dS(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(s),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(s),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(s)}}return o.parent&&cS.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):dS(o.type,o.name)&&(o.name=""),a.type=IS(a.type),a}(t,!!r))}},{key:"isParamType",value:function(e){return!(null==e||!e._isParamType)}}]),e}();function yS(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,i=0;i<e.length;i++){var a=e[i];","===a&&0===n?(t.push(r),r=""):(r+=a,"("===a?n++:")"===a&&-1===--n&&cS.throwArgumentError("unbalanced parenthesis","value",e))}r&&t.push(r);return t}(e).map((function(e){return gS.fromString(e,t)}))}var bS=function(){function e(t,r){A(this,e),t!==lS&&cS.throwError("use a static from method",uA.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),pS(this,r),this._isFragment=!0,Object.freeze(this)}return O(e,null,[{key:"from",value:function(t){return e.isFragment(t)?t:"string"==typeof t?e.fromString(t):e.fromObject(t)}},{key:"fromObject",value:function(t){if(e.isFragment(t))return t;switch(t.type){case"function":return AS.fromObject(t);case"event":return wS.fromObject(t);case"constructor":return ES.fromObject(t);case"error":return OS.fromObject(t);case"fallback":case"receive":return null}return cS.throwArgumentError("invalid fragment object","value",t)}},{key:"fromString",value:function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?wS.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?AS.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?ES.fromString(e.trim()):"error"===e.split(" ")[0]?OS.fromString(e.substring(5).trim()):cS.throwArgumentError("unsupported fragment","value",e)}},{key:"isFragment",value:function(e){return!(!e||!e._isFragment)}}]),e}(),wS=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=vS.sighash),vS[e]||cS.throwArgumentError("invalid format type","format",e),e===vS.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==vS.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===vS.full?", ":",")+") ",e!==vS.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isEventFragment(e))return e;"event"!==e.type&&cS.throwArgumentError("invalid event object","value",e);var t={name:CS(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(gS.fromObject):[],type:"event"};return new r(lS,t)}},{key:"fromString",value:function(e){var t=e.match(NS);t||cS.throwArgumentError("invalid event string","value",e);var n=!1;return t[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:cS.warn("unknown modifier: "+e)}})),r.fromObject({name:t[1].trim(),anonymous:n,inputs:yS(t[2],!0),type:"event"})}},{key:"isEventFragment",value:function(e){return e&&e._isFragment&&"event"===e.type}}]),r}(bS);function _S(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&cS.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||cS.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=MA.from(r[1]),r[0]):e}function kS(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function xS(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&cS.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&cS.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||cS.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&cS.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&cS.throwArgumentError("unable to determine stateMutability","value",e),t}var ES=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=vS.sighash),vS[e]||cS.throwArgumentError("invalid format type","format",e),e===vS.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});e===vS.sighash&&cS.throwError("cannot format a constructor for sighash",uA.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map((function(t){return t.format(e)})).join(e===vS.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isConstructorFragment(e))return e;"constructor"!==e.type&&cS.throwArgumentError("invalid constructor object","value",e);var t=xS(e);t.constant&&cS.throwArgumentError("constructor cannot be constant","value",e);var n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(gS.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?MA.from(e.gas):null};return new r(lS,n)}},{key:"fromString",value:function(e){var t={type:"constructor"},n=(e=_S(e,t)).match(NS);return n&&"constructor"===n[1].trim()||cS.throwArgumentError("invalid constructor string","value",e),t.inputs=yS(n[2].trim(),!1),kS(n[3].trim(),t),r.fromObject(t)}},{key:"isConstructorFragment",value:function(e){return e&&e._isFragment&&"constructor"===e.type}}]),r}(bS),AS=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=vS.sighash),vS[e]||cS.throwArgumentError("invalid format type","format",e),e===vS.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),outputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==vS.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===vS.full?", ":",")+") ",e!==vS.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((function(t){return t.format(e)})).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isFunctionFragment(e))return e;"function"!==e.type&&cS.throwArgumentError("invalid function object","value",e);var t=xS(e),n={type:e.type,name:CS(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(gS.fromObject):[],outputs:e.outputs?e.outputs.map(gS.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?MA.from(e.gas):null};return new r(lS,n)}},{key:"fromString",value:function(e){var t={type:"function"},n=(e=_S(e,t)).split(" returns ");n.length>2&&cS.throwArgumentError("invalid function string","value",e);var i=n[0].match(NS);if(i||cS.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&CS(t.name),t.inputs=yS(i[2],!1),kS(i[3].trim(),t),n.length>1){var a=n[1].match(NS);""==a[1].trim()&&""==a[3].trim()||cS.throwArgumentError("unexpected tokens","value",e),t.outputs=yS(a[2],!1)}else t.outputs=[];return r.fromObject(t)}},{key:"isFunctionFragment",value:function(e){return e&&e._isFragment&&"function"===e.type}}]),r}(ES);function SS(e){var t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||cS.throwArgumentError("cannot specify user defined ".concat(t," error"),"fragment",e),e}var OS=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"format",value:function(e){if(e||(e=vS.sighash),vS[e]||cS.throwArgumentError("invalid format type","format",e),e===vS.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==vS.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===vS.full?", ":",")+") ").trim()}}],[{key:"from",value:function(e){return"string"==typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isErrorFragment(e))return e;"error"!==e.type&&cS.throwArgumentError("invalid error object","value",e);var t={type:e.type,name:CS(e.name),inputs:e.inputs?e.inputs.map(gS.fromObject):[]};return SS(new r(lS,t))}},{key:"fromString",value:function(e){var t={type:"error"},n=e.match(NS);return n||cS.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&CS(t.name),t.inputs=yS(n[2],!1),SS(r.fromObject(t))}},{key:"isErrorFragment",value:function(e){return e&&e._isFragment&&"error"===e.type}}]),r}(bS);function IS(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var RS=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function CS(e){return e&&e.match(RS)||cS.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var NS=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var PS=new uA(uS),MS=function(){function e(t,r,n,i){A(this,e),this.name=t,this.type=r,this.localName=n,this.dynamic=i}return O(e,[{key:"_throwError",value:function(e,t){PS.throwArgumentError(e,this.localName,t)}}]),e}(),jS=function(){function e(t){A(this,e),XA(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}return O(e,[{key:"data",get:function(){return xA(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(e){return this._data.push(e),this._dataLength+=e.length,e.length}},{key:"appendWriter",value:function(e){return this._writeData(mA(e._data))}},{key:"writeBytes",value:function(e){var t=vA(e),r=t.length%this.wordSize;return r&&(t=mA([t,this._padding.slice(r)])),this._writeData(t)}},{key:"_getValue",value:function(e){var t=vA(MA.from(e));return t.length>this.wordSize&&PS.throwError("value out-of-bounds",uA.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=mA([this._padding.slice(t.length%this.wordSize),t])),t}},{key:"writeValue",value:function(e){return this._writeData(this._getValue(e))}},{key:"writeUpdatableValue",value:function(){var e=this,t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){e._data[t]=e._getValue(r)}}}]),e}(),TS=function(){function e(t,r,n,i){A(this,e),XA(this,"_data",vA(t)),XA(this,"wordSize",r||32),XA(this,"_coerceFunc",n),XA(this,"allowLoose",i),this._offset=0}return O(e,[{key:"data",get:function(){return wA(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(t,r){return this._coerceFunc?this._coerceFunc(t,r):e.coerce(t,r)}},{key:"_peekBytes",value:function(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:PS.throwError("data out-of-bounds",uA.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(e,t){var r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}},{key:"readValue",value:function(){return MA.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}}]),e}();function LS(e){return"0x"+gs.keccak_256(vA(e))}var $S=new uA("rlp/5.7.0");function DS(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function US(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function FS(e){if(Array.isArray(e)){var t=[];if(e.forEach((function(e){t=t.concat(FS(e))})),t.length<=55)return t.unshift(192+t.length),t;var r=DS(t.length);return r.unshift(247+r.length),r.concat(t)}hA(e)||$S.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call(vA(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=DS(n.length);return i.unshift(183+i.length),i.concat(n)}function BS(e){return wA(FS(e))}function qS(e,t,r,n){for(var i=[];r<t+1+n;){var a=zS(e,r);i.push(a.result),(r+=a.consumed)>t+1+n&&$S.throwError("child data too short",uA.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function zS(e,t){if(0===e.length&&$S.throwError("data too short",uA.errors.BUFFER_OVERRUN,{}),e[t]>=248){var r=e[t]-247;t+1+r>e.length&&$S.throwError("data short segment too short",uA.errors.BUFFER_OVERRUN,{});var n=US(e,t+1,r);return t+1+r+n>e.length&&$S.throwError("data long segment too short",uA.errors.BUFFER_OVERRUN,{}),qS(e,t,t+1+r,r+n)}if(e[t]>=192){var i=e[t]-192;return t+1+i>e.length&&$S.throwError("data array too short",uA.errors.BUFFER_OVERRUN,{}),qS(e,t,t+1,i)}if(e[t]>=184){var a=e[t]-183;t+1+a>e.length&&$S.throwError("data array too short",uA.errors.BUFFER_OVERRUN,{});var o=US(e,t+1,a);return t+1+a+o>e.length&&$S.throwError("data array too short",uA.errors.BUFFER_OVERRUN,{}),{consumed:1+a+o,result:wA(e.slice(t+1+a,t+1+a+o))}}if(e[t]>=128){var s=e[t]-128;return t+1+s>e.length&&$S.throwError("data too short",uA.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:wA(e.slice(t+1,t+1+s))}}return{consumed:1,result:wA(e[t])}}function HS(e){var t=vA(e),r=zS(t,0);return r.consumed!==t.length&&$S.throwArgumentError("invalid rlp data","data",e),r.result}var VS=new uA("address/5.7.0");function WS(e){yA(e,20)||VS.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=t[n].charCodeAt(0);for(var i=vA(LS(r)),a=0;a<40;a+=2)i[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&i[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}for(var GS={},KS=0;KS<10;KS++)GS[String(KS)]=String(KS);for(var ZS=0;ZS<26;ZS++)GS[String.fromCharCode(65+ZS)]=String(10+ZS);var YS=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function JS(e){var t,r=null;if("string"!=typeof e&&VS.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),r=WS(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==e&&VS.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return GS[e]})).join("");t.length>=YS;){var r=t.substring(0,YS);t=parseInt(r,10)%97+t.substring(r.length)}for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}(e)&&VS.throwArgumentError("bad icap checksum","address",e),t=e.substring(4),r=new IA(t,36).toString(16);r.length<40;)r="0"+r;r=WS("0x"+r)}else VS.throwArgumentError("invalid address","address",e);return r}var QS=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"address","address",e,!1)}return O(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,t){try{t=JS(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}},{key:"decode",value:function(e){return JS(AA(e.readValue().toHexString(),20))}}]),r}(MS),XS=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),(n=t.call(this,e.name,e.type,void 0,e.dynamic)).coder=e,n}return O(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,t){return this.coder.encode(e,t)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),r}(MS),eO=new uA(uS);function tO(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){var i={};n=t.map((function(e){var t=e.localName;return t||eO.throwError("cannot encode object for signature with missing names",uA.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&eO.throwError("cannot encode object for signature with duplicate names",uA.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]}))}else eO.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&eO.throwArgumentError("types/value length mismatch","tuple",r);var a=new jS(e.wordSize),o=new jS(e.wordSize),s=[];t.forEach((function(e,t){var r=n[t];if(e.dynamic){var i=o.length;e.encode(o,r);var u=a.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(a,r)})),s.forEach((function(e){e(a.length)}));var u=e.appendWriter(a);return u+=e.appendWriter(o)}function rO(e,t){var r=[],n=e.subReader(0);t.forEach((function(t){var i=null;if(t.dynamic){var a=e.readValue(),o=n.subReader(a.toNumber());try{i=t.decode(o)}catch(s){if(s.code===uA.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(s){if(s.code===uA.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&r.push(i)}));var i=t.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach((function(e,t){var n=e.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var a=r[t];a instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw a}}):r[n]=a}}));for(var a=function(){var e=r[o];e instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:function(){throw e}})},o=0;o<r.length;o++)a();return Object.freeze(r)}var nO,iO,aO=function(e){f(r,e);var t=h(r);function r(e,n,i){var a;A(this,r);var o=e.type+"["+(n>=0?n:"")+"]",s=-1===n||e.dynamic;return(a=t.call(this,"array",o,i,s)).coder=e,a.length=n,a}return O(r,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),t=[],r=0;r<this.length;r++)t.push(e);return t}},{key:"encode",value:function(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),eO.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<t.length;i++)n.push(this.coder);return tO(e,n,t)}},{key:"decode",value:function(e){var t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&eO.throwError("insufficient data length",uA.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});for(var r=[],n=0;n<t;n++)r.push(new XS(this.coder));return e.coerce(this.name,rO(e,r))}}]),r}(MS),oO=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"bool","bool",e,!1)}return O(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,t){return e.writeValue(t?1:0)}},{key:"decode",value:function(e){return e.coerce(this.type,!e.readValue().isZero())}}]),r}(MS),sO=function(e){f(r,e);var t=h(r);function r(e,n){return A(this,r),t.call(this,e,e,n,!0)}return O(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,t){t=vA(t);var r=e.writeValue(t.length);return r+=e.writeBytes(t)}},{key:"decode",value:function(e){return e.readBytes(e.readValue().toNumber(),!0)}}]),r}(MS),uO=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"bytes",e)}return O(r,[{key:"decode",value:function(e){return e.coerce(this.name,wA(a(y(r.prototype),"decode",this).call(this,e)))}}]),r}(sO),cO=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r);var a="bytes"+String(e);return(i=t.call(this,a,a,n,!1)).size=e,i}return O(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,t){var r=vA(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}},{key:"decode",value:function(e){return e.coerce(this.name,wA(e.readBytes(this.size)))}}]),r}(MS),lO=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"null","",e,!1)}return O(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}},{key:"decode",value:function(e){return e.readBytes(0),e.coerce(this.name,null)}}]),r}(MS),fO=MA.from(-1),hO=MA.from(0),dO=MA.from(1),pO=MA.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),vO=function(e){f(r,e);var t=h(r);function r(e,n,i){var a;A(this,r);var o=(n?"int":"uint")+8*e;return(a=t.call(this,o,o,i,!1)).size=e,a.signed=n,a}return O(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,t){var r=MA.from(t),n=pO.mask(8*e.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(dO).mul(fO)))&&this._throwError("value out-of-bounds",t)}else(r.lt(hO)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}},{key:"decode",value:function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}]),r}(MS),mO=new uA("strings/5.7.0");function gO(e,t,r,n,i){if(e===iO.BAD_PREFIX||e===iO.UNEXPECTED_CONTINUE){for(var a=0,o=t+1;o<r.length&&r[o]>>6==2;o++)a++;return a}return e===iO.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(nO||(nO={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(iO||(iO={}));var yO=Object.freeze({error:function(e,t,r,n,i){return mO.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:gO,replace:function(e,t,r,n,i){return e===iO.OVERLONG?(n.push(i),0):(n.push(65533),gO(e,t,r))}});function bO(e,t){null==t&&(t=yO.error),e=vA(e);for(var r=[],n=0;n<e.length;){var i=e[n++];if(i>>7!=0){var a=null,o=null;if(192==(224&i))a=1,o=127;else if(224==(240&i))a=2,o=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?iO.UNEXPECTED_CONTINUE:iO.BAD_PREFIX,n-1,e,r);continue}a=3,o=65535}if(n-1+a>=e.length)n+=t(iO.OVERRUN,n-1,e,r);else{for(var s=i&(1<<8-a-1)-1,u=0;u<a;u++){var c=e[n];if(128!=(192&c)){n+=t(iO.MISSING_CONTINUE,n,e,r),s=null;break}s=s<<6|63&c,n++}null!==s&&(s>1114111?n+=t(iO.OUT_OF_RANGE,n-1-a,e,r,s):s>=55296&&s<=57343?n+=t(iO.UTF16_SURROGATE,n-1-a,e,r,s):s<=o?n+=t(iO.OVERLONG,n-1-a,e,r,s):r.push(s))}}else r.push(i)}return r}function wO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nO.current;t!=nO.current&&(mO.checkNormalize(),e=e.normalize(t));for(var r=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var a=e.charCodeAt(n);if(n>=e.length||56320!=(64512&a))throw new Error("invalid utf-8 string");var o=65536+((1023&i)<<10)+(1023&a);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return vA(r)}function _O(e,t){return bO(e,t).map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}var kO=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this,"string",e)}return O(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,t){return a(y(r.prototype),"encode",this).call(this,e,wO(t))}},{key:"decode",value:function(e){return _O(a(y(r.prototype),"decode",this).call(this,e))}}]),r}(sO),xO=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r);var a=!1,o=[];e.forEach((function(e){e.dynamic&&(a=!0),o.push(e.type)}));var s="tuple("+o.join(",")+")";return(i=t.call(this,"tuple",s,n,a)).coders=e,i}return O(r,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(t){e.push(t.defaultValue())}));var t=this.coders.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}},{key:"encode",value:function(e,t){return tO(e,this.coders,t)}},{key:"decode",value:function(e){return e.coerce(this.name,rO(e,this.coders))}}]),r}(MS),EO=new uA(uS),AO=new RegExp(/^bytes([0-9]*)$/),SO=new RegExp(/^(u?int)([0-9]*)$/),OO=function(){function e(t){A(this,e),XA(this,"coerceFunc",t||null)}return O(e,[{key:"_getCoder",value:function(e){var t=this;switch(e.baseType){case"address":return new QS(e.name);case"bool":return new oO(e.name);case"string":return new kO(e.name);case"bytes":return new uO(e.name);case"array":return new aO(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new xO((e.components||[]).map((function(e){return t._getCoder(e)})),e.name);case"":return new lO(e.name)}var r=e.type.match(SO);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!=0)&&EO.throwArgumentError("invalid "+r[1]+" bit length","param",e),new vO(n/8,"int"===r[1],e.name)}if(r=e.type.match(AO)){var i=parseInt(r[1]);return(0===i||i>32)&&EO.throwArgumentError("invalid bytes length","param",e),new cO(i,e.name)}return EO.throwArgumentError("invalid type","type",e.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(e,t){return new TS(e,this._getWordSize(),this.coerceFunc,t)}},{key:"_getWriter",value:function(){return new jS(this._getWordSize())}},{key:"getDefaultValue",value:function(e){var t=this,r=e.map((function(e){return t._getCoder(gS.from(e))}));return new xO(r,"_").defaultValue()}},{key:"encode",value:function(e,t){var r=this;e.length!==t.length&&EO.throwError("types/values length mismatch",uA.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var n=e.map((function(e){return r._getCoder(gS.from(e))})),i=new xO(n,"_"),a=this._getWriter();return i.encode(a,t),a.data}},{key:"decode",value:function(e,t,r){var n=this,i=e.map((function(e){return n._getCoder(gS.from(e))}));return new xO(i,"_").decode(this._getReader(vA(t),r))}}]),e}(),IO=new OO;function RO(e){return LS(wO(e))}var CO="hash/5.7.0";function NO(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return vA(t)}function PO(e){e=vA(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function MO(e,t){null==t&&(t=1);var r=[],n=r.forEach;return function e(t,i){n.call(t,(function(t){i>0&&Array.isArray(t)?e(t,i-1):r.push(t)}))}(e,t),r}function jO(e){return function(e){var t=0;return function(){return e[t++]}}(function(e){var t=0;function r(){return e[t++]<<8|e[t++]}for(var n=r(),i=1,a=[0,1],o=1;o<n;o++)a.push(i+=r());var s=r(),u=t;t+=s;var c=0,l=0;function f(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}for(var h=Math.pow(2,31),d=h>>>1,p=d>>1,v=h-1,m=0,g=0;g<31;g++)m=m<<1|f();for(var y=[],b=0,w=h;;){for(var _=Math.floor(((m-b+1)*i-1)/w),k=0,x=n;x-k>1;){var E=k+x>>>1;_<a[E]?x=E:k=E}if(0==k)break;y.push(k);for(var A=b+Math.floor(w*a[k]/i),S=b+Math.floor(w*a[k+1]/i)-1;0==((A^S)&d);)m=m<<1&v|f(),A=A<<1&v,S=S<<1&v|1;for(;A&~S&p;)m=m&d|m<<1&v>>>1|f(),A=A<<1^d,S=(S^d)<<1|d|1;b=A,w=1+S-A}var O=n-4;return y.map((function(t){switch(t-O){case 3:return O+65792+(e[u++]<<16|e[u++]<<8|e[u++]);case 2:return O+256+(e[u++]<<8|e[u++]);case 1:return O+e[u++];default:return t-1}}))}(e))}function TO(e){return 1&e?~e>>1:e>>1}function LO(e,t){for(var r=Array(e),n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function $O(e,t){for(var r=Array(e),n=0,i=0;n<e;n++)r[n]=i+=TO(t());return r}function DO(e,t){for(var r=LO(e(),e),n=e(),i=LO(n,e),a=function(e,t){for(var r=Array(e),n=0;n<e;n++)r[n]=1+t();return r}(n,e),o=0;o<n;o++)for(var s=0;s<a[o];s++)r.push(i[o]+s);return t?r.map((function(e){return t[e]})):r}function UO(e,t,r){for(var n=Array(e).fill(void 0).map((function(){return[]})),i=0;i<t;i++)$O(e,r).forEach((function(e,t){return n[t].push(e)}));return n}function FO(e,t){var r=1+t(),n=t(),i=function(e){for(var t=[];;){var r=e();if(0==r)break;t.push(r)}return t}(t);return MO(UO(i.length,1+e,t).map((function(e,t){var a=e[0],o=e.slice(1);return Array(i[t]).fill(void 0).map((function(e,t){var i=t*n;return[a+t*r,o.map((function(e){return e+i}))]}))})))}function BO(e,t){return UO(1+t(),1+e,t).map((function(e){return[e[0],e.slice(1)]}))}var qO,zO,HO=jO(NO("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),VO=new Set(DO(HO)),WO=new Set(DO(HO)),GO=function(e){for(var t=[];;){var r=e();if(0==r)break;t.push(FO(r,e))}for(;;){var n=e()-1;if(n<0)break;t.push(BO(n,e))}return function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];t[n[0]]=n[1]}return t}(MO(t))}(HO),KO=(zO=DO(qO=HO).sort((function(e,t){return e-t})),function e(){for(var t=[];;){var r=DO(qO,zO);if(0==r.length)break;t.push({set:new Set(r),node:e()})}t.sort((function(e,t){return t.set.size-e.set.size}));var n=qO();return{branches:t,valid:n%3,fe0f:!!(1&(n=n/3|0)),save:1==(n>>=1),check:2==n}}()),ZO=45,YO=95;function JO(e){return function(e){return bO(wO(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:nO.current))}(e)}function QO(e){return e.filter((function(e){return 65039!=e}))}function XO(e){var t,r=k(e.split("."));try{for(r.s();!(t=r.n()).done;){var n=t.value,i=JO(n);try{for(var a=i.lastIndexOf(YO)-1;a>=0;a--)if(i[a]!==YO)throw new Error("underscore only allowed at start");if(i.length>=4&&i.every((function(e){return e<128}))&&i[2]===ZO&&i[3]===ZO)throw new Error("invalid label extension")}catch(o){throw new Error('Invalid label "'.concat(n,'": ').concat(o.message))}}}catch(o){r.e(o)}finally{r.f()}return e}function eI(e){return XO(function(e,t){var r=JO(e).reverse(),n=[];for(;r.length;){var i=tI(r);if(i)n.push.apply(n,w(t(i)));else{var a=r.pop();if(VO.has(a))n.push(a);else if(!WO.has(a)){var o=GO[a];if(!o)throw new Error("Disallowed codepoint: 0x".concat(a.toString(16).toUpperCase()));n.push.apply(n,w(o))}}}return XO(function(e){return e.normalize("NFC")}(String.fromCodePoint.apply(String,n)))}(e,QO))}function tI(e,t){var r,n,i,a=KO,o=[],s=e.length;t&&(t.length=0);for(var u=function(){var u=e[--s];if(a=null===(r=a.branches.find((function(e){return e.set.has(u)})))||void 0===r?void 0:r.node,!a)return 0;if(a.save)i=u;else if(a.check&&u===i)return 0;o.push(u),a.fe0f&&(o.push(65039),s>0&&65039==e[s-1]&&s--),a.valid&&(n=o.slice(),2==a.valid&&n.splice(1,1),t&&t.push.apply(t,w(e.slice(s).reverse())),e.length=s)};s&&0!==u(););return n}var rI=new uA(CO),nI=new Uint8Array(32);function iI(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function aI(e){var t=wO(eI(e)),r=[];if(0===e.length)return r;for(var n=0,i=0;i<t.length;i++){46===t[i]&&(r.push(iI(t.slice(n,i))),n=i+1)}if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(iI(t.slice(n))),r}function oI(e){"string"!=typeof e&&rI.throwArgumentError("invalid ENS name; not a string","name",e);for(var t=nI,r=aI(e);r.length;)t=LS(mA([t,LS(r.pop())]));return wA(t)}nI.fill(0);var sI=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},uI=new uA(CO),cI=new Uint8Array(32);cI.fill(0);var lI=MA.from(-1),fI=MA.from(0),hI=MA.from(1),dI=MA.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pI=AA(hI.toHexString(),32),vI=AA(fI.toHexString(),32),mI={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gI=["name","version","chainId","verifyingContract","salt"];function yI(e){return function(t){return"string"!=typeof t&&uI.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var bI={name:yI("name"),version:yI("version"),chainId:function(e){try{return MA.from(e).toString()}catch(t){}return uI.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return JS(e).toLowerCase()}catch(t){}return uI.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=vA(e);if(32!==t.length)throw new Error("bad length");return wA(t)}catch(r){}return uI.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function wI(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&uI.throwArgumentError("invalid numeric width","type",e);var i=dI.mask(r?n-1:n),a=r?i.add(hI).mul(lI):fI;return function(t){var r=MA.from(t);return(r.lt(a)||r.gt(i))&&uI.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),AA(r.toTwos(256).toHexString(),32)}}var o=e.match(/^bytes(\d+)$/);if(o){var s=parseInt(o[1]);return(0===s||s>32||o[1]!==String(s))&&uI.throwArgumentError("invalid bytes width","type",e),function(t){return vA(t).length!==s&&uI.throwArgumentError("invalid length for ".concat(e),"value",t),function(e){var t=vA(e),r=t.length%32;return r?xA([t,cI.slice(r)]):wA(t)}(t)}}switch(e){case"address":return function(e){return AA(JS(e),32)};case"bool":return function(e){return e?pI:vI};case"bytes":return function(e){return LS(e)};case"string":return function(e){return RO(e)}}return null}function _I(e,t){return"".concat(e,"(").concat(t.map((function(e){var t=e.name;return e.type+" "+t})).join(","),")")}var kI=function(){function e(t){A(this,e),XA(this,"types",Object.freeze(oS(t))),XA(this,"_encoderCache",{}),XA(this,"_types",{});var r={},n={},i={};Object.keys(t).forEach((function(e){r[e]={},n[e]=[],i[e]={}}));var a=function(e){var i={};t[e].forEach((function(a){i[a.name]&&uI.throwArgumentError("duplicate variable name ".concat(JSON.stringify(a.name)," in ").concat(JSON.stringify(e)),"types",t),i[a.name]=!0;var o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===e&&uI.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),wI(o)||(n[o]||uI.throwArgumentError("unknown type ".concat(JSON.stringify(o)),"types",t),n[o].push(e),r[e][o]=!0)}))};for(var o in t)a(o);var s=Object.keys(n).filter((function(e){return 0===n[e].length}));for(var u in 0===s.length?uI.throwArgumentError("missing primary type","types",t):s.length>1&&uI.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(e){return JSON.stringify(e)})).join(", ")),"types",t),XA(this,"primaryType",s[0]),function e(a,o){o[a]&&uI.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",t),o[a]=!0,Object.keys(r[a]).forEach((function(t){n[t]&&(e(t,o),Object.keys(o).forEach((function(e){i[e][t]=!0})))})),delete o[a]}(this.primaryType,{}),i){var c=Object.keys(i[u]);c.sort(),this._types[u]=_I(u,t[u])+c.map((function(e){return _I(e,t[e])})).join("")}}return O(e,[{key:"getEncoder",value:function(e){var t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}},{key:"_getEncoder",value:function(e){var t=this,r=wI(e);if(r)return r;var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],a=this.getEncoder(i),o=parseInt(n[3]);return function(e){o>=0&&e.length!==o&&uI.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var r=e.map(a);return t._types[i]&&(r=r.map(LS)),LS(xA(r))}}var s=this.types[e];if(s){var u=RO(this._types[e]);return function(e){var r=s.map((function(r){var n=r.name,i=r.type,a=t.getEncoder(i)(e[n]);return t._types[i]?LS(a):a}));return r.unshift(u),xA(r)}}return uI.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"encodeType",value:function(e){var t=this._types[e];return t||uI.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}},{key:"encodeData",value:function(e,t){return this.getEncoder(e)(t)}},{key:"hashStruct",value:function(e,t){return LS(this.encodeData(e,t))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,t,r){var n=this;if(wI(e))return r(e,t);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&uI.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((function(e){return n._visit(a,e,r)}))}var s=this.types[e];return s?s.reduce((function(e,i){var a=i.name,o=i.type;return e[a]=n._visit(o,t[a],r),e}),{}):uI.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,t){return this._visit(this.primaryType,e,t)}}],[{key:"from",value:function(t){return new e(t)}},{key:"getPrimaryType",value:function(t){return e.from(t).primaryType}},{key:"hashStruct",value:function(t,r,n){return e.from(r).hashStruct(t,n)}},{key:"hashDomain",value:function(t){var r=[];for(var n in t){var i=mI[n];i||uI.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",t),r.push({name:n,type:i})}return r.sort((function(e,t){return gI.indexOf(e.name)-gI.indexOf(t.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:r},t)}},{key:"encode",value:function(t,r,n){return xA(["0x1901",e.hashDomain(t),e.from(r).hash(n)])}},{key:"hash",value:function(t,r,n){return LS(e.encode(t,r,n))}},{key:"resolveNames",value:function(t,r,n,i){return sI(this,void 0,void 0,o().mark((function a(){var s,u,c;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=rS(t),s={},t.verifyingContract&&!yA(t.verifyingContract,20)&&(s[t.verifyingContract]="0x"),(u=e.from(r)).visit(n,(function(e,t){return"address"!==e||yA(t,20)||(s[t]="0x"),t})),a.t0=o().keys(s);case 6:if((a.t1=a.t0()).done){a.next=13;break}return c=a.t1.value,a.next=10,i(c);case 10:s[c]=a.sent,a.next=6;break;case 13:return t.verifyingContract&&s[t.verifyingContract]&&(t.verifyingContract=s[t.verifyingContract]),n=u.visit(n,(function(e,t){return"address"===e&&s[t]?s[t]:t})),a.abrupt("return",{domain:t,value:n});case 16:case"end":return a.stop()}}),a)})))}},{key:"getPayload",value:function(t,r,n){e.hashDomain(t);var i={},a=[];gI.forEach((function(e){var r=t[e];null!=r&&(i[e]=bI[e](r),a.push({name:e,type:mI[e]}))}));var o=e.from(r),s=rS(r);return s.EIP712Domain?uI.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(function(e,t){if(e.match(/^bytes(\d*)/))return wA(vA(t));if(e.match(/^u?int/))return MA.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&uI.throwArgumentError("invalid string","value",t),t}return uI.throwArgumentError("unsupported type","type",e)}))}}}]),e}(),xI=new uA(uS),EI=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r)}(sS),AI=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r)}(sS),SI=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r)}(sS),OI=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),r}(sS),II={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function RI(e,t){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return r.error=t,r}var CI=function(){function e(t){var r=this;A(this,e);XA(this,"fragments",("string"==typeof t?JSON.parse(t):t).map((function(e){return bS.from(e)})).filter((function(e){return null!=e}))),XA(this,"_abiCoder",eS(this instanceof e?this.constructor:void 0,"getAbiCoder")()),XA(this,"functions",{}),XA(this,"errors",{}),XA(this,"events",{}),XA(this,"structs",{}),this.fragments.forEach((function(e){var t=null;switch(e.type){case"constructor":return r.deploy?void xI.warn("duplicate definition - constructor"):void XA(r,"deploy",e);case"function":t=r.functions;break;case"event":t=r.events;break;case"error":t=r.errors;break;default:return}var n=e.format();t[n]?xI.warn("duplicate definition - "+n):t[n]=e})),this.deploy||XA(this,"deploy",ES.from({payable:!1,type:"constructor"})),XA(this,"_isInterface",!0)}return O(e,[{key:"format",value:function(e){e||(e=vS.full),e===vS.sighash&&xI.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map((function(t){return t.format(e)}));return e===vS.json?JSON.stringify(t.map((function(e){return JSON.parse(e)}))):t}},{key:"getFunction",value:function(e){if(yA(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];xI.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===r}));return 0===n.length?xI.throwArgumentError("no matching function","name",r):n.length>1&&xI.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[AS.fromString(e).format()];return i||xI.throwArgumentError("no matching function","signature",e),i}},{key:"getEvent",value:function(e){if(yA(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];xI.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?xI.throwArgumentError("no matching event","name",n):i.length>1&&xI.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var a=this.events[wS.fromString(e).format()];return a||xI.throwArgumentError("no matching event","signature",e),a}},{key:"getError",value:function(e){if(yA(e)){var t=eS(this.constructor,"getSighash");for(var r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}xI.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.errors).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?xI.throwArgumentError("no matching error","name",n):i.length>1&&xI.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var a=this.errors[AS.fromString(e).format()];return a||xI.throwArgumentError("no matching error","signature",e),a}},{key:"getSighash",value:function(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(Tz){throw t}}return eS(this.constructor,"getSighash")(e)}},{key:"getEventTopic",value:function(e){return"string"==typeof e&&(e=this.getEvent(e)),eS(this.constructor,"getEventTopic")(e)}},{key:"_decodeParams",value:function(e,t){return this._abiCoder.decode(e,t)}},{key:"_encodeParams",value:function(e,t){return this._abiCoder.encode(e,t)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,t){"string"==typeof e&&(e=this.getError(e));var r=vA(t);return wA(r.slice(0,4))!==this.getSighash(e)&&xI.throwArgumentError("data signature does not match error ".concat(e.name,"."),"data",wA(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(e,t){return"string"==typeof e&&(e=this.getError(e)),wA(mA([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionData",value:function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=vA(t);return wA(r.slice(0,4))!==this.getSighash(e)&&xI.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",wA(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),wA(mA([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionResult",value:function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=vA(t),n=null,i="",a=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(l){}break;case 4:var u=wA(r.slice(0,4)),c=II[u];if(c)a=this._abiCoder.decode(c.inputs,r.slice(4)),o=c.name,s=c.signature,c.reason&&(n=a[0]),"Error"===o?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(a[0])):"Panic"===o&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(a[0]));else try{var l=this.getError(u);a=this._abiCoder.decode(l.inputs,r.slice(4)),o=l.name,s=l.format()}catch(l){}}return xI.throwError("call revert exception"+i,uA.errors.CALL_EXCEPTION,{method:e.format(),data:wA(t),errorArgs:a,errorName:o,errorSignature:s,reason:n})}},{key:"encodeFunctionResult",value:function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),wA(this._abiCoder.encode(e.outputs,t||[]))}},{key:"encodeFilterTopics",value:function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&xI.throwError("too many arguments for "+e.format(),uA.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var n=[];e.anonymous||n.push(this.getEventTopic(e));var i=function(e,t){return"string"===e.type?RO(t):"bytes"===e.type?LS(wA(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=MA.from(t).toHexString()),"address"===e.type&&r._abiCoder.encode(["address"],[t]),AA(wA(t),32))};for(t.forEach((function(t,r){var a=e.inputs[r];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?xI.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((function(e){return i(a,e)}))):n.push(i(a,t)):null!=t&&xI.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(e,t){var r=this;"string"==typeof e&&(e=this.getEvent(e));var n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&xI.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((function(e,o){var s=t[o];if(e.indexed)if("string"===e.type)n.push(RO(s));else if("bytes"===e.type)n.push(LS(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([e.type],[s]))}else i.push(e),a.push(s)})),{data:this._abiCoder.encode(i,a),topics:n}}},{key:"decodeEventLog",value:function(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);yA(r[0],32)&&r[0].toLowerCase()===n||xI.throwError("fragment/topic mismatch",uA.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],a=[],o=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(gS.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(i.push(e),o.push(!1)):(a.push(e),o.push(!1))}));var s=null!=r?this._abiCoder.decode(i,mA(r)):null,u=this._abiCoder.decode(a,t,!0),c=[],l=0,f=0;e.inputs.forEach((function(e,t){if(e.indexed)if(null==s)c[t]=new OI({_isIndexed:!0,hash:null});else if(o[t])c[t]=new OI({_isIndexed:!0,hash:s[f++]});else try{c[t]=s[f++]}catch(n){c[t]=n}else try{c[t]=u[l++]}catch(n){c[t]=n}if(e.name&&null==c[e.name]){var r=c[t];r instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:function(){throw RI("property ".concat(JSON.stringify(e.name)),r)}}):c[e.name]=r}}));for(var h=function(e){var t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:function(){throw RI("index ".concat(e),t)}})},d=0;d<c.length;d++)h(d);return Object.freeze(c)}},{key:"parseTransaction",value:function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new AI({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:MA.from(e.value||"0")}):null}},{key:"parseLog",value:function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new EI({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}},{key:"parseError",value:function(e){var t=wA(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new SI({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return IO}},{key:"getAddress",value:function(e){return JS(e)}},{key:"getSighash",value:function(e){return kA(RO(e.format()),0,4)}},{key:"getEventTopic",value:function(e){return RO(e.format())}},{key:"isInterface",value:function(e){return!(!e||!e._isInterface)}}]),e}(),NI=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},PI=new uA("abstract-provider/5.7.0"),MI=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,null,[{key:"isForkEvent",value:function(e){return!(!e||!e._isForkEvent)}}]),r}(sS),jI=function(){function e(){A(this,e),PI.checkAbstract(this instanceof e?this.constructor:void 0,e),XA(this,"_isProvider",!0)}return O(e,[{key:"getFeeData",value:function(){return NI(this,void 0,void 0,o().mark((function e(){var t,r,n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tS({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(e){return null}))});case 2:return t=e.sent,r=t.block,n=t.gasPrice,i=null,a=null,s=null,r&&r.baseFeePerGas&&(i=r.baseFeePerGas,s=MA.from("1500000000"),a=r.baseFeePerGas.mul(2).add(s)),e.abrupt("return",{lastBaseFeePerGas:i,maxFeePerGas:a,maxPriorityFeePerGas:s,gasPrice:n});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addListener",value:function(e,t){return this.on(e,t)}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"isProvider",value:function(e){return!(!e||!e._isProvider)}}]),e}(),TI=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},LI=new uA("abstract-signer/5.7.0"),$I=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],DI=[uA.errors.INSUFFICIENT_FUNDS,uA.errors.NONCE_EXPIRED,uA.errors.REPLACEMENT_UNDERPRICED],UI=function(){function e(){A(this,e),LI.checkAbstract(this instanceof e?this.constructor:void 0,e),XA(this,"_isSigner",!0)}return O(e,[{key:"getBalance",value:function(e){return TI(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getBalance"),t.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionCount",value:function(e){return TI(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getTransactionCount"),t.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"estimateGas",value:function(e){return TI(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("estimateGas"),t.next=3,tS(this.checkTransaction(e));case 3:return r=t.sent,t.next=6,this.provider.estimateGas(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"call",value:function(e,t){return TI(this,void 0,void 0,o().mark((function r(){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,tS(this.checkTransaction(e));case 3:return n=r.sent,r.next=6,this.provider.call(n,t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendTransaction",value:function(e){return TI(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("sendTransaction"),t.next=3,this.populateTransaction(e);case 3:return r=t.sent,t.next=6,this.signTransaction(r);case 6:return n=t.sent,t.next=9,this.provider.sendTransaction(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getChainId",value:function(){return TI(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return t=e.sent,e.abrupt("return",t.chainId);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return TI(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getFeeData",value:function(){return TI(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getFeeData"),e.next=3,this.provider.getFeeData();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolveName",value:function(e){return TI(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("resolveName"),t.next=3,this.provider.resolveName(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkTransaction",value:function(e){for(var t in e)-1===$I.indexOf(t)&&LI.throwArgumentError("invalid transaction key: "+t,"transaction",e);var r=rS(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(t){return t[0].toLowerCase()!==t[1].toLowerCase()&&LI.throwArgumentError("from address mismatch","transaction",e),t[0]})),r}},{key:"populateTransaction",value:function(e){return TI(this,void 0,void 0,o().mark((function t(){var r,n,i,a,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tS(this.checkTransaction(e));case 2:if(null!=(r=t.sent).to&&(r.to=Promise.resolve(r.to).then((function(e){return TI(s,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.resolveName(e);case 4:return null==(r=t.sent)&&LI.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))})),r.to.catch((function(e){}))),n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||LI.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):LI.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){t.next=10;break}r.type=2,t.next=18;break;case 10:if(0!==r.type&&1!==r.type){t.next=14;break}null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),t.next=18;break;case 14:return t.next=16,this.getFeeData();case 16:i=t.sent,null==r.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(a=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a):(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&LI.throwError("network does not support EIP-1559",uA.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=i.gasPrice),r.type=0):LI.throwError("failed to get consistent fee data",uA.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch((function(e){if(DI.indexOf(e.code)>=0)throw e;return LI.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",uA.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})}))),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then((function(t){return 0!==t[1]&&t[0]!==t[1]&&LI.throwArgumentError("chainId address mismatch","transaction",e),t[0]})),t.next=23,tS(r);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t,this)})))}},{key:"_checkProvider",value:function(e){this.provider||LI.throwError("missing provider",uA.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}],[{key:"isSigner",value:function(e){return!(!e||!e._isSigner)}}]),e}();function FI(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},e(r,r.exports),r.exports}var BI=qI;function qI(e,t){if(!e)throw new Error(t||"Assertion failed")}qI.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var zI=FI((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),HI=FI((function(e,t){var r=t;r.assert=BI,r.toArray=zI.toArray,r.zero2=zI.zero2,r.toHex=zI.toHex,r.encode=zI.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,c=t.andln(3)+a&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!==(n=t.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new QE(e,"hex","le")}})),VI=HI.getNAF,WI=HI.getJSF,GI=HI.assert;function KI(e,t){this.type=e,this.p=new QE(t.p,16),this.red=t.prime?QE.red(t.prime):QE.mont(this.p),this.zero=new QE(0).toRed(this.red),this.one=new QE(1).toRed(this.red),this.two=new QE(2).toRed(this.red),this.n=t.n&&new QE(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ZI=KI;function YI(e,t){this.curve=e,this.type=t,this.precomputed=null}KI.prototype.point=function(){throw new Error("Not implemented")},KI.prototype.validate=function(){throw new Error("Not implemented")},KI.prototype._fixedNafMul=function(e,t){GI(e.precomputed);var r=e._getDoubles(),n=VI(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,o,s=[];for(a=0;a<n.length;a+=r.step){o=0;for(var u=a+r.step-1;u>=a;u--)o=(o<<1)+n[u];s.push(o)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<s.length;a++)(o=s[a])===f?l=l.mixedAdd(r.points[a]):o===-f&&(l=l.mixedAdd(r.points[a].neg()));c=c.add(l)}return c.toP()},KI.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=VI(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var u=0;s>=0&&0===a[s];s--)u++;if(s>=0&&u++,o=o.dblp(u),s<0)break;var c=a[s];GI(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},KI.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,f=0;for(a=0;a<n;a++){var h=(s=t[a])._getNAFPoints(e);u[a]=h.wnd,c[a]=h.points}for(a=n-1;a>=1;a-=2){var d=a-1,p=a;if(1===u[d]&&1===u[p]){var v=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(v[1]=t[d].add(t[p]),v[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(v[1]=t[d].toJ().mixedAdd(t[p]),v[2]=t[d].add(t[p].neg())):(v[1]=t[d].toJ().mixedAdd(t[p]),v[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=WI(r[d],r[p]);for(f=Math.max(g[0].length,f),l[d]=new Array(f),l[p]=new Array(f),o=0;o<f;o++){var y=0|g[0][o],b=0|g[1][o];l[d][o]=m[3*(y+1)+(b+1)],l[p][o]=0,c[d]=v}}else l[d]=VI(r[d],u[d],this._bitLength),l[p]=VI(r[p],u[p],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[p].length,f)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var k=0;a>=0;){var x=!0;for(o=0;o<n;o++)_[o]=0|l[o][a],0!==_[o]&&(x=!1);if(!x)break;k++,a--}if(a>=0&&k++,w=w.dblp(k),a<0)break;for(o=0;o<n;o++){var E=_[o];0!==E&&(E>0?s=c[o][E-1>>1]:E<0&&(s=c[o][-E-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(a=0;a<n;a++)c[a]=null;return i?w:w.toP()},KI.BasePoint=YI,YI.prototype.eq=function(){throw new Error("Not implemented")},YI.prototype.validate=function(){return this.curve.validate(this)},KI.prototype.decodePoint=function(e,t){e=HI.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?GI(e[e.length-1]%2==0):7===e[0]&&GI(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},YI.prototype.encodeCompressed=function(e){return this.encode(e,!0)},YI.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},YI.prototype.encode=function(e,t){return HI.encode(this._encode(t),e)},YI.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},YI.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},YI.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},YI.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},YI.prototype._getBeta=function(){return null},YI.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var JI=FI((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),QI=HI.assert;function XI(e){ZI.call(this,"short",e),this.a=new QE(e.a,16).toRed(this.red),this.b=new QE(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}JI(XI,ZI);var eR=XI;function tR(e,t,r,n){ZI.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new QE(t,16),this.y=new QE(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function rR(e,t,r,n){ZI.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new QE(0)):(this.x=new QE(t,16),this.y=new QE(r,16),this.z=new QE(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}XI.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new QE(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new QE(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],QI(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new QE(e.a,16),b:new QE(e.b,16)}})):this._getEndoBasis(r)}}},XI.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:QE.mont(e),r=new QE(2).toRed(t).redInvm(),n=r.redNeg(),i=new QE(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},XI.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),d=new QE(1),p=new QE(0),v=new QE(0),m=new QE(1),g=0;0!==f.cmpn(0);){var y=h.div(f);u=h.sub(y.mul(f)),c=v.sub(y.mul(d));var b=m.sub(y.mul(p));if(!n&&u.cmp(l)<0)t=s.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++g)break;s=u,h=f,f=u,v=d,d=c,m=p,p=b}a=u.neg(),o=c;var w=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(w)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a:a,b:o}]},XI.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},XI.prototype.pointFromX=function(e,t){(e=new QE(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},XI.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},XI.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),l=0;l<2*a;l++)n[l]=null,i[l]=null;return c},JI(tR,ZI.BasePoint),XI.prototype.point=function(e,t,r){return new tR(this,e,t,r)},XI.prototype.pointFromJSON=function(e,t){return tR.fromJSON(this,e,t)},tR.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},tR.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},tR.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},tR.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},tR.prototype.isInfinity=function(){return this.inf},tR.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},tR.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},tR.prototype.getX=function(){return this.x.fromRed()},tR.prototype.getY=function(){return this.y.fromRed()},tR.prototype.mul=function(e){return e=new QE(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},tR.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},tR.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},tR.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},tR.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},tR.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},JI(rR,ZI.BasePoint),XI.prototype.jpoint=function(e,t,r){return new rR(this,e,t,r)},rR.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},rR.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},rR.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),h=u.redSqr().redIAdd(l).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(a.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},rR.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),h=s.redMul(l.redISub(f)).redISub(i.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(f,h,d)},rR.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=a.redSqr(),f=c.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=a.redMul(f),v=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=d.redMul(m);g=g.redIAdd(g).redISub(h);var y=c.redMul(s);t+1<e&&(u=u.redMul(h)),a=v,s=y,c=g}return this.curve.jpoint(a,c.redMul(i),s)},rR.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},rR.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),v=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=v.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},rR.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},rR.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},rR.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,h,d)},rR.prototype.mul=function(e,t){return e=new QE(e,t),this.curve._wnafMul(this,e)},rR.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},rR.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},rR.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},rR.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var nR=FI((function(e,t){var r=t;r.base=ZI,r.short=eR,r.mont=null,r.edwards=null})),iR=FI((function(e,t){var r,n=t,i=HI.assert;function a(e){"short"===e.type?this.curve=new nR.short(e):"edwards"===e.type?this.curve=new nR.edwards(e):this.curve=new nR.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:vf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:vf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:vf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:vf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:vf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vf.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:vf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function aR(e){if(!(this instanceof aR))return new aR(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=zI.toArray(e.entropy,e.entropyEnc||"hex"),r=zI.toArray(e.nonce,e.nonceEnc||"hex"),n=zI.toArray(e.pers,e.persEnc||"hex");BI(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var oR=aR;aR.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},aR.prototype._hmac=function(){return new vf.hmac(this.hash,this.K)},aR.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},aR.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=zI.toArray(e,t),r=zI.toArray(r,n),BI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},aR.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=zI.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,zI.encode(a,t)};var sR=HI.assert;function uR(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var cR=uR;uR.fromPublic=function(e,t,r){return t instanceof uR?t:new uR(e,{pub:t,pubEnc:r})},uR.fromPrivate=function(e,t,r){return t instanceof uR?t:new uR(e,{priv:t,privEnc:r})},uR.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},uR.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},uR.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},uR.prototype._importPrivate=function(e,t){this.priv=new QE(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},uR.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?sR(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||sR(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},uR.prototype.derive=function(e){return e.validate()||sR(e.validate(),"public point not validated"),e.mul(this.priv).getX()},uR.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},uR.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},uR.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var lR=HI.assert;function fR(e,t){if(e instanceof fR)return e;this._importDER(e,t)||(lR(e.r&&e.s,"Signature without r or s"),this.r=new QE(e.r,16),this.s=new QE(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var hR=fR;function dR(){this.place=0}function pR(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function vR(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function mR(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}fR.prototype._importDER=function(e,t){e=HI.toArray(e,t);var r=new dR;if(48!==e[r.place++])return!1;var n=pR(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=pR(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=pR(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new QE(a),this.s=new QE(s),this.recoveryParam=null,!0},fR.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=vR(t),r=vR(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];mR(n,t.length),(n=n.concat(t)).push(2),mR(n,r.length);var i=n.concat(r),a=[48];return mR(a,i.length),a=a.concat(i),HI.encode(a,e)};var gR=function(){throw new Error("unsupported")},yR=HI.assert;function bR(e){if(!(this instanceof bR))return new bR(e);"string"==typeof e&&(yR(Object.prototype.hasOwnProperty.call(iR,e),"Unknown curve "+e),e=iR[e]),e instanceof iR.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var wR=bR;bR.prototype.keyPair=function(e){return new cR(this,e)},bR.prototype.keyFromPrivate=function(e,t){return cR.fromPrivate(this,e,t)},bR.prototype.keyFromPublic=function(e,t){return cR.fromPublic(this,e,t)},bR.prototype.genKeyPair=function(e){e||(e={});for(var t=new oR({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||gR(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new QE(2));;){var i=new QE(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},bR.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},bR.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new QE(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),o=e.toArray("be",i),s=new oR({hash:this.hash,entropy:a,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new QE(1)),c=0;;c++){var l=n.k?n.k(c):new QE(s.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var f=this.g.mul(l);if(!f.isInfinity()){var h=f.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=l.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(f.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new hR({r:d,s:p,recoveryParam:v})}}}}}},bR.prototype.verify=function(e,t,r,n){e=this._truncateToN(new QE(e,16)),r=this.keyFromPublic(r,n);var i=(t=new hR(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,s=a.invm(this.n),u=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},bR.prototype.recoverPubKey=function(e,t,r,n){yR((3&r)===r,"The recovery param is more than two bits"),t=new hR(t,n);var i=this.n,a=new QE(e),o=t.r,s=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var l=t.r.invm(i),f=i.sub(a).mul(l).umod(i),h=s.mul(l).umod(i);return this.g.mulAdd(f,o,h)},bR.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new hR(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var _R=FI((function(e,t){var r=t;r.version="6.5.4",r.utils=HI,r.rand=function(){throw new Error("unsupported")},r.curve=nR,r.curves=iR,r.ec=wR,r.eddsa=null})),kR=_R.ec,xR=new uA("signing-key/5.7.0"),ER=null;function AR(){return ER||(ER=new kR("secp256k1")),ER}var SR=function(){function e(t){A(this,e),XA(this,"curve","secp256k1"),XA(this,"privateKey",wA(t)),32!==_A(this.privateKey)&&xR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var r=AR().keyFromPrivate(vA(this.privateKey));XA(this,"publicKey","0x"+r.getPublic(!1,"hex")),XA(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),XA(this,"_isSigningKey",!0)}return O(e,[{key:"_addPoint",value:function(e){var t=AR().keyFromPublic(vA(this.publicKey)),r=AR().keyFromPublic(vA(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var t=AR().keyFromPrivate(vA(this.privateKey)),r=vA(e);32!==r.length&&xR.throwArgumentError("bad digest length","digest",e);var n=t.sign(r,{canonical:!0});return SA({recoveryParam:n.recoveryParam,r:AA("0x"+n.r.toString(16),32),s:AA("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var t=AR().keyFromPrivate(vA(this.privateKey)),r=AR().keyFromPublic(vA(OR(e)));return AA("0x"+t.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function OR(e,t){var r=vA(e);if(32===r.length){var n=new SR(r);return t?"0x"+AR().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?wA(r):"0x"+AR().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+AR().keyFromPublic(r).getPublic(!0,"hex"):wA(r):xR.throwArgumentError("invalid public or private key","key","[REDACTED]")}var IR,RR=new uA("transactions/5.7.0");function CR(e){return"0x"===e?null:JS(e)}function NR(e){return"0x"===e?hO:MA.from(e)}function PR(e,t){return function(e){return JS(kA(LS(kA(OR(e),1)),12))}(function(e,t){var r=SA(t),n={r:vA(r.r),s:vA(r.s)};return"0x"+AR().recoverPubKey(vA(e),n,r.recoveryParam).encode("hex",!1)}(vA(e),t))}function MR(e,t){var r=gA(MA.from(e).toHexString());return r.length>32&&RR.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function jR(e,t){return{address:JS(e),storageKeys:(t||[]).map((function(t,r){return 32!==_A(t)&&RR.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(r,"]"),t),t.toLowerCase()}))}}function TR(e){if(Array.isArray(e))return e.map((function(e,t){return Array.isArray(e)?(e.length>2&&RR.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(t,"]"),e),jR(e[0],e[1])):jR(e.address,e.storageKeys)}));var t=Object.keys(e).map((function(t){var r=e[t].reduce((function(e,t){return e[t]=!0,e}),{});return jR(t,Object.keys(r).sort())}));return t.sort((function(e,t){return e.address.localeCompare(t.address)})),t}function LR(e){return TR(e).map((function(e){return[e.address,e.storageKeys]}))}function $R(e,t){if(null!=e.gasPrice){var r=MA.from(e.gasPrice),n=MA.from(e.maxFeePerGas||0);r.eq(n)||RR.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var i=[MR(e.chainId||0,"chainId"),MR(e.nonce||0,"nonce"),MR(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),MR(e.maxFeePerGas||0,"maxFeePerGas"),MR(e.gasLimit||0,"gasLimit"),null!=e.to?JS(e.to):"0x",MR(e.value||0,"value"),e.data||"0x",LR(e.accessList||[])];if(t){var a=SA(t);i.push(MR(a.recoveryParam,"recoveryParam")),i.push(gA(a.r)),i.push(gA(a.s))}return xA(["0x02",BS(i)])}function DR(e,t){var r=[MR(e.chainId||0,"chainId"),MR(e.nonce||0,"nonce"),MR(e.gasPrice||0,"gasPrice"),MR(e.gasLimit||0,"gasLimit"),null!=e.to?JS(e.to):"0x",MR(e.value||0,"value"),e.data||"0x",LR(e.accessList||[])];if(t){var n=SA(t);r.push(MR(n.recoveryParam,"recoveryParam")),r.push(gA(n.r)),r.push(gA(n.s))}return xA(["0x01",BS(r)])}function UR(e,t,r){try{var n=NR(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(a){RR.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=AA(t[1],32),e.s=AA(t[2],32);try{var i=LS(r(e));e.from=PR(i,{r:e.r,s:e.s,recoveryParam:e.v})}catch(a){}}function FR(e){var t=vA(e);if(t[0]>127)return function(e){var t=HS(e);9!==t.length&&6!==t.length&&RR.throwArgumentError("invalid raw transaction","rawTransaction",e);var r={nonce:NR(t[0]).toNumber(),gasPrice:NR(t[1]),gasLimit:NR(t[2]),to:CR(t[3]),value:NR(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=MA.from(t[6]).toNumber()}catch(o){return r}if(r.r=AA(t[7],32),r.s=AA(t[8],32),MA.from(r.r).isZero()&&MA.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(wA(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);var a=LS(BS(i));try{r.from=PR(a,{r:wA(r.r),s:wA(r.s),recoveryParam:n})}catch(o){}r.hash=LS(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){var t=HS(e.slice(1));8!==t.length&&11!==t.length&&RR.throwArgumentError("invalid component count for transaction type: 1","payload",wA(e));var r={type:1,chainId:NR(t[0]).toNumber(),nonce:NR(t[1]).toNumber(),gasPrice:NR(t[2]),gasLimit:NR(t[3]),to:CR(t[4]),value:NR(t[5]),data:t[6],accessList:TR(t[7])};return 8===t.length||(r.hash=LS(e),UR(r,t.slice(8),DR)),r}(t);case 2:return function(e){var t=HS(e.slice(1));9!==t.length&&12!==t.length&&RR.throwArgumentError("invalid component count for transaction type: 2","payload",wA(e));var r=NR(t[2]),n=NR(t[3]),i={type:2,chainId:NR(t[0]).toNumber(),nonce:NR(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:NR(t[4]),to:CR(t[5]),value:NR(t[6]),data:t[7],accessList:TR(t[8])};return 9===t.length||(i.hash=LS(e),UR(i,t.slice(9),$R)),i}(t)}return RR.throwError("unsupported transaction type: ".concat(t[0]),uA.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(IR||(IR={}));var BR=function(){function e(t){A(this,e),XA(this,"alphabet",t),XA(this,"base",t.length),XA(this,"_alphabetMap",{}),XA(this,"_leader",t.charAt(0));for(var r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}return O(e,[{key:"encode",value:function(e){var t=vA(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var i=t[n],a=0;a<r.length;++a)i+=r[a]<<8,r[a]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var o="",s=0;0===t[s]&&s<t.length-1;++s)o+=this._leader;for(var u=r.length-1;u>=0;--u)o+=this.alphabet[r[u]];return o}},{key:"decode",value:function(e){if("string"!=typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,a=0;a<t.length;++a)i+=t[a]*this.base,t[a]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(var o=0;e[o]===this._leader&&o<e.length-1;++o)t.push(0);return vA(new Uint8Array(t.reverse()))}}]),e}();new BR("abcdefghijklmnopqrstuvwxyz234567");var qR=new BR("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function zR(e){return"0x"+vf.sha256().update(vA(e)).digest("hex")}var HR=new uA("networks/5.7.1");function VR(e){var t=function(t,r){null==r&&(r={});var n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(s){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(s){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(s){}if(t.PocketProvider&&"-"!==r.pocket){try{var i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(s){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(s){}if(t.AnkrProvider&&"-"!==r.ankr)try{var a=new t.AnkrProvider(e,r.ankr);a.network&&-1===["ropsten"].indexOf(a.network.name)&&n.push(a)}catch(s){}if(0===n.length)return null;if(t.FallbackProvider){var o=1;return null!=r.quorum?o=r.quorum:"homestead"===e&&(o=2),new t.FallbackProvider(n,o)}return n[0]};return t.renetwork=function(e){return VR(e)},t}function WR(e,t){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return WR(e,t)},r}var GR={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:VR("homestead")},KR={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:VR("ropsten")},ZR={chainId:63,name:"classicMordor",_defaultProvider:WR("https://www.ethercluster.com/mordor","classicMordor")},YR={unspecified:{chainId:0,name:"unspecified"},homestead:GR,mainnet:GR,morden:{chainId:2,name:"morden"},ropsten:KR,testnet:KR,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:VR("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:VR("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:VR("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:VR("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:WR("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ZR,classicTestnet:ZR,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:WR("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:VR("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:VR("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};var JR=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function QR(e,t){return JR(this,void 0,void 0,o().mark((function r(){var n,i,a,s,u;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t={}),n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0},!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),null!=t.fetchOptions&&((i=t.fetchOptions).mode&&(n.mode=i.mode),i.cache&&(n.cache=i.cache),i.credentials&&(n.credentials=i.credentials),i.redirect&&(n.redirect=i.redirect),i.referrer&&(n.referrer=i.referrer)),r.next=6,fetch(e,n);case 6:return a=r.sent,r.next=9,a.arrayBuffer();case 9:return s=r.sent,u={},a.headers.forEach?a.headers.forEach((function(e,t){u[t.toLowerCase()]=e})):a.headers.keys().forEach((function(e){u[e.toLowerCase()]=a.headers.get(e)})),r.abrupt("return",{headers:u,statusCode:a.status,statusMessage:a.statusText,body:vA(new Uint8Array(s))});case 13:case"end":return r.stop()}}),r)})))}var XR=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},eC=new uA("web/5.7.1");function tC(e){return new Promise((function(t){setTimeout(t,e)}))}function rC(e,t){if(null==e)return null;if("string"==typeof e)return e;if(hA(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return _O(e)}catch(r){}return wA(e)}return e}function nC(e,t,r){var n=null;if(null!=t){n=wO(t);var i="string"==typeof e?{url:e}:rS(e);if(i.headers)0!==Object.keys(i.headers).filter((function(e){return"content-type"===e.toLowerCase()})).length||(i.headers=rS(i.headers),i.headers["content-type"]="application/json");else i.headers={"content-type":"application/json"};e=i}return function(e,t,r){var n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;eC.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);var i="object"==typeof e?e.throttleCallback:null,a="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;eC.assertArgument(a>0&&a%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);var s="object"==typeof e&&!!e.errorPassThrough,u={},c=null,l={method:"GET"},f=!1,h=12e4;if("string"==typeof e)c=e;else if("object"==typeof e){if(null!=e&&null!=e.url||eC.throwArgumentError("missing URL","connection.url",e),c=e.url,"number"==typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(var d in e.headers)u[d.toLowerCase()]={key:d,value:String(e.headers[d])},["if-none-match","if-modified-since"].indexOf(d.toLowerCase())>=0&&(f=!0);if(l.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==c.substring(0,6)&&!0!==e.allowInsecureAuthentication&&eC.throwError("basic authentication requires a secure https url",uA.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:e.user,password:"[REDACTED]"});var p=e.user+":"+e.password;u.authorization={key:"Authorization",value:"Basic "+PO(wO(p))}}null!=e.skipFetchSetup&&(l.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(l.fetchOptions=rS(e.fetchOptions))}var v,m=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(m):null;if(g)try{var y={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?NO(g[3]):(v=g[3],wO(v.replace(/%([0-9a-f][0-9a-f])/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))))},b=y.body;return r&&(b=r(y.body,y)),Promise.resolve(b)}catch(x){eC.throwError("processing response error",uA.errors.SERVER_ERROR,{body:rC(g[1],g[2]),error:x,requestBody:null,requestMethod:"GET",url:c})}t&&(l.method="POST",l.body=t,null==u["content-type"]&&(u["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==u["content-length"]&&(u["content-length"]={key:"Content-Length",value:String(t.length)}));var w={};Object.keys(u).forEach((function(e){var t=u[e];w[t.key]=t.value})),l.headers=w;var _=function(){var e=null;return{promise:new Promise((function(t,r){h&&(e=setTimeout((function(){null!=e&&(e=null,r(eC.makeError("timeout",uA.errors.TIMEOUT,{requestBody:rC(l.body,w["content-type"]),requestMethod:l.method,timeout:h,url:c})))}),h))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),k=function(){return XR(this,void 0,void 0,o().mark((function e(){var t,u,h,d,p,v,m,g,y,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n)){e.next=65;break}return u=null,e.prev=3,e.next=6,QR(c,l);case 6:if(u=e.sent,!(t<n)){e.next=28;break}if(301!==u.statusCode&&302!==u.statusCode){e.next=15;break}if(h=u.headers.location||"","GET"!==l.method||!h.match(/^https:/)){e.next=13;break}return c=u.headers.location,e.abrupt("continue",62);case 13:e.next=28;break;case 15:if(429!==u.statusCode){e.next=28;break}if(d=!0,!i){e.next=21;break}return e.next=20,i(t,c);case 20:d=e.sent;case 21:if(!d){e.next=28;break}return p=0,v=u.headers["retry-after"],p="string"==typeof v&&v.match(/^[1-9][0-9]*$/)?1e3*parseInt(v):a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=27,tC(p);case 27:return e.abrupt("continue",62);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(3),null==(u=e.t0.response)&&(_.cancel(),eC.throwError("missing response",uA.errors.SERVER_ERROR,{requestBody:rC(l.body,w["content-type"]),requestMethod:l.method,serverError:e.t0,url:c}));case 34:if(m=u.body,f&&304===u.statusCode?m=null:!s&&(u.statusCode<200||u.statusCode>=300)&&(_.cancel(),eC.throwError("bad response",uA.errors.SERVER_ERROR,{status:u.statusCode,headers:u.headers,body:rC(m,u.headers?u.headers["content-type"]:null),requestBody:rC(l.body,w["content-type"]),requestMethod:l.method,url:c})),!r){e.next=60;break}return e.prev=37,e.next=40,r(m,u);case 40:return g=e.sent,_.cancel(),e.abrupt("return",g);case 45:if(e.prev=45,e.t1=e.catch(37),!(e.t1.throttleRetry&&t<n)){e.next=58;break}if(y=!0,!i){e.next=53;break}return e.next=52,i(t,c);case 52:y=e.sent;case 53:if(!y){e.next=58;break}return b=a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=57,tC(b);case 57:return e.abrupt("continue",62);case 58:_.cancel(),eC.throwError("processing response error",uA.errors.SERVER_ERROR,{body:rC(m,u.headers?u.headers["content-type"]:null),error:e.t1,requestBody:rC(l.body,w["content-type"]),requestMethod:l.method,url:c});case 60:return _.cancel(),e.abrupt("return",m);case 62:t++,e.next=1;break;case 65:return e.abrupt("return",eC.throwError("failed response",uA.errors.SERVER_ERROR,{requestBody:rC(l.body,w["content-type"]),requestMethod:l.method,url:c}));case 66:case"end":return e.stop()}}),e,null,[[3,30],[37,45]])})))}();return Promise.race([_.promise,k])}(e,n,(function(e,t){var n=null;if(null!=e)try{n=JSON.parse(_O(e))}catch(i){eC.throwError("invalid JSON",uA.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n}))}function iC(e,t){return t||(t={}),null==(t=rS(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){var i=null,a=!1,o=function(){return!a&&(a=!0,i&&clearTimeout(i),!0)};t.timeout&&(i=setTimeout((function(){o()&&n(new Error("timeout"))}),t.timeout));var s=t.retryLimit,u=0;!function i(){return e().then((function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++u>s)return void(o()&&n(new Error("retry limit reached")));var c=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));c<t.floor&&(c=t.floor),c>t.ceiling&&(c=t.ceiling),setTimeout(i,c)}return null}),(function(e){o()&&n(e)}))}()}))}var aC="providers/5.7.2",oC=new uA(aC),sC=function(){function e(){A(this,e),this.formats=this.getDefaultFormats()}return O(e,[{key:"getDefaultFormats",value:function(){var t=this,r={},n=this.address.bind(this),i=this.bigNumber.bind(this),a=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),u=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this);return r.transaction={hash:s,type:l,accessList:e.allowNull(this.accessList.bind(this),null),blockHash:e.allowNull(s,null),blockNumber:e.allowNull(c,null),transactionIndex:e.allowNull(c,null),confirmations:e.allowNull(c,null),from:n,gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),gasLimit:i,to:e.allowNull(n,null),value:i,nonce:c,data:o,r:e.allowNull(this.uint256),s:e.allowNull(this.uint256),v:e.allowNull(c),creates:e.allowNull(n,null),raw:e.allowNull(o)},r.transactionRequest={from:e.allowNull(n),nonce:e.allowNull(c),gasLimit:e.allowNull(i),gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),to:e.allowNull(n),value:e.allowNull(i),data:e.allowNull((function(e){return t.data(e,!0)})),type:e.allowNull(c),accessList:e.allowNull(this.accessList.bind(this),null)},r.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:n,topics:e.arrayOf(s),data:o,logIndex:c,blockHash:s},r.receipt={to:e.allowNull(this.address,null),from:e.allowNull(this.address,null),contractAddress:e.allowNull(n,null),transactionIndex:c,root:e.allowNull(u),gasUsed:i,logsBloom:e.allowNull(o),blockHash:s,transactionHash:s,logs:e.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:e.allowNull(c,null),cumulativeGasUsed:i,effectiveGasPrice:e.allowNull(i),status:e.allowNull(c),type:l},r.block={hash:e.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:e.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:e.allowNull(n),extraData:o,transactions:e.allowNull(e.arrayOf(s)),baseFeePerGas:e.allowNull(i)},r.blockWithTransactions=rS(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:e.allowNull(a,void 0),toBlock:e.allowNull(a,void 0),blockHash:e.allowNull(s,void 0),address:e.allowNull(n,void 0),topics:e.allowNull(this.topics.bind(this),void 0)},r.filterLog={blockNumber:e.allowNull(c),blockHash:e.allowNull(s),transactionIndex:c,removed:e.allowNull(this.boolean.bind(this)),address:n,data:e.allowFalsish(o,"0x"),topics:e.arrayOf(s),transactionHash:s,logIndex:c},r}},{key:"accessList",value:function(e){return TR(e||[])}},{key:"number",value:function(e){return"0x"===e?0:MA.from(e).toNumber()}},{key:"type",value:function(e){return"0x"===e||null==e?0:MA.from(e).toNumber()}},{key:"bigNumber",value:function(e){return MA.from(e)}},{key:"boolean",value:function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}},{key:"hex",value:function(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),yA(e))?e.toLowerCase():oC.throwArgumentError("invalid hash","value",e)}},{key:"data",value:function(e,t){var r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r}},{key:"address",value:function(e){return JS(e)}},{key:"callAddress",value:function(e){if(!yA(e,32))return null;var t=JS(kA(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}},{key:"contractAddress",value:function(e){return function(e){var t=null;try{t=JS(e.from)}catch(r){VS.throwArgumentError("missing from address","transaction",e)}return JS(kA(LS(BS([t,gA(vA(MA.from(e.nonce).toHexString()))])),12))}(e)}},{key:"blockTag",value:function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||yA(e))return EA(e);throw new Error("invalid blockTag")}},{key:"hash",value:function(e,t){var r=this.hex(e,t);return 32!==_A(r)?oC.throwArgumentError("invalid hash","value",e):r}},{key:"difficulty",value:function(e){if(null==e)return null;var t=MA.from(e);try{return t.toNumber()}catch(r){}return null}},{key:"uint256",value:function(e){if(!yA(e))throw new Error("invalid uint256");return AA(e,32)}},{key:"_block",value:function(t,r){null!=t.author&&null==t.miner&&(t.miner=t.author);var n=null!=t._difficulty?t._difficulty:t.difficulty,i=e.check(r,t);return i._difficulty=null==n?null:MA.from(n),i}},{key:"block",value:function(e){return this._block(e,this.formats.block)}},{key:"blockWithTransactions",value:function(e){return this._block(e,this.formats.blockWithTransactions)}},{key:"transactionRequest",value:function(t){return e.check(this.formats.transactionRequest,t)}},{key:"transactionResponse",value:function(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&MA.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);var r=e.check(this.formats.transaction,t);if(null!=t.chainId){var n=t.chainId;yA(n)&&(n=MA.from(n).toNumber()),r.chainId=n}else{var i=t.networkId;null==i&&null==r.v&&(i=t.chainId),yA(i)&&(i=MA.from(i).toNumber()),"number"!=typeof i&&null!=r.v&&((i=(r.v-35)/2)<0&&(i=0),i=parseInt(i)),"number"!=typeof i&&(i=0),r.chainId=i}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}},{key:"transaction",value:function(e){return FR(e)}},{key:"receiptLog",value:function(t){return e.check(this.formats.receiptLog,t)}},{key:"receipt",value:function(t){var r=e.check(this.formats.receipt,t);if(null!=r.root)if(r.root.length<=4){var n=MA.from(r.root).toNumber();0===n||1===n?(null!=r.status&&r.status!==n&&oC.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):oC.throwArgumentError("invalid alt-root-status","value.root",r.root)}else 66!==r.root.length&&oC.throwArgumentError("invalid root hash","value.root",r.root);return null!=r.status&&(r.byzantium=!0),r}},{key:"topics",value:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.topics(e)})):null!=e?this.hash(e,!0):null}},{key:"filter",value:function(t){return e.check(this.formats.filter,t)}},{key:"filterLog",value:function(t){return e.check(this.formats.filterLog,t)}}],[{key:"check",value:function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(a){throw a.checkKey=n,a.checkValue=t[n],a}return r}},{key:"allowNull",value:function(e,t){return function(r){return null==r?t:e(r)}}},{key:"allowFalsish",value:function(e,t){return function(r){return r?e(r):t}}},{key:"arrayOf",value:function(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}}}]),e}(),uC=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},cC=new uA(aC);function lC(e){return null==e?"null":(32!==_A(e)&&cC.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function fC(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((function(e){if(Array.isArray(e)){var t={};e.forEach((function(e){t[lC(e)]=!0}));var r=Object.keys(t);return r.sort(),r.join("|")}return lC(e)})).join("&")}function hC(e){if("string"==typeof e){if(32===_A(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+fC(e);if(MI.isForkEvent(e))throw cC.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+fC(e.topics||[])}throw new Error("invalid event - "+e)}function dC(){return(new Date).getTime()}function pC(e){return new Promise((function(t){setTimeout(t,e)}))}var vC=["block","network","pending","poll"],mC=function(){function e(t,r,n){A(this,e),XA(this,"tag",t),XA(this,"listener",r),XA(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}return O(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=e[1],n=""===(t=e[2])?[]:t.split(/&/g).map((function(e){if(""===e)return[];var t=e.split("|").map((function(e){return"null"===e?null:e}));return 1===t.length?t[0]:t})),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}},{key:"pollable",value:function(){return this.tag.indexOf(":")>=0||vC.indexOf(this.tag)>=0}}]),e}(),gC={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function yC(e){return AA(MA.from(e).toHexString(),32)}function bC(e){return qR.encode(mA([e,kA(zR(zR(e)),0,4)]))}var wC=new RegExp("^(ipfs)://(.*)$","i"),_C=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),wC,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function kC(e,t){try{return _O(xC(e,t))}catch(r){}return null}function xC(e,t){if("0x"===e)return null;var r=MA.from(kA(e,t,t+32)).toNumber(),n=MA.from(kA(e,r,r+32)).toNumber();return kA(e,r+32,r+32+n)}function EC(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):cC.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}function AC(e){var t=vA(e);if(t.length>32)throw new Error("internal; should not happen");var r=new Uint8Array(32);return r.set(t,32-t.length),r}function SC(e){if(e.length%32==0)return e;var t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function OC(e){for(var t=[],r=0,n=0;n<e.length;n++)t.push(null),r+=32;for(var i=0;i<e.length;i++){var a=vA(e[i]);t[i]=AC(r),t.push(AC(a.length)),t.push(SC(a)),r+=32+32*Math.ceil(a.length/32)}return xA(t)}var IC=function(){function e(t,r,n,i){A(this,e),XA(this,"provider",t),XA(this,"name",n),XA(this,"address",t.formatter.address(r)),XA(this,"_resolvedAddress",i)}return O(e,[{key:"supportsWildcard",value:function(){var e=this;return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((function(e){return MA.from(e).eq(1)})).catch((function(t){if(t.code===uA.errors.CALL_EXCEPTION)return!1;throw e._supportsEip2544=null,t}))),this._supportsEip2544}},{key:"_fetch",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n,i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={to:this.address,ccipReadEnabled:!0,data:xA([e,oI(this.name),t||"0x"])},i=!1,r.next=4,this.supportsWildcard();case 4:if(!r.sent){r.next=7;break}i=!0,n.data=xA(["0x9061b923",OC([(o=this.name,wA(mA(aI(o).map((function(e){if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"),n.data])]);case 7:return r.prev=7,r.next=10,this.provider.call(n);case 10:return vA(a=r.sent).length%32==4&&cC.throwError("resolver threw error",uA.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=xC(a,0)),r.abrupt("return",a);case 16:if(r.prev=16,r.t0=r.catch(7),r.t0.code!==uA.errors.CALL_EXCEPTION){r.next=20;break}return r.abrupt("return",null);case 20:throw r.t0;case 21:case"end":return r.stop()}var o}),r,this,[[7,16]])})))}},{key:"_fetchBytes",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._fetch(e,t);case 2:if(null==(n=r.sent)){r.next=5;break}return r.abrupt("return",xC(n,0));case 5:return r.abrupt("return",null);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"_getAddress",value:function(e,t){var r=gC[String(e)];if(null==r&&cC.throwError("unsupported coin type: ".concat(e),uA.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")")}),"eth"===r.ilk)return this.provider.formatter.address(t);var n=vA(t);if(null!=r.p2pkh){var i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){var a=parseInt(i[1],16);if(i[2].length===2*a&&a>=1&&a<=75)return bC(mA([[r.p2pkh],"0x"+i[2]]))}}if(null!=r.p2sh){var o=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){var s=parseInt(o[1],16);if(o[2].length===2*s&&s>=1&&s<=75)return bC(mA([[r.p2sh],"0x"+o[2]]))}}if(null!=r.prefix){var u=n[1],c=n[0];if(0===c?20!==u&&32!==u&&(c=-1):c=-1,c>=0&&n.length===2+u&&u>=1&&u<=75){var l=ud.toWords(n.slice(2));return l.unshift(c),ud.encode(r.prefix,l)}}return null}},{key:"getAddress",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=60),60!==e){t.next=16;break}return t.prev=2,t.next=5,this._fetch("0x3b3b57de");case 5:if("0x"!==(r=t.sent)&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==r){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",this.provider.formatter.callAddress(r));case 11:if(t.prev=11,t.t0=t.catch(2),t.t0.code!==uA.errors.CALL_EXCEPTION){t.next=15;break}return t.abrupt("return",null);case 15:throw t.t0;case 16:return t.next=18,this._fetchBytes("0xf1cb7e06",yC(e));case 18:if(null!=(n=t.sent)&&"0x"!==n){t.next=21;break}return t.abrupt("return",null);case 21:return null==(i=this._getAddress(e,n))&&cC.throwError("invalid or unsupported coin data",uA.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")"),coinType:e,data:n}),t.abrupt("return",i);case 24:case"end":return t.stop()}}),t,this,[[2,11]])})))}},{key:"getAvatar",value:function(){return uC(this,void 0,void 0,o().mark((function e(){var t,r,n,i,a,s,u,c,l,f,h,d,p,v,m,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{type:"name",content:this.name}],e.prev=1,e.next=4,this.getText("avatar");case 4:if(null!=(r=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:n=0;case 8:if(!(n<_C.length)){e.next=91;break}if(null!=(i=r.match(_C[n]))){e.next=12;break}return e.abrupt("continue",88);case 12:a=i[1].toLowerCase(),e.t0=a,e.next="https"===e.t0?16:"data"===e.t0?18:"ipfs"===e.t0?20:"erc721"===e.t0||"erc1155"===e.t0?22:88;break;case 16:return t.push({type:"url",content:r}),e.abrupt("return",{linkage:t,url:r});case 18:return t.push({type:"data",content:r}),e.abrupt("return",{linkage:t,url:r});case 20:return t.push({type:"ipfs",content:r}),e.abrupt("return",{linkage:t,url:EC(r)});case 22:if(s="erc721"===a?"0xc87b56dd":"0x0e89341c",t.push({type:a,content:r}),e.t1=this._resolvedAddress,e.t1){e.next=29;break}return e.next=28,this.getAddress();case 28:e.t1=e.sent;case 29:if(u=e.t1,2===(c=(i[2]||"").split("/")).length){e.next=33;break}return e.abrupt("return",null);case 33:return e.next=35,this.provider.formatter.address(c[0]);case 35:if(l=e.sent,f=AA(MA.from(c[1]).toHexString(),32),"erc721"!==a){e.next=48;break}return e.t2=this.provider.formatter,e.next=41,this.provider.call({to:l,data:xA(["0x6352211e",f])});case 41:if(e.t3=e.sent,h=e.t2.callAddress.call(e.t2,e.t3),u===h){e.next=45;break}return e.abrupt("return",null);case 45:t.push({type:"owner",content:h}),e.next=57;break;case 48:if("erc1155"!==a){e.next=57;break}return e.t4=MA,e.next=52,this.provider.call({to:l,data:xA(["0x00fdd58e",AA(u,32),f])});case 52:if(e.t5=e.sent,!(d=e.t4.from.call(e.t4,e.t5)).isZero()){e.next=56;break}return e.abrupt("return",null);case 56:t.push({type:"balance",content:d.toString()});case 57:return p={to:this.provider.formatter.address(c[0]),data:xA([s,f])},e.t6=kC,e.next=61,this.provider.call(p);case 61:if(e.t7=e.sent,null!=(v=(0,e.t6)(e.t7,0))){e.next=65;break}return e.abrupt("return",null);case 65:return t.push({type:"metadata-url-base",content:v}),"erc1155"===a&&(v=v.replace("{id}",f.substring(2)),t.push({type:"metadata-url-expanded",content:v})),v.match(/^ipfs:/i)&&(v=EC(v)),t.push({type:"metadata-url",content:v}),e.next=71,nC(v);case 71:if(m=e.sent){e.next=74;break}return e.abrupt("return",null);case 74:if(t.push({type:"metadata",content:JSON.stringify(m)}),"string"==typeof(g=m.image)){e.next=78;break}return e.abrupt("return",null);case 78:if(!g.match(/^(https:\/\/|data:)/i)){e.next=81;break}e.next=86;break;case 81:if(null!=g.match(wC)){e.next=84;break}return e.abrupt("return",null);case 84:t.push({type:"url-ipfs",content:g}),g=EC(g);case 86:return t.push({type:"url",content:g}),e.abrupt("return",{linkage:t,url:g});case 88:n++,e.next=8;break;case 91:e.next=95;break;case 93:e.prev=93,e.t8=e.catch(1);case 95:return e.abrupt("return",null);case 96:case"end":return e.stop()}}),e,this,[[1,93]])})))}},{key:"getContentHash",value:function(){return uC(this,void 0,void 0,o().mark((function e(){var t,r,n,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchBytes("0xbc1c58d1");case 2:if(null!=(t=e.sent)&&"0x"!==t){e.next=5;break}return e.abrupt("return",null);case 5:if(!(r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=10;break}if(n=parseInt(r[3],16),r[4].length!==2*n){e.next=10;break}return e.abrupt("return","ipfs://"+qR.encode("0x"+r[1]));case 10:if(!(i=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=15;break}if(a=parseInt(i[3],16),i[4].length!==2*a){e.next=15;break}return e.abrupt("return","ipns://"+qR.encode("0x"+i[1]));case 15:if(!(s=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))){e.next=19;break}if(64!==s[1].length){e.next=19;break}return e.abrupt("return","bzz://"+s[1]);case 19:if(!(u=t.match(/^0x90b2c605([0-9a-f]*)$/))){e.next=25;break}if(68!==u[1].length){e.next=25;break}return c={"=":"","+":"-","/":"_"},l=PO("0x"+u[1]).replace(/[=+\/]/g,(function(e){return c[e]})),e.abrupt("return","sia://"+l);case 25:return e.abrupt("return",cC.throwError("invalid or unsupported content hash data",uA.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t}));case 26:case"end":return e.stop()}}),e,this)})))}},{key:"getText",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=wO(e),(r=mA([yC(64),yC(r.length),r])).length%32!=0&&(r=mA([r,AA("0x",32-e.length%32)])),t.next=5,this._fetchBytes("0x59d1d43c",wA(r));case 5:if(null!=(n=t.sent)&&"0x"!==n){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",_O(n));case 9:case"end":return t.stop()}}),t,this)})))}}]),e}(),RC=null,CC=1,NC=function(e){f(r,e);var t=h(r);function r(e){var n;if(A(this,r),(n=t.call(this))._events=[],n._emitted={block:-2},n.disableCcipRead=!1,n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),XA(d(n),"anyNetwork","any"===e),n.anyNetwork&&(e=n.detectNetwork()),e instanceof Promise)n._networkPromise=e,e.catch((function(e){})),n._ready().catch((function(e){}));else{var i=eS(this instanceof r?this.constructor:void 0,"getNetwork")(e);i?(XA(d(n),"_network",i),n.emit("network",i,null)):cC.throwArgumentError("invalid network","network",e)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._maxFilterBlockRange=10,n._pollingInterval=4e3,n._fastQueryDate=0,n}return O(r,[{key:"_ready",value:function(){return uC(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._network){e.next=17;break}if(t=null,!this._networkPromise){e.next=11;break}return e.prev=3,e.next=6,this._networkPromise;case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(null!=t){e.next=15;break}return e.next=14,this.detectNetwork();case 14:t=e.sent;case 15:t||cC.throwError("no network detected",uA.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:XA(this,"_network",t),this.emit("network",t,null));case 17:return e.abrupt("return",this._network);case 18:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"ready",get:function(){var e=this;return iC((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==uA.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"ccipReadFetch",value:function(e,t,r){return uC(this,void 0,void 0,o().mark((function n(){var i,a,s,u,c,l,f,h,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.disableCcipRead&&0!==r.length){n.next=2;break}return n.abrupt("return",null);case 2:i=e.to.toLowerCase(),a=t.toLowerCase(),s=[],u=0;case 6:if(!(u<r.length)){n.next=22;break}return c=r[u],l=c.replace("{sender}",i).replace("{data}",a),f=c.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),n.next=12,nC({url:l,errorPassThrough:!0},f,(function(e,t){return e.status=t.statusCode,e}));case 12:if(!(h=n.sent).data){n.next=15;break}return n.abrupt("return",h.data);case 15:if(d=h.message||"unknown error",!(h.status>=400&&h.status<500)){n.next=18;break}return n.abrupt("return",cC.throwError("response not found during CCIP fetch: ".concat(d),uA.errors.SERVER_ERROR,{url:c,errorMessage:d}));case 18:s.push(d);case 19:u++,n.next=6;break;case 22:return n.abrupt("return",cC.throwError("error encountered during CCIP fetch: ".concat(s.map((function(e){return JSON.stringify(e)})).join(", ")),uA.errors.SERVER_ERROR,{urls:r,errorMessages:s}));case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_getInternalBlockNumber",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n,i,a,s=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready();case 2:if(!(e>0)){t.next=20;break}case 3:if(!this._internalBlockNumber){t.next=20;break}return r=this._internalBlockNumber,t.prev=5,t.next=8,r;case 8:if(n=t.sent,!(dC()-n.respTime<=e)){t.next=11;break}return t.abrupt("return",n.blockNumber);case 11:return t.abrupt("break",20);case 14:if(t.prev=14,t.t0=t.catch(5),this._internalBlockNumber!==r){t.next=18;break}return t.abrupt("break",20);case 18:t.next=3;break;case 20:return i=dC(),a=tS({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,r=e.networkError;if(r)throw s._internalBlockNumber===a&&(s._internalBlockNumber=null),r;var n=dC();return(t=MA.from(t).toNumber())<s._maxInternalBlockNumber&&(t=s._maxInternalBlockNumber),s._maxInternalBlockNumber=t,s._setFastBlockNumber(t),{blockNumber:t,reqTime:i,respTime:n}})),this._internalBlockNumber=a,a.catch((function(e){s._internalBlockNumber===a&&(s._internalBlockNumber=null)})),t.next=26,a;case 26:return t.abrupt("return",t.sent.blockNumber);case 27:case"end":return t.stop()}}),t,this,[[5,14]])})))}},{key:"poll",value:function(){return uC(this,void 0,void 0,o().mark((function e(){var t,r,n,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=CC++,r=[],n=null,e.prev=3,e.next=6,this._getInternalBlockNumber(100+this.pollingInterval/2);case 6:n=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),this.emit("error",e.t0),e.abrupt("return");case 13:if(this._setFastBlockNumber(n),this.emit("poll",t,n),n!==this._lastBlockNumber){e.next=18;break}return this.emit("didPoll",t),e.abrupt("return");case 18:if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)cC.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(n,")")),this.emit("error",cC.makeError("network block skew detected",uA.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(i=this._emitted.block+1;i<=n;i++)this.emit("block",i);return this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((function(e){if("block"!==e){var t=a._emitted[e];"pending"!==t&&n-t>12&&delete a._emitted[e]}}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((function(e){switch(e.type){case"tx":var t=e.hash,i=a.getTransactionReceipt(t).then((function(e){return e&&null!=e.blockNumber?(a._emitted["t:"+t]=e.blockNumber,a.emit(t,e),null):null})).catch((function(e){a.emit("error",e)}));r.push(i);break;case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1);var o=e.filter;o.fromBlock=e._lastBlockNumber+1,o.toBlock=n;var s=o.toBlock-a._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);var u=a.getLogs(o).then((function(t){e._inflight=!1,0!==t.length&&t.forEach((function(t){t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),a._emitted["b:"+t.blockHash]=t.blockNumber,a._emitted["t:"+t.transactionHash]=t.blockNumber,a.emit(o,t)}))})).catch((function(t){a.emit("error",t),e._inflight=!1}));r.push(u)}}})),this._lastBlockNumber=n,Promise.all(r).then((function(){a.emit("didPoll",t)})).catch((function(e){a.emit("error",e)})),e.abrupt("return");case 26:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"resetEventsBlock",value:function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}},{key:"network",get:function(){return this._network}},{key:"detectNetwork",value:function(){return uC(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cC.throwError("provider does not support network detection",uA.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"}));case 1:case"end":return e.stop()}}),e)})))}},{key:"getNetwork",value:function(){return uC(this,void 0,void 0,o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready();case 2:return t=e.sent,e.next=5,this.detectNetwork();case 5:if(r=e.sent,t.chainId===r.chainId){e.next=23;break}if(!this.anyNetwork){e.next=20;break}return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),e.next=19,pC(0);case 19:return e.abrupt("return",this._network);case 20:throw n=cC.makeError("underlying network changed",uA.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r}),this.emit("error",n),n;case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"blockNumber",get:function(){var e=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then((function(t){e._setFastBlockNumber(t)}),(function(e){})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval((function(){t.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){t.poll(),t._bootstrapPoll=setTimeout((function(){t._poller||t.poll(),t._bootstrapPoll=null}),t.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){t.poll()}),this._pollingInterval))}},{key:"_getFastBlockNumber",value:function(){var e=this,t=dC();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber}))),this._fastBlockNumberPromise}},{key:"_setFastBlockNumber",value:function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=dC(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}},{key:"waitForTransaction",value:function(e,t,r){return uC(this,void 0,void 0,o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._waitForTransaction(e,null==t?1:t,r||0,null));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"_waitForTransaction",value:function(e,t,r,n){return uC(this,void 0,void 0,o().mark((function i(){var a,s=this;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getTransactionReceipt(e);case 2:if(!(((a=i.sent)?a.confirmations:0)>=t)){i.next=5;break}return i.abrupt("return",a);case 5:return i.abrupt("return",new Promise((function(i,a){var u=[],c=!1,l=function(){return!!c||(c=!0,u.forEach((function(e){e()})),!1)},f=function(e){e.confirmations<t||l()||i(e)};if(s.on(e,f),u.push((function(){s.removeListener(e,f)})),n){var h=n.startBlock,d=null,p=function r(i){return uC(s,void 0,void 0,o().mark((function s(){var u=this;return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!c){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,pC(1e3);case 4:this.getTransactionCount(n.from).then((function(s){return uC(u,void 0,void 0,o().mark((function u(){var f,p,v,m,g,y;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!c){o.next=2;break}return o.abrupt("return");case 2:if(!(s<=n.nonce)){o.next=6;break}h=i,o.next=41;break;case 6:return o.next=8,this.getTransaction(e);case 8:if(!(f=o.sent)||null==f.blockNumber){o.next=11;break}return o.abrupt("return");case 11:null==d&&(d=h-3)<n.startBlock&&(d=n.startBlock);case 12:if(!(d<=i)){o.next=41;break}if(!c){o.next=15;break}return o.abrupt("return");case 15:return o.next=17,this.getBlockWithTransactions(d);case 17:p=o.sent,v=0;case 19:if(!(v<p.transactions.length)){o.next=38;break}if((m=p.transactions[v]).hash!==e){o.next=23;break}return o.abrupt("return");case 23:if(m.from!==n.from||m.nonce!==n.nonce){o.next=35;break}if(!c){o.next=26;break}return o.abrupt("return");case 26:return o.next=28,this.waitForTransaction(m.hash,t);case 28:if(g=o.sent,!l()){o.next=31;break}return o.abrupt("return");case 31:return y="replaced",m.data===n.data&&m.to===n.to&&m.value.eq(n.value)?y="repriced":"0x"===m.data&&m.from===m.to&&m.value.isZero()&&(y="cancelled"),a(cC.makeError("transaction was replaced",uA.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===y||"cancelled"===y,reason:y,replacement:this._wrapTransaction(m),hash:e,receipt:g})),o.abrupt("return");case 35:v++,o.next=19;break;case 38:d++,o.next=12;break;case 41:if(!c){o.next=43;break}return o.abrupt("return");case 43:this.once("block",r);case 44:case"end":return o.stop()}}),u,this)})))}),(function(e){c||u.once("block",r)}));case 5:case"end":return s.stop()}}),s,this)})))};if(c)return;s.once("block",p),u.push((function(){s.removeListener("block",p)}))}if("number"==typeof r&&r>0){var v=setTimeout((function(){l()||a(cC.makeError("timeout exceeded",uA.errors.TIMEOUT,{timeout:r}))}),r);v.unref&&v.unref(),u.push((function(){clearTimeout(v)}))}})));case 6:case"end":return i.stop()}}),i,this)})))}},{key:"getBlockNumber",value:function(){return uC(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getInternalBlockNumber(0));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return uC(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,this.perform("getGasPrice",{});case 4:return t=e.sent,e.prev=5,e.abrupt("return",MA.from(t));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",cC.throwError("bad result from backend",uA.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})))}},{key:"getBalance",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,tS({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getBalance",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",MA.from(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",cC.throwError("bad result from backend",uA.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getTransactionCount",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,tS({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getTransactionCount",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",MA.from(i).toNumber());case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",cC.throwError("bad result from backend",uA.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getCode",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,tS({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getCode",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",wA(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",cC.throwError("bad result from backend",uA.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getStorageAt",value:function(e,t,r){return uC(this,void 0,void 0,o().mark((function n(){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getNetwork();case 2:return n.next=4,tS({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((function(e){return EA(e)}))});case 4:return i=n.sent,n.next=7,this.perform("getStorageAt",i);case 7:return a=n.sent,n.prev=8,n.abrupt("return",wA(a));case 12:return n.prev=12,n.t0=n.catch(8),n.abrupt("return",cC.throwError("bad result from backend",uA.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:n.t0}));case 15:case"end":return n.stop()}}),n,this,[[8,12]])})))}},{key:"_wrapTransaction",value:function(e,t,r){var n=this;if(null!=t&&32!==_A(t))throw new Error("invalid response - sendTransaction");var i=e;return null!=t&&e.hash!==t&&cC.throwError("Transaction hash mismatch from Provider.sendTransaction.",uA.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=function(t,i){return uC(n,void 0,void 0,o().mark((function n(){var a,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==t&&(t=1),null==i&&(i=0),a=void 0,0!==t&&null!=r&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}),n.next=6,this._waitForTransaction(e.hash,t,i,a);case 6:if(null!=(s=n.sent)||0!==t){n.next=9;break}return n.abrupt("return",null);case 9:return this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&cC.throwError("transaction failed",uA.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),n.abrupt("return",s);case 12:case"end":return n.stop()}}),n,this)})))},i}},{key:"sendTransaction",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Promise.resolve(e).then((function(e){return wA(e)}));case 4:return r=t.sent,null==(n=this.formatter.transaction(e)).confirmations&&(n.confirmations=0),t.next=9,this._getInternalBlockNumber(100+2*this.pollingInterval);case 9:return i=t.sent,t.prev=10,t.next=13,this.perform("sendTransaction",{signedTransaction:r});case 13:return a=t.sent,t.abrupt("return",this._wrapTransaction(n,a,i));case 17:throw t.prev=17,t.t0=t.catch(10),t.t0.transaction=n,t.t0.transactionHash=n.hash,t.t0;case 22:case"end":return t.stop()}}),t,this,[[10,17]])})))}},{key:"_getTransactionRequest",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return r=t.sent,n={},["from","to"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?i._getAddress(e):null})))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?MA.from(e):null})))})),["type"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return null!=e?e:null})))})),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?wA(e):null})))})),t.t0=this.formatter,t.next=12,tS(n);case 12:return t.t1=t.sent,t.abrupt("return",t.t0.transactionRequest.call(t.t0,t.t1));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"_getFilter",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,r={},null!=e.address&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach((function(t){null!=e[t]&&(r[t]=e[t])})),["fromBlock","toBlock"].forEach((function(t){null!=e[t]&&(r[t]=n._getBlockTag(e[t]))})),t.t0=this.formatter,t.next=10,tS(r);case 10:return t.t1=t.sent,t.abrupt("return",t.t0.filter.call(t.t0,t.t1));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_call",value:function(e,t,r){return uC(this,void 0,void 0,o().mark((function n(){var i,a,s,u,c,l,f,h,d,p,v,m,g,y,b;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r>=10&&cC.throwError("CCIP read exceeded maximum redirections",uA.errors.SERVER_ERROR,{redirects:r,transaction:e}),i=e.to,n.next=4,this.perform("call",{transaction:e,blockTag:t});case 4:if(a=n.sent,!(r>=0&&"latest"===t&&null!=i&&"0x556f1830"===a.substring(0,10)&&_A(a)%32==4)){n.next=31;break}for(n.prev=6,s=kA(a,4),u=kA(s,0,32),MA.from(u).eq(i)||cC.throwError("CCIP Read sender did not match",uA.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),c=[],l=MA.from(kA(s,32,64)).toNumber(),f=MA.from(kA(s,l,l+32)).toNumber(),h=kA(s,l+32),d=0;d<f;d++)null==(p=kC(h,32*d))&&cC.throwError("CCIP Read contained corrupt URL string",uA.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),c.push(p);return v=xC(s,64),MA.from(kA(s,100,128)).isZero()||cC.throwError("CCIP Read callback selector included junk",uA.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),m=kA(s,96,100),g=xC(s,128),n.next=21,this.ccipReadFetch(e,v,c);case 21:return null==(y=n.sent)&&cC.throwError("CCIP Read disabled or provided no URLs",uA.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),b={to:i,data:xA([m,OC([y,g])])},n.abrupt("return",this._call(b,t,r+1));case 27:if(n.prev=27,n.t0=n.catch(6),n.t0.code!==uA.errors.SERVER_ERROR){n.next=31;break}throw n.t0;case 31:return n.prev=31,n.abrupt("return",wA(a));case 35:return n.prev=35,n.t1=n.catch(31),n.abrupt("return",cC.throwError("bad result from backend",uA.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:a,error:n.t1}));case 38:case"end":return n.stop()}}),n,this,[[6,27],[31,35]])})))}},{key:"call",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,tS({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});case 4:return n=r.sent,r.abrupt("return",this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1));case 6:case"end":return r.stop()}}),r,this)})))}},{key:"estimateGas",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,tS({transaction:this._getTransactionRequest(e)});case 4:return r=t.sent,t.next=7,this.perform("estimateGas",r);case 7:return n=t.sent,t.prev=8,t.abrupt("return",MA.from(n));case 12:return t.prev=12,t.t0=t.catch(8),t.abrupt("return",cC.throwError("bad result from backend",uA.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:t.t0}));case 15:case"end":return t.stop()}}),t,this,[[8,12]])})))}},{key:"_getAddress",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return"string"!=typeof(e=t.sent)&&cC.throwArgumentError("invalid address or ENS name","name",e),t.next=6,this.resolveName(e);case 6:return null==(r=t.sent)&&cC.throwError("ENS name not configured",uA.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(e),")")}),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"_getBlock",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n,i,a=this;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,e;case 4:if(e=r.sent,n=-128,i={includeTransactions:!!t},!yA(e,32)){r.next=11;break}i.blockHash=e,r.next=21;break;case 11:return r.prev=11,r.next=14,this._getBlockTag(e);case 14:i.blockTag=r.sent,yA(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16)),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),cC.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e);case 21:return r.abrupt("return",iC((function(){return uC(a,void 0,void 0,o().mark((function e(){var r,a,s,u,c,l,f=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getBlock",i);case 2:if(null!=(r=e.sent)){e.next=11;break}if(null==i.blockHash){e.next=7;break}if(null!=this._emitted["b:"+i.blockHash]){e.next=7;break}return e.abrupt("return",null);case 7:if(null==i.blockTag){e.next=10;break}if(!(n>this._emitted.block)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",void 0);case 11:if(!t){e.next=34;break}a=null,s=0;case 14:if(!(s<r.transactions.length)){e.next=31;break}if(null!=(u=r.transactions[s]).blockNumber){e.next=20;break}u.confirmations=0,e.next=28;break;case 20:if(null!=u.confirmations){e.next=28;break}if(null!=a){e.next=25;break}return e.next=24,this._getInternalBlockNumber(100+2*this.pollingInterval);case 24:a=e.sent;case 25:(c=a-u.blockNumber+1)<=0&&(c=1),u.confirmations=c;case 28:s++,e.next=14;break;case 31:return(l=this.formatter.blockWithTransactions(r)).transactions=l.transactions.map((function(e){return f._wrapTransaction(e)})),e.abrupt("return",l);case 34:return e.abrupt("return",this.formatter.block(r));case 35:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this}));case 22:case"end":return r.stop()}}),r,this,[[11,18]])})))}},{key:"getBlock",value:function(e){return this._getBlock(e,!1)}},{key:"getBlockWithTransactions",value:function(e){return this._getBlock(e,!0)}},{key:"getTransaction",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",iC((function(){return uC(n,void 0,void 0,o().mark((function t(){var n,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransaction",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=(i=this.formatter.transactionResponse(n)).blockNumber){t.next=12;break}i.confirmations=0,t.next=19;break;case 12:if(null!=i.confirmations){t.next=19;break}return t.next=15,this._getInternalBlockNumber(100+2*this.pollingInterval);case 15:a=t.sent,(s=a-i.blockNumber+1)<=0&&(s=1),i.confirmations=s;case 19:return t.abrupt("return",this._wrapTransaction(i));case 20:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionReceipt",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",iC((function(){return uC(n,void 0,void 0,o().mark((function t(){var n,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransactionReceipt",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=n.blockHash){t.next=9;break}return t.abrupt("return",void 0);case 9:if(null!=(i=this.formatter.receipt(n)).blockNumber){t.next=14;break}i.confirmations=0,t.next=21;break;case 14:if(null!=i.confirmations){t.next=21;break}return t.next=17,this._getInternalBlockNumber(100+2*this.pollingInterval);case 17:a=t.sent,(s=a-i.blockNumber+1)<=0&&(s=1),i.confirmations=s;case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getLogs",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,tS({filter:this._getFilter(e)});case 4:return r=t.sent,t.next=7,this.perform("getLogs",r);case 7:return(n=t.sent).forEach((function(e){null==e.removed&&(e.removed=!1)})),t.abrupt("return",sC.arrayOf(this.formatter.filterLog.bind(this.formatter))(n));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getEtherPrice",value:function(){return uC(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.abrupt("return",this.perform("getEtherPrice",{}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_getBlockTag",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!("number"==typeof(e=t.sent)&&e<0)){t.next=11;break}return e%1&&cC.throwArgumentError("invalid BlockTag","blockTag",e),t.next=7,this._getInternalBlockNumber(100+2*this.pollingInterval);case 7:return r=t.sent,(r+=e)<0&&(r=0),t.abrupt("return",this.formatter.blockTag(r));case 11:return t.abrupt("return",this.formatter.blockTag(e));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"getResolver",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e;case 1:if(""!==r&&"."!==r){t.next=4;break}return t.abrupt("return",null);case 4:if("eth"===e||"eth"!==r){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,this._getResolver(r,"getResolver");case 8:if(null==(n=t.sent)){t.next=19;break}if(i=new IC(this,n,e),t.t0=r!==e,!t.t0){t.next=16;break}return t.next=15,i.supportsWildcard();case 15:t.t0=!t.sent;case 16:if(!t.t0){t.next=18;break}return t.abrupt("return",null);case 18:return t.abrupt("return",i);case 19:r=r.split(".").slice(1).join("."),t.next=1;break;case 22:case"end":return t.stop()}}),t,this)})))}},{key:"_getResolver",value:function(e,t){return uC(this,void 0,void 0,o().mark((function r(){var n,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t="ENS"),r.next=3,this.getNetwork();case 3:return(n=r.sent).ensAddress||cC.throwError("network does not support ENS",uA.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name}),r.prev=5,r.next=8,this.call({to:n.ensAddress,data:"0x0178b8bf"+oI(e).substring(2)});case 8:return i=r.sent,r.abrupt("return",this.formatter.callAddress(i));case 12:r.prev=12,r.t0=r.catch(5);case 14:return r.abrupt("return",null);case 15:case"end":return r.stop()}}),r,this,[[5,12]])})))}},{key:"resolveName",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,t.prev=3,t.abrupt("return",Promise.resolve(this.formatter.address(e)));case 7:if(t.prev=7,t.t0=t.catch(3),!yA(e)){t.next=11;break}throw t.t0;case 11:return"string"!=typeof e&&cC.throwArgumentError("invalid ENS name","name",e),t.next=14,this.getResolver(e);case 14:if(r=t.sent){t.next=17;break}return t.abrupt("return",null);case 17:return t.next=19,r.getAddress();case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,this,[[3,7]])})))}},{key:"lookupAddress",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,e=this.formatter.address(e),r=e.substring(2).toLowerCase()+".addr.reverse",t.next=7,this._getResolver(r,"lookupAddress");case 7:if(null!=(n=t.sent)){t.next=10;break}return t.abrupt("return",null);case 10:return t.t0=kC,t.next=13,this.call({to:n,data:"0x691f3431"+oI(r).substring(2)});case 13:return t.t1=t.sent,i=(0,t.t0)(t.t1,0),t.next=17,this.resolveName(i);case 17:if(t.sent==e){t.next=20;break}return t.abrupt("return",null);case 20:return t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})))}},{key:"getAvatar",value:function(e){return uC(this,void 0,void 0,o().mark((function t(){var r,n,i,a,s,u,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null,!yA(e)){t.next=40;break}return n=this.formatter.address(e),i=n.substring(2).toLowerCase()+".addr.reverse",t.next=6,this._getResolver(i,"getAvatar");case 6:if(a=t.sent){t.next=9;break}return t.abrupt("return",null);case 9:return r=new IC(this,a,i),t.prev=10,t.next=13,r.getAvatar();case 13:if(!(s=t.sent)){t.next=16;break}return t.abrupt("return",s.url);case 16:t.next=22;break;case 18:if(t.prev=18,t.t0=t.catch(10),t.t0.code===uA.errors.CALL_EXCEPTION){t.next=22;break}throw t.t0;case 22:return t.prev=22,t.t1=kC,t.next=26,this.call({to:a,data:"0x691f3431"+oI(i).substring(2)});case 26:return t.t2=t.sent,u=(0,t.t1)(t.t2,0),t.next=30,this.getResolver(u);case 30:r=t.sent,t.next=38;break;case 33:if(t.prev=33,t.t3=t.catch(22),t.t3.code===uA.errors.CALL_EXCEPTION){t.next=37;break}throw t.t3;case 37:return t.abrupt("return",null);case 38:t.next=45;break;case 40:return t.next=42,this.getResolver(e);case 42:if(r=t.sent){t.next=45;break}return t.abrupt("return",null);case 45:return t.next=47,r.getAvatar();case 47:if(null!=(c=t.sent)){t.next=50;break}return t.abrupt("return",null);case 50:return t.abrupt("return",c.url);case 51:case"end":return t.stop()}}),t,this,[[10,18],[22,33]])})))}},{key:"perform",value:function(e,t){return cC.throwError(e+" not implemented",uA.errors.NOT_IMPLEMENTED,{operation:e})}},{key:"_startEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_stopEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_addEventListener",value:function(e,t,r){var n=new mC(hC(e),t,r);return this._events.push(n),this._startEvent(n),this}},{key:"on",value:function(e,t){return this._addEventListener(e,t,!1)}},{key:"once",value:function(e,t){return this._addEventListener(e,t,!0)}},{key:"emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=!1,o=[],s=hC(e);return this._events=this._events.filter((function(e){return e.tag!==s||(setTimeout((function(){e.listener.apply(t,n)}),0),a=!0,!e.once||(o.push(e),!1))})),o.forEach((function(e){t._stopEvent(e)})),a}},{key:"listenerCount",value:function(e){if(!e)return this._events.length;var t=hC(e);return this._events.filter((function(e){return e.tag===t})).length}},{key:"listeners",value:function(e){if(null==e)return this._events.map((function(e){return e.listener}));var t=hC(e);return this._events.filter((function(e){return e.tag===t})).map((function(e){return e.listener}))}},{key:"off",value:function(e,t){var r=this;if(null==t)return this.removeAllListeners(e);var n=[],i=!1,a=hC(e);return this._events=this._events.filter((function(e){return e.tag!==a||e.listener!=t||(!!i||(i=!0,n.push(e),!1))})),n.forEach((function(e){r._stopEvent(e)})),this}},{key:"removeAllListeners",value:function(e){var t=this,r=[];if(null==e)r=this._events,this._events=[];else{var n=hC(e);this._events=this._events.filter((function(e){return e.tag!==n||(r.push(e),!1)}))}return r.forEach((function(e){t._stopEvent(e)})),this}}],[{key:"getFormatter",value:function(){return null==RC&&(RC=new sC),RC}},{key:"getNetwork",value:function(e){return function(e){if(null==e)return null;if("number"==typeof e){for(var t in YR){var r=YR[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){var n=YR[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}var i=YR[e.name];if(!i)return"number"!=typeof e.chainId&&HR.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==i.chainId&&HR.throwArgumentError("network chainId mismatch","network",e);var a,o=e._defaultProvider||null;return null==o&&i._defaultProvider&&(o=(a=i._defaultProvider)&&"function"==typeof a.renetwork?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,ensAddress:e.ensAddress||i.ensAddress||null,_defaultProvider:o}}(null==e?"homestead":e)}}]),r}(jI),PC=globalThis&&globalThis.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},MC=new uA(aC),jC=["call","estimateGas"];function TC(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){var r=yA(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(var n in e){var i=TC(e[n],t);if(i)return i}return null}if("string"==typeof e)try{return TC(JSON.parse(e),t)}catch(a){}return null}function LC(e,t,r){var n=r.transaction||r.signedTransaction;if("call"===e){var i=TC(t,!0);if(i)return i.data;MC.throwError("missing revert data in call exception; Transaction reverted without a reason string",uA.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){var a=TC(t.body,!1);null==a&&(a=TC(t,!1)),a&&MC.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",uA.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:e,transaction:n,error:t})}var o=t.message;throw t.code===uA.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText),(o=(o||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&MC.throwError("insufficient funds for intrinsic transaction cost",uA.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),o.match(/nonce (is )?too low/i)&&MC.throwError("nonce has already been used",uA.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&MC.throwError("replacement fee too low",uA.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),o.match(/only replay-protected/i)&&MC.throwError("legacy pre-eip-155 transactions not supported",uA.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),jC.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&MC.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",uA.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function $C(e){return new Promise((function(t){setTimeout(t,e)}))}function DC(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function UC(e){return e?e.toLowerCase():e}var FC={},BC=function(e){f(r,e);var t=h(r);function r(e,n,i){var a;if(A(this,r),a=t.call(this),e!==FC)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return XA(d(a),"provider",n),null==i&&(i=0),"string"==typeof i?(XA(d(a),"_address",a.provider.formatter.address(i)),XA(d(a),"_index",null)):"number"==typeof i?(XA(d(a),"_index",i),XA(d(a),"_address",null)):MC.throwArgumentError("invalid address or index","addressOrIndex",i),a}return O(r,[{key:"connect",value:function(e){return MC.throwError("cannot alter JSON-RPC Signer connection",uA.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}},{key:"connectUnchecked",value:function(){return new qC(FC,this.provider,this._address||this._index)}},{key:"getAddress",value:function(){var e=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(t){return t.length<=e._index&&MC.throwError("unknown account #"+e._index,uA.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])}))}},{key:"sendUncheckedTransaction",value:function(e){var t=this;e=rS(e);var r=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));if(null==e.gasLimit){var n=rS(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((function(e){return PC(t,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.provider.resolveName(e);case 4:return null==(r=t.sent)&&MC.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}))),tS({tx:tS(e),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&MC.throwArgumentError("from address mismatch","transaction",e):n.from=i;var a=t.provider.constructor.hexlifyTransaction(n,{from:!0});return t.provider.send("eth_sendTransaction",[a]).then((function(e){return e}),(function(e){return"string"==typeof e.message&&e.message.match(/user denied/i)&&MC.throwError("user rejected transaction",uA.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),LC("sendTransaction",e,a)}))}))}},{key:"signTransaction",value:function(e){return MC.throwError("signing transactions is unsupported",uA.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}},{key:"sendTransaction",value:function(e){return PC(this,void 0,void 0,o().mark((function t(){var r,n,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);case 2:return r=t.sent,t.next=5,this.sendUncheckedTransaction(e);case 5:return n=t.sent,t.prev=6,t.next=9,iC((function(){return PC(i,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransaction(n);case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",this.provider._wrapTransaction(t,n,r));case 6:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this.provider});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(6),t.t0.transactionHash=n,t.t0;case 16:case"end":return t.stop()}}),t,this,[[6,12]])})))}},{key:"signMessage",value:function(e){return PC(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"==typeof e?wO(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.prev=4,t.next=7,this.provider.send("personal_sign",[wA(r),n.toLowerCase()]);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),"string"==typeof t.t0.message&&t.t0.message.match(/user denied/i)&&MC.throwError("user rejected signing",uA.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"_legacySignMessage",value:function(e){return PC(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"==typeof e?wO(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.prev=4,t.next=7,this.provider.send("eth_sign",[n.toLowerCase(),wA(r)]);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),"string"==typeof t.t0.message&&t.t0.message.match(/user denied/i)&&MC.throwError("user rejected signing",uA.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"_signTypedData",value:function(e,t,r){return PC(this,void 0,void 0,o().mark((function n(){var i,a,s=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,kI.resolveNames(e,t,r,(function(e){return s.provider.resolveName(e)}));case 2:return i=n.sent,n.next=5,this.getAddress();case 5:return a=n.sent,n.prev=6,n.next=9,this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(kI.getPayload(i.domain,t,i.value))]);case 9:return n.abrupt("return",n.sent);case 12:throw n.prev=12,n.t0=n.catch(6),"string"==typeof n.t0.message&&n.t0.message.match(/user denied/i)&&MC.throwError("user rejected signing",uA.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:t,value:i.value}}),n.t0;case 16:case"end":return n.stop()}}),n,this,[[6,12]])})))}},{key:"unlock",value:function(e){return PC(this,void 0,void 0,o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.provider,t.next=3,this.getAddress();case 3:return n=t.sent,t.abrupt("return",r.send("personal_unlockAccount",[n.toLowerCase(),e,null]));case 5:case"end":return t.stop()}}),t,this)})))}}]),r}(UI),qC=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"sendTransaction",value:function(e){var t=this;return this.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return t.provider.waitForTransaction(e,r)}}}))}}]),r}(BC),zC={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},HC=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r);var a=n;return null==a&&(a=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then((function(t){e(t)}),(function(e){t(e)}))}),0)}))),i=t.call(this,a),e||(e=eS(i.constructor,"defaultUrl")()),XA(d(i),"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(rS(e))),i._nextId=42,i}return O(r,[{key:"_cache",get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}},{key:"detectNetwork",value:function(){var e=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((function(){e._cache.detectNetwork=null}),0)),this._cache.detectNetwork}},{key:"_uncachedDetectNetwork",value:function(){return PC(this,void 0,void 0,o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$C(0);case 2:return t=null,e.prev=3,e.next=6,this.send("eth_chainId",[]);case 6:t=e.sent,e.next=19;break;case 9:return e.prev=9,e.t0=e.catch(3),e.prev=11,e.next=14,this.send("net_version",[]);case 14:t=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:if(null==t){e.next=28;break}return r=eS(this.constructor,"getNetwork"),e.prev=21,e.abrupt("return",r(MA.from(t).toNumber()));case 25:return e.prev=25,e.t2=e.catch(21),e.abrupt("return",MC.throwError("could not detect network",uA.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e.t2}));case 28:return e.abrupt("return",MC.throwError("could not detect network",uA.errors.NETWORK_ERROR,{event:"noNetwork"}));case 29:case"end":return e.stop()}}),e,this,[[3,9],[11,17],[21,25]])})))}},{key:"getSigner",value:function(e){return new BC(FC,this,e)}},{key:"getUncheckedSigner",value:function(e){return this.getSigner(e).connectUnchecked()}},{key:"listAccounts",value:function(){var e=this;return this.send("eth_accounts",[]).then((function(t){return t.map((function(t){return e.formatter.address(t)}))}))}},{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:oS(n),provider:this});var i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];var a=nC(this.connection,JSON.stringify(n),DC).then((function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e}),(function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e}));return i&&(this._cache[e]=a,setTimeout((function(){r._cache[e]=null}),0)),a}},{key:"prepareRequest",value:function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[UC(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[UC(t.address),t.blockTag]];case"getCode":return["eth_getCode",[UC(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[UC(t.address),AA(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[eS(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[eS(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=UC(t.filter.address)),["eth_getLogs",[t.filter]]}return null}},{key:"perform",value:function(e,t){return PC(this,void 0,void 0,o().mark((function r(){var n,i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("call"!==e&&"estimateGas"!==e){r.next=8;break}if(!(n=t.transaction)||null==n.type||!MA.from(n.type).isZero()){r.next=8;break}if(null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas){r.next=8;break}return r.next=6,this.getFeeData();case 6:null==(i=r.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&((t=rS(t)).transaction=rS(n),delete t.transaction.type);case 8:return null==(a=this.prepareRequest(e,t))&&MC.throwError(e+" not implemented",uA.errors.NOT_IMPLEMENTED,{operation:e}),r.prev=10,r.next=13,this.send(a[0],a[1]);case 13:return r.abrupt("return",r.sent);case 16:return r.prev=16,r.t0=r.catch(10),r.abrupt("return",LC(e,r.t0,t));case 19:case"end":return r.stop()}}),r,this,[[10,16]])})))}},{key:"_startEvent",value:function(e){"pending"===e.tag&&this._startPending(),a(y(r.prototype),"_startEvent",this).call(this,e)}},{key:"_startPending",value:function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return $C(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((function(e){}))}(),r})).catch((function(e){}))}}},{key:"_stopEvent",value:function(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),a(y(r.prototype),"_stopEvent",this).call(this,e)}}],[{key:"defaultUrl",value:function(){return"http://localhost:8545"}},{key:"hexlifyTransaction",value:function(e,t){var r,n,i=rS(zC);if(t)for(var a in t)t[a]&&(i[a]=!0);n=i,(r=e)&&"object"==typeof r||QA.throwArgumentError("invalid object","object",r),Object.keys(r).forEach((function(e){n[e]||QA.throwArgumentError("invalid object key - "+e,"transaction:"+e,r)}));var o={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null!=e[t]){var r=EA(MA.from(e[t]));"gasLimit"===t&&(t="gas"),o[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(o[t]=wA(e[t]))})),e.accessList&&(o.accessList=TR(e.accessList)),o}}]),r}(NC),VC=new uA(aC),WC=1;function GC(e,t){var r="Web3LegacyFetcher";return function(e,n){var i=this,a={method:e,params:n,id:WC++,jsonrpc:"2.0"};return new Promise((function(e,n){i.emit("debug",{action:"request",fetcher:r,request:oS(a),provider:i}),t(a,(function(t,o){if(t)return i.emit("debug",{action:"response",fetcher:r,error:t,request:a,provider:i}),n(t);if(i.emit("debug",{action:"response",fetcher:r,request:a,response:o,provider:i}),o.error){var s=new Error(o.error.message);return s.code=o.error.code,s.data=o.error.data,n(s)}e(o.result)}))}))}}var KC=function(e){f(r,e);var t=h(r);function r(e,n){var i;A(this,r),null==e&&VC.throwArgumentError("missing provider","provider",e);var a=null,o=null,s=null;return"function"==typeof e?(a="unknown:",o=e):(!(a=e.host||e.path||"")&&e.isMetaMask&&(a="metamask"),s=e,e.request?(""===a&&(a="eip-1193:"),o=function(e){return function(t,r){var n=this;null==r&&(r=[]);var i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:oS(i),provider:this}),e.request(i).then((function(e){return n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:n}),e}),(function(e){throw n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:n}),e}))}}(e)):e.sendAsync?o=GC(0,e.sendAsync.bind(e)):e.send?o=GC(0,e.send.bind(e)):VC.throwArgumentError("unsupported provider","provider",e),a||(a="unknown:")),XA(d(i=t.call(this,a,n)),"jsonRpcFetchFunc",o),XA(d(i),"provider",s),i}return O(r,[{key:"send",value:function(e,t){return this.jsonRpcFetchFunc(e,t)}}]),r}(HC),ZC=new uA("units/5.7.0"),YC=["wei","kwei","mwei","gwei","szabo","finney","ether"];function JC(e,t){if("string"!=typeof e&&ZC.throwArgumentError("value must be a string","value",e),"string"==typeof t){var r=YC.indexOf(t);-1!==r&&(t=3*r)}return WA(e,null!=t?t:18)}var QC,XC={exports:{}},eN="object"==typeof Reflect?Reflect:null,tN=eN&&"function"==typeof eN.apply?eN.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};QC=eN&&"function"==typeof eN.ownKeys?eN.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var rN=Number.isNaN||function(e){return e!=e};function nN(){nN.init.call(this)}XC.exports=nN,XC.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}dN(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&dN(e,"error",t,r)}(e,i,{once:!0})}))},nN.EventEmitter=nN,nN.prototype._events=void 0,nN.prototype._eventsCount=0,nN.prototype._maxListeners=void 0;var iN=10;function aN(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function oN(e){return void 0===e._maxListeners?nN.defaultMaxListeners:e._maxListeners}function sN(e,t,r,n){var i,a,o,s;if(aN(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=oN(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function uN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cN(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=uN.bind(n);return i.listener=r,n.wrapFn=i,i}function lN(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):hN(i,i.length)}function fN(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function hN(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function dN(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){n.once&&e.removeEventListener(t,i),r(a)}))}}Object.defineProperty(nN,"defaultMaxListeners",{enumerable:!0,get:function(){return iN},set:function(e){if("number"!=typeof e||e<0||rN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");iN=e}}),nN.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},nN.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||rN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},nN.prototype.getMaxListeners=function(){return oN(this)},nN.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)tN(s,this,t);else{var u=s.length,c=hN(s,u);for(r=0;r<u;++r)tN(c[r],this,t)}return!0},nN.prototype.addListener=function(e,t){return sN(this,e,t,!1)},nN.prototype.on=nN.prototype.addListener,nN.prototype.prependListener=function(e,t){return sN(this,e,t,!0)},nN.prototype.once=function(e,t){return aN(t),this.on(e,cN(this,e,t)),this},nN.prototype.prependOnceListener=function(e,t){return aN(t),this.prependListener(e,cN(this,e,t)),this},nN.prototype.removeListener=function(e,t){var r,n,i,a,o;if(aN(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},nN.prototype.off=nN.prototype.removeListener,nN.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},nN.prototype.listeners=function(e){return lN(this,e,!0)},nN.prototype.rawListeners=function(e){return lN(this,e,!1)},nN.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):fN.call(e,t)},nN.prototype.listenerCount=fN,nN.prototype.eventNames=function(){return this._eventsCount>0?QC(this._events):[]};var pN=XC.exports,vN=g(pN),mN={},gN={},yN={},bN={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},e.add=function(e,t){return e+t|0},e.sub=function(e,t){return e-t|0},e.rotl=function(e,t){return e<<t|e>>>32-t},e.rotr=function(e,t){return e<<32-t|e>>>t},e.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}}(bN),Object.defineProperty(yN,"__esModule",{value:!0});var wN=bN;function _N(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function kN(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function xN(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function EN(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function AN(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function SN(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function ON(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function IN(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function RN(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),ON(e/4294967296>>>0,t,r),ON(e>>>0,t,r+4),t}function CN(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),IN(e>>>0,t,r),IN(e/4294967296>>>0,t,r+4),t}yN.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},yN.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},yN.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},yN.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},yN.writeUint16BE=_N,yN.writeInt16BE=_N,yN.writeUint16LE=kN,yN.writeInt16LE=kN,yN.readInt32BE=xN,yN.readUint32BE=EN,yN.readInt32LE=AN,yN.readUint32LE=SN,yN.writeUint32BE=ON,yN.writeInt32BE=ON,yN.writeUint32LE=IN,yN.writeInt32LE=IN,yN.readInt64BE=function(e,t){void 0===t&&(t=0);var r=xN(e,t),n=xN(e,t+4);return 4294967296*r+n-4294967296*(n>>31)},yN.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*EN(e,t)+EN(e,t+4)},yN.readInt64LE=function(e,t){void 0===t&&(t=0);var r=AN(e,t);return 4294967296*AN(e,t+4)+r-4294967296*(r>>31)},yN.readUint64LE=function(e,t){void 0===t&&(t=0);var r=SN(e,t);return 4294967296*SN(e,t+4)+r},yN.writeUint64BE=RN,yN.writeInt64BE=RN,yN.writeUint64LE=CN,yN.writeInt64LE=CN,yN.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,a=e/8+r-1;a>=r;a--)n+=t[a]*i,i*=256;return n},yN.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,a=r;a<r+e/8;a++)n+=t[a]*i,i*=256;return n},yN.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!wN.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,a=e/8+n-1;a>=n;a--)r[a]=t/i&255,i*=256;return r},yN.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!wN.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,a=n;a<n+e/8;a++)r[a]=t/i&255,i*=256;return r},yN.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},yN.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},yN.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},yN.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},yN.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},yN.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},yN.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},yN.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t};var NN={};Object.defineProperty(NN,"__esModule",{value:!0}),NN.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e},Object.defineProperty(gN,"__esModule",{value:!0});var PN=yN,MN=NN,jN=20;function TN(e,t,r){for(var n=1634760805,i=857760878,a=2036477234,o=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],l=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],h=r[23]<<24|r[22]<<16|r[21]<<8|r[20],d=r[27]<<24|r[26]<<16|r[25]<<8|r[24],p=r[31]<<24|r[30]<<16|r[29]<<8|r[28],v=t[3]<<24|t[2]<<16|t[1]<<8|t[0],m=t[7]<<24|t[6]<<16|t[5]<<8|t[4],g=t[11]<<24|t[10]<<16|t[9]<<8|t[8],y=t[15]<<24|t[14]<<16|t[13]<<8|t[12],b=n,w=i,_=a,k=o,x=s,E=u,A=c,S=l,O=f,I=h,R=d,C=p,N=v,P=m,M=g,j=y,T=0;T<jN;T+=2)x=(x^=O=O+(N=(N^=b=b+x|0)>>>16|N<<16)|0)>>>20|x<<12,E=(E^=I=I+(P=(P^=w=w+E|0)>>>16|P<<16)|0)>>>20|E<<12,A=(A^=R=R+(M=(M^=_=_+A|0)>>>16|M<<16)|0)>>>20|A<<12,S=(S^=C=C+(j=(j^=k=k+S|0)>>>16|j<<16)|0)>>>20|S<<12,A=(A^=R=R+(M=(M^=_=_+A|0)>>>24|M<<8)|0)>>>25|A<<7,S=(S^=C=C+(j=(j^=k=k+S|0)>>>24|j<<8)|0)>>>25|S<<7,E=(E^=I=I+(P=(P^=w=w+E|0)>>>24|P<<8)|0)>>>25|E<<7,x=(x^=O=O+(N=(N^=b=b+x|0)>>>24|N<<8)|0)>>>25|x<<7,E=(E^=R=R+(j=(j^=b=b+E|0)>>>16|j<<16)|0)>>>20|E<<12,A=(A^=C=C+(N=(N^=w=w+A|0)>>>16|N<<16)|0)>>>20|A<<12,S=(S^=O=O+(P=(P^=_=_+S|0)>>>16|P<<16)|0)>>>20|S<<12,x=(x^=I=I+(M=(M^=k=k+x|0)>>>16|M<<16)|0)>>>20|x<<12,S=(S^=O=O+(P=(P^=_=_+S|0)>>>24|P<<8)|0)>>>25|S<<7,x=(x^=I=I+(M=(M^=k=k+x|0)>>>24|M<<8)|0)>>>25|x<<7,A=(A^=C=C+(N=(N^=w=w+A|0)>>>24|N<<8)|0)>>>25|A<<7,E=(E^=R=R+(j=(j^=b=b+E|0)>>>24|j<<8)|0)>>>25|E<<7;PN.writeUint32LE(b+n|0,e,0),PN.writeUint32LE(w+i|0,e,4),PN.writeUint32LE(_+a|0,e,8),PN.writeUint32LE(k+o|0,e,12),PN.writeUint32LE(x+s|0,e,16),PN.writeUint32LE(E+u|0,e,20),PN.writeUint32LE(A+c|0,e,24),PN.writeUint32LE(S+l|0,e,28),PN.writeUint32LE(O+f|0,e,32),PN.writeUint32LE(I+h|0,e,36),PN.writeUint32LE(R+d|0,e,40),PN.writeUint32LE(C+p|0,e,44),PN.writeUint32LE(N+v|0,e,48),PN.writeUint32LE(P+m|0,e,52),PN.writeUint32LE(M+g|0,e,56),PN.writeUint32LE(j+y|0,e,60)}function LN(e,t,r,n,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,o;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=(a=new Uint8Array(16)).length-t.length,a.set(t,o)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");a=t,o=i}for(var s=new Uint8Array(64),u=0;u<r.length;u+=64){TN(s,a,e);for(var c=u;c<u+64&&c<r.length;c++)n[c]=r[c]^s[c-u];$N(a,0,o)}return MN.wipe(s),0===i&&MN.wipe(a),n}function $N(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}gN.streamXOR=LN,gN.stream=function(e,t,r,n){return void 0===n&&(n=0),MN.wipe(r),LN(e,t,r,r,n)};var DN={},UN={};function FN(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(UN,"__esModule",{value:!0}),UN.select=function(e,t,r){return~(e-1)&t|e-1&r},UN.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},UN.compare=FN,UN.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==FN(e,t)},function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=UN,r=NN;e.DIGEST_LENGTH=16;var n=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var n=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=t[4]|t[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var a=t[6]|t[7]<<8;this._r[3]=8191&(i>>>7|a<<9);var o=t[8]|t[9]<<8;this._r[4]=255&(a>>>4|o<<12),this._r[5]=o>>>1&8190;var s=t[10]|t[11]<<8;this._r[6]=8191&(o>>>14|s<<2);var u=t[12]|t[13]<<8;this._r[7]=8065&(s>>>11|u<<5);var c=t[14]|t[15]<<8;this._r[8]=8191&(u>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],a=this._h[1],o=this._h[2],s=this._h[3],u=this._h[4],c=this._h[5],l=this._h[6],f=this._h[7],h=this._h[8],d=this._h[9],p=this._r[0],v=this._r[1],m=this._r[2],g=this._r[3],y=this._r[4],b=this._r[5],w=this._r[6],_=this._r[7],k=this._r[8],x=this._r[9];r>=16;){var E=e[t+0]|e[t+1]<<8;i+=8191&E;var A=e[t+2]|e[t+3]<<8;a+=8191&(E>>>13|A<<3);var S=e[t+4]|e[t+5]<<8;o+=8191&(A>>>10|S<<6);var O=e[t+6]|e[t+7]<<8;s+=8191&(S>>>7|O<<9);var I=e[t+8]|e[t+9]<<8;u+=8191&(O>>>4|I<<12),c+=I>>>1&8191;var R=e[t+10]|e[t+11]<<8;l+=8191&(I>>>14|R<<2);var C=e[t+12]|e[t+13]<<8;f+=8191&(R>>>11|C<<5);var N=e[t+14]|e[t+15]<<8,P=0,M=P;M+=i*p,M+=a*(5*x),M+=o*(5*k),M+=s*(5*_),P=(M+=u*(5*w))>>>13,M&=8191,M+=c*(5*b),M+=l*(5*y),M+=f*(5*g),M+=(h+=8191&(C>>>8|N<<8))*(5*m);var j=P+=(M+=(d+=N>>>5|n)*(5*v))>>>13;j+=i*v,j+=a*p,j+=o*(5*x),j+=s*(5*k),P=(j+=u*(5*_))>>>13,j&=8191,j+=c*(5*w),j+=l*(5*b),j+=f*(5*y),j+=h*(5*g),P+=(j+=d*(5*m))>>>13,j&=8191;var T=P;T+=i*m,T+=a*v,T+=o*p,T+=s*(5*x),P=(T+=u*(5*k))>>>13,T&=8191,T+=c*(5*_),T+=l*(5*w),T+=f*(5*b),T+=h*(5*y);var L=P+=(T+=d*(5*g))>>>13;L+=i*g,L+=a*m,L+=o*v,L+=s*p,P=(L+=u*(5*x))>>>13,L&=8191,L+=c*(5*k),L+=l*(5*_),L+=f*(5*w),L+=h*(5*b);var $=P+=(L+=d*(5*y))>>>13;$+=i*y,$+=a*g,$+=o*m,$+=s*v,P=($+=u*p)>>>13,$&=8191,$+=c*(5*x),$+=l*(5*k),$+=f*(5*_),$+=h*(5*w);var D=P+=($+=d*(5*b))>>>13;D+=i*b,D+=a*y,D+=o*g,D+=s*m,P=(D+=u*v)>>>13,D&=8191,D+=c*p,D+=l*(5*x),D+=f*(5*k),D+=h*(5*_);var U=P+=(D+=d*(5*w))>>>13;U+=i*w,U+=a*b,U+=o*y,U+=s*g,P=(U+=u*m)>>>13,U&=8191,U+=c*v,U+=l*p,U+=f*(5*x),U+=h*(5*k);var F=P+=(U+=d*(5*_))>>>13;F+=i*_,F+=a*w,F+=o*b,F+=s*y,P=(F+=u*g)>>>13,F&=8191,F+=c*m,F+=l*v,F+=f*p,F+=h*(5*x);var B=P+=(F+=d*(5*k))>>>13;B+=i*k,B+=a*_,B+=o*w,B+=s*b,P=(B+=u*y)>>>13,B&=8191,B+=c*g,B+=l*m,B+=f*v,B+=h*p;var q=P+=(B+=d*(5*x))>>>13;q+=i*x,q+=a*k,q+=o*_,q+=s*w,P=(q+=u*b)>>>13,q&=8191,q+=c*y,q+=l*g,q+=f*m,q+=h*v,i=M=8191&(P=(P=((P+=(q+=d*p)>>>13)<<2)+P|0)+(M&=8191)|0),a=j+=P>>>=13,o=T&=8191,s=L&=8191,u=$&=8191,c=D&=8191,l=U&=8191,f=F&=8191,h=B&=8191,d=q&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=a,this._h[2]=o,this._h[3]=s,this._h[4]=u,this._h[5]=c,this._h[6]=l,this._h[7]=f,this._h[8]=h,this._h[9]=d},t.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,a,o=new Uint16Array(10);if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=r,r=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,a=1;a<10;a++)o[a]=this._h[a]+r,r=o[a]>>>13,o[a]&=8191;for(o[9]-=8192,n=(1^r)-1,a=0;a<10;a++)o[a]&=n;for(n=~n,a=0;a<10;a++)this._h[a]=this._h[a]&n|o[a];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,a=1;a<8;a++)i=(this._h[a]+this._pad[a]|0)+(i>>>16)|0,this._h[a]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=n,e.oneTimeAuth=function(e,t){var r=new n(e);r.update(t);var i=r.digest();return r.clean(),i},e.equal=function(r,n){return r.length===e.DIGEST_LENGTH&&n.length===e.DIGEST_LENGTH&&t.equal(r,n)}}(DN),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=gN,r=DN,n=NN,i=yN,a=UN;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var o=new Uint8Array(16),s=function(){function s(t){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,t.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return s.prototype.seal=function(e,r,i,a){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var s=new Uint8Array(32);t.stream(this._key,o,s,4);var u,c=r.length+this.tagLength;if(a){if(a.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");u=a}else u=new Uint8Array(c);return t.streamXOR(this._key,o,r,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),s,u.subarray(0,u.length-this.tagLength),i),n.wipe(o),u},s.prototype.open=function(e,r,i,o){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var u=new Uint8Array(32);t.stream(this._key,s,u,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,u,r.subarray(0,r.length-this.tagLength),i),!a.equal(c,r.subarray(r.length-this.tagLength,r.length)))return null;var l,f=r.length-this.tagLength;if(o){if(o.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");l=o}else l=new Uint8Array(f);return t.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),l,4),n.wipe(s),l},s.prototype.clean=function(){return n.wipe(this._key),this},s.prototype._authenticate=function(e,t,a,s){var u=new r.Poly1305(t);s&&(u.update(s),s.length%16>0&&u.update(o.subarray(s.length%16))),u.update(a),a.length%16>0&&u.update(o.subarray(a.length%16));var c=new Uint8Array(8);s&&i.writeUint64LE(s.length,c),u.update(c),i.writeUint64LE(a.length,c),u.update(c);for(var l=u.digest(),f=0;f<l.length;f++)e[f]=l[f];u.clean(),n.wipe(l),n.wipe(c)},s}();e.ChaCha20Poly1305=s}(mN);var BN={},qN={},zN={};Object.defineProperty(zN,"__esModule",{value:!0}),zN.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState},Object.defineProperty(qN,"__esModule",{value:!0});var HN=zN,VN=UN,WN=NN,GN=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var n=0;n<r.length;n++)r[n]^=54;this._inner.update(r);for(n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),HN.isSerializableHash(this._inner)&&HN.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),WN.wipe(r)}return e.prototype.reset=function(){if(!HN.isSerializableHash(this._inner)||!HN.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){HN.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),HN.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!HN.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!HN.isSerializableHash(this._inner)||!HN.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!HN.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();qN.HMAC=GN,qN.hmac=function(e,t,r){var n=new GN(e,t);n.update(r);var i=n.digest();return n.clean(),i},qN.equal=VN.equal,Object.defineProperty(BN,"__esModule",{value:!0});var KN=qN,ZN=NN,YN=function(){function e(e,t,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var i=KN.hmac(this._hash,r,t);this._hmac=new KN.HMAC(e,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),ZN.wipe(this._buffer),ZN.wipe(this._counter),this._bufpos=0},e}(),JN=BN.HKDF=YN,QN={},XN={},eP={};Object.defineProperty(eP,"__esModule",{value:!0}),eP.BrowserRandomSource=void 0;var tP=function(){function e(){A(this,e),this.isAvailable=!1,this.isInstantiated=!1;var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}return O(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}}]),e}();function rP(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}eP.BrowserRandomSource=tP;var nP={};Object.defineProperty(nP,"__esModule",{value:!0}),nP.NodeRandomSource=void 0;var iP=NN,aP=function(){function e(){if(A(this,e),this.isAvailable=!1,this.isInstantiated=!1,void 0!==rP){var t=qa;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}return O(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=t[n];return(0,iP.wipe)(t),r}}]),e}();nP.NodeRandomSource=aP,Object.defineProperty(XN,"__esModule",{value:!0}),XN.SystemRandomSource=void 0;var oP=eP,sP=nP,uP=function(){function e(){return A(this,e),this.isAvailable=!1,this.name="",this._source=new oP.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new sP.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return O(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}]),e}();XN.SystemRandomSource=uP,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;var t=XN,r=yN,n=NN;function i(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultRandomSource).randomBytes(t)}e.defaultRandomSource=new t.SystemRandomSource,e.randomBytes=i,e.randomUint32=function(){var t=i(4,arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.defaultRandomSource),a=(0,r.readUint32LE)(t);return(0,n.wipe)(t),a};var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultRandomSource;if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");for(var s="",u=r.length,c=256-256%u;t>0;){for(var l=i(Math.ceil(256*t/c),o),f=0;f<l.length&&t>0;f++){var h=l[f];h<c&&(s+=r.charAt(h%u),t--)}(0,n.wipe)(l)}return s}e.randomString=o,e.randomStringForEntropy=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultRandomSource;return o(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}}(QN);var cP={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=yN,r=NN;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function n(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return n.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},n.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},n.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},n.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},n.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,o=r<<3,s=r%64<56?64:128;this._buffer[n]=128;for(var u=n+1;u<s-8;u++)this._buffer[u]=0;t.writeUint32BE(i,this._buffer,s-8),t.writeUint32BE(o,this._buffer,s-4),a(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(u=0;u<this.digestLength/4;u++)t.writeUint32BE(this._state[u],e,4*u);return this},n.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},n.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},n.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},n.prototype.cleanSavedState=function(e){r.wipe(e.state),e.buffer&&r.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},n}();e.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,r,n,a,o){for(;o>=64;){for(var s=r[0],u=r[1],c=r[2],l=r[3],f=r[4],h=r[5],d=r[6],p=r[7],v=0;v<16;v++){var m=a+4*v;e[v]=t.readUint32BE(n,m)}for(v=16;v<64;v++){var g=e[v-2],y=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,b=((g=e[v-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;e[v]=(y+e[v-7]|0)+(b+e[v-16]|0)}for(v=0;v<64;v++){y=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&d)|0)+(p+(i[v]+e[v]|0)|0)|0,b=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&u^s&c^u&c)|0;p=d,d=h,h=f,f=l+y|0,l=c,c=u,u=s,s=y+b|0}r[0]+=s,r[1]+=u,r[2]+=c,r[3]+=l,r[4]+=f,r[5]+=h,r[6]+=d,r[7]+=p,a+=64,o-=64}return a}e.hash=function(e){var t=new n;t.update(e);var r=t.digest();return t.clean(),r}}(cP);var lP={};function fP(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function hP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?fP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function dP(e,t){t||(t=e.reduce((function(e,t){return e+t.length}),0));var r,n=hP(t),i=0,a=k(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.set(o,i),i+=o.length}}catch(s){a.e(s)}finally{a.f()}return fP(n)}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;var t=QN,r=NN;function n(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;var i=new Uint8Array(32);i[0]=9;var a=n([56129,1]);function o(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function s(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var a=n&(e[i]^t[i]);e[i]^=a,t[i]^=a}}function u(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function c(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function l(e,t,r){var n,i,a=0,o=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,p=0,v=0,m=0,g=0,y=0,b=0,w=0,_=0,k=0,x=0,E=0,A=0,S=0,O=0,I=0,R=0,C=0,N=0,P=0,M=0,j=0,T=0,L=r[0],$=r[1],D=r[2],U=r[3],F=r[4],B=r[5],q=r[6],z=r[7],H=r[8],V=r[9],W=r[10],G=r[11],K=r[12],Z=r[13],Y=r[14],J=r[15];a+=(n=t[0])*L,o+=n*$,s+=n*D,u+=n*U,c+=n*F,l+=n*B,f+=n*q,h+=n*z,d+=n*H,p+=n*V,v+=n*W,m+=n*G,g+=n*K,y+=n*Z,b+=n*Y,w+=n*J,o+=(n=t[1])*L,s+=n*$,u+=n*D,c+=n*U,l+=n*F,f+=n*B,h+=n*q,d+=n*z,p+=n*H,v+=n*V,m+=n*W,g+=n*G,y+=n*K,b+=n*Z,w+=n*Y,_+=n*J,s+=(n=t[2])*L,u+=n*$,c+=n*D,l+=n*U,f+=n*F,h+=n*B,d+=n*q,p+=n*z,v+=n*H,m+=n*V,g+=n*W,y+=n*G,b+=n*K,w+=n*Z,_+=n*Y,k+=n*J,u+=(n=t[3])*L,c+=n*$,l+=n*D,f+=n*U,h+=n*F,d+=n*B,p+=n*q,v+=n*z,m+=n*H,g+=n*V,y+=n*W,b+=n*G,w+=n*K,_+=n*Z,k+=n*Y,x+=n*J,c+=(n=t[4])*L,l+=n*$,f+=n*D,h+=n*U,d+=n*F,p+=n*B,v+=n*q,m+=n*z,g+=n*H,y+=n*V,b+=n*W,w+=n*G,_+=n*K,k+=n*Z,x+=n*Y,E+=n*J,l+=(n=t[5])*L,f+=n*$,h+=n*D,d+=n*U,p+=n*F,v+=n*B,m+=n*q,g+=n*z,y+=n*H,b+=n*V,w+=n*W,_+=n*G,k+=n*K,x+=n*Z,E+=n*Y,A+=n*J,f+=(n=t[6])*L,h+=n*$,d+=n*D,p+=n*U,v+=n*F,m+=n*B,g+=n*q,y+=n*z,b+=n*H,w+=n*V,_+=n*W,k+=n*G,x+=n*K,E+=n*Z,A+=n*Y,S+=n*J,h+=(n=t[7])*L,d+=n*$,p+=n*D,v+=n*U,m+=n*F,g+=n*B,y+=n*q,b+=n*z,w+=n*H,_+=n*V,k+=n*W,x+=n*G,E+=n*K,A+=n*Z,S+=n*Y,O+=n*J,d+=(n=t[8])*L,p+=n*$,v+=n*D,m+=n*U,g+=n*F,y+=n*B,b+=n*q,w+=n*z,_+=n*H,k+=n*V,x+=n*W,E+=n*G,A+=n*K,S+=n*Z,O+=n*Y,I+=n*J,p+=(n=t[9])*L,v+=n*$,m+=n*D,g+=n*U,y+=n*F,b+=n*B,w+=n*q,_+=n*z,k+=n*H,x+=n*V,E+=n*W,A+=n*G,S+=n*K,O+=n*Z,I+=n*Y,R+=n*J,v+=(n=t[10])*L,m+=n*$,g+=n*D,y+=n*U,b+=n*F,w+=n*B,_+=n*q,k+=n*z,x+=n*H,E+=n*V,A+=n*W,S+=n*G,O+=n*K,I+=n*Z,R+=n*Y,C+=n*J,m+=(n=t[11])*L,g+=n*$,y+=n*D,b+=n*U,w+=n*F,_+=n*B,k+=n*q,x+=n*z,E+=n*H,A+=n*V,S+=n*W,O+=n*G,I+=n*K,R+=n*Z,C+=n*Y,N+=n*J,g+=(n=t[12])*L,y+=n*$,b+=n*D,w+=n*U,_+=n*F,k+=n*B,x+=n*q,E+=n*z,A+=n*H,S+=n*V,O+=n*W,I+=n*G,R+=n*K,C+=n*Z,N+=n*Y,P+=n*J,y+=(n=t[13])*L,b+=n*$,w+=n*D,_+=n*U,k+=n*F,x+=n*B,E+=n*q,A+=n*z,S+=n*H,O+=n*V,I+=n*W,R+=n*G,C+=n*K,N+=n*Z,P+=n*Y,M+=n*J,b+=(n=t[14])*L,w+=n*$,_+=n*D,k+=n*U,x+=n*F,E+=n*B,A+=n*q,S+=n*z,O+=n*H,I+=n*V,R+=n*W,C+=n*G,N+=n*K,P+=n*Z,M+=n*Y,j+=n*J,w+=(n=t[15])*L,o+=38*(k+=n*D),s+=38*(x+=n*U),u+=38*(E+=n*F),c+=38*(A+=n*B),l+=38*(S+=n*q),f+=38*(O+=n*z),h+=38*(I+=n*H),d+=38*(R+=n*V),p+=38*(C+=n*W),v+=38*(N+=n*G),m+=38*(P+=n*K),g+=38*(M+=n*Z),y+=38*(j+=n*Y),b+=38*(T+=n*J),a=(n=(a+=38*(_+=n*$))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=h,e[8]=d,e[9]=p,e[10]=v,e[11]=m,e[12]=g,e[13]=y,e[14]=b,e[15]=w}function f(e,t){l(e,t,t)}function h(e,t){for(var r=new Uint8Array(32),i=new Float64Array(80),h=n(),d=n(),p=n(),v=n(),m=n(),g=n(),y=0;y<31;y++)r[y]=e[y];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(i,t);for(var b=0;b<16;b++)d[b]=i[b];h[0]=v[0]=1;for(var w=254;w>=0;--w){var _=r[w>>>3]>>>(7&w)&1;s(h,d,_),s(p,v,_),u(m,h,p),c(h,h,p),u(p,d,v),c(d,d,v),f(v,m),f(g,h),l(h,p,h),l(p,d,m),u(m,h,p),c(h,h,p),f(d,h),c(p,v,g),l(h,p,a),u(h,h,v),l(p,p,h),l(h,v,g),l(v,d,i),f(d,m),s(h,d,_),s(p,v,_)}for(var k=0;k<16;k++)i[k+16]=h[k],i[k+32]=p[k],i[k+48]=d[k],i[k+64]=v[k];var x=i.subarray(32),E=i.subarray(16);!function(e,t){for(var r=n(),i=0;i<16;i++)r[i]=t[i];for(var a=253;a>=0;a--)f(r,r),2!==a&&4!==a&&l(r,r,t);for(var o=0;o<16;o++)e[o]=r[o]}(x,x),l(E,E,x);var A=new Uint8Array(32);return function(e,t){for(var r=n(),i=n(),a=0;a<16;a++)i[a]=t[a];o(i),o(i),o(i);for(var u=0;u<2;u++){r[0]=i[0]-65517;for(var c=1;c<15;c++)r[c]=i[c]-65535-(r[c-1]>>16&1),r[c-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);var l=r[15]>>16&1;r[14]&=65535,s(i,r,1-l)}for(var f=0;f<16;f++)e[2*f]=255&i[f],e[2*f+1]=i[f]>>8}(A,E),A}function d(e){return h(e,i)}function p(t){if(t.length!==e.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be ".concat(e.SECRET_KEY_LENGTH," bytes"));var r=new Uint8Array(t);return{publicKey:d(r),secretKey:r}}e.scalarMult=h,e.scalarMultBase=d,e.generateKeyPairFromSeed=p,e.generateKeyPair=function(e){var n=(0,t.randomBytes)(32,e),i=p(n);return(0,r.wipe)(n),i},e.sharedKey=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(r.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var i=h(t,r);if(n){for(var a=0,o=0;o<i.length;o++)a|=i[o];if(0===a)throw new Error("X25519: invalid shared key")}return i}}(lP);var pP=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==r[o])throw new TypeError(a+" is ambiguous");r[o]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var a=(e.length-t)*c+1>>>0,o=new Uint8Array(a);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=a-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*o[h]>>>0,o[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=a-i;d!==a&&0===o[d];)d++;for(var p=new Uint8Array(n+(a-d)),v=n;d!==a;)p[v++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var o=(a-i)*l+1>>>0,c=new Uint8Array(o);i!==a;){for(var f=t[i],h=0,d=o-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=o-n;p!==o&&0===c[p];)p++;for(var v=u.repeat(r);p<o;++p)v+=e.charAt(c[p]);return v},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}},vP=pP,mP=function(){function e(t,r,n){A(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return O(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),gP=function(){function e(t,r,n){if(A(this,e),this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}return O(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return bP(this,e)}}]),e}(),yP=function(){function e(t){A(this,e),this.decoders=t}return O(e,[{key:"or",value:function(e){return bP(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),bP=function(e,t){return new yP(l(l({},e.decoders||b({},e.prefix,e)),t.decoders||b({},t.prefix,t)))},wP=function(){function e(t,r,n,i){A(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new mP(t,r,n),this.decoder=new gP(t,r,i)}return O(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),_P=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new wP(t,r,n,i)},kP=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=vP(n,r),a=i.encode,o=i.decode;return _P({prefix:t,name:r,encode:a,decode:function(e){return function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}(o(e))}})},xP=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return _P({prefix:r,name:t,encode:function(e){return function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,a="",o=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],o+=8;o>r;)a+=t[i&s>>(o-=r)];if(o&&(a+=t[i&s<<r-o]),n)for(;a.length*r&7;)a+="=";return a}(e,i,n)},decode:function(e){return function(e,t,r,n){for(var i={},a=0;a<t.length;++a)i[t[a]]=a;for(var o=e.length;"="===e[o-1];)--o;for(var s=new Uint8Array(o*r/8|0),u=0,c=0,l=0,f=0;f<o;++f){var h=i[e[f]];if(void 0===h)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|h,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s}(e,i,n,t)}})},EP=_P({prefix:"\0",name:"identity",encode:function(e){return function(e){return(new TextDecoder).decode(e)}(e)},decode:function(e){return function(e){return(new TextEncoder).encode(e)}(e)}}),AP=Object.freeze(Object.defineProperty({__proto__:null,identity:EP},Symbol.toStringTag,{value:"Module"})),SP=xP({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),OP=Object.freeze(Object.defineProperty({__proto__:null,base2:SP},Symbol.toStringTag,{value:"Module"})),IP=xP({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),RP=Object.freeze(Object.defineProperty({__proto__:null,base8:IP},Symbol.toStringTag,{value:"Module"})),CP=kP({prefix:"9",name:"base10",alphabet:"0123456789"}),NP=Object.freeze(Object.defineProperty({__proto__:null,base10:CP},Symbol.toStringTag,{value:"Module"})),PP=xP({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),MP=xP({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),jP=Object.freeze(Object.defineProperty({__proto__:null,base16:PP,base16upper:MP},Symbol.toStringTag,{value:"Module"})),TP=xP({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),LP=xP({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$P=xP({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),DP=xP({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),UP=xP({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),FP=xP({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),BP=xP({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qP=xP({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zP=xP({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),HP=Object.freeze(Object.defineProperty({__proto__:null,base32:TP,base32hex:UP,base32hexpad:BP,base32hexpadupper:qP,base32hexupper:FP,base32pad:$P,base32padupper:DP,base32upper:LP,base32z:zP},Symbol.toStringTag,{value:"Module"})),VP=kP({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),WP=kP({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),GP=Object.freeze(Object.defineProperty({__proto__:null,base36:VP,base36upper:WP},Symbol.toStringTag,{value:"Module"})),KP=kP({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ZP=kP({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),YP=Object.freeze(Object.defineProperty({__proto__:null,base58btc:KP,base58flickr:ZP},Symbol.toStringTag,{value:"Module"})),JP=xP({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),QP=xP({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),XP=xP({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eM=xP({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),tM=Object.freeze(Object.defineProperty({__proto__:null,base64:JP,base64pad:QP,base64url:XP,base64urlpad:eM},Symbol.toStringTag,{value:"Module"})),rM=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),nM=rM.reduce((function(e,t,r){return e[r]=t,e}),[]),iM=rM.reduce((function(e,t,r){return e[t.codePointAt(0)]=r,e}),[]);var aM=_P({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce((function(e,t){return e+=nM[t]}),"")},decode:function(e){var t,r=[],n=k(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=iM[i.codePointAt(0)];if(void 0===a)throw new Error("Non-base256emoji character: ".concat(i));r.push(a)}}catch(o){n.e(o)}finally{n.f()}return new Uint8Array(r)}}),oM=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:aM},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;var sM=l(l(l(l(l(l(l(l(l(l({},AP),OP),RP),NP),jP),HP),GP),YP),tM),oM);function uM(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var cM=uM("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),lM=uM("ascii","a",(function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(function(e){for(var t=hP((e=e.substring(1)).length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),fM=l({utf8:cM,"utf-8":cM,hex:sM.base16,latin1:lM,ascii:lM,binary:lM},sM);function hM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=fM[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):fP(globalThis.Buffer.from(e,"utf-8"))}function dM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=fM[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var pM={},vM=function(e,t){return vM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},vM(e,t)};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */var mM=function(){return mM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mM.apply(this,arguments)};function gM(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yM(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function bM(e){return this instanceof bM?(this.v=e,this):new bM(e)}var wM,_M=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return mM},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:bM(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof bM?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(r){l(a[0][3],r)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=gM(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__await:bM,__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}vM(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:yM,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(yM(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},__values:gM},Symbol.toStringTag,{value:"Module"})),kM=E(_M),xM={},EM={};var AM,SM={},OM={},IM={};var RM,CM,NM,PM,MM={};function jM(){return CM||(CM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=kM;t.__exportStar((AM||(AM=1,Object.defineProperty(IM,"__esModule",{value:!0}),IM.ONE_THOUSAND=IM.ONE_HUNDRED=void 0,IM.ONE_HUNDRED=100,IM.ONE_THOUSAND=1e3),IM),e),t.__exportStar((RM||(RM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY}(MM)),MM),e)}(OM)),OM}function TM(){return PM||(PM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=kM;t.__exportStar((wM||(wM=1,Object.defineProperty(EM,"__esModule",{value:!0}),EM.delay=void 0,EM.delay=function(e){return new Promise((function(t){setTimeout((function(){t(!0)}),e)}))}),EM),e),t.__exportStar(function(){if(NM)return SM;NM=1,Object.defineProperty(SM,"__esModule",{value:!0}),SM.fromMiliseconds=SM.toMiliseconds=void 0;var e=jM();return SM.toMiliseconds=function(t){return t*e.ONE_THOUSAND},SM.fromMiliseconds=function(t){return Math.floor(t/e.ONE_THOUSAND)},SM}(),e)}(xM)),xM}var LM,$M={};var DM,UM,FM={},BM={};function qM(){return UM||(UM=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),kM.__exportStar(function(){if(DM)return BM;DM=1,Object.defineProperty(BM,"__esModule",{value:!0}),BM.IWatch=void 0;var e=O((function e(){A(this,e)}));return BM.IWatch=e,BM}(),e)}(FM)),FM}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=kM;t.__exportStar(TM(),e),t.__exportStar(function(){if(LM)return $M;LM=1,Object.defineProperty($M,"__esModule",{value:!0}),$M.Watch=void 0;var e=function(){function e(){A(this,e),this.timestamps=new Map}return O(e,[{key:"start",value:function(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}},{key:"stop",value:function(e){var t=this.get(e);if(void 0!==t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));var r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}},{key:"get",value:function(e){var t=this.timestamps.get(e);if(void 0===t)throw new Error("No timestamp found for label: ".concat(e));return t}},{key:"elapsed",value:function(e){var t=this.get(e);return t.elapsed||Date.now()-t.started}}]),e}();return $M.Watch=e,$M.default=e,$M}(),e),t.__exportStar(qM(),e),t.__exportStar(jM(),e)}(pM);var zM={};function HM(e){var t=void 0;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function VM(e){var t=HM(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(zM,"__esModule",{value:!0}),zM.getLocalStorage=zM.getLocalStorageOrThrow=zM.getCrypto=zM.getCryptoOrThrow=zM.getLocation=zM.getLocationOrThrow=zM.getNavigator=zM.getNavigatorOrThrow=zM.getDocument=zM.getDocumentOrThrow=zM.getFromWindowOrThrow=zM.getFromWindow=void 0,zM.getFromWindow=HM,zM.getFromWindowOrThrow=VM,zM.getDocumentOrThrow=function(){return VM("document")},zM.getDocument=function(){return HM("document")},zM.getNavigatorOrThrow=function(){return VM("navigator")},zM.getNavigator=function(){return HM("navigator")},zM.getLocationOrThrow=function(){return VM("location")},zM.getLocation=function(){return HM("location")},zM.getCryptoOrThrow=function(){return VM("crypto")},zM.getCrypto=function(){return HM("crypto")},zM.getLocalStorageOrThrow=function(){return VM("localStorage")},zM.getLocalStorage=function(){return HM("localStorage")};var WM={};Object.defineProperty(WM,"__esModule",{value:!0}),WM.getWindowMetadata=void 0;var GM=zM;WM.getWindowMetadata=function(){var e,t;try{e=GM.getDocumentOrThrow(),t=GM.getLocationOrThrow()}catch(i){return null}function r(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i,a=e.getElementsByTagName("meta"),o=function(){var e=a[s],t=["itemprop","property","name"].map((function(t){return e.getAttribute(t)})).filter((function(e){return!!e&&r.includes(e)}));if(t.length&&t){var n=e.getAttribute("content");if(n)return{v:n}}},s=0;s<a.length;s++)if(i=o())return i.v;return""}var n=function(){var t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var r=e.getElementsByTagName("link"),n=[],i=0;i<r.length;i++){var a=r[i],o=a.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){var s=a.getAttribute("href");if(s)if(-1===s.toLowerCase().indexOf("https:")&&-1===s.toLowerCase().indexOf("http:")&&0!==s.indexOf("//")){var u=t.protocol+"//"+t.host;if(0===s.indexOf("/"))u+=s;else{var c=t.pathname.split("/");c.pop(),u+=c.join("/")+"/"+s}n.push(u)}else if(0===s.indexOf("//")){var l=t.protocol+s;n.push(l)}else n.push(s)}}return n}(),name:n}};var KM=s("bE",(function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))})),ZM="%[a-f0-9]{2}",YM=new RegExp("("+ZM+")|([^%]+?)","gi"),JM=new RegExp("("+ZM+")+","gi");function QM(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],QM(r),QM(n))}function XM(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(YM)||[],r=1;r<t.length;r++)t=(e=QM(t,r).join("")).match(YM)||[];return e}}var ej=s("bF",(function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"��","%FF%FE":"��"},n=JM.exec(e);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(t){var i=XM(n[0]);i!==n[0]&&(r[n[0]]=i)}n=JM.exec(e)}r["%C2"]="�";for(var a=Object.keys(r),o=0;o<a.length;o++){var s=a[o];e=e.replace(new RegExp(s,"g"),r[s])}return e}(e)}})),tj=s("bD",(function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]})),rj=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),a=0;a<n.length;a++){var o=n[a],s=e[o];(i?-1!==t.indexOf(o):t(o,s,e))&&(r[o]=s)}return r};!function(e){var t=KM,r=ej,n=tj,i=rj,a=Symbol("encodeFragmentIdentifier");function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,r){return r.encode?r.strict?t(e):encodeURIComponent(e):e}function u(e,t){return t.decode?r(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function l(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){var t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return function(e,r,n){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var i="string"==typeof r&&r.includes(e.arrayFormatSeparator),a="string"==typeof r&&!i&&u(r,e).includes(e.arrayFormatSeparator);r=a?u(r,e):r;var o=i||a?r.split(e.arrayFormatSeparator).map((function(t){return u(t,e)})):null===r?r:u(r,e);n[t]=o};case"bracket-separator":return function(t,r,n){var i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),i){var a=null===r?[]:r.split(e.arrayFormatSeparator).map((function(t){return u(t,e)}));void 0!==n[t]?n[t]=[].concat(n[t],a):n[t]=a}else n[t]=r?u(r,e):r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;var a,s=k(e.split("&"));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(""!==l){var f=_(n(t.decode?l.replace(/\+/g," "):l,"="),2),d=f[0],p=f[1];p=void 0===p?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?p:u(p,t),r(u(d,t),p,i)}}}catch(E){s.e(E)}finally{s.f()}for(var v=0,m=Object.keys(i);v<m.length;v++){var g=m[v],y=i[g];if("object"==typeof y&&null!==y)for(var b=0,w=Object.keys(y);b<w.length;b++){var x=w[b];y[x]=h(y[x],t)}else i[g]=h(y,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce((function(e,t){var r=i[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=c(r):e[t]=r,e}),Object.create(null))}e.extract=f,e.parse=d,e.stringify=function(e,t){if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(r){return t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),"[",i,"]"].join("")]:[[s(t,e),"[",s(i,e),"]=",s(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),"[]"].join("")]:[[s(t,e),"[]=",s(n,e)].join("")])}};case"colon-list-separator":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),":list="].join("")]:[[s(t,e),":list=",s(n,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(r){return function(n,i){return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[s(r,e),t,s(i,e)].join("")]:[[n,s(i,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[s(t,e)]:[[s(t,e),"=",s(n,e)].join("")])}}}}(t),i={},a=0,u=Object.keys(e);a<u.length;a++){var c=u[a];r(c)||(i[c]=e[c])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(r){var i=e[r];return void 0===i?"":null===i?s(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?s(r,t)+"[]":i.reduce(n(r),[]).join("&"):s(r,t)+"="+s(i,t)})).filter((function(e){return e.length>0})).join("&")},e.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=_(n(e,"#"),2),i=r[0],a=r[1];return Object.assign({url:i.split("?")[0]||"",query:d(f(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:u(a,t)}:{})},e.stringifyUrl=function(t,r){r=Object.assign(b({encode:!0,strict:!0},a,!0),r);var n=l(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),u=Object.assign(o,t.query),c=e.stringify(u,r);c&&(c="?".concat(c));var f=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(t.url);return t.fragmentIdentifier&&(f="#".concat(r[a]?s(t.fragmentIdentifier,r):t.fragmentIdentifier)),"".concat(n).concat(c).concat(f)},e.pick=function(t,r,n){n=Object.assign(b({parseFragmentIdentifier:!0},a,!1),n);var o=e.parseUrl(t,n),s=o.url,u=o.query,c=o.fragmentIdentifier;return e.stringifyUrl({url:s,query:i(u,r),fragmentIdentifier:c},n)},e.exclude=function(t,r,n){var i=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return e.pick(t,i,n)}}({});var nj={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function ij(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return Object.keys(e).forEach((function(n){if(!t.length||t.includes(n)){var i=e[n];r.push.apply(r,w(i.accounts))}})),r}var aj={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function oj(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}var sj={},uj=function(e,t){return uj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},uj(e,t)};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */var cj=function(){return cj=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cj.apply(this,arguments)};function lj(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fj(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function hj(e){return this instanceof hj?(this.v=e,this):new hj(e)}var dj=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return cj},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:hj(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof hj?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(r){l(a[0][3],r)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=lj(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__await:hj,__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}uj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:fj,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fj(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},__values:lj},Symbol.toStringTag,{value:"Module"})),pj=E(dj),vj={};Object.defineProperty(vj,"__esModule",{value:!0}),vj.safeJsonParse=function(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return JSON.parse(e)}catch(on){return e}},vj.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,(function(e,t){return void 0===t?null:t}))};var mj,gj={exports:{}};var yj,bj={},wj={};var _j,kj,xj={};Object.defineProperty(sj,"__esModule",{value:!0}),sj.KeyValueStorage=void 0;var Ej=pj,Aj=vj,Sj=Ej.__importDefault((mj||(mj=1,function(){var e;function t(){}(e=t).prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){var e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),void 0!==x&&x.localStorage?gj.exports=x.localStorage:"undefined"!=typeof window&&window.localStorage?gj.exports=window.localStorage:gj.exports=new t}()),gj.exports)),Oj=(kj||(kj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=pj;t.__exportStar(function(){if(yj)return wj;yj=1,Object.defineProperty(wj,"__esModule",{value:!0}),wj.IKeyValueStorage=void 0;var e=O((function e(){A(this,e)}));return wj.IKeyValueStorage=e,wj}(),e),t.__exportStar(function(){if(_j)return xj;_j=1,Object.defineProperty(xj,"__esModule",{value:!0}),xj.parseEntry=void 0;var e=vj;return xj.parseEntry=function(t){var r;return[t[0],e.safeJsonParse(null!==(r=t[1])&&void 0!==r?r:"")]},xj}(),e)}(bj)),bj),Ij=function(){function e(){A(this,e),this.localStorage=Sj.default}return O(e,[{key:"getKeys",value:function(){return Ej.__awaiter(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(this.localStorage));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getEntries",value:function(){return Ej.__awaiter(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.entries(this.localStorage).map(Oj.parseEntry));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getItem",value:function(e){return Ej.__awaiter(this,void 0,void 0,o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(r=this.localStorage.getItem(e))){t.next=3;break}return t.abrupt("return",void 0);case 3:return t.abrupt("return",Aj.safeJsonParse(r));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setItem",value:function(e,t){return Ej.__awaiter(this,void 0,void 0,o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.localStorage.setItem(e,Aj.safeJsonStringify(t));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"removeItem",value:function(e){return Ej.__awaiter(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.localStorage.removeItem(e);case 1:case"end":return t.stop()}}),t,this)})))}}]),e}();sj.KeyValueStorage=Ij;var Rj=sj.default=Ij,Cj={},Nj=function(e,t){return Nj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Nj(e,t)};var Pj=function(){return Pj=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pj.apply(this,arguments)};function Mj(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jj(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function Tj(e){return this instanceof Tj?(this.v=e,this):new Tj(e)}var Lj,$j,Dj=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Pj},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:Tj(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Tj?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(r){l(a[0][3],r)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=Mj(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__await:Tj,__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}Nj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:jj,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jj(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},__values:Mj},Symbol.toStringTag,{value:"Module"})),Uj=E(Dj),Fj={},Bj={},qj={},zj=O((function e(){A(this,e)})),Hj=Object.freeze(Object.defineProperty({__proto__:null,IEvents:zj},Symbol.toStringTag,{value:"Module"})),Vj=E(Hj);function Wj(){return $j||($j=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Uj.__exportStar(function(){if(Lj)return qj;Lj=1,Object.defineProperty(qj,"__esModule",{value:!0}),qj.IHeartBeat=void 0;var e=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this)}return O(r)}(Vj.IEvents);return qj.IHeartBeat=e,qj}(),e)}(Bj)),Bj}var Gj,Kj,Zj,Yj={},Jj={};function Qj(){return Kj||(Kj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Uj.__exportStar(function(){if(Gj)return Jj;Gj=1,Object.defineProperty(Jj,"__esModule",{value:!0}),Jj.HEARTBEAT_EVENTS=Jj.HEARTBEAT_INTERVAL=void 0;var e=pM;return Jj.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,Jj.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Jj}(),e)}(Yj)),Yj}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Uj;t.__exportStar(function(){if(Zj)return Fj;Zj=1,Object.defineProperty(Fj,"__esModule",{value:!0}),Fj.HeartBeat=void 0;var e=Uj,t=pN,r=pM,n=Wj(),i=Qj(),a=function(n){f(s,n);var a=h(s);function s(e){var r;return A(this,s),(r=a.call(this,e)).events=new t.EventEmitter,r.interval=i.HEARTBEAT_INTERVAL,r.interval=(null==e?void 0:e.interval)||i.HEARTBEAT_INTERVAL,r}return O(s,[{key:"init",value:function(){return e.__awaiter(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){clearInterval(this.intervalRef)}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"initialize",value:function(){return e.__awaiter(this,void 0,void 0,o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.intervalRef=setInterval((function(){return t.pulse()}),r.toMiliseconds(this.interval));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"pulse",value:function(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}],[{key:"init",value:function(t){return e.__awaiter(this,void 0,void 0,o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new s(t),e.next=3,r.init();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}}]),s}(n.IHeartBeat);return Fj.HeartBeat=a,Fj}(),e),t.__exportStar(Wj(),e),t.__exportStar(Qj(),e)}(Cj);var Xj={},eT=function(e,t){return eT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},eT(e,t)};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */var tT=function(){return tT=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tT.apply(this,arguments)};function rT(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nT(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function iT(e){return this instanceof iT?(this.v=e,this):new iT(e)}var aT,oT,sT,uT,cT=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return tT},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:iT(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof iT?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(r){l(a[0][3],r)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=rT(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__await:iT,__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}eT(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:nT,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nT(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},__values:rT},Symbol.toStringTag,{value:"Module"})),lT=E(cT);function fT(){if(uT)return sT;uT=1;var e=function(){if(oT)return aT;function e(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}return oT=1,aT=function(t,r,n){var i=n&&n.stringify||e;if("object"==typeof t&&null!==t){var a=r.length+1;if(1===a)return t;var o=new Array(a);o[0]=i(t);for(var s=1;s<a;s++)o[s]=i(r[s]);return o.join(" ")}if("string"!=typeof t)return t;var u=r.length;if(0===u)return t;for(var c="",l=0,f=-1,h=t&&t.length||0,d=0;d<h;){if(37===t.charCodeAt(d)&&d+1<h){switch(f=f>-1?f:0,t.charCodeAt(d+1)){case 100:case 102:if(l>=u)break;if(null==r[l])break;f<d&&(c+=t.slice(f,d)),c+=Number(r[l]),f=d+2,d++;break;case 105:if(l>=u)break;if(null==r[l])break;f<d&&(c+=t.slice(f,d)),c+=Math.floor(Number(r[l])),f=d+2,d++;break;case 79:case 111:case 106:if(l>=u)break;if(void 0===r[l])break;f<d&&(c+=t.slice(f,d));var p=typeof r[l];if("string"===p){c+="'"+r[l]+"'",f=d+2,d++;break}if("function"===p){c+=r[l].name||"<anonymous>",f=d+2,d++;break}c+=i(r[l]),f=d+2,d++;break;case 115:if(l>=u)break;f<d&&(c+=t.slice(f,d)),c+=String(r[l]),f=d+2,d++;break;case 37:f<d&&(c+=t.slice(f,d)),c+="%",f=d+2,d++,l--}++l}++d}return-1===f?t:(f<h&&(c+=t.slice(f)),c)},aT}();sT=n;var t=function(){function e(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},r={mapHttpRequest:c,mapHttpResponse:c,wrapRequestSerializer:l,wrapResponseSerializer:l,wrapErrorSerializer:l,req:c,res:c,err:function(e){var t={type:e.constructor.name,msg:e.message,stack:e.stack};for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t}};function n(e){(e=e||{}).browser=e.browser||{};var r=e.browser.transmit;if(r&&"function"!=typeof r.send)throw Error("pino: transmit option must have a send function");var c=e.browser.write||t;e.browser.write&&(e.browser.asObject=!0);var l=e.serializers||{},h=function(e,t){return Array.isArray(e)?e.filter((function(e){return"!stdSerializers.err"!==e})):!0===e&&Object.keys(t)}(e.browser.serialize,l),d=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(d=!1);"function"==typeof c&&(c.error=c.fatal=c.warn=c.info=c.debug=c.trace=c),!1===e.enabled&&(e.level="silent");var p=e.level||"info",v=Object.create(c);v.log||(v.log=f),Object.defineProperty(v,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,i(m,v,"error","log"),i(m,v,"fatal","error"),i(m,v,"warn","error"),i(m,v,"info","log"),i(m,v,"debug","log"),i(m,v,"trace","log")}});var m={transmit:r,serialize:h,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:u(e)};return v.levels=n.levels,v.level=p,v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=f,v.serializers=l,v._serialize=h,v._stdErrSerialize=d,v.child=function(t,n){if(!t)throw new Error("missing bindings for child Pino");n=n||{},h&&t.serializers&&(n.serializers=t.serializers);var i=n.serializers;if(h&&i){var u=Object.assign({},l,i),c=!0===e.browser.serialize?Object.keys(u):h;delete t.serializers,a([t],c,u,this._stdErrSerialize)}function f(e){this._childLevel=1+(0|e._childLevel),this.error=o(e,t,"error"),this.fatal=o(e,t,"fatal"),this.warn=o(e,t,"warn"),this.info=o(e,t,"info"),this.debug=o(e,t,"debug"),this.trace=o(e,t,"trace"),u&&(this.serializers=u,this._serialize=c),r&&(this._logEvent=s([].concat(e._logEvent.bindings,t)))}return f.prototype=this,new f(this)},r&&(v._logEvent=s()),v}function i(r,i,o,u){var c=Object.getPrototypeOf(i);i[o]=i.levelVal>i.levels.values[o]?f:c[o]?c[o]:t[o]||t[u]||f,function(r,i,o){if(!r.transmit&&i[o]===f)return;i[o]=(u=i[o],function(){for(var c=r.timestamp(),l=new Array(arguments.length),f=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this,h=0;h<l.length;h++)l[h]=arguments[h];if(r.serialize&&!r.asObject&&a(l,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?u.call(f,function(t,r,i,o){t._serialize&&a(i,t._serialize,t.serializers,t._stdErrSerialize);var s=i.slice(),u=s[0],c={};o&&(c.time=o),c.level=n.levels.values[r];var l=1+(0|t._childLevel);if(l<1&&(l=1),null!==u&&"object"==typeof u){for(;l--&&"object"==typeof s[0];)Object.assign(c,s.shift());u=s.length?e(s.shift(),s):void 0}else"string"==typeof u&&(u=e(s.shift(),s));return void 0!==u&&(c.msg=u),c}(this,o,l,c)):u.apply(f,l),r.transmit){var d=r.transmit.level||i.level,p=n.levels.values[d],v=n.levels.values[o];if(v<p)return;!function(e,t,r){var n=t.send,i=t.ts,o=t.methodLevel,u=t.methodValue,c=t.val,l=e._logEvent.bindings;a(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter((function(e){return-1===l.indexOf(e)})),e._logEvent.level.label=o,e._logEvent.level.value=u,n(o,e._logEvent,c),e._logEvent=s(l)}(this,{ts:c,methodLevel:o,methodValue:v,transmitLevel:d,transmitValue:n.levels.values[r.transmit.level||i.level],send:r.transmit.send,val:i.levelVal},l)}});var u}(r,i,o)}function a(e,t,r,i){for(var a in e)if(i&&e[a]instanceof Error)e[a]=n.stdSerializers.err(e[a]);else if("object"==typeof e[a]&&!Array.isArray(e[a]))for(var o in e[a])t&&t.indexOf(o)>-1&&o in r&&(e[a][o]=r[o](e[a][o]))}function o(e,t,r){return function(){var n=new Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function s(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function u(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?h:d}function c(){return{}}function l(e){return e}function f(){}function h(){return!1}function d(){return Date.now()}return n.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},n.stdSerializers=r,n.stdTimeFunctions=Object.assign({},{nullTime:h,epochTime:d,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),sT}var hT,dT={};function pT(){return hT||(hT=1,Object.defineProperty(dT,"__esModule",{value:!0}),dT.PINO_CUSTOM_CONTEXT_KEY=dT.PINO_LOGGER_DEFAULTS=void 0,dT.PINO_LOGGER_DEFAULTS={level:"info"},dT.PINO_CUSTOM_CONTEXT_KEY="custom_context"),dT}var vT,mT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;var t=lT,r=t.__importDefault(fT());Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return r.default}}),t.__exportStar(pT(),e),t.__exportStar(function(){if(vT)return mT;vT=1,Object.defineProperty(mT,"__esModule",{value:!0}),mT.generateChildLogger=mT.formatChildLoggerContext=mT.getLoggerContext=mT.setBrowserLoggerContext=mT.getBrowserLoggerContext=mT.getDefaultLoggerOptions=void 0;var e=pT();function t(t){return t[arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.PINO_CUSTOM_CONTEXT_KEY]||""}function r(t,r){return t[arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.PINO_CUSTOM_CONTEXT_KEY]=r,t}function n(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.PINO_CUSTOM_CONTEXT_KEY;return void 0===r.bindings?t(r,n):r.bindings().context||""}function i(t,r){var i=n(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.PINO_CUSTOM_CONTEXT_KEY);return i.trim()?"".concat(i,"/").concat(r):r}return mT.getDefaultLoggerOptions=function(t){return Object.assign(Object.assign({},t),{level:(null==t?void 0:t.level)||e.PINO_LOGGER_DEFAULTS.level})},mT.getBrowserLoggerContext=t,mT.setBrowserLoggerContext=r,mT.getLoggerContext=n,mT.formatChildLoggerContext=i,mT.generateChildLogger=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.PINO_CUSTOM_CONTEXT_KEY,o=i(t,n,a);return r(t.child({context:o}),o,a)},mT}(),e)}(Xj);var gT=function(e){f(r,e);var t=h(r);function r(e){var n;return A(this,r),(n=t.call(this)).opts=e,n.protocol="wc",n.version=2,n}return O(r)}(zj),yT=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this)).core=e,i.logger=n,i.records=new Map,i}return O(r)}(zj),bT=O((function e(t,r){A(this,e),this.logger=t,this.core=r})),wT=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this)).relayer=e,i.logger=n,i}return O(r)}(zj),_T=function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this)}return O(r)}(zj),kT=O((function e(t,r,n,i){A(this,e),this.core=t,this.logger=r,this.name=n})),xT=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this)).relayer=e,i.logger=n,i}return O(r)}(zj),ET=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this)).core=e,i.logger=n,i}return O(r)}(zj),AT=O((function e(t,r){A(this,e),this.projectId=t,this.logger=r})),ST=O((function e(t){A(this,e),this.opts=t,this.protocol="wc",this.version=2})),OT=O((function e(t){A(this,e),this.client=t})),IT=function(e){return JSON.stringify(e,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))};function RT(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),JSON.parse(t,(function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t}))}catch(on){return e}var t}function CT(e){return"string"==typeof e?e:IT(e)||""}var NT={},PT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=yN,r=NN;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function n(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return n.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},n.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},n.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},n.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[n++],r--;return this},n.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,o=r<<3,s=r%128<112?128:256;this._buffer[n]=128;for(var u=n+1;u<s-8;u++)this._buffer[u]=0;t.writeUint32BE(i,this._buffer,s-8),t.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(u=0;u<this.digestLength/8;u++)t.writeUint32BE(this._stateHi[u],e,8*u),t.writeUint32BE(this._stateLo[u],e,8*u+4);return this},n.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},n.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},n.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},n.prototype.cleanSavedState=function(e){r.wipe(e.stateHi),r.wipe(e.stateLo),e.buffer&&r.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},n}();e.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,r,n,a,o,s,u){for(var c,l,f,h,d,p,v,m,g=n[0],y=n[1],b=n[2],w=n[3],_=n[4],k=n[5],x=n[6],E=n[7],A=a[0],S=a[1],O=a[2],I=a[3],R=a[4],C=a[5],N=a[6],P=a[7];u>=128;){for(var M=0;M<16;M++){var j=8*M+s;e[M]=t.readUint32BE(o,j),r[M]=t.readUint32BE(o,j+4)}for(M=0;M<80;M++){var T,L,$=g,D=y,U=b,F=w,B=_,q=k,z=x,H=A,V=S,W=O,G=I,K=R,Z=C,Y=N;if(d=65535&(l=P),p=l>>>16,v=65535&(c=E),m=c>>>16,d+=65535&(l=(R>>>14|_<<18)^(R>>>18|_<<14)^(_>>>9|R<<23)),p+=l>>>16,v+=65535&(c=(_>>>14|R<<18)^(_>>>18|R<<14)^(R>>>9|_<<23)),m+=c>>>16,d+=65535&(l=R&C^~R&N),p+=l>>>16,v+=65535&(c=_&k^~_&x),m+=c>>>16,c=i[2*M],d+=65535&(l=i[2*M+1]),p+=l>>>16,v+=65535&c,m+=c>>>16,c=e[M%16],p+=(l=r[M%16])>>>16,v+=65535&c,m+=c>>>16,v+=(p+=(d+=65535&l)>>>16)>>>16,d=65535&(l=h=65535&d|p<<16),p=l>>>16,v=65535&(c=f=65535&v|(m+=v>>>16)<<16),m=c>>>16,d+=65535&(l=(A>>>28|g<<4)^(g>>>2|A<<30)^(g>>>7|A<<25)),p+=l>>>16,v+=65535&(c=(g>>>28|A<<4)^(A>>>2|g<<30)^(A>>>7|g<<25)),m+=c>>>16,p+=(l=A&S^A&O^S&O)>>>16,v+=65535&(c=g&y^g&b^y&b),m+=c>>>16,T=65535&(v+=(p+=(d+=65535&l)>>>16)>>>16)|(m+=v>>>16)<<16,L=65535&d|p<<16,d=65535&(l=G),p=l>>>16,v=65535&(c=F),m=c>>>16,p+=(l=h)>>>16,v+=65535&(c=f),m+=c>>>16,y=$,b=D,w=U,_=F=65535&(v+=(p+=(d+=65535&l)>>>16)>>>16)|(m+=v>>>16)<<16,k=B,x=q,E=z,g=T,S=H,O=V,I=W,R=G=65535&d|p<<16,C=K,N=Z,P=Y,A=L,M%16==15)for(j=0;j<16;j++)c=e[j],d=65535&(l=r[j]),p=l>>>16,v=65535&c,m=c>>>16,c=e[(j+9)%16],d+=65535&(l=r[(j+9)%16]),p+=l>>>16,v+=65535&c,m+=c>>>16,f=e[(j+1)%16],d+=65535&(l=((h=r[(j+1)%16])>>>1|f<<31)^(h>>>8|f<<24)^(h>>>7|f<<25)),p+=l>>>16,v+=65535&(c=(f>>>1|h<<31)^(f>>>8|h<<24)^f>>>7),m+=c>>>16,f=e[(j+14)%16],p+=(l=((h=r[(j+14)%16])>>>19|f<<13)^(f>>>29|h<<3)^(h>>>6|f<<26))>>>16,v+=65535&(c=(f>>>19|h<<13)^(h>>>29|f<<3)^f>>>6),m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,e[j]=65535&v|m<<16,r[j]=65535&d|p<<16}d=65535&(l=A),p=l>>>16,v=65535&(c=g),m=c>>>16,c=n[0],p+=(l=a[0])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[0]=g=65535&v|m<<16,a[0]=A=65535&d|p<<16,d=65535&(l=S),p=l>>>16,v=65535&(c=y),m=c>>>16,c=n[1],p+=(l=a[1])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[1]=y=65535&v|m<<16,a[1]=S=65535&d|p<<16,d=65535&(l=O),p=l>>>16,v=65535&(c=b),m=c>>>16,c=n[2],p+=(l=a[2])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[2]=b=65535&v|m<<16,a[2]=O=65535&d|p<<16,d=65535&(l=I),p=l>>>16,v=65535&(c=w),m=c>>>16,c=n[3],p+=(l=a[3])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[3]=w=65535&v|m<<16,a[3]=I=65535&d|p<<16,d=65535&(l=R),p=l>>>16,v=65535&(c=_),m=c>>>16,c=n[4],p+=(l=a[4])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[4]=_=65535&v|m<<16,a[4]=R=65535&d|p<<16,d=65535&(l=C),p=l>>>16,v=65535&(c=k),m=c>>>16,c=n[5],p+=(l=a[5])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[5]=k=65535&v|m<<16,a[5]=C=65535&d|p<<16,d=65535&(l=N),p=l>>>16,v=65535&(c=x),m=c>>>16,c=n[6],p+=(l=a[6])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[6]=x=65535&v|m<<16,a[6]=N=65535&d|p<<16,d=65535&(l=P),p=l>>>16,v=65535&(c=E),m=c>>>16,c=n[7],p+=(l=a[7])>>>16,v+=65535&c,m+=c>>>16,m+=(v+=(p+=(d+=65535&l)>>>16)>>>16)>>>16,n[7]=E=65535&v|m<<16,a[7]=P=65535&d|p<<16,s+=128,u-=128}return s}e.hash=function(e){var t=new n;t.update(e);var r=t.digest();return t.clean(),r}}(PT),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;var t=QN,r=PT,n=NN;function i(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32,new Uint8Array(32)[0]=9;var a=i(),o=i([1]),s=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t){for(var r=0;r<16;r++)e[r]=0|t[r]}function d(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function p(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var a=n&(e[i]^t[i]);e[i]^=a,t[i]^=a}}function v(e,t){for(var r=i(),n=i(),a=0;a<16;a++)n[a]=t[a];d(n),d(n),d(n);for(var o=0;o<2;o++){r[0]=n[0]-65517;for(var s=1;s<15;s++)r[s]=n[s]-65535-(r[s-1]>>16&1),r[s-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var u=r[15]>>16&1;r[14]&=65535,p(n,r,1-u)}for(var c=0;c<16;c++)e[2*c]=255&n[c],e[2*c+1]=n[c]>>8}function m(e,t){for(var r=0,n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function g(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return v(r,e),v(n,t),m(r,n)}function y(e){var t=new Uint8Array(32);return v(t,e),1&t[0]}function b(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function w(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function _(e,t,r){var n,i,a=0,o=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,p=0,v=0,m=0,g=0,y=0,b=0,w=0,_=0,k=0,x=0,E=0,A=0,S=0,O=0,I=0,R=0,C=0,N=0,P=0,M=0,j=0,T=0,L=r[0],$=r[1],D=r[2],U=r[3],F=r[4],B=r[5],q=r[6],z=r[7],H=r[8],V=r[9],W=r[10],G=r[11],K=r[12],Z=r[13],Y=r[14],J=r[15];a+=(n=t[0])*L,o+=n*$,s+=n*D,u+=n*U,c+=n*F,l+=n*B,f+=n*q,h+=n*z,d+=n*H,p+=n*V,v+=n*W,m+=n*G,g+=n*K,y+=n*Z,b+=n*Y,w+=n*J,o+=(n=t[1])*L,s+=n*$,u+=n*D,c+=n*U,l+=n*F,f+=n*B,h+=n*q,d+=n*z,p+=n*H,v+=n*V,m+=n*W,g+=n*G,y+=n*K,b+=n*Z,w+=n*Y,_+=n*J,s+=(n=t[2])*L,u+=n*$,c+=n*D,l+=n*U,f+=n*F,h+=n*B,d+=n*q,p+=n*z,v+=n*H,m+=n*V,g+=n*W,y+=n*G,b+=n*K,w+=n*Z,_+=n*Y,k+=n*J,u+=(n=t[3])*L,c+=n*$,l+=n*D,f+=n*U,h+=n*F,d+=n*B,p+=n*q,v+=n*z,m+=n*H,g+=n*V,y+=n*W,b+=n*G,w+=n*K,_+=n*Z,k+=n*Y,x+=n*J,c+=(n=t[4])*L,l+=n*$,f+=n*D,h+=n*U,d+=n*F,p+=n*B,v+=n*q,m+=n*z,g+=n*H,y+=n*V,b+=n*W,w+=n*G,_+=n*K,k+=n*Z,x+=n*Y,E+=n*J,l+=(n=t[5])*L,f+=n*$,h+=n*D,d+=n*U,p+=n*F,v+=n*B,m+=n*q,g+=n*z,y+=n*H,b+=n*V,w+=n*W,_+=n*G,k+=n*K,x+=n*Z,E+=n*Y,A+=n*J,f+=(n=t[6])*L,h+=n*$,d+=n*D,p+=n*U,v+=n*F,m+=n*B,g+=n*q,y+=n*z,b+=n*H,w+=n*V,_+=n*W,k+=n*G,x+=n*K,E+=n*Z,A+=n*Y,S+=n*J,h+=(n=t[7])*L,d+=n*$,p+=n*D,v+=n*U,m+=n*F,g+=n*B,y+=n*q,b+=n*z,w+=n*H,_+=n*V,k+=n*W,x+=n*G,E+=n*K,A+=n*Z,S+=n*Y,O+=n*J,d+=(n=t[8])*L,p+=n*$,v+=n*D,m+=n*U,g+=n*F,y+=n*B,b+=n*q,w+=n*z,_+=n*H,k+=n*V,x+=n*W,E+=n*G,A+=n*K,S+=n*Z,O+=n*Y,I+=n*J,p+=(n=t[9])*L,v+=n*$,m+=n*D,g+=n*U,y+=n*F,b+=n*B,w+=n*q,_+=n*z,k+=n*H,x+=n*V,E+=n*W,A+=n*G,S+=n*K,O+=n*Z,I+=n*Y,R+=n*J,v+=(n=t[10])*L,m+=n*$,g+=n*D,y+=n*U,b+=n*F,w+=n*B,_+=n*q,k+=n*z,x+=n*H,E+=n*V,A+=n*W,S+=n*G,O+=n*K,I+=n*Z,R+=n*Y,C+=n*J,m+=(n=t[11])*L,g+=n*$,y+=n*D,b+=n*U,w+=n*F,_+=n*B,k+=n*q,x+=n*z,E+=n*H,A+=n*V,S+=n*W,O+=n*G,I+=n*K,R+=n*Z,C+=n*Y,N+=n*J,g+=(n=t[12])*L,y+=n*$,b+=n*D,w+=n*U,_+=n*F,k+=n*B,x+=n*q,E+=n*z,A+=n*H,S+=n*V,O+=n*W,I+=n*G,R+=n*K,C+=n*Z,N+=n*Y,P+=n*J,y+=(n=t[13])*L,b+=n*$,w+=n*D,_+=n*U,k+=n*F,x+=n*B,E+=n*q,A+=n*z,S+=n*H,O+=n*V,I+=n*W,R+=n*G,C+=n*K,N+=n*Z,P+=n*Y,M+=n*J,b+=(n=t[14])*L,w+=n*$,_+=n*D,k+=n*U,x+=n*F,E+=n*B,A+=n*q,S+=n*z,O+=n*H,I+=n*V,R+=n*W,C+=n*G,N+=n*K,P+=n*Z,M+=n*Y,j+=n*J,w+=(n=t[15])*L,o+=38*(k+=n*D),s+=38*(x+=n*U),u+=38*(E+=n*F),c+=38*(A+=n*B),l+=38*(S+=n*q),f+=38*(O+=n*z),h+=38*(I+=n*H),d+=38*(R+=n*V),p+=38*(C+=n*W),v+=38*(N+=n*G),m+=38*(P+=n*K),g+=38*(M+=n*Z),y+=38*(j+=n*Y),b+=38*(T+=n*J),a=(n=(a+=38*(_+=n*$))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=h,e[8]=d,e[9]=p,e[10]=v,e[11]=m,e[12]=g,e[13]=y,e[14]=b,e[15]=w}function k(e,t){_(e,t,t)}function x(e,t){var r,n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)k(n,n),2!==r&&4!==r&&_(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function E(e,t){var r=i(),n=i(),a=i(),o=i(),s=i(),c=i(),l=i(),f=i(),h=i();w(r,e[1],e[0]),w(h,t[1],t[0]),_(r,r,h),b(n,e[0],e[1]),b(h,t[0],t[1]),_(n,n,h),_(a,e[3],t[3]),_(a,a,u),_(o,e[2],t[2]),b(o,o,o),w(s,n,r),w(c,o,a),b(l,o,a),b(f,n,r),_(e[0],s,c),_(e[1],f,l),_(e[2],l,c),_(e[3],s,f)}function A(e,t,r){for(var n=0;n<4;n++)p(e[n],t[n],r)}function S(e,t){var r=i(),n=i(),a=i();x(a,t[2]),_(r,t[0],a),_(n,t[1],a),v(e,n),e[31]^=y(r)<<7}function O(e,t,r){h(e[0],a),h(e[1],o),h(e[2],o),h(e[3],a);for(var n=255;n>=0;--n){var i=r[n/8|0]>>(7&n)&1;A(e,t,i),E(t,e),E(e,e),A(e,t,i)}}function I(e,t){var r=[i(),i(),i(),i()];h(r[0],c),h(r[1],l),h(r[2],o),_(r[3],c,l),O(e,r,t)}function R(t){if(t.length!==e.SEED_LENGTH)throw new Error("ed25519: seed must be ".concat(e.SEED_LENGTH," bytes"));var n=(0,r.hash)(t);n[0]&=248,n[31]&=127,n[31]|=64;var a=new Uint8Array(32),o=[i(),i(),i(),i()];I(o,n),S(a,o);var s=new Uint8Array(64);return s.set(t),s.set(a,32),{publicKey:a,secretKey:s}}e.generateKeyPairFromSeed=R,e.generateKeyPair=function(e){var r=(0,t.randomBytes)(32,e),i=R(r);return(0,n.wipe)(r),i},e.extractPublicKeyFromSecretKey=function(t){if(t.length!==e.SECRET_KEY_LENGTH)throw new Error("ed25519: secret key must be ".concat(e.SECRET_KEY_LENGTH," bytes"));return new Uint8Array(t.subarray(32))};var C=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function N(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*C[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*C[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*C[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function P(e){for(var t=new Float64Array(64),r=0;r<64;r++)t[r]=e[r];for(var n=0;n<64;n++)e[n]=0;N(e,t)}function M(e,t){var r=i(),n=i(),u=i(),c=i(),l=i(),d=i(),p=i();return h(e[2],o),function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),k(u,e[1]),_(c,u,s),w(u,u,e[2]),b(c,e[2],c),k(l,c),k(d,l),_(p,d,l),_(r,p,u),_(r,r,c),function(e,t){var r,n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)k(n,n),1!==r&&_(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(r,r),_(r,r,u),_(r,r,c),_(r,r,c),_(e[0],r,c),k(n,e[0]),_(n,n,c),g(n,u)&&_(e[0],e[0],f),k(n,e[0]),_(n,n,c),g(n,u)?-1:(y(e[0])===t[31]>>7&&w(e[0],a,e[0]),_(e[3],e[0],e[1]),0)}e.sign=function(e,t){var n=new Float64Array(64),a=[i(),i(),i(),i()],o=(0,r.hash)(e.subarray(0,32));o[0]&=248,o[31]&=127,o[31]|=64;var s=new Uint8Array(64);s.set(o.subarray(32),32);var u=new r.SHA512;u.update(s.subarray(32)),u.update(t);var c=u.digest();u.clean(),P(c),I(a,c),S(s,a),u.reset(),u.update(s.subarray(0,32)),u.update(e.subarray(32)),u.update(t);var l=u.digest();P(l);for(var f=0;f<32;f++)n[f]=c[f];for(var h=0;h<32;h++)for(var d=0;d<32;d++)n[h+d]+=l[h]*o[d];return N(s.subarray(32),n),s},e.verify=function(t,n,a){var o=new Uint8Array(32),s=[i(),i(),i(),i()],u=[i(),i(),i(),i()];if(a.length!==e.SIGNATURE_LENGTH)throw new Error("ed25519: signature must be ".concat(e.SIGNATURE_LENGTH," bytes"));if(M(u,t))return!1;var c=new r.SHA512;c.update(a.subarray(0,32)),c.update(t),c.update(n);var l=c.digest();return P(l),O(s,u,l),I(u,a.subarray(32)),E(s,u),S(o,s),!m(a,o)},e.convertPublicKeyToX25519=function(e){var t=[i(),i(),i(),i()];if(M(t,e))throw new Error("Ed25519: invalid public key");var r=i(),n=i(),a=t[1];b(r,o,a),w(n,o,a),x(n,n),_(r,r,n);var s=new Uint8Array(32);return v(s,r),s},e.convertSecretKeyToX25519=function(e){var t=(0,r.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;var i=new Uint8Array(t.subarray(0,32));return(0,n.wipe)(t),i}}(NT);var MT="EdDSA",jT="JWT",TT=".",LT="base64url",$T="utf8",DT="utf8",UT=":",FT="did",BT="key",qT="base58btc",zT="z",HT="K36";function VT(e){return dM(hM(CT(e),$T),LT)}function WT(e){var t=hM(HT,qT),r=zT+dM(dP([t,e]),qT);return[FT,BT,r].join(UT)}function GT(e){return[VT(e.header),VT(e.payload),(t=e.signature,dM(t,LT))].join(TT);var t}function KT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QN.randomBytes(32);return NT.generateKeyPairFromSeed(e)}function ZT(e,t,r,n){return YT.apply(this,arguments)}function YT(){return YT=u(o().mark((function e(t,r,n,i){var a,s,u,c,l,f,h=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:pM.fromMiliseconds(Date.now()),s={alg:MT,typ:jT},u=WT(i.publicKey),l=hM([VT((o={header:s,payload:c={iss:u,sub:t,aud:r,iat:a,exp:a+n}}).header),VT(o.payload)].join(TT),DT),f=NT.sign(i.secretKey,l),e.abrupt("return",GT({header:s,payload:c,signature:f}));case 8:case"end":return e.stop()}var o}),e)}))),YT.apply(this,arguments)}var JT=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},QT=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},XT=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},eL=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},tL=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},rL=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},nL=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,iL=3,aL=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],oL=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function sL(e){return e?uL(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new rL:"undefined"!=typeof navigator?uL(navigator.userAgent):"undefined"!=typeof process&&process.version?new XT(process.version.slice(1)):null}function uL(e){var t=function(e){return""!==e&&aL.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var a=i.exec(e);return!!a&&[n,a]}),!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new tL;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<iL&&(i=JT(JT([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(iL-i.length),!0)):i=[];var a=i.join("."),o=function(e){for(var t=0,r=oL.length;t<r;t++){var n=oL[t],i=n[0];if(n[1].exec(e))return i}return null}(e),s=nL.exec(e);return s&&s[1]?new eL(r,a,o,s[1]):new QT(r,a,o)}var cL={};function lL(e){var t=void 0;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function fL(e){var t=lL(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(cL,"__esModule",{value:!0}),cL.getLocalStorage=cL.getLocalStorageOrThrow=cL.getCrypto=cL.getCryptoOrThrow=pL=cL.getLocation=cL.getLocationOrThrow=dL=cL.getNavigator=cL.getNavigatorOrThrow=hL=cL.getDocument=cL.getDocumentOrThrow=cL.getFromWindowOrThrow=cL.getFromWindow=void 0,cL.getFromWindow=lL,cL.getFromWindowOrThrow=fL,cL.getDocumentOrThrow=function(){return fL("document")};var hL=cL.getDocument=function(){return lL("document")};cL.getNavigatorOrThrow=function(){return fL("navigator")};var dL=cL.getNavigator=function(){return lL("navigator")};cL.getLocationOrThrow=function(){return fL("location")};var pL=cL.getLocation=function(){return lL("location")};cL.getCryptoOrThrow=function(){return fL("crypto")},cL.getCrypto=function(){return lL("crypto")},cL.getLocalStorageOrThrow=function(){return fL("localStorage")},cL.getLocalStorage=function(){return lL("localStorage")};var vL={};Object.defineProperty(vL,"__esModule",{value:!0});var mL=vL.getWindowMetadata=void 0,gL=cL;mL=vL.getWindowMetadata=function(){var e,t;try{e=gL.getDocumentOrThrow(),t=gL.getLocationOrThrow()}catch(i){return null}function r(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i,a=e.getElementsByTagName("meta"),o=function(){var e=a[s],t=["itemprop","property","name"].map((function(t){return e.getAttribute(t)})).filter((function(e){return!!e&&r.includes(e)}));if(t.length&&t){var n=e.getAttribute("content");if(n)return{v:n}}},s=0;s<a.length;s++)if(i=o())return i.v;return""}var n=function(){var t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var r=e.getElementsByTagName("link"),n=[],i=0;i<r.length;i++){var a=r[i],o=a.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){var s=a.getAttribute("href");if(s)if(-1===s.toLowerCase().indexOf("https:")&&-1===s.toLowerCase().indexOf("http:")&&0!==s.indexOf("//")){var u=t.protocol+"//"+t.host;if(0===s.indexOf("/"))u+=s;else{var c=t.pathname.split("/");c.pop(),u+=c.join("/")+"/"+s}n.push(u)}else if(0===s.indexOf("//")){var l=t.protocol+s;n.push(l)}else n.push(s)}}return n}(),name:n}};var yL={};function bL(e,t){return e.includes(":")?[e]:t.chains||[]}!function(e){var t=KM,r=ej,n=tj,i=rj,a=Symbol("encodeFragmentIdentifier");function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,r){return r.encode?r.strict?t(e):encodeURIComponent(e):e}function u(e,t){return t.decode?r(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function l(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){var t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return function(e,r,n){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var i="string"==typeof r&&r.includes(e.arrayFormatSeparator),a="string"==typeof r&&!i&&u(r,e).includes(e.arrayFormatSeparator);r=a?u(r,e):r;var o=i||a?r.split(e.arrayFormatSeparator).map((function(t){return u(t,e)})):null===r?r:u(r,e);n[t]=o};case"bracket-separator":return function(t,r,n){var i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),i){var a=null===r?[]:r.split(e.arrayFormatSeparator).map((function(t){return u(t,e)}));void 0!==n[t]?n[t]=[].concat(n[t],a):n[t]=a}else n[t]=r?u(r,e):r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;var a,s=k(e.split("&"));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(""!==l){var f=_(n(t.decode?l.replace(/\+/g," "):l,"="),2),d=f[0],p=f[1];p=void 0===p?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?p:u(p,t),r(u(d,t),p,i)}}}catch(E){s.e(E)}finally{s.f()}for(var v=0,m=Object.keys(i);v<m.length;v++){var g=m[v],y=i[g];if("object"==typeof y&&null!==y)for(var b=0,w=Object.keys(y);b<w.length;b++){var x=w[b];y[x]=h(y[x],t)}else i[g]=h(y,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce((function(e,t){var r=i[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=c(r):e[t]=r,e}),Object.create(null))}e.extract=f,e.parse=d,e.stringify=function(e,t){if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(r){return t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),"[",i,"]"].join("")]:[[s(t,e),"[",s(i,e),"]=",s(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),"[]"].join("")]:[[s(t,e),"[]=",s(n,e)].join("")])}};case"colon-list-separator":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),":list="].join("")]:[[s(t,e),":list=",s(n,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(r){return function(n,i){return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[s(r,e),t,s(i,e)].join("")]:[[n,s(i,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[s(t,e)]:[[s(t,e),"=",s(n,e)].join("")])}}}}(t),i={},a=0,u=Object.keys(e);a<u.length;a++){var c=u[a];r(c)||(i[c]=e[c])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(r){var i=e[r];return void 0===i?"":null===i?s(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?s(r,t)+"[]":i.reduce(n(r),[]).join("&"):s(r,t)+"="+s(i,t)})).filter((function(e){return e.length>0})).join("&")},e.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=_(n(e,"#"),2),i=r[0],a=r[1];return Object.assign({url:i.split("?")[0]||"",query:d(f(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:u(a,t)}:{})},e.stringifyUrl=function(t,r){r=Object.assign(b({encode:!0,strict:!0},a,!0),r);var n=l(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),u=Object.assign(o,t.query),c=e.stringify(u,r);c&&(c="?".concat(c));var f=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(t.url);return t.fragmentIdentifier&&(f="#".concat(r[a]?s(t.fragmentIdentifier,r):t.fragmentIdentifier)),"".concat(n).concat(c).concat(f)},e.pick=function(t,r,n){n=Object.assign(b({parseFragmentIdentifier:!0},a,!1),n);var o=e.parseUrl(t,n),s=o.url,u=o.query,c=o.fragmentIdentifier;return e.stringifyUrl({url:s,query:i(u,r),fragmentIdentifier:c},n)},e.exclude=function(t,r,n){var i=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return e.pick(t,i,n)}}(yL);var wL="base10",_L="base16",kL="base64pad",xL="utf8",EL=0,AL=1,SL=0,OL=1,IL=12,RL=32;function CL(){return dM(QN.randomBytes(RL),_L)}function NL(e){return dM(cP.hash(hM(e,_L)),_L)}function PL(e){return dM(cP.hash(hM(e,xL)),_L)}function ML(e){return Number(dM(e,wL))}function jL(e){var t=function(e){return hM("".concat(e),wL)}(typeof e.type<"u"?e.type:EL);if(ML(t)===AL&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");var r=typeof e.senderPublicKey<"u"?hM(e.senderPublicKey,_L):void 0,n=typeof e.iv<"u"?hM(e.iv,_L):QN.randomBytes(IL);return function(e){if(ML(e.type)===AL){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return dM(dP([e.type,e.senderPublicKey,e.iv,e.sealed]),kL)}return dM(dP([e.type,e.iv,e.sealed]),kL)}({type:t,sealed:new mN.ChaCha20Poly1305(hM(e.symKey,_L)).seal(n,hM(e.message,xL)),iv:n,senderPublicKey:r})}function TL(e){var t=new mN.ChaCha20Poly1305(hM(e.symKey,_L)),r=LL(e.encoded),n=r.sealed,i=r.iv,a=t.open(i,n);if(null===a)throw new Error("Failed to decrypt");return dM(a,xL)}function LL(e){var t=hM(e,kL),r=t.slice(SL,OL),n=OL;if(ML(r)===AL){var i=n+RL,a=i+IL,o=t.slice(n,i),s=t.slice(i,a);return{type:r,sealed:t.slice(a),iv:s,senderPublicKey:o}}var u=n+IL,c=t.slice(n,u);return{type:r,sealed:t.slice(u),iv:c}}function $L(e,t){var r=LL(e);return DL({type:ML(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?dM(r.senderPublicKey,_L):void 0,receiverPublicKey:null==t?void 0:t.receiverPublicKey})}function DL(e){var t=(null==e?void 0:e.type)||EL;if(t===AL){if(typeof(null==e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null==e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null==e?void 0:e.senderPublicKey,receiverPublicKey:null==e?void 0:e.receiverPublicKey}}function UL(e){return e.type===AL&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var FL=Object.defineProperty,BL=Object.getOwnPropertySymbols,qL=Object.prototype.hasOwnProperty,zL=Object.prototype.propertyIsEnumerable,HL=function(e,t,r){return t in e?FL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},VL=function(e,t){for(var r in t||(t={}))qL.call(t,r)&&HL(e,r,t[r]);if(BL){var n,i=k(BL(t));try{for(i.s();!(n=i.n()).done;){r=n.value;zL.call(t,r)&&HL(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},WL="ReactNative",GL={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},KL="js";function ZL(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function YL(){return!hL()&&!!dL()&&navigator.product===WL}function JL(){return!ZL()&&!!dL()}function QL(){return YL()?GL.reactNative:ZL()?GL.node:JL()?GL.browser:GL.unknown}function XL(e,t,r){var n=function(){if(QL()===GL.reactNative&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){var e=global.Platform;return[e.OS,e.Version].join("-")}var t=sL();if(null===t)return"unknown";var r=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[r,t.name,t.version].join("-"):[r,t.version].join("-")}(),i=function(){var e,t=QL();return t===GL.browser?[t,(null==(e=pL())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[KL,r].join("-"),n,i].join("/")}function e$(e){var t=e.protocol,r=e.version,n=e.relayUrl,i=e.sdkVersion,a=e.auth,o=e.projectId,s=e.useOnCloseEvent,u=n.split("?"),c={auth:a,ua:XL(t,r,i),projectId:o,useOnCloseEvent:s||void 0},l=function(e,t){var r=yL.parse(e);return r=VL(VL({},r),t),yL.stringify(r)}(u[1]||"",c);return u[0]+"?"+l}function t$(e,t){return e.filter((function(e){return t.includes(e)})).length===e.length}function r$(e){return Object.fromEntries(e.entries())}function n$(e){return new Map(Object.entries(e))}function i$(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pM.FIVE_MINUTES,i=arguments.length>1?arguments[1]:void 0,a=pM.toMiliseconds(n||pM.FIVE_MINUTES);return{resolve:function(t){r&&e&&(clearTimeout(r),e(t))},reject:function(e){r&&t&&(clearTimeout(r),t(e))},done:function(){return new Promise((function(n,o){r=setTimeout((function(){o(new Error(i))}),a),e=n,t=o}))}}}function a$(e,t,r){return new Promise(function(){var n=u(o().mark((function n(i,a){var s,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=setTimeout((function(){return a(new Error(r))}),t),n.prev=1,n.next=4,e;case 4:u=n.sent,i(u),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a(n.t0);case 11:clearTimeout(s);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}())}function o$(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function s$(e){var t=_(e.split(":"),2),r=t[0],n=t[1],i={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof n)i.topic=n;else{if("id"!==r||!Number.isInteger(Number(n)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(r,":").concat(n));i.id=Number(n)}return i}function u$(e,t){return pM.fromMiliseconds((t||Date.now())+pM.toMiliseconds(e))}function c$(e){return Date.now()>=pM.toMiliseconds(e)}function l$(e,t){return"".concat(e).concat(t?":".concat(t):"")}function f$(e){return h$.apply(this,arguments)}function h$(){return h$=u(o().mark((function e(t){var r,n,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.topic,i=t.wcDeepLink,e.prev=1,i){e.next=4;break}return e.abrupt("return");case 4:if(a="string"==typeof i?JSON.parse(i):i,"string"==typeof(s=null==a?void 0:a.href)){e.next=8;break}return e.abrupt("return");case 8:if(s.endsWith("/")&&(s=s.slice(0,-1)),u="".concat(s,"/wc?requestId=").concat(r,"&sessionTopic=").concat(n),(c=QL())!==GL.browser){e.next=14;break}u.startsWith("https://")?window.open(u,"_blank","noreferrer noopener"):window.open(u,"_self","noreferrer noopener"),e.next=18;break;case 14:if(e.t0=c===GL.reactNative&&typeof(null==global?void 0:global.Linking)<"u",!e.t0){e.next=18;break}return e.next=18,global.Linking.openURL(u);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),console.error(e.t1);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),h$.apply(this,arguments)}function d$(e){return(null==e?void 0:e.relay)||{protocol:"irn"}}function p$(e){var t=nj[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var v$=Object.defineProperty,m$=Object.getOwnPropertySymbols,g$=Object.prototype.hasOwnProperty,y$=Object.prototype.propertyIsEnumerable,b$=function(e,t,r){return t in e?v$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};function w$(e){var t={},r="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((function(n){if(n.startsWith(r)){var i=n.replace(r,""),a=e[n];t[i]=a}})),t}function _$(e){var t=e.indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),a=typeof r<"u"?e.substring(r):"",o=yL.parse(a);return{protocol:n,topic:k$(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:w$(o)}}function k$(e){return e.startsWith("//")?e.substring(2):e}function x$(e){return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?")+yL.stringify(function(e,t){for(var r in t||(t={}))g$.call(t,r)&&b$(e,r,t[r]);if(m$){var n,i=k(m$(t));try{for(i.s();!(n=i.n()).done;)r=n.value,y$.call(t,r)&&b$(e,r,t[r])}catch(a){i.e(a)}finally{i.f()}}return e}({symKey:e.symKey},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r={};return Object.keys(e).forEach((function(n){var i="relay"+t+n;e[n]&&(r[i]=e[n])})),r}(e.relay)))}function E$(e){var t=[];return e.forEach((function(e){var r=_(e.split(":"),2),n=r[0],i=r[1];t.push("".concat(n,":").concat(i))})),t}function A$(e,t){var r=q$(e,t);if(r)throw new Error(r.message);for(var n={},i=0,a=Object.entries(e);i<a.length;i++){var o=_(a[i],2),s=o[0],u=o[1];n[s]={methods:u.methods,events:u.events,chains:u.accounts.map((function(e){return"".concat(e.split(":")[0],":").concat(e.split(":")[1])}))}}return n}var S$={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},O$={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function I$(e,t){var r=O$[e],n=r.message,i=r.code;return{message:t?"".concat(n," ").concat(t):n,code:i}}function R$(e,t){var r=S$[e],n=r.message,i=r.code;return{message:t?"".concat(n," ").concat(t):n,code:i}}function C$(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function N$(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function P$(e){return typeof e>"u"}function M$(e,t){return!(!t||!P$(e))||"string"==typeof e&&!!e.trim().length}function j$(e,t){return!(!t||!P$(e))||"number"==typeof e&&!isNaN(e)}function T$(e){return!(!M$(e,!1)||!e.includes(":"))&&2===e.split(":").length}function L$(e){var t;return null==(t=null==e?void 0:e.proposer)?void 0:t.publicKey}function $$(e){return null==e?void 0:e.topic}function D$(e){var t=!0;return C$(e)?e.length&&(t=e.every((function(e){return M$(e,!1)}))):t=!1,t}function U$(e,t,r){var n=null;return Object.entries(e).forEach((function(e){var i=_(e,2),a=i[0],o=i[1];if(!n){var s=function(e,t,r){var n=null;return C$(t)&&t.length?t.forEach((function(e){n||T$(e)||(n=R$("UNSUPPORTED_CHAINS","".concat(r,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))})):T$(e)||(n=R$("UNSUPPORTED_CHAINS","".concat(r,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),n}(a,bL(a,o),"".concat(t," ").concat(r));s&&(n=s)}})),n}function F$(e,t){var r=null;return C$(e)?e.forEach((function(e){r||function(e){if(M$(e,!1)&&e.includes(":")){var t=e.split(":");if(3===t.length){var r=t[0]+":"+t[1];return!!t[2]&&T$(r)}}return!1}(e)||(r=R$("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))})):r=R$("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),r}function B$(e,t){var r=null;return Object.values(e).forEach((function(e){if(!r){var n=function(e,t){var r=null;return D$(null==e?void 0:e.methods)?D$(null==e?void 0:e.events)||(r=R$("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):r=R$("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),r}(e,"".concat(t,", namespace"));n&&(r=n)}})),r}function q$(e,t){var r=null;if(e&&N$(e)){var n=B$(e,t);n&&(r=n);var i=function(e,t){var r=null;return Object.values(e).forEach((function(e){if(!r){var n=F$(null==e?void 0:e.accounts,"".concat(t," namespace"));n&&(r=n)}})),r}(e,t);i&&(r=i)}else r=I$("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return r}function z$(e){return M$(e.protocol,!0)}function H$(e,t){var r=!1;return t&&!e?r=!0:e&&C$(e)&&e.length&&e.forEach((function(e){r=z$(e)})),r}function V$(e){return"number"==typeof e}function W$(e){return typeof e<"u"&&null!==typeof e}function G$(e){return!!(e&&"object"==typeof e&&e.code&&j$(e.code,!1)&&e.message&&M$(e.message,!1))}function K$(e){return!(P$(e)||!M$(e.method,!1))}function Z$(e){return!(P$(e)||P$(e.result)&&P$(e.error)||!j$(e.id,!1)||!M$(e.jsonrpc,!1))}function Y$(e){return!(P$(e)||!M$(e.name,!1))}function J$(e,t){return!(!T$(t)||!function(e){var t=[];return Object.values(e).forEach((function(e){t.push.apply(t,w(E$(e.accounts)))})),t}(e).includes(t))}function Q$(e,t,r){return!!M$(r,!1)&&function(e,t){var r=[];return Object.values(e).forEach((function(e){E$(e.accounts).includes(t)&&r.push.apply(r,w(e.methods))})),r}(e,t).includes(r)}function X$(e,t,r){return!!M$(r,!1)&&function(e,t){var r=[];return Object.values(e).forEach((function(e){E$(e.accounts).includes(t)&&r.push.apply(r,w(e.events))})),r}(e,t).includes(r)}function eD(e,t,r){var n=null,i=function(e){var t={};return Object.keys(e).forEach((function(r){var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach((function(n){t[n]={methods:e[r].methods,events:e[r].events}}))})),t}(e),a=function(e){var t={};return Object.keys(e).forEach((function(r){if(r.includes(":"))t[r]=e[r];else{var n=E$(e[r].accounts);null==n||n.forEach((function(n){t[n]={accounts:e[r].accounts.filter((function(e){return e.includes("".concat(n,":"))})),methods:e[r].methods,events:e[r].events}}))}})),t}(t),o=Object.keys(i),s=Object.keys(a),u=tD(Object.keys(e)),c=tD(Object.keys(t)),l=u.filter((function(e){return!c.includes(e)}));return l.length&&(n=I$("NON_CONFORMING_NAMESPACES","".concat(r," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(l.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),t$(o,s)||(n=I$("NON_CONFORMING_NAMESPACES","".concat(r," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(s.toString()))),Object.keys(t).forEach((function(e){if(e.includes(":")&&!n){var i=E$(t[e].accounts);i.includes(e)||(n=I$("NON_CONFORMING_NAMESPACES","".concat(r," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))}})),o.forEach((function(e){n||(t$(i[e].methods,a[e].methods)?t$(i[e].events,a[e].events)||(n=I$("NON_CONFORMING_NAMESPACES","".concat(r," namespaces events don't satisfy namespace events for ").concat(e))):n=I$("NON_CONFORMING_NAMESPACES","".concat(r," namespaces methods don't satisfy namespace methods for ").concat(e)))})),n}function tD(e){return w(new Set(e.map((function(e){return e.includes(":")?e.split(":")[0]:e}))))}function rD(e,t){return j$(e,!1)&&e<=t.max&&e>=t.min}function nD(){var e=QL();return new Promise((function(t){switch(e){case GL.browser:t(JL()&&(null===(r=navigator)||void 0===r?void 0:r.onLine));break;case GL.reactNative:t(function(){return iD.apply(this,arguments)}());break;case GL.node:default:t(!0)}var r}))}function iD(){return(iD=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(YL()&&typeof global<"u"&&null!=global&&global.NetInfo)){e.next=5;break}return e.next=3,null==global?void 0:global.NetInfo.fetch();case 3:return t=e.sent,e.abrupt("return",null==t?void 0:t.isConnected);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aD(e){switch(QL()){case GL.browser:!function(e){JL()&&(window.addEventListener("online",(function(){return e(!0)})),window.addEventListener("offline",(function(){return e(!1)})))}(e);break;case GL.reactNative:!function(e){var t;YL()&&typeof global<"u"&&null!=global&&global.NetInfo&&(null===(t=global)||void 0===t||t.NetInfo.addEventListener((function(t){return e(null==t?void 0:t.isConnected)})))}(e)}}var oD={},sD=function(){function e(){A(this,e)}return O(e,null,[{key:"get",value:function(e){return oD[e]}},{key:"set",value:function(e,t){oD[e]=t}},{key:"delete",value:function(e){delete oD[e]}}]),e}(),uD="INTERNAL_ERROR",cD="SERVER_ERROR",lD=[-32700,-32600,-32601,-32602,-32603],fD=(b(de={},"PARSE_ERROR",{code:-32700,message:"Parse error"}),b(de,"INVALID_REQUEST",{code:-32600,message:"Invalid Request"}),b(de,"METHOD_NOT_FOUND",{code:-32601,message:"Method not found"}),b(de,"INVALID_PARAMS",{code:-32602,message:"Invalid params"}),b(de,uD,{code:-32603,message:"Internal error"}),b(de,cD,{code:-32e3,message:"Server error"}),de),hD=cD;function dD(e){return Object.keys(fD).includes(e)?fD[e]:fD[hD]}function pD(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(r," RPC url at ").concat(t)):e}var vD=s("bG",{}),mD=function(e,t){return mD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},mD(e,t)};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */var gD=function(){return gD=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gD.apply(this,arguments)};function yD(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bD(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function wD(e){return this instanceof wD?(this.v=e,this):new wD(e)}var _D,kD=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return gD},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:wD(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof wD?Promise.resolve(e.value.v).then(u,c):l(a[0][2],e)}(i[e](t))}catch(r){l(a[0][3],r)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=yD(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__await:wD,__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}mD(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:bD,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bD(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},__values:yD},Symbol.toStringTag,{value:"Module"})),xD=E(kD),ED={};var AD,SD={};function OD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function ID(){return BigInt(OD(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function RD(e,t,r){return{id:r||OD(),jsonrpc:"2.0",method:e,params:t}}function CD(e,t){return{id:e,jsonrpc:"2.0",result:t}}function ND(e,t,r){return{id:e,jsonrpc:"2.0",error:PD(t,r)}}function PD(e,t){return void 0===e?dD(uD):("string"==typeof e&&(e=Object.assign(Object.assign({},dD(cD)),{message:e})),void 0!==t&&(e.data=t),r=e.code,lD.includes(r)&&(e=function(e){var t=Object.values(fD).find((function(t){return t.code===e}));return t||fD[hD]}(e.code)),e);var r}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=xD;t.__exportStar(function(){if(_D)return ED;function e(){return(null==x?void 0:x.crypto)||(null==x?void 0:x.msCrypto)||{}}function t(){var t=e();return t.subtle||t.webkitSubtle}return _D=1,Object.defineProperty(ED,"__esModule",{value:!0}),ED.isBrowserCryptoAvailable=ED.getSubtleCrypto=ED.getBrowerCrypto=void 0,ED.getBrowerCrypto=e,ED.getSubtleCrypto=t,ED.isBrowserCryptoAvailable=function(){return!!e()&&!!t()},ED}(),e),t.__exportStar(function(){if(AD)return SD;function e(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function t(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}return AD=1,Object.defineProperty(SD,"__esModule",{value:!0}),SD.isBrowser=SD.isNode=SD.isReactNative=void 0,SD.isReactNative=e,SD.isNode=t,SD.isBrowser=function(){return!e()&&!t()},SD}(),e)}(vD);function MD(e,t){var r=function(e){var t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function jD(e){return MD(e,"^https?:")}function TD(e){return MD(e,"^wss?:")}function LD(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function $D(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function DD(e){return $D(e)&&"method"in e}function UD(e){return $D(e)&&(FD(e)||BD(e))}function FD(e){return"result"in e}function BD(e){return"error"in e}var qD=function(e){f(l,e);var t,r,n,i,a,s,c=h(l);function l(e){var t;return A(this,l),(t=c.call(this,e)).events=new pN.EventEmitter,t.hasRegisteredEventListeners=!1,t.connection=t.setConnection(e),t.connection.connected&&t.registerEventListeners(),t}return O(l,[{key:"connect",value:(s=u(o().mark((function e(){var t,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.connection,e.next=3,this.open(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"disconnect",value:(a=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"request",value:(i=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.requestStrict(RD(t.method,t.params||[],t.id||ID().toString()),r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"requestStrict",value:(n=u(o().mark((function e(t,r){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=u(o().mark((function e(i,a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.connection.connected){e.next=9;break}return e.prev=1,e.next=4,n.open();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a(e.t0);case 9:return n.events.on("".concat(t.id),(function(e){BD(e)?a(e.error):i(e.result)})),e.prev=10,e.next=13,n.connection.send(t,r);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),a(e.t1);case 18:case"end":return e.stop()}}),e,null,[[1,6],[10,15]])})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"setConnection",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}},{key:"onPayload",value:function(e){this.events.emit("payload",e),UD(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}},{key:"onClose",value:function(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}},{key:"open",value:(r=u(o().mark((function e(){var t,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:this.connection,this.connection!==t||!this.connection.connected){e.next=3;break}return e.abrupt("return");case 3:if(this.connection.connected&&this.close(),"string"!=typeof t){e.next=8;break}return e.next=7,this.connection.open(t);case 7:t=this.connection;case 8:return this.connection=this.setConnection(t),e.next=11,this.connection.open();case 11:this.registerEventListeners(),this.events.emit("connect");case 13:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"close",value:(t=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.close();case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var e=this;this.hasRegisteredEventListeners||(this.connection.on("payload",(function(t){return e.onPayload(t)})),this.connection.on("close",(function(t){return e.onClose(t)})),this.connection.on("error",(function(t){return e.events.emit("error",t)})),this.connection.on("register_error",(function(t){return e.onClose()})),this.hasRegisteredEventListeners=!0)}}]),l}(function(e){f(r,e);var t=h(r);function r(e){return A(this,r),t.call(this)}return O(r)}(function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.call(this)}return O(r)}(O((function e(){A(this,e)}))))),zD=function(e){return e.split("?")[0]},HD="undefined"!=typeof WebSocket?WebSocket:"undefined"!=typeof global&&void 0!==global.WebSocket?global.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:require("ws"),VD=function(){function e(t){if(A(this,e),this.url=t,this.events=new pN.EventEmitter,this.registering=!1,!TD(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));this.url=t}var t,r,n;return O(e,[{key:"connected",get:function(){return void 0!==this.socket}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(n=u(o().mark((function e(){var t,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"close",value:(r=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){void 0!==t.socket?(t.socket.onclose=function(r){t.onClose(r),e()},t.socket.close()):r(new Error("Connection already closed"))})));case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"send",value:(t=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.socket){e.next=4;break}return e.next=3,this.register();case 3:this.socket=e.sent;case 4:try{this.socket.send(CT(t))}catch(r){this.onError(t.id,r)}case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"register",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!TD(t))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(t));if(this.registering){var r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((function(t,r){e.events.once("register_error",(function(t){e.resetMaxListeners(),r(t)})),e.events.once("open",(function(){if(e.resetMaxListeners(),void 0===e.socket)return r(new Error("WebSocket connection is missing or invalid"));t(e.socket)}))}))}return this.url=t,this.registering=!0,new Promise((function(r,n){var i=vD.isReactNative()?void 0:{rejectUnauthorized:!LD(t)},a=new HD(t,[],i);"undefined"!=typeof WebSocket||"undefined"!=typeof global&&void 0!==global.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket?a.onerror=function(t){var r=t;n(e.emitError(r.error))}:a.on("error",(function(t){n(e.emitError(t))})),a.onopen=function(){e.onOpen(a),r(a)}}))}},{key:"onOpen",value:function(e){var t=this;e.onmessage=function(e){return t.onPayload(e)},e.onclose=function(e){return t.onClose(e)},this.socket=e,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}},{key:"onPayload",value:function(e){if(void 0!==e.data){var t="string"==typeof e.data?RT(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var r=this.parseError(t),n=ND(e,r.message||r.toString());this.events.emit("payload",n)}},{key:"parseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return pD(e,zD(t),"WS")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}},{key:"emitError",value:function(e){var t=this.parseError(new Error((null==e?void 0:e.message)||"WebSocket connection failed for host: ".concat(zD(this.url))));return this.events.emit("register_error",t),t}}]),e}(),WD={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=1,i=2,a=9007199254740991,o="[object Arguments]",s="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",m="[object Null]",g="[object Object]",y="[object Promise]",b="[object Proxy]",w="[object RegExp]",_="[object Set]",k="[object String]",E="[object Symbol]",A="[object Undefined]",S="[object WeakMap]",O="[object ArrayBuffer]",I="[object DataView]",R=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[o]=N[s]=N[O]=N[c]=N[I]=N[l]=N[f]=N[h]=N[p]=N[v]=N[g]=N[w]=N[_]=N[k]=N[S]=!1;var P="object"==typeof x&&x&&x.Object===Object&&x,M="object"==typeof self&&self&&self.Object===Object&&self,j=P||M||Function("return this")(),T=t&&!t.nodeType&&t,L=T&&e&&!e.nodeType&&e,$=L&&L.exports===T,D=$&&P.process,U=function(){try{return D&&D.binding&&D.binding("util")}catch(e){}}(),F=U&&U.isTypedArray;function B(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function q(e,t){return e.has(t)}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function H(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var V,W,G,K=Array.prototype,Z=Function.prototype,Y=Object.prototype,J=j["__core-js_shared__"],Q=Z.toString,X=Y.hasOwnProperty,ee=(V=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",te=Y.toString,re=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=$?j.Buffer:void 0,ie=j.Symbol,ae=j.Uint8Array,oe=Y.propertyIsEnumerable,se=K.splice,ue=ie?ie.toStringTag:void 0,ce=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=(W=Object.keys,G=Object,function(e){return W(G(e))}),he=Fe(j,"DataView"),de=Fe(j,"Map"),pe=Fe(j,"Promise"),ve=Fe(j,"Set"),me=Fe(j,"WeakMap"),ge=Fe(Object,"create"),ye=He(he),be=He(de),we=He(pe),_e=He(ve),ke=He(me),xe=ie?ie.prototype:void 0,Ee=xe?xe.valueOf:void 0;function Ae(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Oe;++t<r;)this.add(e[t])}function Re(e){var t=this.__data__=new Se(e);this.size=t.size}function Ce(e,t){var r=Ge(e),n=!r&&We(e),i=!r&&!n&&Ke(e),a=!r&&!n&&!i&&Xe(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!X.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ze(c,u))||s.push(c);return s}function Ne(e,t){for(var r=e.length;r--;)if(Ve(e[r][0],t))return r;return-1}function Pe(e){return null==e?void 0===e?A:m:ue&&ue in Object(e)?function(e){var t=X.call(e,ue),r=e[ue];try{e[ue]=void 0;var n=!0}catch(a){}var i=te.call(e);n&&(t?e[ue]=r:delete e[ue]);return i}(e):function(e){return te.call(e)}(e)}function Me(e){return Qe(e)&&Pe(e)==o}function je(e,t,r,a,u){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,r,a,u,h){var d=Ge(e),m=Ge(t),y=d?s:qe(e),b=m?s:qe(t),x=(y=y==o?g:y)==g,A=(b=b==o?g:b)==g,S=y==b;if(S&&Ke(e)){if(!Ke(t))return!1;d=!0,x=!1}if(S&&!x)return h||(h=new Re),d||Xe(e)?$e(e,t,r,a,u,h):function(e,t,r,a,o,s,u){switch(r){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!s(new ae(e),new ae(t)));case c:case l:case v:return Ve(+e,+t);case f:return e.name==t.name&&e.message==t.message;case w:case k:return e==t+"";case p:var h=z;case _:var d=a&n;if(h||(h=H),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;a|=i,u.set(e,t);var g=$e(h(e),h(t),a,o,s,u);return u.delete(e),g;case E:if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,y,r,a,u,h);if(!(r&n)){var R=x&&X.call(e,"__wrapped__"),C=A&&X.call(t,"__wrapped__");if(R||C){var N=R?e.value():e,P=C?t.value():t;return h||(h=new Re),u(N,P,r,a,h)}}if(!S)return!1;return h||(h=new Re),function(e,t,r,i,a,o){var s=r&n,u=De(e),c=u.length,l=De(t),f=l.length;if(c!=f&&!s)return!1;var h=c;for(;h--;){var d=u[h];if(!(s?d in t:X.call(t,d)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var v=!0;o.set(e,t),o.set(t,e);var m=s;for(;++h<c;){var g=e[d=u[h]],y=t[d];if(i)var b=s?i(y,g,d,t,e,o):i(g,y,d,e,t,o);if(!(void 0===b?g===y||a(g,y,r,i,o):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,r,a,u,h)}(e,t,r,a,je,u))}function Te(e){return!(!Je(e)||function(e){return!!ee&&ee in e}(e))&&(Ze(e)?re:R).test(He(e))}function Le(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||Y,t!==n)return fe(e);var t,r,n,i=[];for(var a in Object(e))X.call(e,a)&&"constructor"!=a&&i.push(a);return i}function $e(e,t,r,a,o,s){var u=r&n,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var h=-1,d=!0,p=r&i?new Ie:void 0;for(s.set(e,t),s.set(t,e);++h<c;){var v=e[h],m=t[h];if(a)var g=u?a(m,v,h,t,e,s):a(v,m,h,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!B(t,(function(e,t){if(!q(p,t)&&(v===e||o(v,e,r,a,s)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!o(v,m,r,a,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function De(e){return function(e,t,r){var n=t(e);return Ge(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,et,Be)}function Ue(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Fe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(r)?r:void 0}Ae.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return X.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:X.call(t,e)},Ae.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ge&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,r=Ne(t,e);return!(r<0)&&(r==t.length-1?t.pop():se.call(t,r,1),--this.size,!0)},Se.prototype.get=function(e){var t=this.__data__,r=Ne(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Ne(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Ne(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Oe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(de||Se),string:new Ae}},Oe.prototype.delete=function(e){var t=Ue(this,e).delete(e);return this.size-=t?1:0,t},Oe.prototype.get=function(e){return Ue(this,e).get(e)},Oe.prototype.has=function(e){return Ue(this,e).has(e)},Oe.prototype.set=function(e,t){var r=Ue(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ie.prototype.add=Ie.prototype.push=function(e){return this.__data__.set(e,r),this},Ie.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new Se,this.size=0},Re.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Oe(n)}return r.set(e,t),this.size=r.size,this};var Be=ce?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}(ce(e),(function(t){return oe.call(e,t)})))}:function(){return[]},qe=Pe;function ze(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function He(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(he&&qe(new he(new ArrayBuffer(1)))!=I||de&&qe(new de)!=p||pe&&qe(pe.resolve())!=y||ve&&qe(new ve)!=_||me&&qe(new me)!=S)&&(qe=function(e){var t=Pe(e),r=t==g?e.constructor:void 0,n=r?He(r):"";if(n)switch(n){case ye:return I;case be:return p;case we:return y;case _e:return _;case ke:return S}return t});var We=Me(function(){return arguments}())?Me:function(e){return Qe(e)&&X.call(e,"callee")&&!oe.call(e,"callee")},Ge=Array.isArray;var Ke=le||function(){return!1};function Ze(e){if(!Je(e))return!1;var t=Pe(e);return t==h||t==d||t==u||t==b}function Ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}var Xe=F?function(e){return function(t){return e(t)}}(F):function(e){return Qe(e)&&Ye(e.length)&&!!N[Pe(e)]};function et(e){return null!=(t=e)&&Ye(t.length)&&!Ze(t)?Ce(e):Le(e);var t}e.exports=function(e,t){return je(e,t)}}(WD,WD.exports);var GD=g(WD.exports);var KD=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==r[o])throw new TypeError(a+" is ambiguous");r[o]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var a=(e.length-t)*c+1>>>0,o=new Uint8Array(a);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,h=a-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*o[h]>>>0,o[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=a-i;d!==a&&0===o[d];)d++;for(var p=new Uint8Array(n+(a-d)),v=n;d!==a;)p[v++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var o=(a-i)*l+1>>>0,c=new Uint8Array(o);i!==a;){for(var f=t[i],h=0,d=o-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*c[d]>>>0,c[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var p=o-n;p!==o&&0===c[p];)p++;for(var v=u.repeat(r);p<o;++p)v+=e.charAt(c[p]);return v},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}},ZD=KD,YD=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},JD=function(){function e(t,r,n){A(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return O(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),QD=function(){function e(t,r,n){if(A(this,e),this.name=t,this.prefix=r,void 0===r.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}return O(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return eU(this,e)}}]),e}(),XD=function(){function e(t){A(this,e),this.decoders=t}return O(e,[{key:"or",value:function(e){return eU(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),eU=function(e,t){return new XD(l(l({},e.decoders||b({},e.prefix,e)),t.decoders||b({},t.prefix,t)))},tU=function(){function e(t,r,n,i){A(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new JD(t,r,n),this.decoder=new QD(t,r,i)}return O(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),rU=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new tU(t,r,n,i)},nU=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=ZD(n,r),a=i.encode,o=i.decode;return rU({prefix:t,name:r,encode:a,decode:function(e){return YD(o(e))}})},iU=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return rU({prefix:r,name:t,encode:function(e){return function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,a="",o=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],o+=8;o>r;)a+=t[i&s>>(o-=r)];if(o&&(a+=t[i&s<<r-o]),n)for(;a.length*r&7;)a+="=";return a}(e,i,n)},decode:function(e){return function(e,t,r,n){for(var i={},a=0;a<t.length;++a)i[t[a]]=a;for(var o=e.length;"="===e[o-1];)--o;for(var s=new Uint8Array(o*r/8|0),u=0,c=0,l=0,f=0;f<o;++f){var h=i[e[f]];if(void 0===h)throw new SyntaxError("Non-".concat(n," character"));c=c<<r|h,(u+=r)>=8&&(u-=8,s[l++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s}(e,i,n,t)}})},aU=rU({prefix:"\0",name:"identity",encode:function(e){return function(e){return(new TextDecoder).decode(e)}(e)},decode:function(e){return function(e){return(new TextEncoder).encode(e)}(e)}}),oU=Object.freeze({__proto__:null,identity:aU}),sU=iU({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),uU=Object.freeze({__proto__:null,base2:sU}),cU=iU({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),lU=Object.freeze({__proto__:null,base8:cU}),fU=nU({prefix:"9",name:"base10",alphabet:"0123456789"}),hU=Object.freeze({__proto__:null,base10:fU}),dU=iU({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pU=iU({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),vU=Object.freeze({__proto__:null,base16:dU,base16upper:pU}),mU=iU({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gU=iU({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yU=iU({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bU=iU({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wU=iU({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_U=iU({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),kU=iU({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xU=iU({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),EU=iU({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),AU=Object.freeze({__proto__:null,base32:mU,base32upper:gU,base32pad:yU,base32padupper:bU,base32hex:wU,base32hexupper:_U,base32hexpad:kU,base32hexpadupper:xU,base32z:EU}),SU=nU({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),OU=nU({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),IU=Object.freeze({__proto__:null,base36:SU,base36upper:OU}),RU=nU({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),CU=nU({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),NU=Object.freeze({__proto__:null,base58btc:RU,base58flickr:CU}),PU=iU({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),MU=iU({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),jU=iU({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),TU=iU({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),LU=Object.freeze({__proto__:null,base64:PU,base64pad:MU,base64url:jU,base64urlpad:TU}),$U=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),DU=$U.reduce((function(e,t,r){return e[r]=t,e}),[]),UU=$U.reduce((function(e,t,r){return e[t.codePointAt(0)]=r,e}),[]);var FU=rU({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce((function(e,t){return e+=DU[t]}),"")},decode:function(e){var t,r=[],n=k(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=UU[i.codePointAt(0)];if(void 0===a)throw new Error("Non-base256emoji character: ".concat(i));r.push(a)}}catch(o){n.e(o)}finally{n.f()}return new Uint8Array(r)}}),BU=Object.freeze({__proto__:null,base256emoji:FU}),qU=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=VU;)r[n++]=255&t|zU,t/=128;for(;t&HU;)r[n++]=255&t|zU,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},zU=128,HU=-128,VU=Math.pow(2,31);var WU=function e(t,r){var n,i=0,a=(r=r||0,0),o=r,s=t.length;do{if(o>=s)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=a<28?(n&KU)<<a:(n&KU)*Math.pow(2,a),a+=7}while(n>=GU);return e.bytes=o-r,i},GU=128,KU=127;var ZU=Math.pow(2,7),YU=Math.pow(2,14),JU=Math.pow(2,21),QU=Math.pow(2,28),XU=Math.pow(2,35),eF=Math.pow(2,42),tF=Math.pow(2,49),rF=Math.pow(2,56),nF=Math.pow(2,63),iF={encode:qU,decode:WU,encodingLength:function(e){return e<ZU?1:e<YU?2:e<JU?3:e<QU?4:e<XU?5:e<eF?6:e<tF?7:e<rF?8:e<nF?9:10}},aF=iF,oF=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return aF.encode(e,t,r),t},sF=function(e){return aF.encodingLength(e)},uF=function(e,t){var r=t.byteLength,n=sF(e),i=n+sF(r),a=new Uint8Array(i+r);return oF(e,a,0),oF(r,a,n),a.set(t,i),new cF(e,r,t,a)},cF=O((function e(t,r,n,i){A(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i})),lF=function(e){var t=e.name,r=e.code,n=e.encode;return new fF(t,r,n)},fF=function(){function e(t,r,n){A(this,e),this.name=t,this.code=r,this.encode=n}return O(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var r=this.encode(e);return r instanceof Uint8Array?uF(this.code,r):r.then((function(e){return uF(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),hF=function(e){return function(){var t=u(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,r);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},dF=lF({name:"sha2-256",code:18,encode:hF("SHA-256")}),pF=lF({name:"sha2-512",code:19,encode:hF("SHA-512")}),vF=Object.freeze({__proto__:null,sha256:dF,sha512:pF}),mF=YD,gF={code:0,name:"identity",encode:mF,digest:function(e){return uF(0,mF(e))}},yF=Object.freeze({__proto__:null,identity:gF});new TextEncoder,new TextDecoder;var bF=l(l(l(l(l(l(l(l(l(l({},oU),uU),lU),hU),vU),AU),IU),NU),LU),BU);function wF(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function _F(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}l(l({},vF),yF);var kF=_F("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),xF=_F("ascii","a",(function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(function(e){for(var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?wF(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),EF=l({utf8:kF,"utf-8":kF,hex:bF.base16,latin1:xF,ascii:xF,binary:xF},bF);function AF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=EF[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):wF(globalThis.Buffer.from(e,"utf-8"))}var SF="core",OF="".concat("wc","@2:").concat(SF,":"),IF="error",RF={database:":memory:"},CF="client_ed25519_seed",NF=pM.ONE_DAY,PF=pM.SIX_HOURS,MF="wss://relay.walletconnect.com",jF="wss://relay.walletconnect.org",TF="relayer_message",LF="relayer_message_ack",$F="relayer_connect",DF="relayer_disconnect",UF="relayer_error",FF="relayer_connection_stalled",BF="relayer_publish",qF="payload",zF="connect",HF="disconnect",VF="error",WF=pM.ONE_SECOND,GF="subscription_created",KF="subscription_deleted",ZF="subscription_sync",YF="subscription_resubscribed",JF=1e3*pM.FIVE_SECONDS,QF={wc_pairingDelete:{req:{ttl:pM.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:pM.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:pM.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:pM.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:pM.ONE_DAY,prompt:!1,tag:0},res:{ttl:pM.ONE_DAY,prompt:!1,tag:0}}},XF="pairing_create",eB="pairing_expire",tB="pairing_delete",rB="pairing_ping",nB="history_created",iB="history_updated",aB="history_deleted",oB="history_sync",sB="expirer_created",uB="expirer_deleted",cB="expirer_expired",lB="expirer_sync",fB="verify-api",hB="https://verify.walletconnect.com",dB="https://verify.walletconnect.org",pB=function(){function e(t,r){var n=this;A(this,e),this.core=t,this.logger=r,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=OF,this.init=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.initialized){e.next=5;break}return e.next=3,n.getKeyChain();case 3:typeof(t=e.sent)<"u"&&(n.keychain=t),n.initialized=!0;case 5:case"end":return e.stop()}}),e)}))),this.has=function(e){return n.isInitialized(),n.keychain.has(e)},this.set=function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.keychain.set(t,r),e.next=4,n.persist();case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.get=function(e){n.isInitialized();var t=n.keychain.get(e);if(typeof t>"u"){var r=I$("NO_MATCHING_KEY","".concat(n.name,": ").concat(e)).message;throw new Error(r)}return t},this.del=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.keychain.delete(t),e.next=4,n.persist();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.core=t,this.logger=Xj.generateChildLogger(r,this.name)}var t,r,n;return O(e,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"setKeyChain",value:(n=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,r$(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getKeyChain",value:(r=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",typeof t<"u"?n$(t):void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"persist",value:(t=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setKeyChain(this.keychain);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),e}(),vB=function(){function e(t,r,n){var i=this;A(this,e),this.core=t,this.logger=r,this.name="crypto",this.initialized=!1,this.init=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=5;break}return e.next=4,i.keychain.init();case 4:i.initialized=!0;case 5:case"end":return e.stop()}}),e)}))),this.hasKeys=function(e){return i.isInitialized(),i.keychain.has(e)},this.getClientId=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.getClientSeed();case 3:return t=e.sent,r=KT(t),e.abrupt("return",WT(r.publicKey));case 6:case"end":return e.stop()}}),e)}))),this.generateKeyPair=function(){i.isInitialized();var e=function(){var e=lP.generateKeyPair();return{privateKey:dM(e.secretKey,_L),publicKey:dM(e.publicKey,_L)}}();return i.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=function(){var e=u(o().mark((function e(t){var r,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.getClientSeed();case 3:return r=e.sent,n=KT(r),a=CL(),s=NF,e.next=9,ZT(a,t,s,n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.generateSharedKey=function(e,t,r){i.isInitialized();var n=function(e,t){var r=lP.sharedKey(hM(e,_L),hM(t,_L),!0);return dM(new JN(cP.SHA256,r).expand(RL),_L)}(i.getPrivateKey(e),t);return i.setSymKey(n,r)},this.setSymKey=function(){var e=u(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),n=r||NL(t),e.next=4,i.keychain.set(n,t);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.deleteKeyPair=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.keychain.del(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteSymKey=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),e.next=3,i.keychain.del(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.encode=function(){var e=u(o().mark((function e(t,r,n){var a,s,u,c,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),a=DL(n),s=CT(r),!UL(a)){e.next=7;break}return u=a.senderPublicKey,c=a.receiverPublicKey,e.next=6,i.generateSharedKey(u,c);case 6:t=e.sent;case 7:return l=i.getSymKey(t),f=a.type,h=a.senderPublicKey,e.abrupt("return",jL({type:f,symKey:l,message:s,senderPublicKey:h}));case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),this.decode=function(){var e=u(o().mark((function e(t,r,n){var a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),!UL(a=$L(r,n))){e.next=7;break}return s=a.receiverPublicKey,u=a.senderPublicKey,e.next=6,i.generateSharedKey(s,u);case 6:t=e.sent;case 7:return e.prev=7,c=i.getSymKey(t),l=TL({symKey:c,encoded:r}),e.abrupt("return",RT(l));case 12:return e.prev=12,e.t0=e.catch(7),e.t1=i.logger,e.t2="Failed to decode message from topic: '".concat(t,"', clientId: '"),e.next=18,i.getClientId();case 18:e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3,"'"),e.t1.error.call(e.t1,e.t4),i.logger.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t,r,n){return e.apply(this,arguments)}}(),this.getPayloadType=function(e){return ML(LL(e).type)},this.getPayloadSenderPublicKey=function(e){var t=LL(e);return t.senderPublicKey?dM(t.senderPublicKey,_L):void 0},this.core=t,this.logger=Xj.generateChildLogger(r,this.name),this.keychain=n||new pB(this.core,this.logger)}var t,r;return O(e,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"setPrivateKey",value:(r=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keychain.set(t,r);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getPrivateKey",value:function(e){return this.keychain.get(e)}},{key:"getClientSeed",value:(t=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",e.prev=1,t=this.keychain.get(CF),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(1),t=CL(),e.next=10,this.keychain.set(CF,t);case 10:return e.abrupt("return",AF(t,"base16"));case 11:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(){return t.apply(this,arguments)})},{key:"getSymKey",value:function(e){return this.keychain.get(e)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),e}(),mB=function(e){f(a,e);var t,r,n,i=h(a);function a(e,t){var r;return A(this,a),(r=i.call(this,e,t)).logger=e,r.core=t,r.messages=new Map,r.name="messages",r.version="0.3",r.initialized=!1,r.storagePrefix=OF,r.init=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.initialized){e.next=15;break}return r.logger.trace("Initialized"),e.prev=2,e.next=5,r.getRelayerMessages();case 5:typeof(t=e.sent)<"u"&&(r.messages=t),r.logger.debug("Successfully Restored records for ".concat(r.name)),r.logger.trace({type:"method",method:"restore",size:r.messages.size}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r.logger.debug("Failed to Restore records for ".concat(r.name)),r.logger.error(e.t0);case 12:return e.prev=12,r.initialized=!0,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])}))),r.set=function(){var e=u(o().mark((function e(t,n){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isInitialized(),i=PL(n),typeof(a=r.messages.get(t))>"u"&&(a={}),e.t0=typeof a[i]<"u",e.t0){e.next=10;break}return a[i]=n,r.messages.set(t,a),e.next=10,r.persist();case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.get=function(e){r.isInitialized();var t=r.messages.get(e);return typeof t>"u"&&(t={}),t},r.has=function(e,t){return r.isInitialized(),typeof r.get(e)[PL(t)]<"u"},r.del=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),r.messages.delete(t),e.next=4,r.persist();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.logger=Xj.generateChildLogger(e,r.name),r.core=t,r}return O(a,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"setRelayerMessages",value:(n=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,r$(t));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getRelayerMessages",value:(r=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",typeof t<"u"?n$(t):void 0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"persist",value:(t=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerMessages(this.messages);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),a}(bT),gB=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this,e,n)).relayer=e,i.logger=n,i.events=new pN.EventEmitter,i.name="publisher",i.queue=new Map,i.publishTimeout=pM.toMiliseconds(pM.TEN_SECONDS),i.needsTransportRestart=!1,i.publish=function(){var e=u(o().mark((function e(t,r,n){var a,s,u,c,l,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.logger.debug("Publishing Payload"),i.logger.trace({type:"method",method:"publish",params:{topic:t,message:r,opts:n}}),e.prev=1,s=(null==n?void 0:n.ttl)||PF,u=d$(n),c=(null==n?void 0:n.prompt)||!1,l=(null==n?void 0:n.tag)||0,f=(null==n?void 0:n.id)||ID().toString(),h={topic:t,message:r,opts:{ttl:s,relay:u,prompt:c,tag:l,id:f}},d=setTimeout((function(){return i.queue.set(f,h)}),i.publishTimeout),e.prev=3,e.next=6,a$(i.rpcPublish(t,r,s,u,c,l,f),i.publishTimeout,"Failed to publish payload, please try again.");case 6:return e.next=8,e.sent;case 8:i.removeRequestFromQueue(f),i.relayer.events.emit(BF,h),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(3),i.logger.debug("Publishing Payload stalled"),i.needsTransportRestart=!0,null==(a=null==n?void 0:n.internal)||!a.throwOnFailedPublish){e.next=16;break}throw i.removeRequestFromQueue(f),e.t0;case 16:return e.abrupt("return");case 17:return e.prev=17,clearTimeout(d),e.finish(17);case 20:i.logger.debug("Successfully Published Payload"),i.logger.trace({type:"method",method:"publish",params:{topic:t,message:r,opts:n}}),e.next=26;break;case 23:throw e.prev=23,e.t1=e.catch(1),i.logger.debug("Failed to Publish Payload"),i.logger.error(e.t1),e.t1;case 26:case"end":return e.stop()}}),e,null,[[1,23],[3,12,17,20]])})));return function(t,r,n){return e.apply(this,arguments)}}(),i.on=function(e,t){i.events.on(e,t)},i.once=function(e,t){i.events.once(e,t)},i.off=function(e,t){i.events.off(e,t)},i.removeListener=function(e,t){i.events.removeListener(e,t)},i.relayer=e,i.logger=Xj.generateChildLogger(n,i.name),i.registerEventListeners(),i}return O(r,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"rpcPublish",value:function(e,t,r,n,i,a,o){var s,u,c,l,f={method:p$(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:a},id:o};return P$(null==(s=f.params)?void 0:s.prompt)&&(null==(u=f.params)||delete u.prompt),P$(null==(c=f.params)?void 0:c.tag)&&(null==(l=f.params)||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f}),this.relayer.request(f)}},{key:"removeRequestFromQueue",value:function(e){this.queue.delete(e)}},{key:"checkQueue",value:function(){var e=this;this.queue.forEach(function(){var t=u(o().mark((function t(r){var n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.topic,i=r.message,a=r.opts,t.next=3,e.publish(n,i,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerEventListeners",value:function(){var e=this;this.relayer.core.heartbeat.on(Cj.HEARTBEAT_EVENTS.pulse,(function(){if(e.needsTransportRestart)return e.needsTransportRestart=!1,void e.relayer.events.emit(FF);e.checkQueue()})),this.relayer.on(LF,(function(t){e.removeRequestFromQueue(t.id.toString())}))}}]),r}(wT),yB=function(){function e(){var t=this;A(this,e),this.map=new Map,this.set=function(e,r){var n=t.get(e);t.exists(e,r)||t.map.set(e,[].concat(w(n),[r]))},this.get=function(e){return t.map.get(e)||[]},this.exists=function(e,r){return t.get(e).includes(r)},this.delete=function(e,r){if(typeof r>"u")t.map.delete(e);else if(t.map.has(e)){var n=t.get(e);if(t.exists(e,r)){var i=n.filter((function(e){return e!==r}));i.length?t.map.set(e,i):t.map.delete(e)}}},this.clear=function(){t.map.clear()}}return O(e,[{key:"topics",get:function(){return Array.from(this.map.keys())}}]),e}(),bB=Object.defineProperty,wB=Object.defineProperties,_B=Object.getOwnPropertyDescriptors,kB=Object.getOwnPropertySymbols,xB=Object.prototype.hasOwnProperty,EB=Object.prototype.propertyIsEnumerable,AB=function(e,t,r){return t in e?bB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},SB=function(e,t){for(var r in t||(t={}))xB.call(t,r)&&AB(e,r,t[r]);if(kB){var n,i=k(kB(t));try{for(i.s();!(n=i.n()).done;){r=n.value;EB.call(t,r)&&AB(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},OB=function(e,t){return wB(e,_B(t))},IB=function(e){f(w,e);var t,r,n,i,a,s,c,l,d,p,v,m,g,y,b=h(w);function w(e,t){var r;return A(this,w),(r=b.call(this,e,t)).relayer=e,r.logger=t,r.subscriptions=new Map,r.topicMap=new yB,r.events=new pN.EventEmitter,r.name="subscription",r.version="0.3",r.pending=new Map,r.cached=[],r.initialized=!1,r.pendingSubscriptionWatchLabel="pending_sub_watch_label",r.pollingInterval=20,r.storagePrefix=OF,r.subscribeTimeout=1e4,r.restartInProgress=!1,r.batchSubscribeTopicsLimit=500,r.init=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=7;break}return r.logger.trace("Initialized"),r.registerEventListeners(),e.next=6,r.relayer.core.crypto.getClientId();case 6:r.clientId=e.sent;case 7:case"end":return e.stop()}}),e)}))),r.subscribe=function(){var e=u(o().mark((function e(t,n){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.restartToComplete();case 2:return r.isInitialized(),r.logger.debug("Subscribing Topic"),r.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:n}}),e.prev=5,i=d$(n),a={topic:t,relay:i},r.pending.set(t,a),e.next=10,r.rpcSubscribe(t,i);case 10:return s=e.sent,e.abrupt("return",(r.onSubscribe(s,a),r.logger.debug("Successfully Subscribed Topic"),r.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:n}}),s));case 14:throw e.prev=14,e.t0=e.catch(5),r.logger.debug("Failed to Subscribe Topic"),r.logger.error(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,r){return e.apply(this,arguments)}}(),r.unsubscribe=function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.restartToComplete();case 2:if(r.isInitialized(),!(typeof(null==n?void 0:n.id)<"u")){e.next=8;break}return e.next=6,r.unsubscribeById(t,n.id,n);case 6:e.next=10;break;case 8:return e.next=10,r.unsubscribeByTopic(t,n);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.isSubscribed=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.topics.includes(t)){e.next=4;break}e.t0=!0,e.next=7;break;case 4:return e.next=6,new Promise((function(e,n){var i=new pM.Watch;i.start(r.pendingSubscriptionWatchLabel);var a=setInterval((function(){!r.pending.has(t)&&r.topics.includes(t)&&(clearInterval(a),i.stop(r.pendingSubscriptionWatchLabel),e(!0)),i.elapsed(r.pendingSubscriptionWatchLabel)>=JF&&(clearInterval(a),i.stop(r.pendingSubscriptionWatchLabel),n(new Error("Subscription resolution timeout")))}),r.pollingInterval)})).catch((function(){return!1}));case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.on=function(e,t){r.events.on(e,t)},r.once=function(e,t){r.events.once(e,t)},r.off=function(e,t){r.events.off(e,t)},r.removeListener=function(e,t){r.events.removeListener(e,t)},r.restart=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.restartInProgress=!0,e.next=3,r.restore();case 3:return e.next=5,r.reset();case 5:r.restartInProgress=!1;case 6:case"end":return e.stop()}}),e)}))),r.relayer=e,r.logger=Xj.generateChildLogger(t,r.name),r.clientId="",r}return O(w,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"length",get:function(){return this.subscriptions.size}},{key:"ids",get:function(){return Array.from(this.subscriptions.keys())}},{key:"values",get:function(){return Array.from(this.subscriptions.values())}},{key:"topics",get:function(){return this.topicMap.topics}},{key:"hasSubscription",value:function(e,t){var r=!1;try{r=this.getSubscription(e).topic===t}catch(n){}return r}},{key:"onEnable",value:function(){this.cached=[],this.initialized=!0}},{key:"onDisable",value:function(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}},{key:"unsubscribeByTopic",value:(y=u(o().mark((function e(t,r){var n,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.topicMap.get(t),e.next=3,Promise.all(n.map(function(){var e=u(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.unsubscribeById(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"unsubscribeById",value:(g=u(o().mark((function e(t,r,n){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}}),e.prev=1,i=d$(n),e.next=5,this.rpcUnsubscribe(t,r,i);case 5:return a=R$("USER_DISCONNECTED","".concat(this.name,", ").concat(t)),e.next=8,this.onUnsubscribe(t,r,a);case 8:this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e,t,r){return g.apply(this,arguments)})},{key:"rpcSubscribe",value:(m=u(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:p$(r.protocol).subscribe,params:{topic:t}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),e.prev=2,e.next=5,a$(this.relayer.request(n),this.subscribeTimeout);case 5:return e.next=7,e.sent;case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(FF);case 12:return e.abrupt("return",PL(t+this.clientId));case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return m.apply(this,arguments)})},{key:"rpcBatchSubscribe",value:(v=u(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return r=t[0].relay,n={method:p$(r.protocol).batchSubscribe,params:{topics:t.map((function(e){return e.topic}))}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),e.prev=4,e.next=7,a$(this.relayer.request(n),this.subscribeTimeout);case 7:return e.next=9,e.sent;case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(4),this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(FF);case 15:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(e){return v.apply(this,arguments)})},{key:"rpcUnsubscribe",value:function(e,t,r){var n={method:p$(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}},{key:"onSubscribe",value:function(e,t){this.setSubscription(e,OB(SB({},t),{id:e})),this.pending.delete(t.topic)}},{key:"onBatchSubscribe",value:function(e){var t=this;e.length&&e.forEach((function(e){t.setSubscription(e.id,SB({},e)),t.pending.delete(e.topic)}))}},{key:"onUnsubscribe",value:(p=u(o().mark((function e(t,r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),e.next=4,this.relayer.messages.del(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return p.apply(this,arguments)})},{key:"setRelayerSubscriptions",value:(d=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"getRelayerSubscriptions",value:(l=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setSubscription",value:function(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}},{key:"addSubscription",value:function(e,t){this.subscriptions.set(e,SB({},t)),this.topicMap.set(t.topic,e),this.events.emit(GF,t)}},{key:"getSubscription",value:function(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});var t=this.subscriptions.get(e);if(!t){var r=I$("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(r)}return t}},{key:"deleteSubscription",value:function(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});var r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(KF,OB(SB({},r),{reason:t}))}},{key:"persist",value:(c=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerSubscriptions(this.values);case 2:this.events.emit(ZF);case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"reset",value:(s=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cached.length){e.next=10;break}t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit),r=0;case 3:if(!(r<t)){e.next=10;break}return n=this.cached.splice(0,this.batchSubscribeTopicsLimit),e.next=7,this.batchSubscribe(n);case 7:r++,e.next=3;break;case 10:this.events.emit(YF);case 11:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"restore",value:(a=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRelayerSubscriptions();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.subscriptions.size){e.next=9;break}throw r=I$("RESTORE_WILL_OVERRIDE",this.name),n=r.message,this.logger.error(n),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(n);case 9:this.cached=t,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return a.apply(this,arguments)})},{key:"batchSubscribe",value:(i=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rpcBatchSubscribe(t);case 4:C$(r=e.sent)&&this.onBatchSubscribe(r.map((function(e,r){return OB(SB({},t[r]),{id:e})})));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onConnect",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,e.t0){e.next=5;break}return e.next=4,this.restart();case 4:this.onEnable();case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onDisconnect",value:function(){this.onDisable()}},{key:"checkPending",value:(r=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initialized&&!this.relayer.transportExplicitlyClosed){e.next=2;break}return e.abrupt("return");case 2:return t=[],this.pending.forEach((function(e){t.push(e)})),e.next=6,this.batchSubscribe(t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var e=this;this.relayer.core.heartbeat.on(Cj.HEARTBEAT_EVENTS.pulse,u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkPending();case 2:case"end":return t.stop()}}),t)})))),this.relayer.on($F,u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onConnect();case 2:case"end":return t.stop()}}),t)})))),this.relayer.on(DF,(function(){e.onDisconnect()})),this.events.on(GF,function(){var t=u(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=GF,e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:r}),t.next=5,e.persist();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.events.on(KF,function(){var t=u(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=KF,e.logger.info("Emitting ".concat(n)),e.logger.debug({type:"event",event:n,data:r}),t.next=5,e.persist();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"restartToComplete",value:(t=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,!e.t0){e.next=4;break}return e.next=4,new Promise((function(e){var r=setInterval((function(){t.restartInProgress||(clearInterval(r),e())}),t.pollingInterval)}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),w}(xT),RB=Object.defineProperty,CB=Object.getOwnPropertySymbols,NB=Object.prototype.hasOwnProperty,PB=Object.prototype.propertyIsEnumerable,MB=function(e,t,r){return t in e?RB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},jB=function(e,t){for(var r in t||(t={}))NB.call(t,r)&&MB(e,r,t[r]);if(CB){var n,i=k(CB(t));try{for(i.s();!(n=i.n()).done;){r=n.value;PB.call(t,r)&&MB(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},TB=function(e){f(x,e);var t,r,n,i,a,s,c,l,p,v,m,g,y,b,w,_,k=h(x);function x(e){var t;return A(this,x),(t=k.call(this,e)).protocol="wc",t.version=2,t.events=new pN.EventEmitter,t.name="relayer",t.transportExplicitlyClosed=!1,t.initialized=!1,t.connectionAttemptInProgress=!1,t.connectionStatusPollingInterval=20,t.staleConnectionErrors=["socket hang up","socket stalled"],t.hasExperiencedNetworkDisruption=!1,t.request=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.logger.debug("Publishing Request Payload"),e.prev=1,e.next=4,t.toEstablishConnection();case 4:return e.next=6,t.provider.request(r);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),t.logger.debug("Failed to Publish Request"),t.logger.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),t.onPayloadHandler=function(e){t.onProviderPayload(e)},t.onConnectHandler=function(){t.events.emit($F)},t.onDisconnectHandler=function(){t.onProviderDisconnect()},t.onProviderErrorHandler=function(e){t.logger.error(e),t.events.emit(UF,e),t.logger.info("Fatal socket error received, closing transport"),t.transportClose()},t.registerProviderListeners=function(){t.provider.on(qF,t.onPayloadHandler),t.provider.on(zF,t.onConnectHandler),t.provider.on(HF,t.onDisconnectHandler),t.provider.on(VF,t.onProviderErrorHandler)},t.core=e.core,t.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Xj.generateChildLogger(e.logger,t.name):Xj.pino(Xj.getDefaultLoggerOptions({level:e.logger||"error"})),t.messages=new mB(t.logger,e.core),t.subscriber=new IB(d(t),t.logger),t.publisher=new gB(d(t),t.logger),t.relayUrl=(null==e?void 0:e.relayUrl)||MF,t.projectId=e.projectId,t.provider={},t}return O(x,[{key:"init",value:(_=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),this.registerEventListeners(),e.next=4,this.createProvider();case 4:return e.next=6,Promise.all([this.messages.init(),this.subscriber.init()]);case 6:return e.prev=6,e.next=9,this.transportOpen();case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(6),this.logger.warn("Connection via ".concat(this.relayUrl," failed, attempting to connect via failover domain ").concat(jF,"...")),e.next=16,this.restartTransport(jF);case 16:this.initialized=!0,setTimeout(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0===t.subscriber.topics.length,!e.t0){e.next=6;break}return t.logger.info("No topics subscribed to after init, closing transport"),e.next=5,t.transportClose();case 5:t.transportExplicitlyClosed=!1;case 6:case"end":return e.stop()}}),e)}))),1e4);case 17:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(){return _.apply(this,arguments)})},{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"connected",get:function(){return this.provider.connection.connected}},{key:"connecting",get:function(){return this.provider.connection.connecting}},{key:"publish",value:(w=u(o().mark((function e(t,r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.publisher.publish(t,r,n);case 3:return e.next=5,this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return w.apply(this,arguments)})},{key:"subscribe",value:(b=u(o().mark((function e(t,r){var n,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized(),i=(null==(n=this.subscriber.topicMap.get(t))?void 0:n[0])||"",e.t0=i,e.t0){e.next=7;break}return e.next=6,Promise.all([new Promise((function(e){a.subscriber.once(GF,(function(r){r.topic===t&&e()}))})),new Promise(function(){var e=u(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.subscriber.subscribe(t,r);case 2:i=e.sent,n();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())]);case 6:e.t0=i;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"unsubscribe",value:(y=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.subscriber.unsubscribe(t,r);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"transportClose",value:(g=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transportExplicitlyClosed=!0,!this.hasExperiencedNetworkDisruption||!this.connected){e.next=6;break}return e.next=4,a$(this.provider.disconnect(),1e3,"provider.disconnect()").catch((function(){return t.onProviderDisconnect()}));case 4:e.next=10;break;case 6:if(e.t0=this.connected,!e.t0){e.next=10;break}return e.next=10,this.provider.disconnect();case 10:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"transportOpen",value:(m=u(o().mark((function e(t){var r,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.transportExplicitlyClosed=!1,e.next=3,this.confirmOnlineStateOrThrow();case 3:if(this.connectionAttemptInProgress){e.next=27;break}if(e.t0=t&&t!==this.relayUrl,!e.t0){e.next=11;break}return this.relayUrl=t,e.next=9,this.transportClose();case 9:return e.next=11,this.createProvider();case 11:return this.connectionAttemptInProgress=!0,e.prev=12,e.next=15,Promise.all([new Promise((function(e){if(!n.initialized)return e();n.subscriber.once(YF,(function(){e()}))})),new Promise(function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a$(n.provider.connect(),1e4,"Socket stalled when trying to connect to ".concat(n.relayUrl));case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),r(e.t0),e.abrupt("return");case 9:t();case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,r){return e.apply(this,arguments)}}())]);case 15:e.next=24;break;case 17:if(e.prev=17,e.t1=e.catch(12),this.logger.error(e.t1),r=e.t1,this.isConnectionStalled(r.message)){e.next=23;break}throw e.t1;case 23:this.provider.events.emit(HF);case 24:return e.prev=24,this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[12,17,24,27]])}))),function(e){return m.apply(this,arguments)})},{key:"restartTransport",value:(v=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(e.t0=!this.connectionAttemptInProgress,!e.t0){e.next=11;break}return this.relayUrl=t||this.relayUrl,e.next=7,this.transportClose();case 7:return e.next=9,this.createProvider();case 9:return e.next=11,this.transportOpen();case 11:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"confirmOnlineStateOrThrow",value:(p=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nD();case 2:if(e.sent){e.next=4;break}throw new Error("No internet connection detected. Please restart your network and try again.");case 4:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"isConnectionStalled",value:function(e){return this.staleConnectionErrors.some((function(t){return e.includes(t)}))}},{key:"createProvider",value:(l=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.provider.connection&&this.unregisterProviderListeners(),e.next=3,this.core.crypto.signJWT(this.relayUrl);case 3:t=e.sent,this.provider=new qD(new VD(e$({sdkVersion:"2.10.1",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners();case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"recordMessageEvent",value:(c=u(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.message,e.next=3,this.messages.set(r,n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"shouldIgnoreMessageEvent",value:(s=u(o().mark((function e(t){var r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,(n=t.message)&&0!==n.length){e.next=3;break}return e.abrupt("return",(this.logger.debug("Ignoring invalid/empty message: ".concat(n)),!0));case 3:return e.next=5,this.subscriber.isSubscribed(r);case 5:if(e.sent){e.next=7;break}return e.abrupt("return",(this.logger.debug("Ignoring message for non-subscribed topic ".concat(r)),!0));case 7:return i=this.messages.has(r,n),e.abrupt("return",(i&&this.logger.debug("Ignoring duplicate message: ".concat(n)),i));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"onProviderPayload",value:(a=u(o().mark((function e(t){var r,n,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),!DD(t)){e.next=13;break}if(t.method.endsWith("_subscription")){e.next=3;break}return e.abrupt("return");case 3:return r=t.params,n=r.data,i=n.topic,a=n.message,s=n.publishedAt,u={topic:i,message:a,publishedAt:s},this.logger.debug("Emitting Relayer Payload"),this.logger.trace(jB({type:"event",event:r.id},u)),this.events.emit(r.id,u),e.next=9,this.acknowledgePayload(t);case 9:return e.next=11,this.onMessageEvent(u);case 11:e.next=14;break;case 13:UD(t)&&this.events.emit(LF,t);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"onMessageEvent",value:(i=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.shouldIgnoreMessageEvent(t);case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return this.events.emit(TF,t),e.next=7,this.recordMessageEvent(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"acknowledgePayload",value:(n=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=CD(t.id,!0),e.next=3,this.provider.connection.send(r);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"unregisterProviderListeners",value:function(){this.provider.off(qF,this.onPayloadHandler),this.provider.off(zF,this.onConnectHandler),this.provider.off(HF,this.onDisconnectHandler),this.provider.off(VF,this.onProviderErrorHandler)}},{key:"registerEventListeners",value:(r=u(o().mark((function e(){var t,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.on(FF,(function(){r.restartTransport().catch((function(e){return r.logger.error(e)}))})),e.next=3,nD();case 3:t=e.sent,aD(function(){var e=u(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized&&t!==n,!e.t0){e.next=11;break}if(t=n,!n){e.next=8;break}return e.next=6,r.restartTransport().catch((function(e){return r.logger.error(e)}));case 6:e.next=11;break;case 8:return r.hasExperiencedNetworkDisruption=!0,e.next=11,r.transportClose().catch((function(e){return r.logger.error(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onProviderDisconnect",value:function(){this.events.emit(DF),this.attemptToReconnect()}},{key:"attemptToReconnect",value:function(){var e=this;this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.restartTransport().catch((function(t){return e.logger.error(t)}));case 2:case"end":return t.stop()}}),t)}))),pM.toMiliseconds(WF)))}},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"toEstablishConnection",value:(t=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(this.connected){e.next=9;break}if(!this.connectionAttemptInProgress){e.next=7;break}return e.next=6,new Promise((function(e){var r=setInterval((function(){t.connected&&(clearInterval(r),e())}),t.connectionStatusPollingInterval)}));case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,this.restartTransport();case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),x}(_T),LB=Object.defineProperty,$B=Object.getOwnPropertySymbols,DB=Object.prototype.hasOwnProperty,UB=Object.prototype.propertyIsEnumerable,FB=function(e,t,r){return t in e?LB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},BB=function(e,t){for(var r in t||(t={}))DB.call(t,r)&&FB(e,r,t[r]);if($B){var n,i=k($B(t));try{for(i.s();!(n=i.n()).done;){r=n.value;UB.call(t,r)&&FB(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},qB=function(e){f(s,e);var t,r,n,i,a=h(s);function s(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:OF,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return A(this,s),(n=a.call(this,e,t,r,i)).core=e,n.logger=t,n.name=r,n.map=new Map,n.version="0.3",n.cached=[],n.initialized=!1,n.storagePrefix=OF,n.init=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=8;break}return n.logger.trace("Initialized"),e.next=5,n.restore();case 5:n.cached.forEach((function(e){n.getKey&&null!==e&&!P$(e)?n.map.set(n.getKey(e),e):L$(e)?n.map.set(e.id,e):$$(e)&&n.map.set(e.topic,e)})),n.cached=[],n.initialized=!0;case 8:case"end":return e.stop()}}),e)}))),n.set=function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),!n.map.has(t)){e.next=6;break}return e.next=4,n.update(t,r);case 4:e.next=11;break;case 6:return n.logger.debug("Setting value"),n.logger.trace({type:"method",method:"set",key:t,value:r}),n.map.set(t,r),e.next=11,n.persist();case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.get=function(e){return n.isInitialized(),n.logger.debug("Getting value"),n.logger.trace({type:"method",method:"get",key:e}),n.getData(e)},n.getAll=function(e){return n.isInitialized(),e?n.values.filter((function(t){return Object.keys(e).every((function(r){return GD(t[r],e[r])}))})):n.values},n.update=function(){var e=u(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.logger.debug("Updating value"),n.logger.trace({type:"method",method:"update",key:t,update:r}),i=BB(BB({},n.getData(t)),r),n.map.set(t,i),e.next=5,n.persist();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.delete=function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),e.t0=n.map.has(t),!e.t0){e.next=8;break}return n.logger.debug("Deleting value"),n.logger.trace({type:"method",method:"delete",key:t,reason:r}),n.map.delete(t),e.next=8,n.persist();case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.logger=Xj.generateChildLogger(t,n.name),n.storagePrefix=i,n.getKey=c,n}return O(s,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"length",get:function(){return this.map.size}},{key:"keys",get:function(){return Array.from(this.map.keys())}},{key:"values",get:function(){return Array.from(this.map.values())}},{key:"setDataStore",value:(i=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getDataStore",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getData",value:function(e){var t=this.map.get(e);if(!t){var r=I$("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(r),new Error(r)}return t}},{key:"persist",value:(r=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setDataStore(this.values);case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"restore",value:(t=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDataStore();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.map.size){e.next=9;break}throw r=I$("RESTORE_WILL_OVERRIDE",this.name),n=r.message,this.logger.error(n),new Error(n);case 9:this.cached=t,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return t.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),s}(kT),zB=function(){function e(t,r){var n=this;A(this,e),this.core=t,this.logger=r,this.name="pairing",this.version="0.3",this.events=new vN,this.initialized=!1,this.storagePrefix=OF,this.ignoredPayloadTypes=[AL],this.registeredMethods=[],this.init=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=10;break}return e.next=4,n.pairings.init();case 4:return e.next=6,n.cleanup();case 6:n.registerRelayerEvents(),n.registerExpirerEvents(),n.initialized=!0,n.logger.trace("Initialized");case 10:case"end":return e.stop()}}),e)}))),this.register=function(e){var t=e.methods;n.isInitialized(),n.registeredMethods=w(new Set([].concat(w(n.registeredMethods),w(t))))},this.create=u(o().mark((function e(){var t,r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),t=CL(),e.next=4,n.core.crypto.setSymKey(t);case 4:return r=e.sent,i=u$(pM.FIVE_MINUTES),s={topic:r,expiry:i,relay:a={protocol:"irn"},active:!1},u=x$({protocol:n.core.protocol,version:n.core.version,topic:r,symKey:t,relay:a}),e.next=11,n.pairings.set(r,s);case 11:return e.next=13,n.core.relayer.subscribe(r);case 13:return n.core.expirer.set(r,i),e.abrupt("return",{topic:r,uri:u});case 15:case"end":return e.stop()}}),e)}))),this.pair=function(){var e=u(o().mark((function e(t){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),n.isValidPair(t),r=_$(t.uri),i=r.topic,a=r.symKey,s=r.relay,!n.pairings.keys.includes(i)||!n.pairings.get(i).active){e.next=4;break}throw new Error("Pairing already exists: ".concat(i,". Please try again with a new connection URI."));case 4:if(e.t0=n.core.crypto.keychain.has(i),e.t0){e.next=10;break}return e.next=8,n.core.crypto.setSymKey(a,i);case 8:return e.next=10,n.core.relayer.subscribe(i,{relay:s});case 10:return u=u$(pM.FIVE_MINUTES),c={topic:i,relay:s,expiry:u,active:!1},e.next=13,n.pairings.set(i,c);case 13:if(n.core.expirer.set(i,u),e.t1=t.activatePairing,!e.t1){e.next=18;break}return e.next=18,n.activate({topic:i});case 18:return n.events.emit(XF,c),e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.activate=function(){var e=u(o().mark((function e(t){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n.isInitialized(),i=u$(pM.THIRTY_DAYS),e.next=5,n.pairings.update(r,{active:!0,expiry:i});case 5:n.core.expirer.set(r,i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.ping=function(){var e=u(o().mark((function e(t){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),e.next=3,n.isValidPing(t);case 3:if(r=t.topic,!n.pairings.keys.includes(r)){e.next=15;break}return e.next=7,n.sendRequest(r,"wc_pairingPing",{});case 7:return i=e.sent,a=i$(),s=a.done,u=a.resolve,c=a.reject,n.events.once(l$("pairing_ping",i),(function(e){var t=e.error;t?c(t):u()})),e.next=15,s();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateExpiry=function(){var e=u(o().mark((function e(t){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,i=t.expiry,n.isInitialized(),e.next=4,n.pairings.update(r,{expiry:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateMetadata=function(){var e=u(o().mark((function e(t){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,i=t.metadata,n.isInitialized(),e.next=4,n.pairings.update(r,{peerMetadata:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPairings=function(){return n.isInitialized(),n.pairings.values},this.disconnect=function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),e.next=3,n.isValidDisconnect(t);case 3:if(r=t.topic,e.t0=n.pairings.keys.includes(r),!e.t0){e.next=10;break}return e.next=8,n.sendRequest(r,"wc_pairingDelete",R$("USER_DISCONNECTED"));case 8:return e.next=10,n.deletePairing(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendRequest=function(){var e=u(o().mark((function e(t,r,i){var a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=RD(r,i),e.next=3,n.core.crypto.encode(t,a);case 3:return s=e.sent,u=QF[r].req,e.abrupt("return",(n.core.history.set(t,a),n.core.relayer.publish(t,s,u),a.id));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),this.sendResult=function(){var e=u(o().mark((function e(t,r,i){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=CD(t,i),e.next=3,n.core.crypto.encode(r,a);case 3:return s=e.sent,e.next=6,n.core.history.get(r,t);case 6:return u=e.sent,c=QF[u.request.method].res,e.next=10,n.core.relayer.publish(r,s,c);case 10:return e.next=12,n.core.history.resolve(a);case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),this.sendError=function(){var e=u(o().mark((function e(t,r,i){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ND(t,i),e.next=3,n.core.crypto.encode(r,a);case 3:return s=e.sent,e.next=6,n.core.history.get(r,t);case 6:return u=e.sent,c=QF[u.request.method]?QF[u.request.method].res:QF.unregistered_method.res,e.next=10,n.core.relayer.publish(r,s,c);case 10:return e.next=12,n.core.history.resolve(a);case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),this.deletePairing=function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.core.relayer.unsubscribe(t);case 2:return e.next=4,Promise.all([n.pairings.delete(t,R$("USER_DISCONNECTED")),n.core.crypto.deleteSymKey(t),r?Promise.resolve():n.core.expirer.del(t)]);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.cleanup=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pairings.getAll().filter((function(e){return c$(e.expiry)})),e.next=3,Promise.all(t.map((function(e){return n.deletePairing(e.topic)})));case 3:case"end":return e.stop()}}),e)}))),this.onRelayEventRequest=function(e){var t=e.topic,r=e.payload;switch(r.method){case"wc_pairingPing":return n.onPairingPingRequest(t,r);case"wc_pairingDelete":return n.onPairingDeleteRequest(t,r);default:return n.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=function(){var e=u(o().mark((function e(t){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,i=t.payload,e.next=4,n.core.history.get(r,i.id);case 4:a=e.sent.request.method,e.t0=a,e.next="wc_pairingPing"===e.t0?8:9;break;case 8:return e.abrupt("return",n.onPairingPingResponse(r,i));case 9:return e.abrupt("return",n.onUnknownRpcMethodResponse(a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var e=u(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.id,e.prev=1,n.isValidPing({topic:t}),e.next=5,n.sendResult(i,t,!0);case 5:n.events.emit(rB,{id:i,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,n.sendError(i,t,e.t0);case 12:n.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),this.onPairingPingResponse=function(e,t){var r=t.id;setTimeout((function(){FD(t)?n.events.emit(l$("pairing_ping",r),{}):BD(t)&&n.events.emit(l$("pairing_ping",r),{error:t.error})}),500)},this.onPairingDeleteRequest=function(){var e=u(o().mark((function e(t,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.id,e.prev=1,n.isValidDisconnect({topic:t}),e.next=5,n.deletePairing(t);case 5:n.events.emit(tB,{id:i,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,n.sendError(i,t,e.t0);case 12:n.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var e=u(o().mark((function e(t,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.id,a=r.method,e.prev=1,!n.registeredMethods.includes(a)){e.next=4;break}return e.abrupt("return");case 4:return s=R$("WC_METHOD_UNSUPPORTED",a),e.next=7,n.sendError(i,t,s);case 7:n.logger.error(s),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,n.sendError(i,t,e.t0);case 14:n.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=function(e){n.registeredMethods.includes(e)||n.logger.error(R$("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=function(e){if(!W$(e)){var t=I$("MISSING_OR_INVALID","pair() params: ".concat(e)).message;throw new Error(t)}if(!function(e){if(M$(e,!1))try{return typeof new URL(e)<"u"}catch(t){return!1}return!1}(e.uri)){var r=I$("MISSING_OR_INVALID","pair() uri: ".concat(e.uri)).message;throw new Error(r)}},this.isValidPing=function(){var e=u(o().mark((function e(t){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(t)){e.next=3;break}throw r=I$("MISSING_OR_INVALID","ping() params: ".concat(t)),i=r.message,new Error(i);case 3:return a=t.topic,e.next=6,n.isValidPairingTopic(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isValidDisconnect=function(){var e=u(o().mark((function e(t){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(t)){e.next=3;break}throw r=I$("MISSING_OR_INVALID","disconnect() params: ".concat(t)),i=r.message,new Error(i);case 3:return a=t.topic,e.next=6,n.isValidPairingTopic(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var e=u(o().mark((function e(t){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M$(t,!1)){e.next=3;break}throw r=I$("MISSING_OR_INVALID","pairing topic should be a string: ".concat(t)),i=r.message,new Error(i);case 3:if(n.pairings.keys.includes(t)){e.next=6;break}throw a=I$("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(t)),s=a.message,new Error(s);case 6:if(!c$(n.pairings.get(t).expiry)){e.next=11;break}return e.next=9,n.deletePairing(t);case 9:throw u=I$("EXPIRED","pairing topic: ".concat(t)),c=u.message,new Error(c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.core=t,this.logger=Xj.generateChildLogger(r,this.name),this.pairings=new qB(this.core,this.logger,this.name,this.storagePrefix)}return O(e,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"registerRelayerEvents",value:function(){var e=this;this.core.relayer.on(TF,function(){var t=u(o().mark((function t(r){var n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.topic,i=r.message,e.pairings.keys.includes(n)&&!e.ignoredPayloadTypes.includes(e.core.crypto.getPayloadType(i))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.core.crypto.decode(n,i);case 5:if(a=t.sent,t.prev=6,!DD(a)){t.next=11;break}e.core.history.set(n,a),e.onRelayEventRequest({topic:n,payload:a}),t.next=18;break;case 11:if(t.t0=UD(a),!t.t0){t.next=18;break}return t.next=15,e.core.history.resolve(a);case 15:return t.next=17,e.onRelayEventResponse({topic:n,payload:a});case 17:e.core.history.delete(n,a.id);case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(6),e.logger.error(t.t1);case 23:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var e=this;this.core.expirer.on(cB,function(){var t=u(o().mark((function t(r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s$(r.target),i=n.topic,t.t0=i&&e.pairings.keys.includes(i),!t.t0){t.next=6;break}return t.next=5,e.deletePairing(i,!0);case 5:e.events.emit(eB,{topic:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),e}(),HB=function(e){f(s,e);var t,r,n,i,a=h(s);function s(e,t){var r;return A(this,s),(r=a.call(this,e,t)).core=e,r.logger=t,r.records=new Map,r.events=new pN.EventEmitter,r.name="history",r.version="0.3",r.cached=[],r.initialized=!1,r.storagePrefix=OF,r.init=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=9;break}return r.logger.trace("Initialized"),e.next=5,r.restore();case 5:r.cached.forEach((function(e){return r.records.set(e.id,e)})),r.cached=[],r.registerEventListeners(),r.initialized=!0;case 9:case"end":return e.stop()}}),e)}))),r.set=function(e,t,n){if(r.isInitialized(),r.logger.debug("Setting JSON-RPC request history record"),r.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),!r.records.has(t.id)){var i={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:u$(pM.THIRTY_DAYS)};r.records.set(i.id,i),r.events.emit(nB,i)}},r.resolve=function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isInitialized(),r.logger.debug("Updating JSON-RPC response history record"),r.logger.trace({type:"method",method:"update",response:t}),r.records.has(t.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.getRecord(t.id);case 4:typeof(n=e.sent).response>"u"&&(n.response=BD(t)?{error:t.error}:{result:t.result},r.records.set(n.id,n),r.events.emit(iB,n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.get=function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isInitialized(),r.logger.debug("Getting record"),r.logger.trace({type:"method",method:"get",topic:t,id:n}),e.next=5,r.getRecord(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.delete=function(e,t){r.isInitialized(),r.logger.debug("Deleting record"),r.logger.trace({type:"method",method:"delete",id:t}),r.values.forEach((function(n){if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;r.records.delete(n.id),r.events.emit(aB,n)}}))},r.exists=function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isInitialized(),!r.records.has(n)){e.next=9;break}return e.next=4,r.getRecord(n);case 4:e.t1=e.sent.topic,e.t2=t,e.t0=e.t1===e.t2,e.next=10;break;case 9:e.t0=!1;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.on=function(e,t){r.events.on(e,t)},r.once=function(e,t){r.events.once(e,t)},r.off=function(e,t){r.events.off(e,t)},r.removeListener=function(e,t){r.events.removeListener(e,t)},r.logger=Xj.generateChildLogger(t,r.name),r}return O(s,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"size",get:function(){return this.records.size}},{key:"keys",get:function(){return Array.from(this.records.keys())}},{key:"values",get:function(){return Array.from(this.records.values())}},{key:"pending",get:function(){var e=[];return this.values.forEach((function(t){if(!(typeof t.response<"u")){var r={topic:t.topic,request:RD(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}})),e}},{key:"setJsonRpcRecords",value:(i=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getJsonRpcRecords",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRecord",value:function(e){this.isInitialized();var t=this.records.get(e);if(!t){var r=I$("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(r)}return t}},{key:"persist",value:(r=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setJsonRpcRecords(this.values);case 2:this.events.emit(oB);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"restore",value:(t=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJsonRpcRecords();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.records.size){e.next=9;break}throw r=I$("RESTORE_WILL_OVERRIDE",this.name),n=r.message,this.logger.error(n),new Error(n);case 9:this.cached=t,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return t.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var e=this;this.events.on(nB,(function(t){var r=nB;e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,record:t}),e.persist()})),this.events.on(iB,(function(t){var r=iB;e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,record:t}),e.persist()})),this.events.on(aB,(function(t){var r=aB;e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,record:t}),e.persist()})),this.core.heartbeat.on(Cj.HEARTBEAT_EVENTS.pulse,(function(){e.cleanup()}))}},{key:"cleanup",value:function(){var e=this;try{this.records.forEach((function(t){pM.toMiliseconds(t.expiry||0)-Date.now()<=0&&(e.logger.info("Deleting expired history log: ".concat(t.id)),e.delete(t.topic,t.id))}))}catch(t){this.logger.warn(t)}}},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),s}(yT),VB=function(e){f(s,e);var t,r,n,i,a=h(s);function s(e,t){var r;return A(this,s),(r=a.call(this,e,t)).core=e,r.logger=t,r.expirations=new Map,r.events=new pN.EventEmitter,r.name="expirer",r.version="0.3",r.cached=[],r.initialized=!1,r.storagePrefix=OF,r.init=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=9;break}return r.logger.trace("Initialized"),e.next=5,r.restore();case 5:r.cached.forEach((function(e){return r.expirations.set(e.target,e)})),r.cached=[],r.registerEventListeners(),r.initialized=!0;case 9:case"end":return e.stop()}}),e)}))),r.has=function(e){try{var t=r.formatTarget(e);return typeof r.getExpiration(t)<"u"}catch(n){return!1}},r.set=function(e,t){r.isInitialized();var n=r.formatTarget(e),i={target:n,expiry:t};r.expirations.set(n,i),r.checkExpiry(n,i),r.events.emit(sB,{target:n,expiration:i})},r.get=function(e){r.isInitialized();var t=r.formatTarget(e);return r.getExpiration(t)},r.del=function(e){if(r.isInitialized(),r.has(e)){var t=r.formatTarget(e),n=r.getExpiration(t);r.expirations.delete(t),r.events.emit(uB,{target:t,expiration:n})}},r.on=function(e,t){r.events.on(e,t)},r.once=function(e,t){r.events.once(e,t)},r.off=function(e,t){r.events.off(e,t)},r.removeListener=function(e,t){r.events.removeListener(e,t)},r.logger=Xj.generateChildLogger(t,r.name),r}return O(s,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+"//"+this.name}},{key:"length",get:function(){return this.expirations.size}},{key:"keys",get:function(){return Array.from(this.expirations.keys())}},{key:"values",get:function(){return Array.from(this.expirations.values())}},{key:"formatTarget",value:function(e){if("string"==typeof e)return function(e){return o$("topic",e)}(e);if("number"==typeof e)return function(e){return o$("id",e)}(e);var t=I$("UNKNOWN_TYPE","Target type: ".concat(typeof e)).message;throw new Error(t)}},{key:"setExpirations",value:(i=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getExpirations",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"persist",value:(r=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setExpirations(this.values);case 2:this.events.emit(lB);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"restore",value:(t=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getExpirations();case 3:if(!(typeof(t=e.sent)>"u")&&t.length){e.next=6;break}return e.abrupt("return");case 6:if(!this.expirations.size){e.next=9;break}throw r=I$("RESTORE_WILL_OVERRIDE",this.name),n=r.message,this.logger.error(n),new Error(n);case 9:this.cached=t,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return t.apply(this,arguments)})},{key:"getExpiration",value:function(e){var t=this.expirations.get(e);if(!t){var r=I$("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(r),new Error(r)}return t}},{key:"checkExpiry",value:function(e,t){var r=t.expiry;pM.toMiliseconds(r)-Date.now()<=0&&this.expire(e,t)}},{key:"expire",value:function(e,t){this.expirations.delete(e),this.events.emit(cB,{target:e,expiration:t})}},{key:"checkExpirations",value:function(){var e=this;this.core.relayer.connected&&this.expirations.forEach((function(t,r){return e.checkExpiry(r,t)}))}},{key:"registerEventListeners",value:function(){var e=this;this.core.heartbeat.on(Cj.HEARTBEAT_EVENTS.pulse,(function(){return e.checkExpirations()})),this.events.on(sB,(function(t){var r=sB;e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,data:t}),e.persist()})),this.events.on(cB,(function(t){var r=cB;e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,data:t}),e.persist()})),this.events.on(uB,(function(t){var r=uB;e.logger.info("Emitting ".concat(r)),e.logger.debug({type:"event",event:r,data:t}),e.persist()}))}},{key:"isInitialized",value:function(){if(!this.initialized){var e=I$("NOT_INITIALIZED",this.name).message;throw new Error(e)}}}]),s}(ET),WB=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this,e,n)).projectId=e,i.logger=n,i.name=fB,i.initialized=!1,i.queue=[],i.verifyDisabled=!1,i.init=function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.verifyDisabled&&!YL()&&JL()){e.next=2;break}return e.abrupt("return");case 2:return r=(null==t?void 0:t.verifyUrl)||hB,i.verifyUrl!==r&&i.removeIframe(),i.verifyUrl=r,e.prev=4,e.next=7,i.createIframe();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),i.logger.info("Verify iframe failed to load: ".concat(i.verifyUrl)),i.logger.info(e.t0);case 12:if(i.initialized){e.next=22;break}return i.removeIframe(),i.verifyUrl=dB,e.prev=14,e.next=17,i.createIframe();case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(14),i.logger.info("Verify iframe failed to load: ".concat(i.verifyUrl)),i.logger.info(e.t1),i.verifyDisabled=!0;case 22:case"end":return e.stop()}}),e,null,[[4,9],[14,19]])})));return function(t){return e.apply(this,arguments)}}(),i.register=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.initialized){e.next=4;break}i.sendPost(t.attestationId),e.next=7;break;case 4:return i.addToQueue(t.attestationId),e.next=7,i.init();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.resolve=function(){var e=u(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isDevEnv){e.next=2;break}return e.abrupt("return","");case 2:return r=(null==t?void 0:t.verifyUrl)||hB,e.prev=3,e.next=6,i.fetchAttestation(t.attestationId,r);case 6:n=e.sent,e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(3),i.logger.info("failed to resolve attestation: ".concat(t.attestationId," from url: ").concat(r)),i.logger.info(e.t0),e.next=15,i.fetchAttestation(t.attestationId,dB);case 15:n=e.sent;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),i.fetchAttestation=function(){var e=u(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.logger.info("resolving attestation: ".concat(t," from url: ").concat(r)),n=i.startAbortTimer(2*pM.ONE_SECOND),e.next=4,fetch("".concat(r,"/attestation/").concat(t),{signal:i.abortController.signal});case 4:if(a=e.sent,clearTimeout(n),200!==a.status){e.next=12;break}return e.next=9,a.json();case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=void 0;case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),i.addToQueue=function(e){i.queue.push(e)},i.processQueue=function(){0!==i.queue.length&&(i.queue.forEach((function(e){return i.sendPost(e)})),i.queue=[])},i.sendPost=function(e){var t;try{if(!i.iframe)return;null==(t=i.iframe.contentWindow)||t.postMessage(e,"*"),i.logger.info("postMessage sent: ".concat(e," ").concat(i.verifyUrl))}catch(r){}},i.createIframe=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function e(r){"verify_ready"===r.data&&(i.initialized=!0,i.processQueue(),window.removeEventListener("message",e),t())},e.next=3,Promise.race([new Promise((function(e){if(document.getElementById(fB))return e();window.addEventListener("message",r);var n=document.createElement("iframe");n.id=fB,n.src="".concat(i.verifyUrl,"/").concat(i.projectId),n.style.display="none",document.body.append(n),i.iframe=n,t=e})),new Promise((function(e,t){return setTimeout((function(){window.removeEventListener("message",r),t("verify iframe load timeout")}),pM.toMiliseconds(pM.FIVE_SECONDS))}))]);case 3:case"end":return e.stop()}}),e)}))),i.removeIframe=function(){i.iframe&&(i.iframe.remove(),i.iframe=void 0,i.initialized=!1)},i.logger=Xj.generateChildLogger(n,i.name),i.verifyUrl=hB,i.abortController=new AbortController,i.isDevEnv=ZL()&&{}.IS_VITEST,i}return O(r,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"startAbortTimer",value:function(e){var t=this;return this.abortController=new AbortController,setTimeout((function(){return t.abortController.abort()}),pM.toMiliseconds(e))}}]),r}(AT),GB=Object.defineProperty,KB=Object.getOwnPropertySymbols,ZB=Object.prototype.hasOwnProperty,YB=Object.prototype.propertyIsEnumerable,JB=function(e,t,r){return t in e?GB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},QB=function(e,t){for(var r in t||(t={}))ZB.call(t,r)&&JB(e,r,t[r]);if(KB){var n,i=k(KB(t));try{for(i.s();!(n=i.n()).done;){r=n.value;YB.call(t,r)&&JB(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},XB=function(e){f(a,e);var t,r,n,i=h(a);function a(e){var t;A(this,a),(t=i.call(this,e)).protocol="wc",t.version=2,t.name=SF,t.events=new pN.EventEmitter,t.initialized=!1,t.on=function(e,r){return t.events.on(e,r)},t.once=function(e,r){return t.events.once(e,r)},t.off=function(e,r){return t.events.off(e,r)},t.removeListener=function(e,r){return t.events.removeListener(e,r)},t.projectId=null==e?void 0:e.projectId,t.relayUrl=(null==e?void 0:e.relayUrl)||MF;var r=typeof(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:Xj.pino(Xj.getDefaultLoggerOptions({level:(null==e?void 0:e.logger)||IF}));return t.logger=Xj.generateChildLogger(r,t.name),t.heartbeat=new Cj.HeartBeat,t.crypto=new vB(d(t),t.logger,null==e?void 0:e.keychain),t.history=new HB(d(t),t.logger),t.expirer=new VB(d(t),t.logger),t.storage=null!=e&&e.storage?e.storage:new Rj(QB(QB({},RF),null==e?void 0:e.storageOptions)),t.relayer=new TB({core:d(t),logger:t.logger,relayUrl:t.relayUrl,projectId:t.projectId}),t.pairing=new zB(d(t),t.logger),t.verify=new WB(t.projectId||"",t.logger),t}return O(a,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"start",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialized,e.t0){e.next=4;break}return e.next=4,this.initialize();case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"initialize",value:(r=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.crypto.init();case 4:return e.next=6,this.history.init();case 6:return e.next=8,this.expirer.init();case 8:return e.next=10,this.relayer.init();case 10:return e.next=12,this.heartbeat.init();case 12:return e.next=14,this.pairing.init();case 14:this.initialized=!0,this.logger.info("Core Initialization Success"),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(1),this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e.t0),this.logger.error(e.t0.message),e.t0;case 21:case"end":return e.stop()}}),e,this,[[1,18]])}))),function(){return r.apply(this,arguments)})}],[{key:"init",value:(t=u(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new a(t),e.next=3,r.initialize();case 3:return e.next=5,r.crypto.getClientId();case 5:return n=e.sent,e.next=8,r.storage.setItem("WALLETCONNECT_CLIENT_ID",n);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),a}(gT),eq=XB,tq="client",rq="".concat("wc","@").concat(2,":").concat(tq,":"),nq=tq,iq="error",aq="WALLETCONNECT_DEEPLINK_CHOICE",oq="Proposal expired",sq=pM.SEVEN_DAYS,uq={wc_sessionPropose:{req:{ttl:pM.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:pM.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:pM.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:pM.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:pM.ONE_DAY,prompt:!1,tag:1104},res:{ttl:pM.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:pM.ONE_DAY,prompt:!1,tag:1106},res:{ttl:pM.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:pM.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:pM.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:pM.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:pM.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:pM.ONE_DAY,prompt:!1,tag:1112},res:{ttl:pM.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:pM.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:pM.THIRTY_SECONDS,prompt:!1,tag:1115}}},cq={min:pM.FIVE_MINUTES,max:pM.SEVEN_DAYS},lq="IDLE",fq="ACTIVE",hq=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],dq=Object.defineProperty,pq=Object.defineProperties,vq=Object.getOwnPropertyDescriptors,mq=Object.getOwnPropertySymbols,gq=Object.prototype.hasOwnProperty,yq=Object.prototype.propertyIsEnumerable,bq=function(e,t,r){return t in e?dq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},wq=function(e,t){for(var r in t||(t={}))gq.call(t,r)&&bq(e,r,t[r]);if(mq){var n,i=k(mq(t));try{for(i.s();!(n=i.n()).done;){r=n.value;yq.call(t,r)&&bq(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},_q=function(e,t){return pq(e,vq(t))},kq=function(e){f(s,e);var t,r,n,i,a=h(s);function s(e){var t;return A(this,s),(t=a.call(this,e)).name="engine",t.events=new vN,t.initialized=!1,t.ignoredPayloadTypes=[AL],t.requestQueue={state:lq,queue:[]},t.sessionRequestQueue={state:lq,queue:[]},t.requestQueueDelay=pM.ONE_SECOND,t.init=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.initialized,e.t0){e.next=10;break}return e.next=4,t.cleanup();case 4:t.registerRelayerEvents(),t.registerExpirerEvents(),t.registerPairingEvents(),t.client.core.pairing.register({methods:Object.keys(uq)}),t.initialized=!0,setTimeout((function(){t.sessionRequestQueue.queue=t.getPendingSessionRequests(),t.processSessionRequestQueue()}),pM.toMiliseconds(t.requestQueueDelay));case 10:case"end":return e.stop()}}),e)}))),t.connect=function(){var e=u(o().mark((function e(r){var n,i,a,s,c,l,f,h,d,p,v,m,g,y,b,w,_,k,x,E,A,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return n=_q(wq({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}}),e.next=5,t.isValidConnect(n);case 5:if(i=n.pairingTopic,a=n.requiredNamespaces,s=n.optionalNamespaces,c=n.sessionProperties,l=n.relays,d=!1,(f=i)&&(d=t.client.core.pairing.pairings.get(f).active),f&&d){e.next=14;break}return e.next=10,t.client.core.pairing.create();case 10:p=e.sent,v=p.topic,m=p.uri,f=v,h=m;case 14:return e.next=16,t.client.core.crypto.generateKeyPair();case 16:if(g=e.sent,y=wq({requiredNamespaces:a,optionalNamespaces:s,relays:null!=l?l:[{protocol:"irn"}],proposer:{publicKey:g,metadata:t.client.metadata}},c&&{sessionProperties:c}),b=i$(pM.FIVE_MINUTES,oq),w=b.reject,_=b.resolve,k=b.done,t.events.once(l$("session_connect"),function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.error,i=r.session,!n){e.next=5;break}w(n),e.next=17;break;case 5:if(!i){e.next=17;break}return i.self.publicKey=g,a=_q(wq({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces}),e.next=10,t.client.session.set(i.topic,a);case 10:return e.next=12,t.setExpiry(i.topic,i.expiry);case 12:if(e.t0=f,!e.t0){e.next=16;break}return e.next=16,t.client.core.pairing.updateMetadata({topic:f,metadata:i.peer.metadata});case 16:_(a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f){e.next=25;break}throw x=I$("NO_MATCHING_KEY","connect() pairing topic: ".concat(f)),E=x.message,new Error(E);case 25:return e.next=27,t.sendRequest({topic:f,method:"wc_sessionPropose",params:y});case 27:return A=e.sent,S=u$(pM.FIVE_MINUTES),e.next=31,t.setProposal(A,wq({id:A,expiry:S},y));case 31:return e.abrupt("return",{uri:h,approval:k});case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.pair=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.client.core.pairing.pair(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.approve=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h,d,p,v,m,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidApprove(r);case 4:return n=r.id,i=r.relayProtocol,a=r.namespaces,s=r.sessionProperties,u=t.client.proposal.get(n),c=u.pairingTopic,l=u.proposer,f=u.requiredNamespaces,h=u.optionalNamespaces,c=c||"",N$(f)||(f=A$(a,"approve()")),e.next=9,t.client.core.crypto.generateKeyPair();case 9:return d=e.sent,p=l.publicKey,e.next=13,t.client.core.crypto.generateSharedKey(d,p);case 13:if(v=e.sent,e.t0=c&&n,!e.t0){e.next=24;break}return e.next=18,t.client.core.pairing.updateMetadata({topic:c,metadata:l.metadata});case 18:return e.next=20,t.sendResult({id:n,topic:c,result:{relay:{protocol:null!=i?i:"irn"},responderPublicKey:d}});case 20:return e.next=22,t.client.proposal.delete(n,R$("USER_DISCONNECTED"));case 22:return e.next=24,t.client.core.pairing.activate({topic:c});case 24:return m=wq({relay:{protocol:null!=i?i:"irn"},namespaces:a,requiredNamespaces:f,optionalNamespaces:h,pairingTopic:c,controller:{publicKey:d,metadata:t.client.metadata},expiry:u$(sq)},s&&{sessionProperties:s}),e.next=27,t.client.core.relayer.subscribe(v);case 27:return e.next=29,t.sendRequest({topic:v,method:"wc_sessionSettle",params:m,throwOnFailedPublish:!0});case 29:return g=_q(wq({},m),{topic:v,pairingTopic:c,acknowledged:!1,self:m.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:d}),e.next=32,t.client.session.set(v,g);case 32:return e.next=34,t.setExpiry(v,u$(sq));case 34:return e.abrupt("return",{topic:v,acknowledged:function(){return new Promise((function(e){return setTimeout((function(){return e(t.client.session.get(v))}),500)}))}});case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.reject=function(){var e=u(o().mark((function e(r){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidReject(r);case 4:if(n=r.id,i=r.reason,a=t.client.proposal.get(n),s=a.pairingTopic,e.t0=s,!e.t0){e.next=11;break}return e.next=9,t.sendError(n,s,i);case 9:return e.next=11,t.client.proposal.delete(n,R$("USER_DISCONNECTED"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidUpdate(r);case 4:return n=r.topic,i=r.namespaces,e.next=8,t.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}});case 8:return a=e.sent,s=i$(),u=s.done,c=s.resolve,l=s.reject,t.events.once(l$("session_update",a),(function(e){var t=e.error;t?l(t):c()})),e.next=16,t.client.session.update(n,{namespaces:i});case 16:return e.abrupt("return",{acknowledged:u});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.extend=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidExtend(r);case 4:return n=r.topic,e.next=7,t.sendRequest({topic:n,method:"wc_sessionExtend",params:{}});case 7:return i=e.sent,a=i$(),s=a.done,u=a.resolve,c=a.reject,t.events.once(l$("session_extend",i),(function(e){var t=e.error;t?c(t):u()})),e.next=15,t.setExpiry(n,u$(sq));case 15:return e.abrupt("return",{acknowledged:s});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.request=function(){var e=u(o().mark((function e(r){var n,i,a,s,c,l,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidRequest(r);case 4:return n=r.chainId,i=r.request,a=r.topic,s=r.expiry,c=OD(),l=i$(s),f=l.done,h=l.resolve,d=l.reject,t.events.once(l$("session_request",c),(function(e){var t=e.error,r=e.result;t?d(t):h(r)})),e.next=8,Promise.all([new Promise(function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendRequest({clientRpcId:c,topic:a,method:"wc_sessionRequest",params:{request:i,chainId:n},expiry:s,throwOnFailedPublish:!0}).catch((function(e){return d(e)}));case 2:t.client.events.emit("session_request_sent",{topic:a,request:i,chainId:n,id:c}),r();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),new Promise(function(){var e=u(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.core.storage.getItem(aq);case 2:n=e.sent,f$({id:c,topic:a,wcDeepLink:n}),r();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f()]).then((function(e){return e[2]}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.respond=function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidRespond(r);case 4:if(n=r.topic,i=r.response,a=i.id,!FD(i)){e.next=10;break}return e.next=8,t.sendResult({id:a,topic:n,result:i.result,throwOnFailedPublish:!0});case 8:e.next=14;break;case 10:if(e.t0=BD(i),!e.t0){e.next=14;break}return e.next=14,t.sendError(a,n,i.error);case 14:t.cleanupAfterResponse(r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ping=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidPing(r);case 4:if(n=r.topic,!t.client.session.keys.includes(n)){e.next=18;break}return e.next=8,t.sendRequest({topic:n,method:"wc_sessionPing",params:{}});case 8:return i=e.sent,a=i$(),s=a.done,u=a.resolve,c=a.reject,t.events.once(l$("session_ping",i),(function(e){var t=e.error;t?c(t):u()})),e.next=16,s();case 16:e.next=22;break;case 18:if(e.t0=t.client.core.pairing.pairings.keys.includes(n),!e.t0){e.next=22;break}return e.next=22,t.client.core.pairing.ping({topic:n});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.emit=function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidEmit(r);case 4:return n=r.topic,i=r.event,a=r.chainId,e.next=7,t.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:a}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.disconnect=function(){var e=u(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isInitialized();case 2:return e.next=4,t.isValidDisconnect(r);case 4:if(n=r.topic,!t.client.session.keys.includes(n)){e.next=12;break}return e.next=8,t.sendRequest({topic:n,method:"wc_sessionDelete",params:R$("USER_DISCONNECTED"),throwOnFailedPublish:!0});case 8:return e.next=10,t.deleteSession(n);case 10:e.next=14;break;case 12:return e.next=14,t.client.core.pairing.disconnect({topic:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.find=function(e){return t.isInitialized(),t.client.session.getAll().filter((function(t){return function(e,t){var r=t.requiredNamespaces,n=Object.keys(e.namespaces),i=Object.keys(r),a=!0;return!!t$(i,n)&&(n.forEach((function(t){var n=e.namespaces[t],i=n.accounts,o=n.methods,s=n.events,u=E$(i),c=r[t];t$(bL(t,c),u)&&t$(c.methods,o)&&t$(c.events,s)||(a=!1)})),a)}(t,e)}))},t.getPendingSessionRequests=function(){return t.isInitialized(),t.client.pendingRequest.getAll()},t.cleanupDuplicatePairings=function(){var e=u(o().mark((function e(r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.pairingTopic){e.next=14;break}if(e.prev=1,n=t.client.core.pairing.pairings.get(r.pairingTopic),i=t.client.core.pairing.pairings.getAll().filter((function(e){var t,i;return(null==(t=e.peerMetadata)?void 0:t.url)&&(null==(i=e.peerMetadata)?void 0:i.url)===r.peer.metadata.url&&e.topic&&e.topic!==n.topic})),0!==i.length){e.next=5;break}return e.abrupt("return");case 5:return t.client.logger.info("Cleaning up ".concat(i.length," duplicate pairing(s)")),e.next=8,Promise.all(i.map((function(e){return t.client.core.pairing.disconnect({topic:e.topic})})));case 8:t.client.logger.info("Duplicate pairings clean up finished"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.client.logger.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),t.deleteSession=function(){var e=u(o().mark((function e(r,n){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.client.session.get(r),a=i.self,e.next=3,t.client.core.relayer.unsubscribe(r);case 3:if(t.client.session.delete(r,R$("USER_DISCONNECTED")),e.t0=t.client.core.crypto.keychain.has(a.publicKey),!e.t0){e.next=8;break}return e.next=8,t.client.core.crypto.deleteKeyPair(a.publicKey);case 8:if(e.t1=t.client.core.crypto.keychain.has(r),!e.t1){e.next=12;break}return e.next=12,t.client.core.crypto.deleteSymKey(r);case 12:n||t.client.core.expirer.del(r),t.client.core.storage.removeItem(aq).catch((function(e){return t.client.logger.warn(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deleteProposal=function(){var e=u(o().mark((function e(r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.client.proposal.delete(r,R$("USER_DISCONNECTED")),n?Promise.resolve():t.client.core.expirer.del(r)]);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.deletePendingSessionRequest=function(){var e=u(o().mark((function e(r,n){var i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]&&a[2],e.next=3,Promise.all([t.client.pendingRequest.delete(r,n),i?Promise.resolve():t.client.core.expirer.del(r)]);case 3:t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter((function(e){return e.id!==r})),i&&(t.sessionRequestQueue.state=lq);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.setExpiry=function(){var e=u(o().mark((function e(r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.client.session.keys.includes(r),!e.t0){e.next=4;break}return e.next=4,t.client.session.update(r,{expiry:n});case 4:t.client.core.expirer.set(r,n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.setProposal=function(){var e=u(o().mark((function e(r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.proposal.set(r,n);case 2:t.client.core.expirer.set(r,n.expiry);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.setPendingSessionRequest=function(){var e=u(o().mark((function e(r){var n,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uq.wc_sessionRequest.req.ttl,i=r.id,a=r.topic,s=r.params,u=r.verifyContext,e.next=3,t.client.pendingRequest.set(i,{id:i,topic:a,params:s,verifyContext:u});case 3:n&&t.client.core.expirer.set(i,u$(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendRequest=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.topic,i=r.method,a=r.params,s=r.expiry,u=r.relayRpcId,c=r.clientRpcId,l=r.throwOnFailedPublish,f=RD(i,a,c),JL()&&hq.includes(i)&&(h=PL(JSON.stringify(f)),t.client.core.verify.register({attestationId:h})),e.next=4,t.client.core.crypto.encode(n,f);case 4:if(d=e.sent,p=uq[i].req,s&&(p.ttl=s),u&&(p.id=u),t.client.core.history.set(n,f),!l){e.next=15;break}return p.internal=_q(wq({},p.internal),{throwOnFailedPublish:!0}),e.next=13,t.client.core.relayer.publish(n,d,p);case 13:e.next=16;break;case 15:t.client.core.relayer.publish(n,d,p).catch((function(e){return t.client.logger.error(e)}));case 16:return e.abrupt("return",f.id);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendResult=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,i=r.topic,a=r.result,s=r.throwOnFailedPublish,u=CD(n,a),e.next=7,t.client.core.crypto.encode(i,u);case 7:return c=e.sent,e.next=10,t.client.core.history.get(i,n);case 10:if(l=e.sent,f=uq[l.request.method].res,!s){e.next=18;break}return f.internal=_q(wq({},f.internal),{throwOnFailedPublish:!0}),e.next=16,t.client.core.relayer.publish(i,c,f);case 16:e.next=19;break;case 18:t.client.core.relayer.publish(i,c,f).catch((function(e){return t.client.logger.error(e)}));case 19:return e.next=21,t.client.core.history.resolve(u);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.sendError=function(){var e=u(o().mark((function e(r,n,i){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ND(r,i),e.next=3,t.client.core.crypto.encode(n,a);case 3:return s=e.sent,e.next=6,t.client.core.history.get(n,r);case 6:return u=e.sent,c=uq[u.request.method].res,t.client.core.relayer.publish(n,s,c),e.next=11,t.client.core.history.resolve(a);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.cleanup=u(o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n=[],t.client.session.getAll().forEach((function(e){c$(e.expiry)&&r.push(e.topic)})),t.client.proposal.getAll().forEach((function(e){c$(e.expiry)&&n.push(e.id)})),e.next=5,Promise.all([].concat(w(r.map((function(e){return t.deleteSession(e)}))),w(n.map((function(e){return t.deleteProposal(e)})))));case 5:case"end":return e.stop()}}),e)}))),t.onRelayEventRequest=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.requestQueue.queue.push(r),e.next=3,t.processRequestsQueue();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.processRequestsQueue=u(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.requestQueue.state!==fq){e.next=3;break}return t.client.logger.info("Request queue already active, skipping..."),e.abrupt("return");case 3:t.client.logger.info("Request queue starting with ".concat(t.requestQueue.queue.length," requests"));case 4:if(!(t.requestQueue.queue.length>0)){e.next=19;break}if(t.requestQueue.state=fq,!(r=t.requestQueue.queue.shift())){e.next=17;break}return e.prev=8,t.processRequest(r),e.next=12,new Promise((function(e){return setTimeout(e,300)}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),t.client.logger.warn(e.t0);case 17:e.next=4;break;case 19:t.requestQueue.state=lq;case 20:case"end":return e.stop()}}),e,null,[[8,14]])}))),t.processRequest=function(e){var r=e.topic,n=e.payload,i=n.method;switch(i){case"wc_sessionPropose":return t.onSessionProposeRequest(r,n);case"wc_sessionSettle":return t.onSessionSettleRequest(r,n);case"wc_sessionUpdate":return t.onSessionUpdateRequest(r,n);case"wc_sessionExtend":return t.onSessionExtendRequest(r,n);case"wc_sessionPing":return t.onSessionPingRequest(r,n);case"wc_sessionDelete":return t.onSessionDeleteRequest(r,n);case"wc_sessionRequest":return t.onSessionRequest(r,n);case"wc_sessionEvent":return t.onSessionEventRequest(r,n);default:return t.client.logger.info("Unsupported request method ".concat(i))}},t.onRelayEventResponse=function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.topic,i=r.payload,e.next=4,t.client.core.history.get(n,i.id);case 4:a=e.sent.request.method,e.t0=a,e.next="wc_sessionPropose"===e.t0?8:"wc_sessionSettle"===e.t0?9:"wc_sessionUpdate"===e.t0?10:"wc_sessionExtend"===e.t0?11:"wc_sessionPing"===e.t0?12:"wc_sessionRequest"===e.t0?13:14;break;case 8:return e.abrupt("return",t.onSessionProposeResponse(n,i));case 9:return e.abrupt("return",t.onSessionSettleResponse(n,i));case 10:return e.abrupt("return",t.onSessionUpdateResponse(n,i));case 11:return e.abrupt("return",t.onSessionExtendResponse(n,i));case 12:return e.abrupt("return",t.onSessionPingResponse(n,i));case 13:return e.abrupt("return",t.onSessionRequestResponse(n,i));case 14:return e.abrupt("return",t.client.logger.info("Unsupported response method ".concat(a)));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onRelayEventUnknownPayload=function(e){var t=e.topic,r=I$("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response.")).message;throw new Error(r)},t.onSessionProposeRequest=function(){var e=u(o().mark((function e(r,n){var i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.params,a=n.id,e.prev=1,t.isValidConnect(wq({},n.params)),s=u$(pM.FIVE_MINUTES),u=wq({id:a,pairingTopic:r,expiry:s},i),e.next=6,t.setProposal(a,u);case 6:return c=PL(JSON.stringify(n)),e.next=9,t.getVerifyContext(c,u.proposer.metadata);case 9:l=e.sent,t.client.events.emit("session_proposal",{id:a,params:u,verifyContext:l}),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,t.sendError(a,r,e.t0);case 17:t.client.logger.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionProposeResponse=function(){var e=u(o().mark((function e(r,n){var i,a,s,u,c,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,!FD(n)){e.next=22;break}return a=n.result,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a}),s=t.client.proposal.get(i),t.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s}),u=s.proposer.publicKey,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u}),c=a.responderPublicKey,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c}),e.next=12,t.client.core.crypto.generateSharedKey(u,c);case 12:return l=e.sent,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l}),e.next=16,t.client.core.relayer.subscribe(l);case 16:return f=e.sent,t.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),e.next=20,t.client.core.pairing.activate({topic:r});case 20:e.next=27;break;case 22:if(e.t0=BD(n),!e.t0){e.next=27;break}return e.next=26,t.client.proposal.delete(i,R$("USER_DISCONNECTED"));case 26:t.events.emit(l$("session_connect"),{error:n.error});case 27:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionSettleRequest=function(){var e=u(o().mark((function e(r,n){var i,a,s,u,c,l,f,h,d,p,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.id,a=n.params,e.prev=1,t.isValidSessionSettleRequest(a),s=n.params,u=s.relay,c=s.controller,l=s.expiry,f=s.namespaces,h=s.requiredNamespaces,d=s.optionalNamespaces,p=s.sessionProperties,v=s.pairingTopic,m=wq({topic:r,relay:u,expiry:l,namespaces:f,acknowledged:!0,pairingTopic:v,requiredNamespaces:h,optionalNamespaces:d,controller:c.publicKey,self:{publicKey:"",metadata:t.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},p&&{sessionProperties:p}),e.next=6,t.sendResult({id:n.id,topic:r,result:!0});case 6:t.events.emit(l$("session_connect"),{session:m}),t.cleanupDuplicatePairings(m),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(i,r,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionSettleResponse=function(){var e=u(o().mark((function e(r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,!FD(n)){e.next=7;break}return e.next=4,t.client.session.update(r,{acknowledged:!0});case 4:t.events.emit(l$("session_approve",i),{}),e.next=12;break;case 7:if(e.t0=BD(n),!e.t0){e.next=12;break}return e.next=11,t.client.session.delete(r,R$("USER_DISCONNECTED"));case 11:t.events.emit(l$("session_approve",i),{error:n.error});case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionUpdateRequest=function(){var e=u(o().mark((function e(r,n){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.params,a=n.id,e.prev=1,s="".concat(r,"_session_update"),!(u=sD.get(s))||!t.isRequestOutOfSync(u,a)){e.next=6;break}return t.client.logger.info("Discarding out of sync request - ".concat(a)),e.abrupt("return");case 6:return t.isValidUpdate(wq({topic:r},i)),e.next=9,t.client.session.update(r,{namespaces:i.namespaces});case 9:return e.next=11,t.sendResult({id:a,topic:r,result:!0});case 11:t.client.events.emit("session_update",{id:a,topic:r,params:i}),sD.set(s,a),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),e.next=19,t.sendError(a,r,e.t0);case 19:t.client.logger.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,r){return e.apply(this,arguments)}}(),t.isRequestOutOfSync=function(e,t){return parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3))},t.onSessionUpdateResponse=function(e,r){var n=r.id;FD(r)?t.events.emit(l$("session_update",n),{}):BD(r)&&t.events.emit(l$("session_update",n),{error:r.error})},t.onSessionExtendRequest=function(){var e=u(o().mark((function e(r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.id,e.prev=1,t.isValidExtend({topic:r}),e.next=5,t.setExpiry(r,u$(sq));case 5:return e.next=7,t.sendResult({id:i,topic:r,result:!0});case 7:t.client.events.emit("session_extend",{id:i,topic:r}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,t.sendError(i,r,e.t0);case 14:t.client.logger.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionExtendResponse=function(e,r){var n=r.id;FD(r)?t.events.emit(l$("session_extend",n),{}):BD(r)&&t.events.emit(l$("session_extend",n),{error:r.error})},t.onSessionPingRequest=function(){var e=u(o().mark((function e(r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.id,e.prev=1,t.isValidPing({topic:r}),e.next=5,t.sendResult({id:i,topic:r,result:!0});case 5:t.client.events.emit("session_ping",{id:i,topic:r}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,t.sendError(i,r,e.t0);case 12:t.client.logger.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionPingResponse=function(e,r){var n=r.id;setTimeout((function(){FD(r)?t.events.emit(l$("session_ping",n),{}):BD(r)&&t.events.emit(l$("session_ping",n),{error:r.error})}),500)},t.onSessionDeleteRequest=function(){var e=u(o().mark((function e(r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.id,e.prev=1,t.isValidDisconnect({topic:r,reason:n.params}),e.next=5,Promise.all([new Promise((function(e){t.client.core.relayer.once(BF,u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,t.deleteSession(r);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))))})),t.sendResult({id:i,topic:r,result:!0})]);case 5:t.client.events.emit("session_delete",{id:i,topic:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.client.logger.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionRequest=function(){var e=u(o().mark((function e(r,n){var i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.id,a=n.params,e.prev=1,t.isValidRequest(wq({topic:r},a)),s=PL(JSON.stringify(RD("wc_sessionRequest",a,i))),u=t.client.session.get(r),e.next=7,t.getVerifyContext(s,u.peer.metadata);case 7:return c=e.sent,l={id:i,topic:r,params:a,verifyContext:c},e.next=11,t.setPendingSessionRequest(l);case 11:t.addSessionRequestToSessionRequestQueue(l),t.processSessionRequestQueue(),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),e.next=19,t.sendError(i,r,e.t0);case 19:t.client.logger.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,r){return e.apply(this,arguments)}}(),t.onSessionRequestResponse=function(e,r){var n=r.id;FD(r)?t.events.emit(l$("session_request",n),{result:r.result}):BD(r)&&t.events.emit(l$("session_request",n),{error:r.error})},t.onSessionEventRequest=function(){var e=u(o().mark((function e(r,n){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.id,a=n.params,e.prev=1,s="".concat(r,"_session_event_").concat(a.event.name),!(u=sD.get(s))||!t.isRequestOutOfSync(u,i)){e.next=6;break}return t.client.logger.info("Discarding out of sync request - ".concat(i)),e.abrupt("return");case 6:t.isValidEmit(wq({topic:r},a)),t.client.events.emit("session_event",{id:i,topic:r,params:a}),sD.set(s,i),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,t.sendError(i,r,e.t0);case 13:t.client.logger.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),t.addSessionRequestToSessionRequestQueue=function(e){t.sessionRequestQueue.queue.push(e)},t.cleanupAfterResponse=function(e){t.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((function(){t.sessionRequestQueue.state=lq,t.processSessionRequestQueue()}),pM.toMiliseconds(t.requestQueueDelay))},t.processSessionRequestQueue=function(){if(t.sessionRequestQueue.state!==fq){var e=t.sessionRequestQueue.queue[0];if(e)try{t.sessionRequestQueue.state=fq,t.client.events.emit("session_request",e)}catch(cf){t.client.logger.error(cf)}else t.client.logger.info("session request queue is empty.")}else t.client.logger.info("session request queue is already active.")},t.onPairingCreated=function(e){if(!e.active){var r=t.client.proposal.getAll().find((function(t){return t.pairingTopic===e.topic}));r&&t.onSessionProposeRequest(e.topic,RD("wc_sessionPropose",{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer},r.id))}},t.isValidConnect=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(r))),i=n.message,new Error(i);case 3:if(a=r.pairingTopic,s=r.requiredNamespaces,u=r.optionalNamespaces,c=r.sessionProperties,l=r.relays,e.t0=P$(a),e.t0){e.next=8;break}return e.next=8,t.isValidPairingTopic(a);case 8:if(H$(l,!0)){e.next=11;break}throw f=I$("MISSING_OR_INVALID","connect() relays: ".concat(l)),h=f.message,new Error(h);case 11:!P$(s)&&0!==N$(s)&&t.validateNamespaces(s,"requiredNamespaces"),!P$(u)&&0!==N$(u)&&t.validateNamespaces(u,"optionalNamespaces"),P$(c)||t.validateSessionProps(c,"sessionProperties");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.validateNamespaces=function(e,t){var r=function(e,t,r){var n=null;if(e&&N$(e)){var i=B$(e,t);i&&(n=i);var a=U$(e,t,r);a&&(n=a)}else n=I$("MISSING_OR_INVALID","".concat(t,", ").concat(r," should be an object with data"));return n}(e,"connect()",t);if(r)throw new Error(r.message)},t.isValidApprove=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=2;break}throw new Error(I$("MISSING_OR_INVALID","approve() params: ".concat(r)).message);case 2:return n=r.id,i=r.namespaces,a=r.relayProtocol,s=r.sessionProperties,e.next=5,t.isValidProposalId(n);case 5:if(u=t.client.proposal.get(n),!(c=q$(i,"approve()"))){e.next=8;break}throw new Error(c.message);case 8:if(!(l=eD(u.requiredNamespaces,i,"approve()"))){e.next=11;break}throw new Error(l.message);case 11:if(M$(a,!0)){e.next=14;break}throw f=I$("MISSING_OR_INVALID","approve() relayProtocol: ".concat(a)),h=f.message,new Error(h);case 14:P$(s)||t.validateSessionProps(s,"sessionProperties");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidReject=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","reject() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.id,s=r.reason,e.next=6,t.isValidProposalId(a);case 6:if(G$(s)){e.next=9;break}throw u=I$("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(s))),c=u.message,new Error(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidSessionSettleRequest=function(e){if(!W$(e)){var t=I$("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e)).message;throw new Error(t)}var r=e.relay,n=e.controller,i=e.namespaces,a=e.expiry;if(!z$(r)){var o=I$("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string").message;throw new Error(o)}var s=function(e,t){var r=null;return M$(null==e?void 0:e.publicKey,!1)||(r=I$("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),r}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);var u=q$(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(c$(a)){var c=I$("EXPIRED","onSessionSettleRequest()").message;throw new Error(c)}},t.isValidUpdate=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","update() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.topic,s=r.namespaces,e.next=6,t.isValidSessionTopic(a);case 6:if(u=t.client.session.get(a),!(c=q$(s,"update()"))){e.next=9;break}throw new Error(c.message);case 9:if(!(l=eD(u.requiredNamespaces,s,"update()"))){e.next=12;break}throw new Error(l.message);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidExtend=function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","extend() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.topic,e.next=6,t.isValidSessionTopic(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidRequest=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h,d,p,v,m,g,y,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","request() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.topic,s=r.request,u=r.chainId,c=r.expiry,e.next=6,t.isValidSessionTopic(a);case 6:if(l=t.client.session.get(a),J$(f=l.namespaces,u)){e.next=10;break}throw h=I$("MISSING_OR_INVALID","request() chainId: ".concat(u)),d=h.message,new Error(d);case 10:if(K$(s)){e.next=13;break}throw p=I$("MISSING_OR_INVALID","request() ".concat(JSON.stringify(s))),v=p.message,new Error(v);case 13:if(Q$(f,u,s.method)){e.next=16;break}throw m=I$("MISSING_OR_INVALID","request() method: ".concat(s.method)),g=m.message,new Error(g);case 16:if(!c||rD(c,cq)){e.next=19;break}throw y=I$("MISSING_OR_INVALID","request() expiry: ".concat(c,". Expiry must be a number (in seconds) between ").concat(cq.min," and ").concat(cq.max)),b=y.message,new Error(b);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidRespond=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","respond() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.topic,s=r.response,e.next=6,t.isValidSessionTopic(a);case 6:if(Z$(s)){e.next=9;break}throw u=I$("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(s))),c=u.message,new Error(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidPing=function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","ping() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.topic,e.next=6,t.isValidSessionOrPairingTopic(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidEmit=function(){var e=u(o().mark((function e(r){var n,i,a,s,u,c,l,f,h,d,p,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","emit() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.topic,s=r.event,u=r.chainId,e.next=6,t.isValidSessionTopic(a);case 6:if(c=t.client.session.get(a),J$(l=c.namespaces,u)){e.next=10;break}throw f=I$("MISSING_OR_INVALID","emit() chainId: ".concat(u)),h=f.message,new Error(h);case 10:if(Y$(s)){e.next=13;break}throw d=I$("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(s))),p=d.message,new Error(p);case 13:if(X$(l,u,s.name)){e.next=16;break}throw v=I$("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(s))),m=v.message,new Error(m);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.isValidDisconnect=function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W$(r)){e.next=3;break}throw n=I$("MISSING_OR_INVALID","disconnect() params: ".concat(r)),i=n.message,new Error(i);case 3:return a=r.topic,e.next=6,t.isValidSessionOrPairingTopic(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getVerifyContext=function(){var e=u(o().mark((function e(r,n){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={verified:{verifyUrl:n.verifyUrl||hB,validation:"UNKNOWN",origin:n.url||""}},e.prev=1,e.next=4,t.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});case 4:(a=e.sent)&&(i.verified.origin=a.origin,i.verified.isScam=a.isScam,i.verified.validation=a.origin===new URL(n.url).origin?"VALID":"INVALID"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.client.logger.info(e.t0);case 11:return e.abrupt("return",(t.client.logger.info("Verify context: ".concat(JSON.stringify(i))),i));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),t.validateSessionProps=function(e,t){Object.values(e).forEach((function(e){if(!M$(e,!1)){var r=I$("MISSING_OR_INVALID","".concat(t," must be in Record<string, string> format. Received: ").concat(JSON.stringify(e))).message;throw new Error(r)}}))},t}return O(s,[{key:"isInitialized",value:(i=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initialized){e.next=3;break}throw t=I$("NOT_INITIALIZED",this.name),r=t.message,new Error(r);case 3:return e.next=5,this.client.core.relayer.confirmOnlineStateOrThrow();case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"registerRelayerEvents",value:function(){var e=this;this.client.core.relayer.on(TF,function(){var t=u(o().mark((function t(r){var n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.topic,i=r.message,!e.ignoredPayloadTypes.includes(e.client.core.crypto.getPayloadType(i))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.client.core.crypto.decode(n,i);case 5:if(a=t.sent,t.prev=6,!DD(a)){t.next=11;break}e.client.core.history.set(n,a),e.onRelayEventRequest({topic:n,payload:a}),t.next=20;break;case 11:if(!UD(a)){t.next=19;break}return t.next=14,e.client.core.history.resolve(a);case 14:return t.next=16,e.onRelayEventResponse({topic:n,payload:a});case 16:e.client.core.history.delete(n,a.id),t.next=20;break;case 19:e.onRelayEventUnknownPayload({topic:n,payload:a});case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(6),e.client.logger.error(t.t0);case 25:case"end":return t.stop()}}),t,null,[[6,22]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var e=this;this.client.core.expirer.on(cB,function(){var t=u(o().mark((function t(r){var n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s$(r.target),i=n.topic,!(a=n.id)||!e.client.pendingRequest.keys.includes(a)){t.next=5;break}return t.next=4,e.deletePendingSessionRequest(a,I$("EXPIRED"),!0);case 4:return t.abrupt("return",t.sent);case 5:if(!i){t.next=13;break}if(t.t0=e.client.session.keys.includes(i),!t.t0){t.next=11;break}return t.next=10,e.deleteSession(i,!0);case 10:e.client.events.emit("session_expire",{topic:i});case 11:t.next=18;break;case 13:if(t.t1=a,!t.t1){t.next=18;break}return t.next=17,e.deleteProposal(a,!0);case 17:e.client.events.emit("proposal_expire",{id:a});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"registerPairingEvents",value:function(){var e=this;this.client.core.pairing.events.on(XF,(function(t){return e.onPairingCreated(t)}))}},{key:"isValidPairingTopic",value:function(e){if(!M$(e,!1)){var t=I$("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e)).message;throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){var r=I$("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e)).message;throw new Error(r)}if(c$(this.client.core.pairing.pairings.get(e).expiry)){var n=I$("EXPIRED","pairing topic: ".concat(e)).message;throw new Error(n)}}},{key:"isValidSessionTopic",value:(n=u(o().mark((function e(t){var r,n,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M$(t,!1)){e.next=3;break}throw r=I$("MISSING_OR_INVALID","session topic should be a string: ".concat(t)),n=r.message,new Error(n);case 3:if(this.client.session.keys.includes(t)){e.next=6;break}throw i=I$("NO_MATCHING_KEY","session topic doesn't exist: ".concat(t)),a=i.message,new Error(a);case 6:if(!c$(this.client.session.get(t).expiry)){e.next=11;break}return e.next=9,this.deleteSession(t);case 9:throw s=I$("EXPIRED","session topic: ".concat(t)),u=s.message,new Error(u);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"isValidSessionOrPairingTopic",value:(r=u(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.client.session.keys.includes(t)){e.next=5;break}return e.next=3,this.isValidSessionTopic(t);case 3:e.next=16;break;case 5:if(!this.client.core.pairing.pairings.keys.includes(t)){e.next=9;break}this.isValidPairingTopic(t),e.next=16;break;case 9:if(!M$(t,!1)){e.next=14;break}throw r=I$("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(t)),n=r.message,new Error(n);case 14:throw i=I$("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(t)),a=i.message,new Error(a);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"isValidProposalId",value:(t=u(o().mark((function e(t){var r,n,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V$(t)){e.next=3;break}throw r=I$("MISSING_OR_INVALID","proposal id should be a number: ".concat(t)),n=r.message,new Error(n);case 3:if(this.client.proposal.keys.includes(t)){e.next=6;break}throw i=I$("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(t)),a=i.message,new Error(a);case 6:if(!c$(this.client.proposal.get(t).expiry)){e.next=11;break}return e.next=9,this.deleteProposal(t);case 9:throw s=I$("EXPIRED","proposal id: ".concat(t)),u=s.message,new Error(u);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),s}(OT),xq=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this,e,n,"proposal",rq)).core=e,i.logger=n,i}return O(r)}(qB),Eq=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),(i=t.call(this,e,n,"session",rq)).core=e,i.logger=n,i}return O(r)}(qB),Aq=function(e){f(r,e);var t=h(r);function r(e,n){var i;return A(this,r),i=t.call(this,e,n,"request",rq,(function(e){return e.id})),i.core=e,i.logger=n,i}return O(r)}(qB),Sq=function(e){f(i,e);var t,r,n=h(i);function i(e){var t;A(this,i),(t=n.call(this,e)).protocol="wc",t.version=2,t.name=nq,t.events=new pN.EventEmitter,t.on=function(e,r){return t.events.on(e,r)},t.once=function(e,r){return t.events.once(e,r)},t.off=function(e,r){return t.events.off(e,r)},t.removeListener=function(e,r){return t.events.removeListener(e,r)},t.removeAllListeners=function(e){return t.events.removeAllListeners(e)},t.connect=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.connect(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.pair=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.pair(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.approve=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.approve(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.reject=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.reject(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.update(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.extend=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.extend(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.request=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.request(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.respond=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.respond(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.ping=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.ping(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.emit=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.emit(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.disconnect=function(){var e=u(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.engine.disconnect(r);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),t.find=function(e){try{return t.engine.find(e)}catch(r){throw t.logger.error(r.message),r}},t.getPendingSessionRequests=function(){try{return t.engine.getPendingSessionRequests()}catch(cf){throw t.logger.error(cf.message),cf}},t.name=(null==e?void 0:e.name)||nq,t.metadata=(null==e?void 0:e.metadata)||mL()||{name:"",description:"",url:"",icons:[""]};var r=typeof(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:Xj.pino(Xj.getDefaultLoggerOptions({level:(null==e?void 0:e.logger)||iq}));return t.core=(null==e?void 0:e.core)||new eq(e),t.logger=Xj.generateChildLogger(r,t.name),t.session=new Eq(t.core,t.logger),t.proposal=new xq(t.core,t.logger),t.pendingRequest=new Aq(t.core,t.logger),t.engine=new kq(d(t)),t}return O(i,[{key:"context",get:function(){return Xj.getLoggerContext(this.logger)}},{key:"pairing",get:function(){return this.core.pairing.pairings}},{key:"initialize",value:(r=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.core.start();case 4:return e.next=6,this.session.init();case 6:return e.next=8,this.proposal.init();case 8:return e.next=10,this.pendingRequest.init();case 10:return e.next=12,this.engine.init();case 12:this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),this.logger.info("SignClient Initialization Failure"),this.logger.error(e.t0.message),e.t0;case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(){return r.apply(this,arguments)})}],[{key:"init",value:(t=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i(t),e.next=3,r.initialize();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),i}(ST),Oq={};function Iq(e){var t=void 0;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function Rq(e){var t=Iq(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(Oq,"__esModule",{value:!0}),Oq.getLocalStorage=Oq.getLocalStorageOrThrow=Oq.getCrypto=Oq.getCryptoOrThrow=Oq.getLocation=Oq.getLocationOrThrow=Oq.getNavigator=Oq.getNavigatorOrThrow=Oq.getDocument=Oq.getDocumentOrThrow=Oq.getFromWindowOrThrow=Oq.getFromWindow=void 0,Oq.getFromWindow=Iq,Oq.getFromWindowOrThrow=Rq,Oq.getDocumentOrThrow=function(){return Rq("document")},Oq.getDocument=function(){return Iq("document")},Oq.getNavigatorOrThrow=function(){return Rq("navigator")},Oq.getNavigator=function(){return Iq("navigator")},Oq.getLocationOrThrow=function(){return Rq("location")},Oq.getLocation=function(){return Iq("location")},Oq.getCryptoOrThrow=function(){return Rq("crypto")},Oq.getCrypto=function(){return Iq("crypto")},Oq.getLocalStorageOrThrow=function(){return Rq("localStorage")},Oq.getLocalStorage=function(){return Iq("localStorage")};var Cq={};Object.defineProperty(Cq,"__esModule",{value:!0}),Cq.getWindowMetadata=void 0;var Nq=Oq;Cq.getWindowMetadata=function(){var e,t;try{e=Nq.getDocumentOrThrow(),t=Nq.getLocationOrThrow()}catch(i){return null}function r(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i,a=e.getElementsByTagName("meta"),o=function(){var e=a[s],t=["itemprop","property","name"].map((function(t){return e.getAttribute(t)})).filter((function(e){return!!e&&r.includes(e)}));if(t.length&&t){var n=e.getAttribute("content");if(n)return{v:n}}},s=0;s<a.length;s++)if(i=o())return i.v;return""}var n=function(){var t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){for(var r=e.getElementsByTagName("link"),n=[],i=0;i<r.length;i++){var a=r[i],o=a.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){var s=a.getAttribute("href");if(s)if(-1===s.toLowerCase().indexOf("https:")&&-1===s.toLowerCase().indexOf("http:")&&0!==s.indexOf("//")){var u=t.protocol+"//"+t.host;if(0===s.indexOf("/"))u+=s;else{var c=t.pathname.split("/");c.pop(),u+=c.join("/")+"/"+s}n.push(u)}else if(0===s.indexOf("//")){var l=t.protocol+s;n.push(l)}else n.push(s)}}return n}(),name:n}};!function(e){var t=KM,r=ej,n=tj,i=rj,a=Symbol("encodeFragmentIdentifier");function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,r){return r.encode?r.strict?t(e):encodeURIComponent(e):e}function u(e,t){return t.decode?r(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function l(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){var t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return function(e,r,n){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var i="string"==typeof r&&r.includes(e.arrayFormatSeparator),a="string"==typeof r&&!i&&u(r,e).includes(e.arrayFormatSeparator);r=a?u(r,e):r;var o=i||a?r.split(e.arrayFormatSeparator).map((function(t){return u(t,e)})):null===r?r:u(r,e);n[t]=o};case"bracket-separator":return function(t,r,n){var i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),i){var a=null===r?[]:r.split(e.arrayFormatSeparator).map((function(t){return u(t,e)}));void 0!==n[t]?n[t]=[].concat(n[t],a):n[t]=a}else n[t]=r?u(r,e):r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;var a,s=k(e.split("&"));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(""!==l){var f=_(n(t.decode?l.replace(/\+/g," "):l,"="),2),d=f[0],p=f[1];p=void 0===p?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?p:u(p,t),r(u(d,t),p,i)}}}catch(E){s.e(E)}finally{s.f()}for(var v=0,m=Object.keys(i);v<m.length;v++){var g=m[v],y=i[g];if("object"==typeof y&&null!==y)for(var b=0,w=Object.keys(y);b<w.length;b++){var x=w[b];y[x]=h(y[x],t)}else i[g]=h(y,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce((function(e,t){var r=i[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=c(r):e[t]=r,e}),Object.create(null))}e.extract=f,e.parse=d,e.stringify=function(e,t){if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(r){return t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),"[",i,"]"].join("")]:[[s(t,e),"[",s(i,e),"]=",s(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),"[]"].join("")]:[[s(t,e),"[]=",s(n,e)].join("")])}};case"colon-list-separator":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[[s(t,e),":list="].join("")]:[[s(t,e),":list=",s(n,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(r){return function(n,i){return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[s(r,e),t,s(i,e)].join("")]:[[n,s(i,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(w(r),null===n?[s(t,e)]:[[s(t,e),"=",s(n,e)].join("")])}}}}(t),i={},a=0,u=Object.keys(e);a<u.length;a++){var c=u[a];r(c)||(i[c]=e[c])}var l=Object.keys(i);return!1!==t.sort&&l.sort(t.sort),l.map((function(r){var i=e[r];return void 0===i?"":null===i?s(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?s(r,t)+"[]":i.reduce(n(r),[]).join("&"):s(r,t)+"="+s(i,t)})).filter((function(e){return e.length>0})).join("&")},e.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=_(n(e,"#"),2),i=r[0],a=r[1];return Object.assign({url:i.split("?")[0]||"",query:d(f(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:u(a,t)}:{})},e.stringifyUrl=function(t,r){r=Object.assign(b({encode:!0,strict:!0},a,!0),r);var n=l(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),u=Object.assign(o,t.query),c=e.stringify(u,r);c&&(c="?".concat(c));var f=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(t.url);return t.fragmentIdentifier&&(f="#".concat(r[a]?s(t.fragmentIdentifier,r):t.fragmentIdentifier)),"".concat(n).concat(c).concat(f)},e.pick=function(t,r,n){n=Object.assign(b({parseFragmentIdentifier:!0},a,!1),n);var o=e.parseUrl(t,n),s=o.url,u=o.query,c=o.fragmentIdentifier;return e.stringifyUrl({url:s,query:i(u,r),fragmentIdentifier:c},n)},e.exclude=function(t,r,n){var i=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return e.pick(t,i,n)}}({});var Pq=":";function Mq(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return w(new Set([].concat(w(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),w(e))))}function jq(e){return e.includes(":")}function Tq(e){return jq(e)?e.split(":")[0]:e}var Lq={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function $q(e,t){var r=Lq[e],n=r.message,i=r.code;return{message:t?"".concat(n," ").concat(t):n,code:i}}function Dq(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}var Uq={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:x,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function v(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];_.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise((function(n,a){var o=new b(e,r);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new _(i,r))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=h,e.Request=b,e.Response=_),t.Headers=h,t.Request=b,t.Response=_,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Uq,Uq.exports);var Fq=g(Uq.exports),Bq={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"},qq=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(A(this,e),this.url=t,this.disableProviderPing=r,this.events=new pN.EventEmitter,this.isAvailable=!1,this.registering=!1,!jD(t))throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));this.url=t,this.disableProviderPing=r}var t,r,n,i;return O(e,[{key:"connected",get:function(){return this.isAvailable}},{key:"connecting",get:function(){return this.registering}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(i=u(o().mark((function e(){var t,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"close",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=2;break}throw new Error("Connection already closed");case 2:this.onClose();case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"send",value:(r=u(o().mark((function e(t,r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAvailable){e.next=3;break}return e.next=3,this.register();case 3:return e.prev=3,n=CT(t),e.next=7,Fq(this.url,Object.assign(Object.assign({},Bq),{body:n}));case 7:return i=e.sent,e.next=10,i.json();case 10:a=e.sent,this.onPayload({data:a}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),this.onError(t.id,e.t0);case 17:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e,t){return r.apply(this,arguments)})},{key:"register",value:(t=u(o().mark((function e(){var t,r,n,i,a=this,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jD(t=s.length>0&&void 0!==s[0]?s[0]:this.url)){e.next=3;break}throw new Error("Provided URL is not compatible with HTTP connection: ".concat(t));case 3:if(!this.registering){e.next=7;break}return r=this.events.getMaxListeners(),(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),e.abrupt("return",new Promise((function(e,t){a.events.once("register_error",(function(e){a.resetMaxListeners(),t(e)})),a.events.once("open",(function(){if(a.resetMaxListeners(),void 0===a.isAvailable)return t(new Error("HTTP connection is missing or invalid"));e()}))})));case 7:if(this.url=t,this.registering=!0,e.prev=9,this.disableProviderPing){e.next=14;break}return n=CT({id:1,jsonrpc:"2.0",method:"test",params:[]}),e.next=14,Fq(t,Object.assign(Object.assign({},Bq),{body:n}));case 14:this.onOpen(),e.next=23;break;case 17:throw e.prev=17,e.t0=e.catch(9),i=this.parseError(e.t0),this.events.emit("register_error",i),this.onClose(),i;case 23:case"end":return e.stop()}}),e,this,[[9,17]])}))),function(){return t.apply(this,arguments)})},{key:"onOpen",value:function(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}},{key:"onPayload",value:function(e){if(void 0!==e.data){var t="string"==typeof e.data?RT(e.data):e.data;this.events.emit("payload",t)}}},{key:"onError",value:function(e,t){var r=this.parseError(t),n=ND(e,r.message||r.toString());this.events.emit("payload",n)}},{key:"parseError",value:function(e){return pD(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url,"HTTP")}},{key:"resetMaxListeners",value:function(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}]),e}(),zq="error",Hq="".concat("wc","@2:").concat("universal_provider",":"),Vq="default_chain_changed",Wq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gq={exports:{}};
/**
       * @license
       * Lodash <https://lodash.com/>
       * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
       * Released under MIT license <https://lodash.com/license>
       * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
       * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       */
!function(e,t){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=16,s=32,u=64,c=128,l=256,f=1/0,h=9007199254740991,d=NaN,p=4294967295,v=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",s],["partialRight",u],["rearg",l]],m="[object Arguments]",g="[object Array]",y="[object Boolean]",b="[object Date]",w="[object Error]",_="[object Function]",k="[object GeneratorFunction]",x="[object Map]",E="[object Number]",A="[object Object]",S="[object Promise]",O="[object RegExp]",I="[object Set]",R="[object String]",C="[object Symbol]",N="[object WeakMap]",P="[object ArrayBuffer]",M="[object DataView]",j="[object Float32Array]",T="[object Float64Array]",L="[object Int8Array]",$="[object Int16Array]",D="[object Int32Array]",U="[object Uint8Array]",F="[object Uint8ClampedArray]",B="[object Uint16Array]",q="[object Uint32Array]",z=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,K=RegExp(W.source),Z=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(re.source),ie=/^\s+/,ae=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['’]",Ce="["+ke+"]",Ne="["+Ie+"]",Pe="["+xe+"]",Me="\\d+",je="["+Ee+"]",Te="["+Ae+"]",Le="[^"+ke+Ie+Me+Ee+Ae+Se+"]",$e="\\ud83c[\\udffb-\\udfff]",De="[^"+ke+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Se+"]",qe="\\u200d",ze="(?:"+Te+"|"+Le+")",He="(?:"+Be+"|"+Le+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Pe+"|"+$e+")"+"?",Ke="["+Oe+"]?",Ze=Ke+Ge+("(?:"+qe+"(?:"+[De,Ue,Fe].join("|")+")"+Ke+Ge+")*"),Ye="(?:"+[je,Ue,Fe].join("|")+")"+Ze,Je="(?:"+[De+Pe+"?",Pe,Ue,Fe,Ce].join("|")+")",Qe=RegExp(Re,"g"),Xe=RegExp(Pe,"g"),et=RegExp($e+"(?="+$e+")|"+Je+Ze,"g"),tt=RegExp([Be+"?"+Te+"+"+Ve+"(?="+[Ne,Be,"$"].join("|")+")",He+"+"+We+"(?="+[Ne,Be+ze,"$"].join("|")+")",Be+"?"+ze+"+"+Ve,Be+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ye].join("|"),"g"),rt=RegExp("["+qe+ke+xe+Oe+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[j]=ot[T]=ot[L]=ot[$]=ot[D]=ot[U]=ot[F]=ot[B]=ot[q]=!0,ot[m]=ot[g]=ot[P]=ot[y]=ot[M]=ot[b]=ot[w]=ot[_]=ot[x]=ot[E]=ot[A]=ot[O]=ot[I]=ot[R]=ot[N]=!1;var st={};st[m]=st[g]=st[P]=st[M]=st[y]=st[b]=st[j]=st[T]=st[L]=st[$]=st[D]=st[x]=st[E]=st[A]=st[O]=st[I]=st[R]=st[C]=st[U]=st[F]=st[B]=st[q]=!0,st[w]=st[_]=st[N]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof Wq&&Wq&&Wq.Object===Object&&Wq,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,gt=mt&&ft.process,yt=function(){try{return vt&&vt.require&&vt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),bt=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,_t=yt&&yt.isMap,kt=yt&&yt.isRegExp,xt=yt&&yt.isSet,Et=yt&&yt.isTypedArray;function At(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function St(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function Ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function It(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Rt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Ct(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function Nt(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Pt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Mt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function jt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Tt(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function Lt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function $t(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Dt=Vt("length");function Ut(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Ft(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Bt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Ft(e,zt,r)}function qt(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function zt(e){return e!=e}function Ht(e,t){var r=null==e?0:e.length;return r?Kt(e,t)/r:d}function Vt(e){return function(t){return null==t?r:t[e]}}function Wt(e){return function(t){return null==e?r:e[t]}}function Gt(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Kt(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function Zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Yt(e){return e&&e.slice(0,hr(e)+1).replace(ie,"")}function Jt(e){return function(t){return e(t)}}function Qt(e,t){return Mt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function er(e,t){for(var r=-1,n=e.length;++r<n&&Bt(t,e[r],0)>-1;);return r}function tr(e,t){for(var r=e.length;r--&&Bt(t,e[r],0)>-1;);return r}var rr=Wt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nr=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(e){return"\\"+ut[e]}function ar(e){return rt.test(e)}function or(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function sr(e,t){return function(r){return e(t(r))}}function ur(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];(s===t||s===a)&&(e[r]=a,o[i++]=r)}return o}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function lr(e){return ar(e)?function(e){for(var t=et.lastIndex=0;et.test(e);)++t;return t}(e):Dt(e)}function fr(e){return ar(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function hr(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var dr=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pr=function e(t){var ae=(t=null==t?dt:pr.defaults(dt.Object(),t,pr.pick(dt,it))).Array,ke=t.Date,xe=t.Error,Ee=t.Function,Ae=t.Math,Se=t.Object,Oe=t.RegExp,Ie=t.String,Re=t.TypeError,Ce=ae.prototype,Ne=Ee.prototype,Pe=Se.prototype,Me=t["__core-js_shared__"],je=Ne.toString,Te=Pe.hasOwnProperty,Le=0,$e=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),De=Pe.toString,Ue=je.call(Se),Fe=dt._,Be=Oe("^"+je.call(Te).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=mt?t.Buffer:r,ze=t.Symbol,He=t.Uint8Array,Ve=qe?qe.allocUnsafe:r,We=sr(Se.getPrototypeOf,Se),Ge=Se.create,Ke=Pe.propertyIsEnumerable,Ze=Ce.splice,Ye=ze?ze.isConcatSpreadable:r,Je=ze?ze.iterator:r,et=ze?ze.toStringTag:r,rt=function(){try{var e=la(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=ke&&ke.now!==dt.Date.now&&ke.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Ae.ceil,vt=Ae.floor,gt=Se.getOwnPropertySymbols,yt=qe?qe.isBuffer:r,Dt=t.isFinite,Wt=Ce.join,vr=sr(Se.keys,Se),mr=Ae.max,gr=Ae.min,yr=ke.now,br=t.parseInt,wr=Ae.random,_r=Ce.reverse,kr=la(t,"DataView"),xr=la(t,"Map"),Er=la(t,"Promise"),Ar=la(t,"Set"),Sr=la(t,"WeakMap"),Or=la(Se,"create"),Ir=Sr&&new Sr,Rr={},Cr=La(kr),Nr=La(xr),Pr=La(Er),Mr=La(Ar),jr=La(Sr),Tr=ze?ze.prototype:r,Lr=Tr?Tr.valueOf:r,$r=Tr?Tr.toString:r;function Dr(e){if(es(e)&&!zo(e)&&!(e instanceof qr)){if(e instanceof Br)return e;if(Te.call(e,"__wrapped__"))return $a(e)}return new Br(e)}var Ur=function(){function e(){}return function(t){if(!Xo(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Fr(){}function Br(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function qr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Vr;++t<r;)this.add(e[t])}function Gr(e){var t=this.__data__=new Hr(e);this.size=t.size}function Kr(e,t){var r=zo(e),n=!r&&qo(e),i=!r&&!n&&Go(e),a=!r&&!n&&!i&&us(e),o=r||n||i||a,s=o?Zt(e.length,Ie):[],u=s.length;for(var c in e)(t||Te.call(e,c))&&(!o||!("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ga(c,u)))&&s.push(c);return s}function Zr(e){var t=e.length;return t?e[Gn(0,t-1)]:r}function Yr(e,t){return Ma(Ii(e),on(t,0,e.length))}function Jr(e){return Ma(Ii(e))}function Qr(e,t,n){(n!==r&&!Uo(e[t],n)||n===r&&!(t in e))&&nn(e,t,n)}function Xr(e,t,n){var i=e[t];(!Te.call(e,t)||!Uo(i,n)||n===r&&!(t in e))&&nn(e,t,n)}function en(e,t){for(var r=e.length;r--;)if(Uo(e[r][0],t))return r;return-1}function tn(e,t,r,n){return fn(e,(function(e,i,a){t(n,e,r(e),a)})),n}function rn(e,t){return e&&Ri(t,Cs(t),e)}function nn(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function an(e,t){for(var n=-1,i=t.length,a=ae(i),o=null==e;++n<i;)a[n]=o?r:As(e,t[n]);return a}function on(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function sn(e,t,n,i,a,o){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!Xo(e))return e;var f=zo(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Te.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return Ii(e,s)}else{var h=da(e),d=h==_||h==k;if(Go(e))return ki(e,u);if(h==A||h==m||d&&!a){if(s=c||d?{}:va(e),!u)return c?function(e,t){return Ri(e,ha(e),t)}(e,function(e,t){return e&&Ri(t,Ns(t),e)}(s,e)):function(e,t){return Ri(e,fa(e),t)}(e,rn(s,e))}else{if(!st[h])return a?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case P:return xi(e);case y:case b:return new n(+e);case M:return function(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case j:case T:case L:case $:case D:case U:case F:case B:case q:return Ei(e,r);case x:return new n;case E:case R:return new n(e);case O:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new n;case C:return function(e){return Lr?Se(Lr.call(e)):{}}(e)}}(e,h,u)}}o||(o=new Gr);var p=o.get(e);if(p)return p;o.set(e,s),as(e)?e.forEach((function(r){s.add(sn(r,t,n,r,e,o))})):ts(e)&&e.forEach((function(r,i){s.set(i,sn(r,t,n,i,e,o))}));var v=f?r:(l?c?na:ra:c?Ns:Cs)(e);return Ot(v||e,(function(r,i){v&&(r=e[i=r]),Xr(s,i,sn(r,t,n,i,e,o))})),s}function un(e,t,n){var i=n.length;if(null==e)return!i;for(e=Se(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function cn(e,t,i){if("function"!=typeof e)throw new Re(n);return Ra((function(){e.apply(r,i)}),t)}function ln(e,t,r,n){var i=-1,a=Nt,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=Mt(t,Jt(r))),n?(a=Pt,o=!1):t.length>=200&&(a=Xt,o=!1,t=new Wr(t));e:for(;++i<s;){var l=e[i],f=null==r?l:r(l);if(l=n||0!==l?l:0,o&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else a(t,f,n)||u.push(l)}return u}Dr.templateSettings={escape:Y,evaluate:J,interpolate:Q,variable:"",imports:{_:Dr}},Dr.prototype=Fr.prototype,Dr.prototype.constructor=Dr,Br.prototype=Ur(Fr.prototype),Br.prototype.constructor=Br,qr.prototype=Ur(Fr.prototype),qr.prototype.constructor=qr,zr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},zr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zr.prototype.get=function(e){var t=this.__data__;if(Or){var n=t[e];return n===i?r:n}return Te.call(t,e)?t[e]:r},zr.prototype.has=function(e){var t=this.__data__;return Or?t[e]!==r:Te.call(t,e)},zr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Or&&t===r?i:t,this},Hr.prototype.clear=function(){this.__data__=[],this.size=0},Hr.prototype.delete=function(e){var t=this.__data__,r=en(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ze.call(t,r,1),--this.size,!0)},Hr.prototype.get=function(e){var t=this.__data__,n=en(t,e);return n<0?r:t[n][1]},Hr.prototype.has=function(e){return en(this.__data__,e)>-1},Hr.prototype.set=function(e,t){var r=this.__data__,n=en(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Vr.prototype.clear=function(){this.size=0,this.__data__={hash:new zr,map:new(xr||Hr),string:new zr}},Vr.prototype.delete=function(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t},Vr.prototype.get=function(e){return ua(this,e).get(e)},Vr.prototype.has=function(e){return ua(this,e).has(e)},Vr.prototype.set=function(e,t){var r=ua(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Wr.prototype.add=Wr.prototype.push=function(e){return this.__data__.set(e,i),this},Wr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.clear=function(){this.__data__=new Hr,this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Gr.prototype.get=function(e){return this.__data__.get(e)},Gr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Hr){var n=r.__data__;if(!xr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vr(n)}return r.set(e,t),this.size=r.size,this};var fn=Pi(bn),hn=Pi(wn,!0);function dn(e,t){var r=!0;return fn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function pn(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(u===r?s==s&&!ss(s):n(s,u)))var u=s,c=o}return c}function vn(e,t){var r=[];return fn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function mn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=ma),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?mn(s,t-1,r,n,i):jt(i,s):n||(i[i.length]=s)}return i}var gn=Mi(),yn=Mi(!0);function bn(e,t){return e&&gn(e,t,Cs)}function wn(e,t){return e&&yn(e,t,Cs)}function _n(e,t){return Ct(t,(function(t){return Yo(e[t])}))}function kn(e,t){for(var n=0,i=(t=yi(t,e)).length;null!=e&&n<i;)e=e[Ta(t[n++])];return n&&n==i?e:r}function xn(e,t,r){var n=t(e);return zo(e)?n:jt(n,r(e))}function En(e){return null==e?e===r?"[object Undefined]":"[object Null]":et&&et in Se(e)?function(e){var t=Te.call(e,et),n=e[et];try{e[et]=r;var i=!0}catch(o){}var a=De.call(e);return i&&(t?e[et]=n:delete e[et]),a}(e):function(e){return De.call(e)}(e)}function An(e,t){return e>t}function Sn(e,t){return null!=e&&Te.call(e,t)}function On(e,t){return null!=e&&t in Se(e)}function In(e,t,n){for(var i=n?Pt:Nt,a=e[0].length,o=e.length,s=o,u=ae(o),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=Mt(f,Jt(t))),c=gr(f.length,c),u[s]=!n&&(t||a>=120&&f.length>=120)?new Wr(s&&f):r}f=e[0];var h=-1,d=u[0];e:for(;++h<a&&l.length<c;){var p=f[h],v=t?t(p):p;if(p=n||0!==p?p:0,!(d?Xt(d,v):i(l,v,n))){for(s=o;--s;){var m=u[s];if(!(m?Xt(m,v):i(e[s],v,n)))continue e}d&&d.push(v),l.push(p)}}return l}function Rn(e,t,n){var i=null==(e=Sa(e,t=yi(t,e)))?e:e[Ta(Ka(t))];return null==i?r:At(i,e,n)}function Cn(e){return es(e)&&En(e)==m}function Nn(e,t,n,i,a){return e===t||(null==e||null==t||!es(e)&&!es(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=zo(e),u=zo(t),c=s?g:da(e),l=u?g:da(t);l=l==m?A:l;var f=(c=c==m?A:c)==A,h=l==A,d=c==l;if(d&&Go(e)){if(!Go(t))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new Gr),s||us(e)?ea(e,t,n,i,a,o):function(e,t,r,n,i,a,o){switch(r){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new He(e),new He(t)));case y:case b:case E:return Uo(+e,+t);case w:return e.name==t.name&&e.message==t.message;case O:case R:return e==t+"";case x:var s=or;case I:var u=1&n;if(s||(s=cr),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var l=ea(s(e),s(t),n,i,a,o);return o.delete(e),l;case C:if(Lr)return Lr.call(e)==Lr.call(t)}return!1}(e,t,c,n,i,a,o);if(!(1&n)){var p=f&&Te.call(e,"__wrapped__"),v=h&&Te.call(t,"__wrapped__");if(p||v){var _=p?e.value():e,k=v?t.value():t;return o||(o=new Gr),a(_,k,n,i,o)}}return!!d&&(o||(o=new Gr),function(e,t,n,i,a,o){var s=1&n,u=ra(e),c=u.length,l=ra(t),f=l.length;if(c!=f&&!s)return!1;for(var h=c;h--;){var d=u[h];if(!(s?d in t:Te.call(t,d)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=s;++h<c;){var y=e[d=u[h]],b=t[d];if(i)var w=s?i(b,y,d,t,e,o):i(y,b,d,e,t,o);if(!(w===r?y===b||a(y,b,n,i,o):w)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var _=e.constructor,k=t.constructor;_!=k&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof k&&k instanceof k)&&(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,i,a,o))}(e,t,n,i,Nn,a))}function Pn(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=Se(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var c=(u=n[a])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===r&&!(c in e))return!1}else{var h=new Gr;if(i)var d=i(l,f,c,e,t,h);if(!(d===r?Nn(f,l,3,i,h):d))return!1}}return!0}function Mn(e){return!(!Xo(e)||function(e){return!!$e&&$e in e}(e))&&(Yo(e)?Be:me).test(La(e))}function jn(e){return"function"==typeof e?e:null==e?ru:"object"==typeof e?zo(e)?Fn(e[0],e[1]):Un(e):fu(e)}function Tn(e){if(!ka(e))return vr(e);var t=[];for(var r in Se(e))Te.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ln(e){if(!Xo(e))return function(e){var t=[];if(null!=e)for(var r in Se(e))t.push(r);return t}(e);var t=ka(e),r=[];for(var n in e)"constructor"==n&&(t||!Te.call(e,n))||r.push(n);return r}function $n(e,t){return e<t}function Dn(e,t){var r=-1,n=Vo(e)?ae(e.length):[];return fn(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function Un(e){var t=ca(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(r){return r===e||Pn(r,e,t)}}function Fn(e,t){return ba(e)&&xa(t)?Ea(Ta(e),t):function(n){var i=As(n,e);return i===r&&i===t?Ss(n,e):Nn(t,i,3)}}function Bn(e,t,n,i,a){e!==t&&gn(t,(function(o,s){if(a||(a=new Gr),Xo(o))!function(e,t,n,i,a,o,s){var u=Oa(e,n),c=Oa(t,n),l=s.get(c);if(l)return void Qr(e,n,l);var f=o?o(u,c,n+"",e,t,s):r,h=f===r;if(h){var d=zo(c),p=!d&&Go(c),v=!d&&!p&&us(c);f=c,d||p||v?zo(u)?f=u:Wo(u)?f=Ii(u):p?(h=!1,f=ki(c,!0)):v?(h=!1,f=Ei(c,!0)):f=[]:ns(c)||qo(c)?(f=u,qo(u)?f=ms(u):(!Xo(u)||Yo(u))&&(f=va(c))):h=!1}h&&(s.set(c,f),a(f,c,i,o,s),s.delete(c)),Qr(e,n,f)}(e,t,s,n,Bn,i,a);else{var u=i?i(Oa(e,s),o,s+"",e,t,a):r;u===r&&(u=o),Qr(e,s,u)}}),Ns)}function qn(e,t){var n=e.length;if(n)return ga(t+=t<0?n:0,n)?e[t]:r}function zn(e,t,r){t=t.length?Mt(t,(function(e){return zo(e)?function(t){return kn(t,1===e.length?e[0]:e)}:e})):[ru];var n=-1;t=Mt(t,Jt(sa()));var i=Dn(e,(function(e,r,i){var a=Mt(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var u=Ai(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Hn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=kn(e,o);r(s,o)&&Qn(a,yi(o,e),s)}return a}function Vn(e,t,r,n){var i=n?qt:Bt,a=-1,o=t.length,s=e;for(e===t&&(t=Ii(t)),r&&(s=Mt(e,Jt(r)));++a<o;)for(var u=0,c=t[a],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&Ze.call(s,u,1),Ze.call(e,u,1);return e}function Wn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;ga(i)?Ze.call(e,i,1):li(e,i)}}return e}function Gn(e,t){return e+vt(wr()*(t-e+1))}function Kn(e,t){var r="";if(!e||t<1||t>h)return r;do{t%2&&(r+=e),(t=vt(t/2))&&(e+=e)}while(t);return r}function Zn(e,t){return Ca(Aa(e,t,ru),e+"")}function Yn(e){return Zr(Us(e))}function Jn(e,t){var r=Us(e);return Ma(r,on(t,0,r.length))}function Qn(e,t,n,i){if(!Xo(e))return e;for(var a=-1,o=(t=yi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var c=Ta(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var f=u[c];(l=i?i(f,c,u):r)===r&&(l=Xo(f)?f:ga(t[a+1])?[]:{})}Xr(u,c,l),u=u[c]}return e}var Xn=Ir?function(e,t){return Ir.set(e,t),e}:ru,ei=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:Xs(t),writable:!0})}:ru;function ti(e){return Ma(Us(e))}function ri(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=ae(i);++n<i;)a[n]=e[n+t];return a}function ni(e,t){var r;return fn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ii(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!ss(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return ai(e,t,ru,r)}function ai(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,u=null===t,c=ss(t),l=t===r;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==r,p=null===h,v=h==h,m=ss(h);if(s)var g=i||v;else g=l?v&&(i||d):u?v&&d&&(i||!p):c?v&&d&&!p&&(i||!m):!p&&!m&&(i?h<=t:h<t);g?a=f+1:o=f}return gr(o,4294967294)}function oi(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!Uo(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function si(e){return"number"==typeof e?e:ss(e)?d:+e}function ui(e){if("string"==typeof e)return e;if(zo(e))return Mt(e,ui)+"";if(ss(e))return $r?$r.call(e):"";var t=e+"";return"0"==t&&1/e==-f?"-0":t}function ci(e,t,r){var n=-1,i=Nt,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=Pt;else if(a>=200){var c=t?null:Ki(e);if(c)return cr(c);o=!1,i=Xt,u=new Wr}else u=t?[]:s;e:for(;++n<a;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,o&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}function li(e,t){return null==(e=Sa(e,t=yi(t,e)))||delete e[Ta(Ka(t))]}function fi(e,t,r,n){return Qn(e,t,r(kn(e,t)),n)}function hi(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?ri(e,n?0:a,n?a+1:i):ri(e,n?a+1:0,n?i:a)}function di(e,t){var r=e;return r instanceof qr&&(r=r.value()),Tt(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),r)}function pi(e,t,r){var n=e.length;if(n<2)return n?ci(e[0]):[];for(var i=-1,a=ae(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=ln(a[i]||o,e[s],t,r));return ci(mn(a,1),t,r)}function vi(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var u=i<o?t[i]:r;n(s,e[i],u)}return s}function mi(e){return Wo(e)?e:[]}function gi(e){return"function"==typeof e?e:ru}function yi(e,t){return zo(e)?e:ba(e,t)?[e]:ja(gs(e))}var bi=Zn;function wi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ri(e,t,n)}var _i=ut||function(e){return dt.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var r=e.length,n=Ve?Ve(r):new e.constructor(r);return e.copy(n),n}function xi(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Ei(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=ss(e),s=t!==r,u=null===t,c=t==t,l=ss(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!l&&e<t||l&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!c)return-1}return 0}function Si(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,u=t.length,c=mr(a-o,0),l=ae(u+c),f=!n;++s<u;)l[s]=t[s];for(;++i<o;)(f||i<a)&&(l[r[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Oi(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,u=-1,c=t.length,l=mr(a-s,0),f=ae(l+c),h=!n;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++o<s;)(h||i<a)&&(f[d+r[o]]=e[i++]);return f}function Ii(e,t){var r=-1,n=e.length;for(t||(t=ae(n));++r<n;)t[r]=e[r];return t}function Ri(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=i?i(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),a?nn(n,u,c):Xr(n,u,c)}return n}function Ci(e,t){return function(r,n){var i=zo(r)?St:tn,a=t?t():{};return i(r,e,sa(n,2),a)}}function Ni(e){return Zn((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&ya(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=Se(t);++i<a;){var u=n[i];u&&e(t,u,i,o)}return t}))}function Pi(e,t){return function(r,n){if(null==r)return r;if(!Vo(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Se(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Mi(e){return function(t,r,n){for(var i=-1,a=Se(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function ji(e){return function(t){var n=ar(t=gs(t))?fr(t):r,i=n?n[0]:t.charAt(0),a=n?wi(n,1).join(""):t.slice(1);return i[e]()+a}}function Ti(e){return function(t){return Tt(Ys(qs(t).replace(Qe,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Ur(e.prototype),n=e.apply(r,t);return Xo(n)?n:r}}function $i(e){return function(t,n,i){var a=Se(t);if(!Vo(t)){var o=sa(n,3);t=Cs(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function Di(e){return ta((function(t){var i=t.length,a=i,o=Br.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new Re(n);if(o&&!u&&"wrapper"==aa(s))var u=new Br([],!0)}for(a=u?a:i;++a<i;){var c=aa(s=t[a]),l="wrapper"==c?ia(s):r;u=l&&wa(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[aa(l[0])].apply(u,l[3]):1==s.length&&wa(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&zo(r))return u.plant(r).value();for(var n=0,a=i?t[n].apply(this,e):r;++n<i;)a=t[n].call(this,a);return a}}))}function Ui(e,t,n,i,a,o,s,u,l,f){var h=t&c,d=1&t,p=2&t,v=24&t,m=512&t,g=p?r:Li(e);return function c(){for(var y=arguments.length,b=ae(y),w=y;w--;)b[w]=arguments[w];if(v)var _=oa(c),k=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(b,_);if(i&&(b=Si(b,i,a,v)),o&&(b=Oi(b,o,s,v)),y-=k,v&&y<f){var x=ur(b,_);return Wi(e,t,Ui,c.placeholder,n,b,x,u,l,f-y)}var E=d?n:this,A=p?E[e]:e;return y=b.length,u?b=function(e,t){for(var n=e.length,i=gr(t.length,n),a=Ii(e);i--;){var o=t[i];e[i]=ga(o,n)?a[o]:r}return e}(b,u):m&&y>1&&b.reverse(),h&&l<y&&(b.length=l),this&&this!==dt&&this instanceof c&&(A=g||Li(A)),A.apply(E,b)}}function Fi(e,t){return function(r,n){return function(e,t,r,n){return bn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Bi(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=ui(n),i=ui(i)):(n=si(n),i=si(i)),a=e(n,i)}return a}}function qi(e){return ta((function(t){return t=Mt(t,Jt(sa())),Zn((function(r){var n=this;return e(t,(function(e){return At(e,n,r)}))}))}))}function zi(e,t){var n=(t=t===r?" ":ui(t)).length;if(n<2)return n?Kn(t,e):t;var i=Kn(t,pt(e/lr(t)));return ar(t)?wi(fr(i),0,e).join(""):i.slice(0,e)}function Hi(e){return function(t,n,i){return i&&"number"!=typeof i&&ya(t,n,i)&&(n=i=r),t=hs(t),n===r?(n=t,t=0):n=hs(n),function(e,t,r,n){for(var i=-1,a=mr(pt((t-e)/(r||1)),0),o=ae(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,n,i=i===r?t<n?1:-1:hs(i),e)}}function Vi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=vs(t),r=vs(r)),e(t,r)}}function Wi(e,t,n,i,a,o,c,l,f,h){var d=8&t;t|=d?s:u,4&(t&=~(d?u:s))||(t&=-4);var p=[e,t,a,d?o:r,d?c:r,d?r:o,d?r:c,l,f,h],v=n.apply(r,p);return wa(e)&&Ia(v,p),v.placeholder=i,Na(v,e,t)}function Gi(e){var t=Ae[e];return function(e,r){if(e=vs(e),(r=null==r?0:gr(ds(r),292))&&Dt(e)){var n=(gs(e)+"e").split("e");return+((n=(gs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ki=Ar&&1/cr(new Ar([,-0]))[1]==f?function(e){return new Ar(e)}:su;function Zi(e){return function(t){var r=da(t);return r==x?or(t):r==I?function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,i,f,h,d,p,v){var m=2&t;if(!m&&"function"!=typeof e)throw new Re(n);var g=f?f.length:0;if(g||(t&=-97,f=h=r),p=p===r?p:mr(ds(p),0),v=v===r?v:ds(v),g-=h?h.length:0,t&u){var y=f,b=h;f=h=r}var w=m?r:ia(e),_=[e,t,i,f,h,y,b,d,p,v];if(w&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==c&&8==r||n==c&&r==l&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var f=e[3];e[3]=f?Si(f,u,t[4]):u,e[4]=f?ur(e[3],a):t[4]}u=t[5],u&&(f=e[5],e[5]=f?Oi(f,u,t[6]):u,e[6]=f?ur(e[5],a):t[6]),u=t[7],u&&(e[7]=u),n&c&&(e[8]=null==e[8]?t[8]:gr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],i=_[2],f=_[3],h=_[4],!(v=_[9]=_[9]===r?m?0:e.length:mr(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==o?function(e,t,n){var i=Li(e);return function a(){for(var o=arguments.length,s=ae(o),u=o,c=oa(a);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:ur(s,c);return(o-=l.length)<n?Wi(e,t,Ui,a.placeholder,r,s,l,r,r,n-o):At(this&&this!==dt&&this instanceof a?i:e,this,s)}}(e,t,v):t!=s&&33!=t||h.length?Ui.apply(r,_):function(e,t,r,n){var i=1&t,a=Li(e);return function t(){for(var o=-1,s=arguments.length,u=-1,c=n.length,l=ae(c+s),f=this&&this!==dt&&this instanceof t?a:e;++u<c;)l[u]=n[u];for(;s--;)l[u++]=arguments[++o];return At(f,i?r:this,l)}}(e,t,i,f);else var k=function(e,t,r){var n=1&t,i=Li(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,i);return Na((w?Xn:Ia)(k,_),e,t)}function Ji(e,t,n,i){return e===r||Uo(e,Pe[n])&&!Te.call(i,n)?t:e}function Qi(e,t,n,i,a,o){return Xo(e)&&Xo(t)&&(o.set(t,e),Bn(e,t,r,Qi,o),o.delete(t)),e}function Xi(e){return ns(e)?r:e}function ea(e,t,n,i,a,o){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Wr:r;for(o.set(e,t),o.set(t,e);++h<u;){var v=e[h],m=t[h];if(i)var g=s?i(m,v,h,t,e,o):i(v,m,h,e,t,o);if(g!==r){if(g)continue;d=!1;break}if(p){if(!$t(t,(function(e,t){if(!Xt(p,t)&&(v===e||a(v,e,n,i,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ta(e){return Ca(Aa(e,r,za),e+"")}function ra(e){return xn(e,Cs,fa)}function na(e){return xn(e,Ns,ha)}var ia=Ir?function(e){return Ir.get(e)}:su;function aa(e){for(var t=e.name+"",r=Rr[t],n=Te.call(Rr,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function oa(e){return(Te.call(Dr,"placeholder")?Dr:e).placeholder}function sa(){var e=Dr.iteratee||nu;return e=e===nu?jn:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ca(e){for(var t=Cs(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xa(i)]}return t}function la(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Mn(n)?n:r}var fa=gt?function(e){return null==e?[]:(e=Se(e),Ct(gt(e),(function(t){return Ke.call(e,t)})))}:pu,ha=gt?function(e){for(var t=[];e;)jt(t,fa(e)),e=We(e);return t}:pu,da=En;function pa(e,t,r){for(var n=-1,i=(t=yi(t,e)).length,a=!1;++n<i;){var o=Ta(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Qo(i)&&ga(o,i)&&(zo(e)||qo(e))}function va(e){return"function"!=typeof e.constructor||ka(e)?{}:Ur(We(e))}function ma(e){return zo(e)||qo(e)||!!(Ye&&e&&e[Ye])}function ga(e,t){var r,n=typeof e;return!!(t=null!==(r=t)&&void 0!==r?r:h)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,r){if(!Xo(r))return!1;var n=typeof t;return!!("number"==n?Vo(r)&&ga(t,r.length):"string"==n&&t in r)&&Uo(r[t],e)}function ba(e,t){if(zo(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ss(e))||(ee.test(e)||!X.test(e)||null!=t&&e in Se(t))}function wa(e){var t=aa(e),r=Dr[t];if("function"!=typeof r||!(t in qr.prototype))return!1;if(e===r)return!0;var n=ia(r);return!!n&&e===n[0]}(kr&&da(new kr(new ArrayBuffer(1)))!=M||xr&&da(new xr)!=x||Er&&da(Er.resolve())!=S||Ar&&da(new Ar)!=I||Sr&&da(new Sr)!=N)&&(da=function(e){var t=En(e),n=t==A?e.constructor:r,i=n?La(n):"";if(i)switch(i){case Cr:return M;case Nr:return x;case Pr:return S;case Mr:return I;case jr:return N}return t});var _a=Me?Yo:vu;function ka(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function xa(e){return e==e&&!Xo(e)}function Ea(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in Se(n)))}}function Aa(e,t,n){return t=mr(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=mr(r.length-t,0),o=ae(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=ae(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),At(e,this,s)}}function Sa(e,t){return t.length<2?e:kn(e,ri(t,0,-1))}function Oa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ia=Pa(Xn),Ra=ht||function(e,t){return dt.setTimeout(e,t)},Ca=Pa(ei);function Na(e,t,r){var n=t+"";return Ca(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ot(v,(function(r){var n="_."+r[0];t&r[1]&&!Nt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ue):[]}(n),r)))}function Pa(e){var t=0,n=0;return function(){var i=yr(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ma(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=Gn(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var ja=function(e){var t=Mo(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,r,n,i){t.push(n?i.replace(fe,"$1"):r||e)})),t}));function Ta(e){if("string"==typeof e||ss(e))return e;var t=e+"";return"0"==t&&1/e==-f?"-0":t}function La(e){if(null!=e){try{return je.call(e)}catch(t){}try{return e+""}catch(r){}}return""}function $a(e){if(e instanceof qr)return e.clone();var t=new Br(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Da=Zn((function(e,t){return Wo(e)?ln(e,mn(t,1,Wo,!0)):[]})),Ua=Zn((function(e,t){var n=Ka(t);return Wo(n)&&(n=r),Wo(e)?ln(e,mn(t,1,Wo,!0),sa(n,2)):[]})),Fa=Zn((function(e,t){var n=Ka(t);return Wo(n)&&(n=r),Wo(e)?ln(e,mn(t,1,Wo,!0),r,n):[]}));function Ba(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ds(r);return i<0&&(i=mr(n+i,0)),Ft(e,sa(t,3),i)}function qa(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=ds(n),a=n<0?mr(i+a,0):gr(a,i-1)),Ft(e,sa(t,3),a,!0)}function za(e){return(null==e?0:e.length)?mn(e,1):[]}function Ha(e){return e&&e.length?e[0]:r}var Va=Zn((function(e){var t=Mt(e,mi);return t.length&&t[0]===e[0]?In(t):[]})),Wa=Zn((function(e){var t=Ka(e),n=Mt(e,mi);return t===Ka(n)?t=r:n.pop(),n.length&&n[0]===e[0]?In(n,sa(t,2)):[]})),Ga=Zn((function(e){var t=Ka(e),n=Mt(e,mi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?In(n,r,t):[]}));function Ka(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Za=Zn(Ya);function Ya(e,t){return e&&e.length&&t&&t.length?Vn(e,t):e}var Ja=ta((function(e,t){var r=null==e?0:e.length,n=an(e,t);return Wn(e,Mt(t,(function(e){return ga(e,r)?+e:e})).sort(Ai)),n}));function Qa(e){return null==e?e:_r.call(e)}var Xa=Zn((function(e){return ci(mn(e,1,Wo,!0))})),eo=Zn((function(e){var t=Ka(e);return Wo(t)&&(t=r),ci(mn(e,1,Wo,!0),sa(t,2))})),to=Zn((function(e){var t=Ka(e);return t="function"==typeof t?t:r,ci(mn(e,1,Wo,!0),r,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,(function(e){if(Wo(e))return t=mr(e.length,t),!0})),Zt(t,(function(t){return Mt(e,Vt(t))}))}function no(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Mt(n,(function(e){return At(t,r,e)}))}var io=Zn((function(e,t){return Wo(e)?ln(e,t):[]})),ao=Zn((function(e){return pi(Ct(e,Wo))})),oo=Zn((function(e){var t=Ka(e);return Wo(t)&&(t=r),pi(Ct(e,Wo),sa(t,2))})),so=Zn((function(e){var t=Ka(e);return t="function"==typeof t?t:r,pi(Ct(e,Wo),r,t)})),uo=Zn(ro);var co=Zn((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,no(e,n)}));function lo(e){var t=Dr(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var ho=ta((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return an(t,e)};return!(t>1||this.__actions__.length)&&i instanceof qr&&ga(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[a],thisArg:r}),new Br(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)}));var po=Ci((function(e,t,r){Te.call(e,r)?++e[r]:nn(e,r,1)}));var vo=$i(Ba),mo=$i(qa);function go(e,t){return(zo(e)?Ot:fn)(e,sa(t,3))}function yo(e,t){return(zo(e)?It:hn)(e,sa(t,3))}var bo=Ci((function(e,t,r){Te.call(e,r)?e[r].push(t):nn(e,r,[t])}));var wo=Zn((function(e,t,r){var n=-1,i="function"==typeof t,a=Vo(e)?ae(e.length):[];return fn(e,(function(e){a[++n]=i?At(t,e,r):Rn(e,t,r)})),a})),_o=Ci((function(e,t,r){nn(e,r,t)}));function ko(e,t){return(zo(e)?Mt:Dn)(e,sa(t,3))}var xo=Ci((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Eo=Zn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ya(e,t[0],t[1])?t=[]:r>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),zn(e,mn(t,1),[])})),Ao=ft||function(){return dt.Date.now()};function So(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Yi(e,c,r,r,r,r,t)}function Oo(e,t){var i;if("function"!=typeof t)throw new Re(n);return e=ds(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var Io=Zn((function(e,t,r){var n=1;if(r.length){var i=ur(r,oa(Io));n|=s}return Yi(e,n,t,r,i)})),Ro=Zn((function(e,t,r){var n=3;if(r.length){var i=ur(r,oa(Ro));n|=s}return Yi(t,n,e,r,i)}));function Co(e,t,i){var a,o,s,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Re(n);function v(t){var n=a,i=o;return a=o=r,f=t,u=e.apply(i,n)}function m(e){var n=e-l;return l===r||n>=t||n<0||d&&e-f>=s}function g(){var e=Ao();if(m(e))return y(e);c=Ra(g,function(e){var r=t-(e-l);return d?gr(r,s-(e-f)):r}(e))}function y(e){return c=r,p&&a?v(e):(a=o=r,u)}function b(){var e=Ao(),n=m(e);if(a=arguments,o=this,l=e,n){if(c===r)return function(e){return f=e,c=Ra(g,t),h?v(e):u}(l);if(d)return _i(c),c=Ra(g,t),v(l)}return c===r&&(c=Ra(g,t)),u}return t=vs(t)||0,Xo(i)&&(h=!!i.leading,s=(d="maxWait"in i)?mr(vs(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),b.cancel=function(){c!==r&&_i(c),f=0,a=l=o=c=r},b.flush=function(){return c===r?u:y(Ao())},b}var No=Zn((function(e,t){return cn(e,1,t)})),Po=Zn((function(e,t,r){return cn(e,vs(t)||0,r)}));function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(n);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Mo.Cache||Vr),r}function jo(e){if("function"!=typeof e)throw new Re(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Mo.Cache=Vr;var To=bi((function(e,t){var r=(t=1==t.length&&zo(t[0])?Mt(t[0],Jt(sa())):Mt(mn(t,1),Jt(sa()))).length;return Zn((function(n){for(var i=-1,a=gr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return At(e,this,n)}))})),Lo=Zn((function(e,t){var n=ur(t,oa(Lo));return Yi(e,s,r,t,n)})),$o=Zn((function(e,t){var n=ur(t,oa($o));return Yi(e,u,r,t,n)})),Do=ta((function(e,t){return Yi(e,l,r,r,r,t)}));function Uo(e,t){return e===t||e!=e&&t!=t}var Fo=Vi(An),Bo=Vi((function(e,t){return e>=t})),qo=Cn(function(){return arguments}())?Cn:function(e){return es(e)&&Te.call(e,"callee")&&!Ke.call(e,"callee")},zo=ae.isArray,Ho=bt?Jt(bt):function(e){return es(e)&&En(e)==P};function Vo(e){return null!=e&&Qo(e.length)&&!Yo(e)}function Wo(e){return es(e)&&Vo(e)}var Go=yt||vu,Ko=wt?Jt(wt):function(e){return es(e)&&En(e)==b};function Zo(e){if(!es(e))return!1;var t=En(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ns(e)}function Yo(e){if(!Xo(e))return!1;var t=En(e);return t==_||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==ds(e)}function Qo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Xo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function es(e){return null!=e&&"object"==typeof e}var ts=_t?Jt(_t):function(e){return es(e)&&da(e)==x};function rs(e){return"number"==typeof e||es(e)&&En(e)==E}function ns(e){if(!es(e)||En(e)!=A)return!1;var t=We(e);if(null===t)return!0;var r=Te.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&je.call(r)==Ue}var is=kt?Jt(kt):function(e){return es(e)&&En(e)==O};var as=xt?Jt(xt):function(e){return es(e)&&da(e)==I};function os(e){return"string"==typeof e||!zo(e)&&es(e)&&En(e)==R}function ss(e){return"symbol"==typeof e||es(e)&&En(e)==C}var us=Et?Jt(Et):function(e){return es(e)&&Qo(e.length)&&!!ot[En(e)]};var cs=Vi($n),ls=Vi((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(Vo(e))return os(e)?fr(e):Ii(e);if(Je&&e[Je])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Je]());var t=da(e);return(t==x?or:t==I?cr:Us)(e)}function hs(e){return e?(e=vs(e))===f||e===-f?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ds(e){var t=hs(e),r=t%1;return t==t?r?t-r:t:0}function ps(e){return e?on(ds(e),0,p):0}function vs(e){if("number"==typeof e)return e;if(ss(e))return d;if(Xo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var r=ve.test(e);return r||ge.test(e)?lt(e.slice(2),r?2:8):pe.test(e)?d:+e}function ms(e){return Ri(e,Ns(e))}function gs(e){return null==e?"":ui(e)}var ys=Ni((function(e,t){if(ka(t)||Vo(t))Ri(t,Cs(t),e);else for(var r in t)Te.call(t,r)&&Xr(e,r,t[r])})),bs=Ni((function(e,t){Ri(t,Ns(t),e)})),ws=Ni((function(e,t,r,n){Ri(t,Ns(t),e,n)})),_s=Ni((function(e,t,r,n){Ri(t,Cs(t),e,n)})),ks=ta(an);var xs=Zn((function(e,t){e=Se(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ya(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Ns(o),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===r||Uo(f,Pe[l])&&!Te.call(e,l))&&(e[l]=o[l])}return e})),Es=Zn((function(e){return e.push(r,Qi),At(Ms,r,e)}));function As(e,t,n){var i=null==e?r:kn(e,t);return i===r?n:i}function Ss(e,t){return null!=e&&pa(e,t,On)}var Os=Fi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=r}),Xs(ru)),Is=Fi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Te.call(e,t)?e[t].push(r):e[t]=[r]}),sa),Rs=Zn(Rn);function Cs(e){return Vo(e)?Kr(e):Tn(e)}function Ns(e){return Vo(e)?Kr(e,!0):Ln(e)}var Ps=Ni((function(e,t,r){Bn(e,t,r)})),Ms=Ni((function(e,t,r,n){Bn(e,t,r,n)})),js=ta((function(e,t){var r={};if(null==e)return r;var n=!1;t=Mt(t,(function(t){return t=yi(t,e),n||(n=t.length>1),t})),Ri(e,na(e),r),n&&(r=sn(r,7,Xi));for(var i=t.length;i--;)li(r,t[i]);return r}));var Ts=ta((function(e,t){return null==e?{}:function(e,t){return Hn(e,t,(function(t,r){return Ss(e,r)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var r=Mt(na(e),(function(e){return[e]}));return t=sa(t),Hn(e,r,(function(e,r){return t(e,r[0])}))}var $s=Zi(Cs),Ds=Zi(Ns);function Us(e){return null==e?[]:Qt(e,Cs(e))}var Fs=Ti((function(e,t,r){return t=t.toLowerCase(),e+(r?Bs(t):t)}));function Bs(e){return Zs(gs(e).toLowerCase())}function qs(e){return(e=gs(e))&&e.replace(be,rr).replace(Xe,"")}var zs=Ti((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Hs=Ti((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Vs=ji("toLowerCase");var Ws=Ti((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Gs=Ti((function(e,t,r){return e+(r?" ":"")+Zs(t)}));var Ks=Ti((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Zs=ji("toUpperCase");function Ys(e,t,n){return e=gs(e),(t=n?r:t)===r?function(e){return nt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Js=Zn((function(e,t){try{return At(e,r,t)}catch(n){return Zo(n)?n:new xe(n)}})),Qs=ta((function(e,t){return Ot(t,(function(t){t=Ta(t),nn(e,t,Io(e[t],e))})),e}));function Xs(e){return function(){return e}}var eu=Di(),tu=Di(!0);function ru(e){return e}function nu(e){return jn("function"==typeof e?e:sn(e,1))}var iu=Zn((function(e,t){return function(r){return Rn(r,e,t)}})),au=Zn((function(e,t){return function(r){return Rn(e,r,t)}}));function ou(e,t,r){var n=Cs(t),i=_n(t,n);null==r&&(!Xo(t)||!i.length&&n.length)&&(r=t,t=e,e=this,i=_n(t,Cs(t)));var a=!(Xo(r)&&"chain"in r&&!r.chain),o=Yo(e);return Ot(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__);return(r.__actions__=Ii(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,jt([this.value()],arguments))})})),e}function su(){}var uu=qi(Mt),cu=qi(Rt),lu=qi($t);function fu(e){return ba(e)?Vt(Ta(e)):function(e){return function(t){return kn(t,e)}}(e)}var hu=Hi(),du=Hi(!0);function pu(){return[]}function vu(){return!1}var mu=Bi((function(e,t){return e+t}),0),gu=Gi("ceil"),yu=Bi((function(e,t){return e/t}),1),bu=Gi("floor");var wu=Bi((function(e,t){return e*t}),1),_u=Gi("round"),ku=Bi((function(e,t){return e-t}),0);return Dr.after=function(e,t){if("function"!=typeof t)throw new Re(n);return e=ds(e),function(){if(--e<1)return t.apply(this,arguments)}},Dr.ary=So,Dr.assign=ys,Dr.assignIn=bs,Dr.assignInWith=ws,Dr.assignWith=_s,Dr.at=ks,Dr.before=Oo,Dr.bind=Io,Dr.bindAll=Qs,Dr.bindKey=Ro,Dr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zo(e)?e:[e]},Dr.chain=lo,Dr.chunk=function(e,t,n){t=(n?ya(e,t,n):t===r)?1:mr(ds(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=ae(pt(i/t));a<i;)s[o++]=ri(e,a,a+=t);return s},Dr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Dr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ae(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return jt(zo(r)?Ii(r):[r],mn(t,1))},Dr.cond=function(e){var t=null==e?0:e.length,r=sa();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Re(n);return[r(e[0]),e[1]]})):[],Zn((function(r){for(var n=-1;++n<t;){var i=e[n];if(At(i[0],this,r))return At(i[1],this,r)}}))},Dr.conforms=function(e){return function(e){var t=Cs(e);return function(r){return un(r,e,t)}}(sn(e,1))},Dr.constant=Xs,Dr.countBy=po,Dr.create=function(e,t){var r=Ur(e);return null==t?r:rn(r,t)},Dr.curry=function e(t,n,i){var a=Yi(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Dr.curryRight=function e(t,n,i){var a=Yi(t,o,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Dr.debounce=Co,Dr.defaults=xs,Dr.defaultsDeep=Es,Dr.defer=No,Dr.delay=Po,Dr.difference=Da,Dr.differenceBy=Ua,Dr.differenceWith=Fa,Dr.drop=function(e,t,n){var i=null==e?0:e.length;return i?ri(e,(t=n||t===r?1:ds(t))<0?0:t,i):[]},Dr.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ri(e,0,(t=i-(t=n||t===r?1:ds(t)))<0?0:t):[]},Dr.dropRightWhile=function(e,t){return e&&e.length?hi(e,sa(t,3),!0,!0):[]},Dr.dropWhile=function(e,t){return e&&e.length?hi(e,sa(t,3),!0):[]},Dr.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ya(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=ds(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:ds(i))<0&&(i+=a),i=n>i?0:ps(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Dr.filter=function(e,t){return(zo(e)?Ct:vn)(e,sa(t,3))},Dr.flatMap=function(e,t){return mn(ko(e,t),1)},Dr.flatMapDeep=function(e,t){return mn(ko(e,t),f)},Dr.flatMapDepth=function(e,t,n){return n=n===r?1:ds(n),mn(ko(e,t),n)},Dr.flatten=za,Dr.flattenDeep=function(e){return(null==e?0:e.length)?mn(e,f):[]},Dr.flattenDepth=function(e,t){return(null==e?0:e.length)?mn(e,t=t===r?1:ds(t)):[]},Dr.flip=function(e){return Yi(e,512)},Dr.flow=eu,Dr.flowRight=tu,Dr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Dr.functions=function(e){return null==e?[]:_n(e,Cs(e))},Dr.functionsIn=function(e){return null==e?[]:_n(e,Ns(e))},Dr.groupBy=bo,Dr.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Dr.intersection=Va,Dr.intersectionBy=Wa,Dr.intersectionWith=Ga,Dr.invert=Os,Dr.invertBy=Is,Dr.invokeMap=wo,Dr.iteratee=nu,Dr.keyBy=_o,Dr.keys=Cs,Dr.keysIn=Ns,Dr.map=ko,Dr.mapKeys=function(e,t){var r={};return t=sa(t,3),bn(e,(function(e,n,i){nn(r,t(e,n,i),e)})),r},Dr.mapValues=function(e,t){var r={};return t=sa(t,3),bn(e,(function(e,n,i){nn(r,n,t(e,n,i))})),r},Dr.matches=function(e){return Un(sn(e,1))},Dr.matchesProperty=function(e,t){return Fn(e,sn(t,1))},Dr.memoize=Mo,Dr.merge=Ps,Dr.mergeWith=Ms,Dr.method=iu,Dr.methodOf=au,Dr.mixin=ou,Dr.negate=jo,Dr.nthArg=function(e){return e=ds(e),Zn((function(t){return qn(t,e)}))},Dr.omit=js,Dr.omitBy=function(e,t){return Ls(e,jo(sa(t)))},Dr.once=function(e){return Oo(2,e)},Dr.orderBy=function(e,t,n,i){return null==e?[]:(zo(t)||(t=null==t?[]:[t]),zo(n=i?r:n)||(n=null==n?[]:[n]),zn(e,t,n))},Dr.over=uu,Dr.overArgs=To,Dr.overEvery=cu,Dr.overSome=lu,Dr.partial=Lo,Dr.partialRight=$o,Dr.partition=xo,Dr.pick=Ts,Dr.pickBy=Ls,Dr.property=fu,Dr.propertyOf=function(e){return function(t){return null==e?r:kn(e,t)}},Dr.pull=Za,Dr.pullAll=Ya,Dr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Vn(e,t,sa(r,2)):e},Dr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vn(e,t,r,n):e},Dr.pullAt=Ja,Dr.range=hu,Dr.rangeRight=du,Dr.rearg=Do,Dr.reject=function(e,t){return(zo(e)?Ct:vn)(e,jo(sa(t,3)))},Dr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=sa(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Wn(e,i),r},Dr.rest=function(e,t){if("function"!=typeof e)throw new Re(n);return Zn(e,t=t===r?t:ds(t))},Dr.reverse=Qa,Dr.sampleSize=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:ds(t),(zo(e)?Yr:Jn)(e,t)},Dr.set=function(e,t,r){return null==e?e:Qn(e,t,r)},Dr.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Qn(e,t,n,i)},Dr.shuffle=function(e){return(zo(e)?Jr:ti)(e)},Dr.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ya(e,t,n)?(t=0,n=i):(t=null==t?0:ds(t),n=n===r?i:ds(n)),ri(e,t,n)):[]},Dr.sortBy=Eo,Dr.sortedUniq=function(e){return e&&e.length?oi(e):[]},Dr.sortedUniqBy=function(e,t){return e&&e.length?oi(e,sa(t,2)):[]},Dr.split=function(e,t,n){return n&&"number"!=typeof n&&ya(e,t,n)&&(t=n=r),(n=n===r?p:n>>>0)?(e=gs(e))&&("string"==typeof t||null!=t&&!is(t))&&(!(t=ui(t))&&ar(e))?wi(fr(e),0,n):e.split(t,n):[]},Dr.spread=function(e,t){if("function"!=typeof e)throw new Re(n);return t=null==t?0:mr(ds(t),0),Zn((function(r){var n=r[t],i=wi(r,0,t);return n&&jt(i,n),At(e,this,i)}))},Dr.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Dr.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===r?1:ds(t))<0?0:t):[]},Dr.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ri(e,(t=i-(t=n||t===r?1:ds(t)))<0?0:t,i):[]},Dr.takeRightWhile=function(e,t){return e&&e.length?hi(e,sa(t,3),!1,!0):[]},Dr.takeWhile=function(e,t){return e&&e.length?hi(e,sa(t,3)):[]},Dr.tap=function(e,t){return t(e),e},Dr.throttle=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new Re(n);return Xo(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),Co(e,t,{leading:i,maxWait:t,trailing:a})},Dr.thru=fo,Dr.toArray=fs,Dr.toPairs=$s,Dr.toPairsIn=Ds,Dr.toPath=function(e){return zo(e)?Mt(e,Ta):ss(e)?[e]:Ii(ja(gs(e)))},Dr.toPlainObject=ms,Dr.transform=function(e,t,r){var n=zo(e),i=n||Go(e)||us(e);if(t=sa(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:Xo(e)&&Yo(a)?Ur(We(e)):{}}return(i?Ot:bn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Dr.unary=function(e){return So(e,1)},Dr.union=Xa,Dr.unionBy=eo,Dr.unionWith=to,Dr.uniq=function(e){return e&&e.length?ci(e):[]},Dr.uniqBy=function(e,t){return e&&e.length?ci(e,sa(t,2)):[]},Dr.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ci(e,r,t):[]},Dr.unset=function(e,t){return null==e||li(e,t)},Dr.unzip=ro,Dr.unzipWith=no,Dr.update=function(e,t,r){return null==e?e:fi(e,t,gi(r))},Dr.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:fi(e,t,gi(n),i)},Dr.values=Us,Dr.valuesIn=function(e){return null==e?[]:Qt(e,Ns(e))},Dr.without=io,Dr.words=Ys,Dr.wrap=function(e,t){return Lo(gi(t),e)},Dr.xor=ao,Dr.xorBy=oo,Dr.xorWith=so,Dr.zip=uo,Dr.zipObject=function(e,t){return vi(e||[],t||[],Xr)},Dr.zipObjectDeep=function(e,t){return vi(e||[],t||[],Qn)},Dr.zipWith=co,Dr.entries=$s,Dr.entriesIn=Ds,Dr.extend=bs,Dr.extendWith=ws,ou(Dr,Dr),Dr.add=mu,Dr.attempt=Js,Dr.camelCase=Fs,Dr.capitalize=Bs,Dr.ceil=gu,Dr.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=vs(n))==n?n:0),t!==r&&(t=(t=vs(t))==t?t:0),on(vs(e),t,n)},Dr.clone=function(e){return sn(e,4)},Dr.cloneDeep=function(e){return sn(e,5)},Dr.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:r)},Dr.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:r)},Dr.conformsTo=function(e,t){return null==t||un(e,t,Cs(t))},Dr.deburr=qs,Dr.defaultTo=function(e,t){return null==e||e!=e?t:e},Dr.divide=yu,Dr.endsWith=function(e,t,n){e=gs(e),t=ui(t);var i=e.length,a=n=n===r?i:on(ds(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Dr.eq=Uo,Dr.escape=function(e){return(e=gs(e))&&Z.test(e)?e.replace(G,nr):e},Dr.escapeRegExp=function(e){return(e=gs(e))&&ne.test(e)?e.replace(re,"\\$&"):e},Dr.every=function(e,t,n){var i=zo(e)?Rt:dn;return n&&ya(e,t,n)&&(t=r),i(e,sa(t,3))},Dr.find=vo,Dr.findIndex=Ba,Dr.findKey=function(e,t){return Ut(e,sa(t,3),bn)},Dr.findLast=mo,Dr.findLastIndex=qa,Dr.findLastKey=function(e,t){return Ut(e,sa(t,3),wn)},Dr.floor=bu,Dr.forEach=go,Dr.forEachRight=yo,Dr.forIn=function(e,t){return null==e?e:gn(e,sa(t,3),Ns)},Dr.forInRight=function(e,t){return null==e?e:yn(e,sa(t,3),Ns)},Dr.forOwn=function(e,t){return e&&bn(e,sa(t,3))},Dr.forOwnRight=function(e,t){return e&&wn(e,sa(t,3))},Dr.get=As,Dr.gt=Fo,Dr.gte=Bo,Dr.has=function(e,t){return null!=e&&pa(e,t,Sn)},Dr.hasIn=Ss,Dr.head=Ha,Dr.identity=ru,Dr.includes=function(e,t,r,n){e=Vo(e)?e:Us(e),r=r&&!n?ds(r):0;var i=e.length;return r<0&&(r=mr(i+r,0)),os(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Bt(e,t,r)>-1},Dr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ds(r);return i<0&&(i=mr(n+i,0)),Bt(e,t,i)},Dr.inRange=function(e,t,n){return t=hs(t),n===r?(n=t,t=0):n=hs(n),function(e,t,r){return e>=gr(t,r)&&e<mr(t,r)}(e=vs(e),t,n)},Dr.invoke=Rs,Dr.isArguments=qo,Dr.isArray=zo,Dr.isArrayBuffer=Ho,Dr.isArrayLike=Vo,Dr.isArrayLikeObject=Wo,Dr.isBoolean=function(e){return!0===e||!1===e||es(e)&&En(e)==y},Dr.isBuffer=Go,Dr.isDate=Ko,Dr.isElement=function(e){return es(e)&&1===e.nodeType&&!ns(e)},Dr.isEmpty=function(e){if(null==e)return!0;if(Vo(e)&&(zo(e)||"string"==typeof e||"function"==typeof e.splice||Go(e)||us(e)||qo(e)))return!e.length;var t=da(e);if(t==x||t==I)return!e.size;if(ka(e))return!Tn(e).length;for(var r in e)if(Te.call(e,r))return!1;return!0},Dr.isEqual=function(e,t){return Nn(e,t)},Dr.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Nn(e,t,r,n):!!i},Dr.isError=Zo,Dr.isFinite=function(e){return"number"==typeof e&&Dt(e)},Dr.isFunction=Yo,Dr.isInteger=Jo,Dr.isLength=Qo,Dr.isMap=ts,Dr.isMatch=function(e,t){return e===t||Pn(e,t,ca(t))},Dr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Pn(e,t,ca(t),n)},Dr.isNaN=function(e){return rs(e)&&e!=+e},Dr.isNative=function(e){if(_a(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(e)},Dr.isNil=function(e){return null==e},Dr.isNull=function(e){return null===e},Dr.isNumber=rs,Dr.isObject=Xo,Dr.isObjectLike=es,Dr.isPlainObject=ns,Dr.isRegExp=is,Dr.isSafeInteger=function(e){return Jo(e)&&e>=-h&&e<=h},Dr.isSet=as,Dr.isString=os,Dr.isSymbol=ss,Dr.isTypedArray=us,Dr.isUndefined=function(e){return e===r},Dr.isWeakMap=function(e){return es(e)&&da(e)==N},Dr.isWeakSet=function(e){return es(e)&&"[object WeakSet]"==En(e)},Dr.join=function(e,t){return null==e?"":Wt.call(e,t)},Dr.kebabCase=zs,Dr.last=Ka,Dr.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=ds(n))<0?mr(i+a,0):gr(a,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Ft(e,zt,a,!0)},Dr.lowerCase=Hs,Dr.lowerFirst=Vs,Dr.lt=cs,Dr.lte=ls,Dr.max=function(e){return e&&e.length?pn(e,ru,An):r},Dr.maxBy=function(e,t){return e&&e.length?pn(e,sa(t,2),An):r},Dr.mean=function(e){return Ht(e,ru)},Dr.meanBy=function(e,t){return Ht(e,sa(t,2))},Dr.min=function(e){return e&&e.length?pn(e,ru,$n):r},Dr.minBy=function(e,t){return e&&e.length?pn(e,sa(t,2),$n):r},Dr.stubArray=pu,Dr.stubFalse=vu,Dr.stubObject=function(){return{}},Dr.stubString=function(){return""},Dr.stubTrue=function(){return!0},Dr.multiply=wu,Dr.nth=function(e,t){return e&&e.length?qn(e,ds(t)):r},Dr.noConflict=function(){return dt._===this&&(dt._=Fe),this},Dr.noop=su,Dr.now=Ao,Dr.pad=function(e,t,r){e=gs(e);var n=(t=ds(t))?lr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return zi(vt(i),r)+e+zi(pt(i),r)},Dr.padEnd=function(e,t,r){e=gs(e);var n=(t=ds(t))?lr(e):0;return t&&n<t?e+zi(t-n,r):e},Dr.padStart=function(e,t,r){e=gs(e);var n=(t=ds(t))?lr(e):0;return t&&n<t?zi(t-n,r)+e:e},Dr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),br(gs(e).replace(ie,""),t||0)},Dr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ya(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=hs(e),t===r?(t=e,e=0):t=hs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=wr();return gr(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return Gn(e,t)},Dr.reduce=function(e,t,r){var n=zo(e)?Tt:Gt,i=arguments.length<3;return n(e,sa(t,4),r,i,fn)},Dr.reduceRight=function(e,t,r){var n=zo(e)?Lt:Gt,i=arguments.length<3;return n(e,sa(t,4),r,i,hn)},Dr.repeat=function(e,t,n){return t=(n?ya(e,t,n):t===r)?1:ds(t),Kn(gs(e),t)},Dr.replace=function(){var e=arguments,t=gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dr.result=function(e,t,n){var i=-1,a=(t=yi(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[Ta(t[i])];o===r&&(i=a,o=n),e=Yo(o)?o.call(e):o}return e},Dr.round=_u,Dr.runInContext=e,Dr.sample=function(e){return(zo(e)?Zr:Yn)(e)},Dr.size=function(e){if(null==e)return 0;if(Vo(e))return os(e)?lr(e):e.length;var t=da(e);return t==x||t==I?e.size:Tn(e).length},Dr.snakeCase=Ws,Dr.some=function(e,t,n){var i=zo(e)?$t:ni;return n&&ya(e,t,n)&&(t=r),i(e,sa(t,3))},Dr.sortedIndex=function(e,t){return ii(e,t)},Dr.sortedIndexBy=function(e,t,r){return ai(e,t,sa(r,2))},Dr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ii(e,t);if(n<r&&Uo(e[n],t))return n}return-1},Dr.sortedLastIndex=function(e,t){return ii(e,t,!0)},Dr.sortedLastIndexBy=function(e,t,r){return ai(e,t,sa(r,2),!0)},Dr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ii(e,t,!0)-1;if(Uo(e[r],t))return r}return-1},Dr.startCase=Gs,Dr.startsWith=function(e,t,r){return e=gs(e),r=null==r?0:on(ds(r),0,e.length),t=ui(t),e.slice(r,r+t.length)==t},Dr.subtract=ku,Dr.sum=function(e){return e&&e.length?Kt(e,ru):0},Dr.sumBy=function(e,t){return e&&e.length?Kt(e,sa(t,2)):0},Dr.template=function(e,t,n){var i=Dr.templateSettings;n&&ya(e,t,n)&&(t=r),e=gs(e),t=ws({},t,i,Ji);var a,o,s=ws({},t.imports,i.imports,Ji),u=Cs(s),c=Qt(s,u),l=0,f=t.interpolate||we,h="__p += '",d=Oe((t.escape||we).source+"|"+f.source+"|"+(f===Q?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Te.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,r,n,i,s,u){return n||(n=i),h+=e.slice(l,u).replace(_e,ir),r&&(a=!0,h+="' +\n__e("+r+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var v=Te.call(t,"variable")&&t.variable;if(v){if(le.test(v))throw new xe("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(z,""):h).replace(H,"$1").replace(V,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Js((function(){return Ee(u,p+"return "+h).apply(r,c)}));if(m.source=h,Zo(m))throw m;return m},Dr.times=function(e,t){if((e=ds(e))<1||e>h)return[];var r=p,n=gr(e,p);t=sa(t),e-=p;for(var i=Zt(n,t);++r<e;)t(r);return i},Dr.toFinite=hs,Dr.toInteger=ds,Dr.toLength=ps,Dr.toLower=function(e){return gs(e).toLowerCase()},Dr.toNumber=vs,Dr.toSafeInteger=function(e){return e?on(ds(e),-h,h):0===e?e:0},Dr.toString=gs,Dr.toUpper=function(e){return gs(e).toUpperCase()},Dr.trim=function(e,t,n){if((e=gs(e))&&(n||t===r))return Yt(e);if(!e||!(t=ui(t)))return e;var i=fr(e),a=fr(t);return wi(i,er(i,a),tr(i,a)+1).join("")},Dr.trimEnd=function(e,t,n){if((e=gs(e))&&(n||t===r))return e.slice(0,hr(e)+1);if(!e||!(t=ui(t)))return e;var i=fr(e);return wi(i,0,tr(i,fr(t))+1).join("")},Dr.trimStart=function(e,t,n){if((e=gs(e))&&(n||t===r))return e.replace(ie,"");if(!e||!(t=ui(t)))return e;var i=fr(e);return wi(i,er(i,fr(t))).join("")},Dr.truncate=function(e,t){var n=30,i="...";if(Xo(t)){var a="separator"in t?t.separator:a;n="length"in t?ds(t.length):n,i="omission"in t?ui(t.omission):i}var o=(e=gs(e)).length;if(ar(e)){var s=fr(e);o=s.length}if(n>=o)return e;var u=n-lr(i);if(u<1)return i;var c=s?wi(s,0,u).join(""):e.slice(0,u);if(a===r)return c+i;if(s&&(u+=c.length-u),is(a)){if(e.slice(u).search(a)){var l,f=c;for(a.global||(a=Oe(a.source,gs(de.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===r?u:h)}}else if(e.indexOf(ui(a),u)!=u){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+i},Dr.unescape=function(e){return(e=gs(e))&&K.test(e)?e.replace(W,dr):e},Dr.uniqueId=function(e){var t=++Le;return gs(e)+t},Dr.upperCase=Ks,Dr.upperFirst=Zs,Dr.each=go,Dr.eachRight=yo,Dr.first=Ha,ou(Dr,function(){var e={};return bn(Dr,(function(t,r){Te.call(Dr.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),Dr.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Dr[e].placeholder=Dr})),Ot(["drop","take"],(function(e,t){qr.prototype[e]=function(n){n=n===r?1:mr(ds(n),0);var i=this.__filtered__&&!t?new qr(this):this.clone();return i.__filtered__?i.__takeCount__=gr(n,i.__takeCount__):i.__views__.push({size:gr(n,p),type:e+(i.__dir__<0?"Right":"")}),i},qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;qr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:sa(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ot(["head","last"],(function(e,t){var r="take"+(t?"Right":"");qr.prototype[e]=function(){return this[r](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");qr.prototype[e]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(ru)},qr.prototype.find=function(e){return this.filter(e).head()},qr.prototype.findLast=function(e){return this.reverse().find(e)},qr.prototype.invokeMap=Zn((function(e,t){return"function"==typeof e?new qr(this):this.map((function(r){return Rn(r,e,t)}))})),qr.prototype.reject=function(e){return this.filter(jo(sa(e)))},qr.prototype.slice=function(e,t){e=ds(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=ds(t))<0?n.dropRight(-t):n.take(t-e)),n)},qr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qr.prototype.toArray=function(){return this.take(p)},bn(qr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Dr[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Dr.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof qr,c=s[0],l=u||zo(t),f=function(e){var t=a.apply(Dr,jt([e],s));return i&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=u&&!d;if(!o&&l){t=v?t:new qr(this);var m=e.apply(t,s);return m.__actions__.push({func:fo,args:[f],thisArg:r}),new Br(m,h)}return p&&v?e.apply(this,s):(m=this.thru(f),p?i?m.value()[0]:m.value():m)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Dr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(zo(i)?i:[],e)}return this[r]((function(r){return t.apply(zo(r)?r:[],e)}))}})),bn(qr.prototype,(function(e,t){var r=Dr[t];if(r){var n=r.name+"";Te.call(Rr,n)||(Rr[n]=[]),Rr[n].push({name:t,func:r})}})),Rr[Ui(r,2).name]=[{name:"wrapper",func:r}],qr.prototype.clone=function(){var e=new qr(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},qr.prototype.reverse=function(){if(this.__filtered__){var e=new qr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=zo(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=gr(t,e+o);break;case"takeRight":e=mr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,f=l.length,h=0,d=gr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return di(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var g=l[v],y=g.iteratee,b=g.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[h++]=m}return p},Dr.prototype.at=ho,Dr.prototype.chain=function(){return lo(this)},Dr.prototype.commit=function(){return new Br(this.value(),this.__chain__)},Dr.prototype.next=function(){this.__values__===r&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Dr.prototype.plant=function(e){for(var t,n=this;n instanceof Fr;){var i=$a(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Dr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qr){var t=e;return this.__actions__.length&&(t=new qr(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Qa],thisArg:r}),new Br(t,this.__chain__)}return this.thru(Qa)},Dr.prototype.toJSON=Dr.prototype.valueOf=Dr.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Dr.prototype.first=Dr.prototype.head,Je&&(Dr.prototype[Je]=function(){return this}),Dr}();vt?((vt.exports=pr)._=pr,pt._=pr):dt._=pr}).call(Wq)}(Gq,Gq.exports);var Kq=Object.defineProperty,Zq=Object.defineProperties,Yq=Object.getOwnPropertyDescriptors,Jq=Object.getOwnPropertySymbols,Qq=Object.prototype.hasOwnProperty,Xq=Object.prototype.propertyIsEnumerable,ez=function(e,t,r){return t in e?Kq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},tz=function(e,t){for(var r in t||(t={}))Qq.call(t,r)&&ez(e,r,t[r]);if(Jq){var n,i=k(Jq(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Xq.call(t,r)&&ez(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},rz=function(e,t){return Zq(e,Yq(t))};function nz(e,t,r){var n,i,a={namespace:(i=_(e.split(Pq),2))[0],reference:i[1]};return(null==(n=t.rpcMap)?void 0:n[a.reference])||"".concat("https://rpc.walletconnect.com/v1/","?chainId=").concat(a.namespace,":").concat(a.reference,"&projectId=").concat(r)}function iz(e){return e.includes(":")?e.split(":")[1]:e}function az(e){return e.map((function(e){return"".concat(e.split(":")[0],":").concat(e.split(":")[1])}))}function oz(e){var t,r,n,i,a,o={};if(a=e,Object.getPrototypeOf(a)!==Object.prototype||!Object.keys(a).length)return o;for(var s=0,u=Object.entries(e);s<u.length;s++){var c=_(u[s],2),l=c[0],f=c[1],h=jq(l)?[l]:f.chains,d=f.methods||[],p=f.events||[],v=f.rpcMap||{},m=Tq(l);o[m]=rz(tz(tz({},o[m]),f),{chains:Mq(h,null==(t=o[m])?void 0:t.chains),methods:Mq(d,null==(r=o[m])?void 0:r.methods),events:Mq(p,null==(n=o[m])?void 0:n.events),rpcMap:tz(tz({},v),null==(i=o[m])?void 0:i.rpcMap)})}return o}function sz(e){return e.includes(":")?e.split(":")[2]:e}function uz(e){for(var t={},r=0,n=Object.entries(e);r<n.length;r++){var i=_(n[r],2),a=i[0],o=i[1],s=o.methods||[],u=o.events||[],c=o.accounts||[],l=jq(a)?[a]:o.chains?o.chains:az(o.accounts);t[a]={chains:l,methods:s,events:u,accounts:c}}return t}function cz(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):e.includes(":")?Number(e.split(":")[1]):Number(e)}var lz={},fz=function(e){return lz[e]},hz=function(e,t){lz[e]=t},dz=function(){function e(t){A(this,e),this.name="polkadot",this.namespace=t.namespace,this.events=fz("events"),this.client=fz("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return O(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vq,"".concat(this.name,":").concat(e))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t&&t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]}))||[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(r){var n,i=iz(r);t[i]=e.createHttpProvider(i,null==(n=e.namespace.rpcMap)?void 0:n[r])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}},{key:"createHttpProvider",value:function(e,t){var r=t||nz(e,this.namespace,this.client.core.projectId);if(!r)throw new Error("No RPC url provided for chainId: ".concat(e));return new qD(new qq(r,fz("disableProviderPing")))}}]),e}(),pz=function(){function e(t){A(this,e),this.name="eip155",this.namespace=t.namespace,this.events=fz("events"),this.client=fz("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}var t,r;return O(e,[{key:"request",value:(r=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.request.method,e.next="eth_requestAccounts"===e.t0?3:"eth_accounts"===e.t0?4:"wallet_switchEthereumChain"===e.t0?5:"eth_chainId"===e.t0?8:9;break;case 3:case 4:return e.abrupt("return",this.getAccounts());case 5:return e.next=7,this.handleSwitchChain(t);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",parseInt(this.getDefaultChain()));case 9:if(!this.namespace.methods.includes(t.request.method)){e.next=15;break}return e.next=12,this.client.request(t);case 12:e.t1=e.sent,e.next=16;break;case 15:e.t1=this.getHttpProvider().request(t.request);case 16:return e.abrupt("return",e.t1);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(Vq,"".concat(this.name,":").concat(e))}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"createHttpProvider",value:function(e,t){var r=t||nz("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!r)throw new Error("No RPC url provided for chainId: ".concat(e));return new qD(new qq(r,fz("disableProviderPing")))}},{key:"setHttpProvider",value:function(e,t){var r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(r){var n,i=parseInt(iz(r));t[i]=e.createHttpProvider(i,null==(n=e.namespace.rpcMap)?void 0:n[r])})),t}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?w(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"getHttpProvider",value:function(){var e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"handleSwitchChain",value:(t=u(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(i=t.request.params?null==(r=t.request.params[0])?void 0:r.chainId:"0x0").startsWith("0x")?i:"0x".concat(i),a=parseInt(i,16),!this.isChainApproved(a)){e.next=7;break}this.setDefaultChain("".concat(a)),e.next=14;break;case 7:if(!this.namespace.methods.includes("wallet_switchEthereumChain")){e.next=13;break}return e.next=10,this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:null==(n=this.namespace.chains)?void 0:n[0]});case 10:this.setDefaultChain("".concat(a)),e.next=14;break;case 13:throw new Error("Failed to switch to chain 'eip155:".concat(a,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isChainApproved",value:function(e){return this.namespace.chains.includes("".concat(this.name,":").concat(e))}}]),e}(),vz=function(){function e(t){A(this,e),this.name="solana",this.namespace=t.namespace,this.events=fz("events"),this.client=fz("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return O(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vq,"".concat(this.name,":").concat(e))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?w(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(r){var n,i=iz(r);t[i]=e.createHttpProvider(i,null==(n=e.namespace.rpcMap)?void 0:n[r])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}},{key:"createHttpProvider",value:function(e,t){var r=t||nz(e,this.namespace,this.client.core.projectId);if(!r)throw new Error("No RPC url provided for chainId: ".concat(e));return new qD(new qq(r,fz("disableProviderPing")))}}]),e}(),mz=function(){function e(t){A(this,e),this.name="cosmos",this.namespace=t.namespace,this.events=fz("events"),this.client=fz("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return O(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vq,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?w(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(r){var n,i=iz(r);t[i]=e.createHttpProvider(i,null==(n=e.namespace.rpcMap)?void 0:n[r])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}},{key:"createHttpProvider",value:function(e,t){var r=t||nz(e,this.namespace,this.client.core.projectId);if(!r)throw new Error("No RPC url provided for chainId: ".concat(e));return new qD(new qq(r,fz("disableProviderPing")))}}]),e}(),gz=function(){function e(t){A(this,e),this.name="cip34",this.namespace=t.namespace,this.events=fz("events"),this.client=fz("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return O(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vq,"".concat(this.name,":").concat(this.chainId))}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?w(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(r){var n=e.getCardanoRPCUrl(r),i=iz(r);t[i]=e.createHttpProvider(i,n)})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"getCardanoRPCUrl",value:function(e){var t=this.namespace.rpcMap;if(t)return t[e]}},{key:"setHttpProvider",value:function(e,t){var r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}},{key:"createHttpProvider",value:function(e,t){var r=t||this.getCardanoRPCUrl(e);if(!r)throw new Error("No RPC url provided for chainId: ".concat(e));return new qD(new qq(r,fz("disableProviderPing")))}}]),e}(),yz=function(){function e(t){A(this,e),this.name="elrond",this.namespace=t.namespace,this.events=fz("events"),this.client=fz("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return O(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vq,"".concat(this.name,":").concat(e))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?w(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(r){var n,i=iz(r);t[i]=e.createHttpProvider(i,null==(n=e.namespace.rpcMap)?void 0:n[r])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}},{key:"createHttpProvider",value:function(e,t){var r=t||nz(e,this.namespace,this.client.core.projectId);if(!r)throw new Error("No RPC url provided for chainId: ".concat(e));return new qD(new qq(r,fz("disableProviderPing")))}}]),e}(),bz=function(){function e(t){A(this,e),this.name="multiversx",this.namespace=t.namespace,this.events=fz("events"),this.client=fz("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}return O(e,[{key:"updateNamespace",value:function(e){this.namespace=Object.assign(this.namespace,e)}},{key:"requestAccounts",value:function(){return this.getAccounts()}},{key:"request",value:function(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}},{key:"setDefaultChain",value:function(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(Vq,"".concat(this.name,":").concat(e))}},{key:"getDefaultChain",value:function(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;var e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}},{key:"getAccounts",value:function(){var e=this,t=this.namespace.accounts;return t?w(new Set(t.filter((function(t){return t.split(":")[1]===e.chainId.toString()})).map((function(e){return e.split(":")[2]})))):[]}},{key:"createHttpProviders",value:function(){var e=this,t={};return this.namespace.chains.forEach((function(r){var n,i=iz(r);t[i]=e.createHttpProvider(i,null==(n=e.namespace.rpcMap)?void 0:n[r])})),t}},{key:"getHttpProvider",value:function(){var e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw new Error("JSON-RPC provider for ".concat(e," not found"));return t}},{key:"setHttpProvider",value:function(e,t){var r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}},{key:"createHttpProvider",value:function(e,t){var r=t||nz(e,this.namespace,this.client.core.projectId);if(!r)throw new Error("No RPC url provided for chainId: ".concat(e));return new qD(new qq(r,fz("disableProviderPing")))}}]),e}(),wz=Object.defineProperty,_z=Object.defineProperties,kz=Object.getOwnPropertyDescriptors,xz=Object.getOwnPropertySymbols,Ez=Object.prototype.hasOwnProperty,Az=Object.prototype.propertyIsEnumerable,Sz=function(e,t,r){return t in e?wz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Oz=function(e,t){for(var r in t||(t={}))Ez.call(t,r)&&Sz(e,r,t[r]);if(xz){var n,i=k(xz(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Az.call(t,r)&&Sz(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},Iz=function(e,t){return _z(e,kz(t))},Rz=function(){function e(t){A(this,e),this.events=new vN,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(null==t?void 0:t.logger)<"u"&&"string"!=typeof(null==t?void 0:t.logger)?t.logger:Xj.pino(Xj.getDefaultLoggerOptions({level:(null==t?void 0:t.logger)||zq})),this.disableProviderPing=(null==t?void 0:t.disableProviderPing)||!1}var t,r,n,i,a,s,c,l,f,h,d,p,v;return O(e,[{key:"request",value:(v=u(o().mark((function e(t,r){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.validateChain(r),i=_(n,2),a=i[0],s=i[1],this.session){e.next=3;break}throw new Error("Please call connect() before request()");case 3:return e.next=5,this.getProvider(a).request({request:Oz({},t),chainId:"".concat(a,":").concat(s),topic:this.session.topic});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"sendAsync",value:function(e,t,r){this.request(e,r).then((function(e){return t(null,e)})).catch((function(e){return t(e,void 0)}))}},{key:"enable",value:(p=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}throw new Error("Sign Client not initialized");case 2:if(e.t0=this.session,e.t0){e.next=6;break}return e.next=6,this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});case 6:return e.next=8,this.requestAccounts();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"disconnect",value:(d=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session){e.next=2;break}throw new Error("Please call connect() before enable()");case 2:return e.next=4,this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:$q("USER_DISCONNECTED")});case 4:return e.next=6,this.cleanup();case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"connect",value:(h=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}throw new Error("Sign Client not initialized");case 2:return this.setNamespaces(t),e.next=5,this.cleanupPendingPairings();case 5:if(t.skipPairing){e.next=9;break}return e.next=8,this.pair(t.pairingTopic);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"isWalletConnect",get:function(){return!0}},{key:"pair",value:(f=u(o().mark((function e(t){var r,n,i,a,s=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.shouldAbortPairingAttempt=!1,r=0;case 2:if(!this.shouldAbortPairingAttempt){e.next=4;break}throw new Error("Pairing aborted");case 4:if(!(r>=this.maxPairingAttempts)){e.next=6;break}throw new Error("Max auto pairing attempts reached");case 6:return e.next=8,this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});case 8:return n=e.sent,i=n.uri,a=n.approval,i&&(this.uri=i,this.events.emit("display_uri",i)),e.next=14,a().then((function(e){s.session=e,s.namespaces||(s.namespaces=uz(e.namespaces),s.persist("namespaces",s.namespaces))})).catch((function(e){if(e.message!==oq)throw e;r++}));case 14:if(!this.session){e.next=2;break}case 15:return e.abrupt("return",(this.onConnect(),this.session));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"setDefaultChain",value:function(e,t){try{if(!this.session)return;var r=_(this.validateChain(e),2),n=r[0],i=r[1];this.getProvider(n).setDefaultChain(i,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}},{key:"cleanupPendingPairings",value:(l=u(o().mark((function e(){var t,r,n,i,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},this.logger.info("Cleaning up inactive pairings..."),!Dq(r=this.client.pairing.getAll())){e.next=26;break}n=k(r),e.prev=5,n.s();case 7:if((i=n.n()).done){e.next=17;break}if(a=i.value,!t.deletePairings){e.next=13;break}this.client.core.expirer.set(a.topic,0),e.next=15;break;case 13:return e.next=15,this.client.core.relayer.subscriber.unsubscribe(a.topic);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),n.e(e.t0);case 22:return e.prev=22,n.f(),e.finish(22);case 25:this.logger.info("Inactive pairings cleared: ".concat(r.length));case 26:case"end":return e.stop()}}),e,this,[[5,19,22,25]])}))),function(){return l.apply(this,arguments)})},{key:"abortPairingAttempt",value:function(){this.shouldAbortPairingAttempt=!0}},{key:"checkStorage",value:(c=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFromStore("namespaces");case 2:return this.namespaces=e.sent,e.next=5,this.getFromStore("optionalNamespaces");case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(this.optionalNamespaces=e.t0,!this.client.session.length){e.next=12;break}t=this.client.session.keys.length-1,this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders();case 12:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"initialize",value:(s=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.next=3,this.createClient();case 3:return e.next=5,this.checkStorage();case 5:this.registerEventListeners();case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"createClient",value:(a=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.providerOpts.client,e.t0){e.next=5;break}return e.next=4,Sq.init({logger:this.providerOpts.logger||zq,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name});case 4:e.t0=e.sent;case 5:this.client=e.t0,this.logger.trace("SignClient Initialized");case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"createProviders",value:function(){var e=this;if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");var t=w(new Set(Object.keys(this.session.namespaces).map((function(e){return Tq(e)}))));hz("client",this.client),hz("events",this.events),hz("disableProviderPing",this.disableProviderPing),t.forEach((function(t){if(e.session){var r=function(e,t){var r=Object.keys(t.namespaces).filter((function(t){return t.includes(e)}));if(!r.length)return[];var n=[];return r.forEach((function(e){var r=t.namespaces[e].accounts;n.push.apply(n,w(r))})),n}(t,e.session),n=az(r),i=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=oz(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),r=oz(e);return Gq.exports.merge(t,r)}(e.namespaces,e.optionalNamespaces),a=Iz(Oz({},i[t]),{accounts:r,chains:n});switch(t){case"eip155":e.rpcProviders[t]=new pz({namespace:a});break;case"solana":e.rpcProviders[t]=new vz({namespace:a});break;case"cosmos":e.rpcProviders[t]=new mz({namespace:a});break;case"polkadot":e.rpcProviders[t]=new dz({namespace:a});break;case"cip34":e.rpcProviders[t]=new gz({namespace:a});break;case"elrond":e.rpcProviders[t]=new yz({namespace:a});break;case"multiversx":e.rpcProviders[t]=new bz({namespace:a})}}}))}},{key:"registerEventListeners",value:function(){var e=this;if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(function(t){e.events.emit("session_ping",t)})),this.client.on("session_event",(function(t){var r=t.params,n=r.event;if("accountsChanged"===n.name){var i=n.data;i&&Dq(i)&&e.events.emit("accountsChanged",i.map(sz))}else if("chainChanged"===n.name){var a=r.chainId,o=r.event.data,s=Tq(a),u=cz(a)!==cz(o)?"".concat(s,":").concat(cz(o)):a;e.onChainChanged(u)}else e.events.emit(n.name,n.data);e.events.emit("session_event",t)})),this.client.on("session_update",(function(t){var r,n=t.topic,i=t.params,a=i.namespaces,o=null==(r=e.client)?void 0:r.session.get(n);e.session=Iz(Oz({},o),{namespaces:a}),e.onSessionUpdate(),e.events.emit("session_update",{topic:n,params:i})})),this.client.on("session_delete",function(){var t=u(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cleanup();case 2:e.events.emit("session_delete",r),e.events.emit("disconnect",Iz(Oz({},$q("USER_DISCONNECTED")),{data:r.topic}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.on(Vq,(function(t){e.onChainChanged(t,!0)}))}},{key:"getProvider",value:function(e){if(!this.rpcProviders[e])throw new Error("Provider not found: ".concat(e));return this.rpcProviders[e]}},{key:"onSessionUpdate",value:function(){var e=this;Object.keys(this.rpcProviders).forEach((function(t){var r;e.getProvider(t).updateNamespace(null==(r=e.session)?void 0:r.namespaces[t])}))}},{key:"setNamespaces",value:function(e){var t=e.namespaces,r=e.optionalNamespaces,n=e.sessionProperties;t&&Object.keys(t).length&&(this.namespaces=t),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.persist("namespaces",t),this.persist("optionalNamespaces",r)}},{key:"validateChain",value:function(e){var t=_((null==e?void 0:e.split(":"))||["",""],2),r=t[0],n=t[1];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map((function(e){return Tq(e)})).includes(r))throw new Error("Namespace '".concat(r,"' is not configured. Please call connect() first with namespace config."));if(r&&n)return[r,n];var i=Tq(Object.keys(this.namespaces)[0]);return[i,this.rpcProviders[i].getDefaultChain()]}},{key:"requestAccounts",value:(i=u(o().mark((function e(){var t,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.validateChain(),r=_(t,1),n=r[0],e.next=3,this.getProvider(n).requestAccounts();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onChainChanged",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.namespaces){var n=_(this.validateChain(e),2),i=n[0],a=n[1];r||this.getProvider(i).setDefaultChain(a),(null!=(t=this.namespaces[i])?t:this.namespaces["".concat(i,":").concat(a)]).defaultChain=a,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",a)}}},{key:"onConnect",value:function(){this.createProviders(),this.events.emit("connect",{session:this.session})}},{key:"cleanup",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),e.next=9,this.cleanupPendingPairings({deletePairings:!0});case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"persist",value:function(e,t){this.client.core.storage.setItem("".concat(Hq,"/").concat(e),t)}},{key:"getFromStore",value:(r=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.core.storage.getItem("".concat(Hq,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],[{key:"init",value:(t=u(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new e(r),t.next=3,n.initialize();case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),e}(),Cz=Rz,Nz="".concat("wc","@2:").concat("ethereum_provider",":"),Pz=["eth_sendTransaction","personal_sign"],Mz=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],jz=["chainChanged","accountsChanged"],Tz=["chainChanged","accountsChanged","message","disconnect","connect"],Lz=Object.defineProperty,$z=Object.defineProperties,Dz=Object.getOwnPropertyDescriptors,Uz=Object.getOwnPropertySymbols,Fz=Object.prototype.hasOwnProperty,Bz=Object.prototype.propertyIsEnumerable,qz=function(e,t,r){return t in e?Lz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},zz=function(e,t){for(var r in t||(t={}))Fz.call(t,r)&&qz(e,r,t[r]);if(Uz){var n,i=k(Uz(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Bz.call(t,r)&&qz(e,r,t[r])}}catch(a){i.e(a)}finally{i.f()}}return e},Hz=function(e,t){return $z(e,Dz(t))};function Vz(e){return Number(e[0].split(":")[1])}function Wz(e){return"0x".concat(e.toString(16))}function Gz(e){var t=e.chains,r=e.optionalChains,n=e.methods,i=e.optionalMethods,a=e.events,o=e.optionalEvents,s=e.rpcMap;if(!oj(t))throw new Error("Invalid chains");var u={chains:t,methods:n||Pz,events:a||jz,rpcMap:zz({},t.length?b({},Vz(t),s[Vz(t)]):{})},c=null==a?void 0:a.filter((function(e){return!jz.includes(e)})),l=null==n?void 0:n.filter((function(e){return!Pz.includes(e)}));if(!(r||o||i||null!=c&&c.length||null!=l&&l.length))return{required:t.length?u:void 0};var f=(null==c?void 0:c.length)&&(null==l?void 0:l.length)||!r,h={chains:w(new Set(f?u.chains.concat(r||[]):r)),methods:w(new Set(u.methods.concat(null!=i&&i.length?i:Mz))),events:w(new Set(u.events.concat(null!=o&&o.length?o:Tz))),rpcMap:s};return{required:t.length?u:void 0,optional:r.length?h:void 0}}var Kz=function(){function e(){var t=this;A(this,e),this.events=new pN.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Nz,this.on=function(e,r){return t.events.on(e,r),t},this.once=function(e,r){return t.events.once(e,r),t},this.removeListener=function(e,r){return t.events.removeListener(e,r),t},this.off=function(e,r){return t.events.off(e,r),t},this.parseAccount=function(e){return t.isCompatibleChainId(e)?t.parseAccountId(e).address:e},this.signer={},this.rpc={}}var t,r,n,i,a,s,l;return O(e,[{key:"request",value:(l=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signer.request(t,this.formatChainId(this.chainId));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"sendAsync",value:function(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}},{key:"connected",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connected}},{key:"connecting",get:function(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}},{key:"enable",value:(s=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,e.t0){e.next=4;break}return e.next=4,this.connect();case 4:return e.next=6,this.request({method:"eth_requestAccounts"});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"connect",value:(a=u(o().mark((function e(t){var r,n,i,a,s,c=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.signer.client){e.next=2;break}throw new Error("Provider not initialized. Call init() first");case 2:return this.loadConnectOpts(t),r=Gz(this.rpc),n=r.required,i=r.optional,e.prev=4,e.next=7,new Promise(function(){var e=u(o().mark((function e(r,a){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.rpc.showQrModal&&(null==(s=c.modal)||s.subscribeModal((function(e){!e.open&&!c.signer.session&&(c.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))}))),e.next=3,c.signer.connect(Hz(zz({namespaces:zz({},n&&b({},c.namespace,n))},i&&{optionalNamespaces:b({},c.namespace,i)}),{pairingTopic:null==t?void 0:t.pairingTopic})).then((function(e){r(e)})).catch((function(e){a(new Error(e.message))}));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return");case 10:s=ij(a.namespaces,[this.namespace]),this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Wz(this.chainId)}),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(4),this.signer.logger.error(e.t0),e.t0;case 17:return e.prev=17,this.modal&&this.modal.closeModal(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])}))),function(e){return a.apply(this,arguments)})},{key:"disconnect",value:(i=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.session,!e.t0){e.next=4;break}return e.next=4,this.signer.disconnect();case 4:this.reset();case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"isWalletConnect",get:function(){return!0}},{key:"session",get:function(){return this.signer.session}},{key:"registerEventListeners",value:function(){var e=this;this.signer.on("session_event",(function(t){var r=t.params.event;"accountsChanged"===r.name?(e.accounts=e.parseAccounts(r.data),e.events.emit("accountsChanged",e.accounts)):"chainChanged"===r.name?e.setChainId(e.formatChainId(r.data)):e.events.emit(r.name,r.data),e.events.emit("session_event",t)})),this.signer.on("chainChanged",(function(t){var r=parseInt(t);e.chainId=r,e.events.emit("chainChanged",Wz(e.chainId)),e.persist()})),this.signer.on("session_update",(function(t){e.events.emit("session_update",t)})),this.signer.on("session_delete",(function(t){e.reset(),e.events.emit("session_delete",t),e.events.emit("disconnect",Hz(zz({},function(e,t){var r=aj[e],n=r.message,i=r.code;return{message:t?"".concat(n," ").concat(t):n,code:i}}("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(function(t){var r,n;e.rpc.showQrModal&&(null==(r=e.modal)||r.closeModal(),null==(n=e.modal)||n.openModal({uri:t})),e.events.emit("display_uri",t)}))}},{key:"switchEthereumChain",value:function(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}},{key:"isCompatibleChainId",value:function(e){return"string"==typeof e&&e.startsWith("".concat(this.namespace,":"))}},{key:"formatChainId",value:function(e){return"".concat(this.namespace,":").concat(e)}},{key:"parseChainId",value:function(e){return Number(e.split(":")[1])}},{key:"setChainIds",value:function(e){var t=this,r=e.filter((function(e){return t.isCompatibleChainId(e)})).map((function(e){return t.parseChainId(e)}));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Wz(this.chainId)),this.persist())}},{key:"setChainId",value:function(e){if(this.isCompatibleChainId(e)){var t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}},{key:"parseAccountId",value:function(e){var t=_(e.split(":"),3),r=t[0],n=t[1],i=t[2];return{chainId:"".concat(r,":").concat(n),address:i}}},{key:"setAccounts",value:function(e){var t=this;this.accounts=e.filter((function(e){return t.parseChainId(t.parseAccountId(e).chainId)===t.chainId})).map((function(e){return t.parseAccountId(e).address})),this.events.emit("accountsChanged",this.accounts)}},{key:"getRpcConfig",value:function(e){var t,r,n=this,i=null!=(t=null==e?void 0:e.chains)?t:[],a=null!=(r=null==e?void 0:e.optionalChains)?r:[],o=i.concat(a);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");var s=i.length?(null==e?void 0:e.methods)||Pz:[],u=i.length?(null==e?void 0:e.events)||jz:[],c=(null==e?void 0:e.optionalMethods)||[],l=(null==e?void 0:e.optionalEvents)||[],f=(null==e?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),h=(null==e?void 0:e.qrModalOptions)||void 0;return{chains:null==i?void 0:i.map((function(e){return n.formatChainId(e)})),optionalChains:a.map((function(e){return n.formatChainId(e)})),methods:s,events:u,optionalMethods:c,optionalEvents:l,rpcMap:f,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}},{key:"buildRpcMap",value:function(e,t){var r=this,n={};return e.forEach((function(e){n[e]=r.getRpcUrl(e,t)})),n}},{key:"initialize",value:(n=u(o().mark((function e(t){var r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Vz(this.rpc.chains):Vz(this.rpc.optionalChains),e.next=4,Cz.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions});case 4:return this.signer=e.sent,this.registerEventListeners(),e.next=8,this.loadPersistedSession();case 8:if(!this.rpc.showQrModal){e.next=28;break}return e.prev=9,e.next=12,S((function(){return c.import("./index-legacy-68c9ecd3.js").then((function(e){return e.i}))}),void 0,c.meta.url);case 12:n=e.sent,i=n.WalletConnectModal,r=i,e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(9),new Error("To use QR modal, please install @walletconnect/modal package");case 20:if(!r){e.next=28;break}e.prev=21,this.modal=new r(zz({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions)),e.next=28;break;case 25:throw e.prev=25,e.t1=e.catch(21),this.signer.logger.error(e.t1),new Error("Could not generate WalletConnectModal Instance");case 28:case"end":return e.stop()}}),e,this,[[9,17],[21,25]])}))),function(e){return n.apply(this,arguments)})},{key:"loadConnectOpts",value:function(e){var t=this;if(e){var r=e.chains,n=e.optionalChains,i=e.rpcMap;r&&oj(r)&&(this.rpc.chains=r.map((function(e){return t.formatChainId(e)})),r.forEach((function(e){t.rpc.rpcMap[e]=(null==i?void 0:i[e])||t.getRpcUrl(e)}))),n&&oj(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=null==n?void 0:n.map((function(e){return t.formatChainId(e)})),n.forEach((function(e){t.rpc.rpcMap[e]=(null==i?void 0:i[e])||t.getRpcUrl(e)})))}}},{key:"getRpcUrl",value:function(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||"".concat("https://rpc.walletconnect.com/v1/","?chainId=eip155:").concat(e,"&projectId=").concat(t||this.rpc.projectId)}},{key:"loadPersistedSession",value:(r=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.signer.client.core.storage.getItem("".concat(this.STORAGE_KEY,"/chainId"));case 4:t=e.sent,r=this.session.namespaces["".concat(this.namespace,":").concat(t)]?this.session.namespaces["".concat(this.namespace,":").concat(t)]:this.session.namespaces[this.namespace],this.setChainIds(t?[this.formatChainId(t)]:null==r?void 0:r.accounts),this.setAccounts(null==r?void 0:r.accounts);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"reset",value:function(){this.chainId=1,this.accounts=[]}},{key:"persist",value:function(){this.session&&this.signer.client.core.storage.setItem("".concat(this.STORAGE_KEY,"/chainId"),this.chainId)}},{key:"parseAccounts",value:function(e){var t=this;return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((function(e){return t.parseAccount(e)}))}}],[{key:"init",value:(t=u(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new e,t.next=3,n.initialize(r);case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),e}(),Zz=Kz,Yz=Object.freeze(Object.defineProperty({__proto__:null,EthereumProvider:Zz,OPTIONAL_EVENTS:Tz,OPTIONAL_METHODS:Mz,REQUIRED_EVENTS:jz,REQUIRED_METHODS:Pz,default:Kz},Symbol.toStringTag,{value:"Module"})),Jz=["eth_sendTransaction","eth_signTransaction","personal_sign","eth_sign","eth_signTypedData","eth_signTypedData_v4"];var Qz={exports:{}};!function(e,t){var r,n;self,e.exports=(r={7629:function(e,t,r){var n=r(375),i=r(8571),a=r(9474),o=r(1687),s=r(8652),u=r(8160),c=r(3292),l=r(6354),f=r(8901),h=r(9708),d=r(6914),p=r(2294),v=r(6133),m=r(1152),g=r(8863),y=r(2036),_={Base:function(){function e(t){A(this,e),this.type=t,this.$_root=null,this._definition={},this._reset()}return O(e,[{key:"_reset",value:function(){this._ids=new p.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}},{key:"describe",value:function(){return n("function"==typeof h.describe,"Manifest functionality disabled"),h.describe(this)}},{key:"allow",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"allow"),this._values(t,"_valids")}},{key:"alter",value:function(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");var t=this.clone();for(var r in t.$_terms.alterations=t.$_terms.alterations||[],e){var i=e[r];n("function"==typeof i,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:i})}return t.$_temp.ruleset=!1,t}},{key:"artifact",value:function(e){return n(void 0!==e,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}},{key:"cast",value:function(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}},{key:"default",value:function(e,t){return this._default("default",e,t)}},{key:"description",value:function(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}},{key:"empty",value:function(e){var t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}},{key:"error",value:function(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}},{key:"example",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(void 0!==e,"Missing example"),u.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}},{key:"external",value:function(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}},{key:"failover",value:function(e,t){return this._default("failover",e,t)}},{key:"forbidden",value:function(){return this.presence("forbidden")}},{key:"id",value:function(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}},{key:"invalid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._values(t,"_invalids")}},{key:"label",value:function(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}},{key:"meta",value:function(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}},{key:"note",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing notes");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Notes must be non-empty strings")}return this._inner("notes",t)}},{key:"only",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}},{key:"optional",value:function(){return this.presence("optional")}},{key:"prefs",value:function(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),u.checkPreferences(e);var t=this.clone();return t._preferences=u.preferences(t._preferences,e),t}},{key:"presence",value:function(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}},{key:"raw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"raw":void 0)}},{key:"result",value:function(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}},{key:"required",value:function(){return this.presence("required")}},{key:"strict",value:function(e){var t=this.clone(),r=void 0!==e&&!e;return t._preferences=u.preferences(t._preferences,{convert:r}),t}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"strip":void 0)}},{key:"tag",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing tags");for(var i=0,a=t;i<a.length;i++){var o=a[i];n(o&&"string"==typeof o,"Tags must be non-empty strings")}return this._inner("tags",t)}},{key:"unit",value:function(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}},{key:"valid",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];u.verifyFlat(t,"valid");var n=this.allow.apply(this,t);return n.$_setFlag("only",!!n._valids,{clone:!1}),n}},{key:"when",value:function(e,t){var r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);var i=c.when(r,e,t);if(!["any","link"].includes(r.type)){var a,o=k(i.is?[i]:i.switch);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(!s.then||"any"===s.then.type||s.then.type===r.type,"Cannot combine",r.type,"with",s.then&&s.then.type),n(!s.otherwise||"any"===s.otherwise.type||s.otherwise.type===r.type,"Cannot combine",r.type,"with",s.otherwise&&s.otherwise.type)}}catch(u){o.e(u)}finally{o.f()}}return r.$_terms.whens.push(i),r.$_mutateRebuild()}},{key:"cache",value:function(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");var t=this.clone();return t._cache=e||s.provider.provision(),t.$_temp.ruleset=!1,t}},{key:"clone",value:function(){var e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}},{key:"concat",value:function(e){n(u.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");var t=this.clone();if("any"===this.type&&"any"!==e.type){for(var r=e.clone(),i=0,a=Object.keys(t);i<a.length;i++){var s=a[i];"type"!==s&&(r[s]=t[s])}t=r}t._ids.concat(e._ids),t._refs.register(e,v.toSibling),t._preferences=t._preferences?u.preferences(t._preferences,e._preferences):e._preferences,t._valids=y.merge(t._valids,e._valids,e._invalids),t._invalids=y.merge(t._invalids,e._invalids,e._valids);var c,l=k(e._singleRules.keys());try{var f=function(){var e=c.value;t._singleRules.has(e)&&(t._rules=t._rules.filter((function(t){return t.keep||t.name!==e})),t._singleRules.delete(e))};for(l.s();!(c=l.n()).done;)f()}catch(_){l.e(_)}finally{l.f()}var h,d=k(e._rules);try{for(d.s();!(h=d.n()).done;){var p=h.value;e._definition.rules[p.method].multi||t._singleRules.set(p.name,p),t._rules.push(p)}}catch(_){d.e(_)}finally{d.f()}if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);var m=Object.assign({},e._flags);delete m.empty,o(t._flags,m)}else if(e._flags.empty){t._flags.empty=e._flags.empty;var g=Object.assign({},e._flags);delete g.empty,o(t._flags,g)}else o(t._flags,e._flags);for(var b in e.$_terms){var w=e.$_terms[b];w?t.$_terms[b]?t.$_terms[b]=t.$_terms[b].concat(w):t.$_terms[b]=w.slice():t.$_terms[b]||(t.$_terms[b]=w)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}},{key:"extend",value:function(e){return n(!e.base,"Cannot extend type with another base"),f.type(this,e)}},{key:"extract",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}},{key:"fork",value:function(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");var r,i=this,a=k([].concat(e));try{for(a.s();!(r=a.n()).done;){var o=r.value;o=Array.isArray(o)?o:o.split("."),i=i._ids.fork(o,t,i)}}catch(s){a.e(s)}finally{a.f()}return i.$_temp.ruleset=!1,i}},{key:"rule",value:function(e){var t=this._definition;u.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");for(var a=this.clone(),o=r;o<a._rules.length;++o){var s=a._rules[o],c=i(s);for(var l in e)t.modifiers[l](c,e[l]),n(c.name===s.name,"Cannot change rule name");a._rules[o]=c,a._singleRules.get(c.name)===s&&a._singleRules.set(c.name,c)}return a.$_temp.ruleset=!1,a.$_mutateRebuild()}},{key:"ruleset",get:function(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");var e=this.clone();return e.$_temp.ruleset=e._rules.length,e}},{key:"$",get:function(){return this.ruleset}},{key:"tailor",value:function(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");var t=this;if(this.$_terms.alterations){var r,i=k(this.$_terms.alterations);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.target,s=a.adjuster;e.includes(o)&&(t=s(t),n(u.isSchema(t),"Alteration adjuster for",o,"failed to return a schema object"))}}catch(c){i.e(c)}finally{i.f()}}return(t=t.$_modify({each:function(t){return t.tailor(e)},ref:!1})).$_temp.ruleset=!1,t.$_mutateRebuild()}},{key:"tracer",value:function(){return m.location?m.location(this):this}},{key:"validate",value:function(e,t){return g.entry(e,this,t)}},{key:"validateAsync",value:function(e,t){return g.entryAsync(e,this,t)}},{key:"$_addRule",value:function(e){for(var t in"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name"),e)n("_"!==t[0],"Cannot set private rule properties");var r=Object.assign({},e);r._resolve=[],r.method=r.method||r.name;var i=this._definition.rules[r.method],a=r.args;n(i,"Unknown rule",r.method);var o=this.clone();if(a)for(var s in n(1===Object.keys(a).length||Object.keys(a).length===this._definition.rules[r.name].args.length,"Invalid rule definition for",this.type,r.name),a){var c=a[s];if(i.argsByName){var l=i.argsByName.get(s);if(l.ref&&u.isResolvable(c))r._resolve.push(s),o.$_mutateRegister(c);else if(l.normalize&&(c=l.normalize(c),a[s]=c),l.assert){var f=u.validateArg(c,s,l);n(!f,f,"or reference")}}void 0!==c?a[s]=c:delete a[s]}return i.multi||(o._ruleRemove(r.name,{clone:!1}),o._singleRules.set(r.name,r)),!1===o.$_temp.ruleset&&(o.$_temp.ruleset=null),i.priority?o._rules.unshift(r):o._rules.push(r),o}},{key:"$_compile",value:function(e,t){return c.schema(this.$_root,e,t)}},{key:"$_createError",value:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=!1!==a.flags?this._flags:{},s=a.messages?d.merge(this._definition.messages,a.messages):this._definition.messages;return new l.Report(e,t,r,o,s,n,i)}},{key:"$_getFlag",value:function(e){return this._flags[e]}},{key:"$_getRule",value:function(e){return this._singleRules.get(e)}},{key:"$_mapLabels",value:function(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}},{key:"$_match",value:function(e,t,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();var i=!g.validate(e,this,t,r,n).errors;return t.restore(),i}},{key:"$_modify",value:function(e){return u.assertOptions(e,["each","once","ref","schema"]),p.schema(this,e)||this}},{key:"$_mutateRebuild",value:function(){var e=this;return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:function(t,r){var n=r.source,i=r.name,a=(r.path,r.key),o=e._definition[n][i]&&e._definition[n][i].register;!1!==o&&e.$_mutateRegister(t,{family:o,key:a})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}},{key:"$_mutateRegister",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.family,n=t.key;this._refs.register(e,r),this._ids.register(e,{key:n})}},{key:"$_property",value:function(e){return this._definition.properties[e]}},{key:"$_reach",value:function(e){return this._ids.reach(e)}},{key:"$_rootReferences",value:function(){return this._refs.roots()}},{key:"$_setFlag",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");var i=this._definition.flags[e]||{};if(a(t,i.default)&&(t=void 0),a(t,this._flags[e]))return this;var o=!1!==r.clone?this.clone():this;return void 0!==t?(o._flags[e]=t,o.$_mutateRegister(t)):delete o._flags[e],"_"!==e[0]&&(o.$_temp.ruleset=!1),o}},{key:"$_parent",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=this[e][u.symbols.parent]).call.apply(t,[this].concat(n))}},{key:"$_validate",value:function(e,t,r){return g.validate(e,this,t,r)}},{key:"_assign",value:function(e){for(var t in e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={},this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;for(var r in e.$_super={},this.$_super)e.$_super[r]=this._super[r].bind(e);return e}},{key:"_bare",value:function(){var e=this.clone();e._reset();var t=e._definition.terms;for(var r in t){var n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}},{key:"_default",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u.assertOptions(i,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!i.literal,"Only function value supports literal option"),"function"==typeof t&&i.literal&&(b(r={},u.symbols.literal,!0),b(r,"literal",t),t=r),this.$_setFlag(e,t)}},{key:"_generate",value:function(e,t,r){if(!this.$_terms.whens)return{schema:this};for(var n=[],i=[],a=0;a<this.$_terms.whens.length;++a){var o=this.$_terms.whens[a];if(o.concat)n.push(o.concat),i.push("".concat(a,".concat"));else{for(var s=o.ref?o.ref.resolve(e,t,r):e,u=o.is?[o]:o.switch,c=i.length,l=0;l<u.length;++l){var f=u[l],h=f.is,d=f.then,p=f.otherwise,v="".concat(a).concat(o.switch?"."+l:"");if(h.$_match(s,t.nest(h,"".concat(v,".is")),r)){if(d){var m=t.localize([].concat(w(t.path),["".concat(v,".then")]),t.ancestors,t.schemas),g=d._generate(e,m,r),y=g.schema,b=g.id;n.push(y),i.push("".concat(v,".then").concat(b?"(".concat(b,")"):""));break}}else if(p){var _=t.localize([].concat(w(t.path),["".concat(v,".otherwise")]),t.ancestors,t.schemas),k=p._generate(e,_,r),x=k.schema,E=k.id;n.push(x),i.push("".concat(v,".otherwise").concat(E?"(".concat(E,")"):""));break}}if(o.break&&i.length>c)break}}var A=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",A),!A)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[A])return{schema:this.$_temp.whens[A],id:A};var S=this;this._definition.generate&&(S=this._definition.generate(this,e,t,r));for(var O=0,I=n;O<I.length;O++){var R=I[O];S=S.concat(R)}return this.$_root._tracer&&this.$_root._tracer._combine(S,[this].concat(n)),this.$_temp.whens[A]=S,{schema:S,id:A}}},{key:"_inner",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(!this._inRuleset(),"Cannot set ".concat(e," inside a ruleset"));var a=this.clone();return a.$_terms[e]&&!i.override||(a.$_terms[e]=[]),i.single?a.$_terms[e].push(t):(r=a.$_terms[e]).push.apply(r,w(t)),a.$_temp.ruleset=!1,a}},{key:"_inRuleset",value:function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}},{key:"_ruleRemove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._singleRules.has(e))return this;var r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);for(var n=[],i=0;i<r._rules.length;++i){var a=r._rules[i];a.name!==e||a.keep?n.push(a):r._inRuleset()&&i<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}},{key:"_values",value:function(e,t){u.verifyFlat(e,t.slice(1,-1));var r=this.clone(),i=e[0]===u.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new y:i&&(r[t]=e.length?new y:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;n(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n(s!==u.symbols.override,"Override must be the first value");var c="_invalids"===t?"_valids":"_invalids";r[c]&&(r[c].remove(s),r[c].length||(n("_valids"===t||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[c]=null)),r[t].add(s,r._refs)}}catch(l){o.e(l)}finally{o.f()}return r}}]),e}()};_.Base.prototype[u.symbols.any]={version:u.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,e.exports=new _.Base},8652:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:function(e){return new o.Cache(e)}},o.Cache=function(){function e(){A(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.assertOptions(t,["max"]),n(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this._max=t.max||o.max,this._map=new Map,this._list=new o.List}return O(e,[{key:"length",get:function(){return this._map.size}},{key:"set",value:function(e,t){if(null===e||o.supported.has(typeof e)){var r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}}},{key:"get",value:function(e){var t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}},{key:"_compact",value:function(){if(this._map.size>this._max){var e=this._list.pop();this._map.delete(e.key)}}}]),e}(),o.List=function(){function e(){A(this,e),this.tail=null,this.head=null}return O(e,[{key:"unshift",value:function(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}},{key:"first",value:function(e){e!==this.head&&(this._remove(e),this.unshift(e))}},{key:"pop",value:function(){return this._remove(this.tail)}},{key:"_remove",value:function(e){var t=e.next,r=e.prev;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}]),e}()},8160:function(e,t,r){var n,i,a=r(375),o=r(7916),s=r(5934),u={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=s.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Options";a(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");var n=Object.keys(e).filter((function(e){return!t.includes(e)}));a(0===n.length,"".concat(r," contain unknown keys: ").concat(n))},t.checkPreferences=function(e){var t=(i=i||r(3378)).preferences.validate(e);if(t.error)throw new o([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return u.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e&&e[t.symbols.any];return!!n&&(a(r.legacy||n.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,i){n=n||r(6914),e=e||{},i=i||{};var a=Object.assign({},e,i);return i.errors&&e.errors&&(a.errors=Object.assign({},e.errors,i.errors),a.errors.wrap=Object.assign({},e.errors.wrap,i.errors.wrap)),i.messages&&(a.messages=n.compile(i.messages,e.messages)),delete a[t.symbols.prefs],a},t.tryWithPath=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},t.validateArg=function(e,r,n){var i=n.assert,a=n.message;if(t.isSchema(i)){var o=i.validate(e);if(!o.error)return;return o.error.message}if(!i(e))return r?"".concat(r," ").concat(a):a},t.verifyFlat=function(e,t){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;a(!Array.isArray(i),"Method no longer accepts array arguments:",t)}}catch(o){n.e(o)}finally{n.f()}}},3292:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.schema=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(r,["appendPath","override"]);try{return o.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message="".concat(e.message," (").concat(e.path,")")),e}},o.schema=function(e,t,r){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));var a=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return!1!==r.override?t.valid.apply(t,[e.override].concat(i)):t.valid.apply(t,i)};if(o.simple(t))return a(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return a(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){var s,u=k(t);try{for(u.s();!(s=u.n()).done;){var c,l=s.value;if(!o.simple(l))return(c=e.alternatives()).try.apply(c,w(t))}}catch(f){u.e(f)}finally{u.f()}return a.apply(void 0,[e].concat(w(t)))}return t instanceof RegExp?e.string().regex(t):t instanceof Date?a(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return a.isRef(e)?e:a.create(e,t)},t.compile=function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(a,["legacy"]);var s=r&&r[i.symbols.any];if(s)return n(a.legacy||s.version===i.version,"Cannot mix different versions of joi schemas:",s.version,i.version),r;if("object"!=typeof r||!a.legacy)return t.schema(e,r,{appendPath:!0});var u=o.walk(r);return u?u.compile(u.root,r):t.schema(e,r,{appendPath:!0})},o.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=o.walk(a);if(s)return s}}catch(f){r.e(f)}finally{r.f()}return null}var u=e[i.symbols.any];if(u)return{root:e[u.root],compile:u.compile};for(var c in n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e){var l=o.walk(e[c]);if(l)return l}return null},o.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,s){if(void 0===s&&(n(r&&"object"==typeof r,"Missing options"),s=r,r=a.create(".")),Array.isArray(s)&&(s={switch:s}),i.assertOptions(s,["is","not","then","otherwise","switch","break"]),i.isSchema(r))return n(void 0===s.is,'"is" can not be used with a schema condition'),n(void 0===s.not,'"not" can not be used with a schema condition'),n(void 0===s.switch,'"switch" can not be used with a schema condition'),o.condition(e,{is:r,then:s.then,otherwise:s.otherwise,break:s.break});if(n(a.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===s.not||void 0===s.is,'Cannot combine "is" with "not"'),void 0===s.switch){var u=s;void 0!==s.not&&(u={is:s.not,then:s.otherwise,otherwise:s.then,break:s.break});var c=void 0!==u.is?e.$_compile(u.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==u.then||void 0!==u.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===u.break||void 0===u.then||void 0===u.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===s.is||a.isRef(s.is)||i.isSchema(s.is)||(c=c.required()),o.condition(e,{ref:t.ref(r),is:c,then:u.then,otherwise:u.otherwise,break:u.break})}n(Array.isArray(s.switch),'"switch" must be an array'),n(void 0===s.is,'Cannot combine "switch" with "is"'),n(void 0===s.not,'Cannot combine "switch" with "not"'),n(void 0===s.then,'Cannot combine "switch" with "then"');for(var l={ref:t.ref(r),switch:[],break:s.break},f=0;f<s.switch.length;++f){var h=s.switch[f],d=f===s.switch.length-1;i.assertOptions(h,d?["is","then","otherwise"]:["is","then"]),n(void 0!==h.is,'Switch statement missing "is"'),n(void 0!==h.then,'Switch statement missing "then"');var p={is:e.$_compile(h.is),then:e.$_compile(h.then)};if(a.isRef(h.is)||i.isSchema(h.is)||(p.is=p.is.required()),d){n(void 0===s.otherwise||void 0===h.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var v=void 0!==s.otherwise?s.otherwise:h.otherwise;void 0!==v&&(n(void 0===l.break,"Cannot specify both otherwise and break"),p.otherwise=e.$_compile(v))}l.switch.push(p)}return l},o.condition=function(e,t){for(var r=0,n=["then","otherwise"];r<n.length;r++){var i=n[r];void 0===t[i]?delete t[i]:t[i]=e.$_compile(t[i])}return t}},6354:function(e,t,r){var n=r(5688),i=r(8160),a=r(3328);t.Report=function(){function e(r,n,i,a,o,s,u){if(A(this,e),this.code=r,this.flags=a,this.messages=o,this.path=s.path,this.prefs=u,this.state=s,this.value=n,this.message=null,this.template=null,this.local=i||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var c=this.path[this.path.length-1];"object"!=typeof c&&(this.local.key=c)}}return O(e,[{key:"_setTemplate",value:function(e){if(this.template=e,!this.flags.label&&0===this.path.length){var t=this._template(this.template,"root");t&&(this.local.label=t)}}},{key:"toString",value:function(){if(this.message)return this.message;var e=this.code;if(!this.prefs.errors.render)return this.code;var t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?'Error code "'.concat(e,'" is not defined, your custom type is missing the correct messages definition'):(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}},{key:"_template",value:function(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}}]),e}(),t.path=function(e){var t,r="",n=k(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"object"!=typeof i&&("string"==typeof i?(r&&(r+="."),r+=i):r+="[".concat(i,"]"))}}catch(a){n.e(a)}finally{n.f()}return r},t.template=function(e,t,r,n,o){if(t){if(a.isTemplate(t))return"root"!==r?t:null;var s=o.errors.language;if(i.isResolvable(s)&&(s=s.resolve(e,n,o)),s&&t[s]){if(void 0!==t[s][r])return t[s][r];if(void 0!==t[s]["*"])return t[s]["*"]}return t[r]?t[r]:t["*"]}},t.label=function(e,r,n,i){if(e.label)return e.label;if(!n.errors.label)return"";var a=r.path;return"key"===n.errors.label&&r.path.length>1&&(a=r.path.slice(-1)),t.path(a)||t.template(null,n.messages,"root",r,n)||i&&t.template(null,i,"root",r,n)||"value"},t.process=function(e,r,n){if(!e)return null;var i=t.details(e),a=i.override,o=i.message,s=i.details;if(a)return a;if(n.errors.stack)return new t.ValidationError(o,s,r);var u=Error.stackTraceLimit;Error.stackTraceLimit=0;var c=new t.ValidationError(o,s,r);return Error.stackTraceLimit=u,c},t.details=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o instanceof Error){if(!1!==r.override)return{override:o};var s=o.toString();n.push(s),i.push({message:s,type:"override",context:{error:o}})}else{var u=o.toString();n.push(u),i.push({message:u,path:o.path.filter((function(e){return"object"!=typeof e})),type:o.code,context:o.local})}}}catch(c){a.e(c)}finally{a.f()}return n.length>1&&(n=w(new Set(n))),{message:n.join(". "),details:i}},t.ValidationError=function(e){f(n,e);var r=h(n);function n(e,t,i){var a;return A(this,n),(a=r.call(this,e))._original=i,a.details=t,a}return O(n,null,[{key:"isError",value:function(e){return e instanceof t.ValidationError}}]),n}(p(Error)),t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},8901:function(e,t,r){var n=r(375),i=r(8571),a=r(8160),o=r(6914),s={};t.type=function(e,t){var r=Object.getPrototypeOf(e),u=i(r),c=e._assign(Object.create(u)),l=Object.assign({},t);delete l.base,u._definition=l;var f=r._definition||{};l.messages=o.merge(f.messages,l.messages),l.properties=Object.assign({},f.properties,l.properties),c.type=l.type,l.flags=Object.assign({},f.flags,l.flags);var h=Object.assign({},f.terms);if(l.terms)for(var d in l.terms){var p=l.terms[d];n(void 0===c.$_terms[d],"Invalid term override for",l.type,d),c.$_terms[d]=p.init,h[d]=p}l.terms=h,l.args||(l.args=f.args),l.prepare=s.prepare(l.prepare,f.prepare),l.coerce&&("function"==typeof l.coerce&&(l.coerce={method:l.coerce}),l.coerce.from&&!Array.isArray(l.coerce.from)&&(l.coerce={method:l.coerce.method,from:[].concat(l.coerce.from)})),l.coerce=s.coerce(l.coerce,f.coerce),l.validate=s.validate(l.validate,f.validate);var v=Object.assign({},f.rules);if(l.rules){var m=function(e){var t=l.rules[e];n("object"==typeof t,"Invalid rule definition for",l.type,e);var r=t.method;if(void 0===r&&(r=function(){return this.$_addRule(e)}),r&&(n(!u[e],"Rule conflict in",l.type,e),u[e]=r),n(!v[e],"Rule conflict in",l.type,e),v[e]=t,t.alias){var i,o=k([].concat(t.alias));try{for(o.s();!(i=o.n()).done;){var s=i.value;u[s]=t.method}}catch(c){o.e(c)}finally{o.f()}}t.args&&(t.argsByName=new Map,t.args=t.args.map((function(e){return"string"==typeof e&&(e={name:e}),n(!t.argsByName.has(e.name),"Duplicated argument name",e.name),a.isSchema(e.assert)&&(e.assert=e.assert.strict().label(e.name)),t.argsByName.set(e.name,e),e})))};for(var g in l.rules)m(g)}l.rules=v;var y=Object.assign({},f.modifiers);if(l.modifiers){var w=function(e){n(!u[e],"Rule conflict in",l.type,e);var t=l.modifiers[e];n("function"==typeof t,"Invalid modifier definition for",l.type,e);var r=function(t){return this.rule(b({},e,t))};u[e]=r,y[e]=t};for(var _ in l.modifiers)w(_)}if(l.modifiers=y,l.overrides){for(var x in u._super=r,c.$_super={},l.overrides)n(r[x],"Cannot override missing",x),l.overrides[x][a.symbols.parent]=r[x],c.$_super[x]=r[x].bind(c);Object.assign(u,l.overrides)}l.cast=Object.assign({},f.cast,l.cast);var E=Object.assign({},f.manifest,l.manifest);return E.build=s.build(l.manifest&&l.manifest.build,f.manifest&&f.manifest.build),l.manifest=E,l.rebuild=s.rebuild(l.rebuild,f.rebuild),c},s.build=function(e,t){return e&&t?function(r,n){return t(e(r,n),n)}:e||t},s.coerce=function(e,t){return e&&t?{from:e.from&&t.from?w(new Set([].concat(w(e.from),w(t.from)))):null,method:function(r,n){var i;if((!t.from||t.from.includes(typeof r))&&(i=t.method(r,n))){if(i.errors||void 0===i.value)return i;r=i.value}if(!e.from||e.from.includes(typeof r)){var a=e.method(r,n);if(a)return a}return i}}:e||t},s.prepare=function(e,t){return e&&t?function(r,n){var i=e(r,n);if(i){if(i.errors||void 0===i.value)return i;r=i.value}return t(r,n)||i}:e||t},s.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},s.validate=function(e,t){return e&&t?function(r,n){var i=t(r,n);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;r=i.value}return e(r,n)||i}:e||t}},5107:function(e,t,r){var n,i=r(375),a=r(8571),o=r(8652),s=r(8160),u=r(3292),c=r(6354),l=r(8901),f=r(9708),h=r(6133),d=r(3328),p=r(1152),m={types:{alternatives:r(4946),any:r(8068),array:r(546),boolean:r(4937),date:r(7500),function:r(390),link:r(8785),number:r(3832),object:r(8966),string:r(7417),symbol:r(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){var e,t={_types:new Set(Object.keys(m.types))},r=k(t._types);try{var n=function(){var r=e.value;t[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(!t.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),m.generate(this,m.types[r],t)}};for(r.s();!(e=r.n()).done;)n()}catch(l){r.e(l)}finally{r.f()}for(var a=function(){var e=s[o];t[e]=function(){var t;return(t=this.any())[e].apply(t,arguments)}},o=0,s=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];o<s.length;o++)a();for(var u in Object.assign(t,m.methods),m.aliases){var c=m.aliases[u];t[u]=t[c]}return t.x=t.expression,p.setup&&p.setup(t),t}};m.methods={ValidationError:c.ValidationError,version:s.version,cache:o.provider,assert:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];m.assert(e,t,!0,n)},attempt:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return m.assert(e,t,!1,n)},build:function(e){return i("function"==typeof f.build,"Manifest functionality disabled"),f.build(this,e)},checkPreferences:function(e){s.checkPreferences(e)},compile:function(e,t){return u.compile(this,e,t)},defaults:function(e){i("function"==typeof e,"modifier must be a function");var t,r=Object.assign({},this),n=k(r._types);try{var a=function(){var n=t.value,a=e(r[n]());i(s.isSchema(a),"modifier must return a valid schema object"),r[n]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,a,t)}};for(n.s();!(t=n.n()).done;)a()}catch(o){n.e(o)}finally{n.f()}return r},expression:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(d,t)},extend:function(){for(var e=this,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];s.verifyFlat(a,"extend"),n=n||r(3378),i(a.length,"You need to provide at least one extension"),this.assert(a,n.extensions);var u=Object.assign({},this);u._types=new Set(u._types);for(var c=0,f=a;c<f.length;c++){var h=f[c];"function"==typeof h&&(h=h(u)),this.assert(h,n.extension);var d,p=k(m.expandExtension(h,u));try{var v=function(){var t=d.value;i(void 0===u[t.type]||u._types.has(t.type),"Cannot override name",t.type);var r=t.base||e.any(),n=l.type(r,t);u._types.add(t.type),u[t.type]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,n,t)}};for(p.s();!(d=p.n()).done;)v()}catch(g){p.e(g)}finally{p.f()}}return u},isError:c.ValidationError.isError,isExpression:d.isTemplate,isRef:h.isRef,isSchema:s.isSchema,in:function(){return h.in.apply(h,arguments)},override:s.symbols.override,ref:function(){return h.create.apply(h,arguments)},types:function(){var e,t={},r=k(this._types);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n]=this[n]()}}catch(a){r.e(a)}finally{r.f()}for(var i in m.aliases)t[i]=this[i]();return t}},m.assert=function(e,t,r,n){var i=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,o=null!==i?n[1]:n[0],u=t.validate(e,s.preferences({errors:{stack:!0}},o||{})),l=u.error;if(!l)return u.value;if(i instanceof Error)throw i;var f=r&&"function"==typeof l.annotate?l.annotate():l.message;throw l instanceof c.ValidationError==0&&(l=a(l)),l.message=i?"".concat(i," ").concat(f):f,l},m.generate=function(e,t,r){var n;return i(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?(n=t._definition).args.apply(n,[t].concat(w(r))):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];var r,n=[],i=k(t._types);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.type.test(a)){var o=Object.assign({},e);o.type=a,o.base=t[a](),n.push(o)}}}catch(s){i.e(s)}finally{i.f()}return n},e.exports=m.root()},6914:function(e,t,r){var n=r(375),i=r(8571),a=r(3328);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new a(e);if(a.isTemplate(e))return n(!t,"Cannot set single message template"),e;for(var r in n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{},e){var o=e[r];if("root"===r||a.isTemplate(o))t[r]=o;else if("string"!=typeof o){n("object"==typeof o&&!Array.isArray(o),"Invalid message for",r);var s=r;for(r in t[s]=t[s]||{},o){var u=o[r];"root"===r||a.isTemplate(u)?t[s][r]=u:(n("string"==typeof u,"Invalid message for",r,"in",s),t[s][r]=new a(u))}}else t[r]=new a(o)}return t},t.decompile=function(e){var t={};for(var r in e){var n=e[r];if("root"!==r)if(a.isTemplate(n))t[r]=n.describe({compact:!0});else{var i=r;for(r in t[i]={},n){var o=n[r];"root"!==r?t[i][r]=o.describe({compact:!0}):t[i].root=o}}else t.root=n}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new a(r);if(a.isTemplate(r))return r;var o=i(e);for(var s in r){var u=r[s];if("root"===s||a.isTemplate(u))o[s]=u;else if("string"!=typeof u){n("object"==typeof u&&!Array.isArray(u),"Invalid message for",s);var c=s;for(s in o[c]=o[c]||{},u){var l=u[s];"root"===s||a.isTemplate(l)?o[c][s]=l:(n("string"==typeof l,"Invalid message for",s,"in",c),o[c][s]=new a(l))}}else o[s]=new a(u)}return o}},2294:function(e,t,r){var n=r(375),i=r(8160),a=r(6133),o={};t.Ids=o.Ids=function(){function e(){A(this,e),this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}return O(e,[{key:"clone",value:function(){var e=new o.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}},{key:"concat",value:function(e){e._schemaChain&&(this._schemaChain=!0);var t,r=k(e._byId.entries());try{for(r.s();!(t=r.n()).done;){var i=_(t.value,2),a=i[0],o=i[1];n(!this._byKey.has(a),"Schema id conflicts with existing key:",a),this._byId.set(a,o)}}catch(h){r.e(h)}finally{r.f()}var s,u=k(e._byKey.entries());try{for(u.s();!(s=u.n()).done;){var c=_(s.value,2),l=c[0],f=c[1];n(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,f)}}catch(h){u.e(h)}finally{u.f()}}},{key:"fork",value:function(e,t,r){var a=this._collect(e);a.push({schema:r});var s=a.shift(),u={id:s.id,schema:t(s.schema)};n(i.isSchema(u.schema),"adjuster function failed to return a joi schema type");var c,l=k(a);try{for(l.s();!(c=l.n()).done;){var f=c.value;u={id:f.id,schema:o.fork(f.schema,u.id,u.schema)}}}catch(h){l.e(h)}finally{l.f()}return u.schema}},{key:"labels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],n=this._get(r);if(!n)return[].concat(w(t),w(e)).join(".");var i=e.slice(1);return t=[].concat(w(t),[n.schema._flags.label||r]),i.length?n.schema._ids.labels(i,t):t.join(".")}},{key:"reach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e[0],i=this._get(r);n(i,"Schema does not contain path",[].concat(w(t),w(e)).join("."));var a=e.slice(1);return a.length?i.schema._ids.reach(a,[].concat(w(t),[r])):i.schema}},{key:"register",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).key;if(e&&i.isSchema(e)){(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);var r=e._flags.id;if(r){var a=this._byId.get(r);n(!a||a.schema===e,"Cannot add different schemas with the same id:",r),n(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(n(!this._byKey.has(t),"Schema already contains key:",t),n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}}},{key:"reset",value:function(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}},{key:"_collect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e[0],a=this._get(i);n(a,"Schema does not contain path",[].concat(w(t),w(e)).join(".")),r=[a].concat(w(r));var o=e.slice(1);return o.length?a.schema._ids._collect(o,[].concat(w(t),[i]),r):r}},{key:"_get",value:function(e){return this._byId.get(e)||this._byKey.get(e)}}]),e}(),o.fork=function(e,r,n){var i=t.schema(e,{each:function(e,t){var i=t.key;if(r===(e._flags.id||i))return n},ref:!1});return i?i.$_mutateRebuild():e},t.schema=function(e,t){var r;for(var n in e._flags)if("_"!==n[0]){var i=o.scan(e._flags[n],{source:"flags",name:n},t);void 0!==i&&((r=r||e.clone())._flags[n]=i)}for(var a=0;a<e._rules.length;++a){var s=e._rules[a],u=o.scan(s.args,{source:"rules",name:s.name},t);if(void 0!==u){r=r||e.clone();var c=Object.assign({},s);c.args=u,r._rules[a]=c,r._singleRules.get(s.name)===s&&r._singleRules.set(s.name,c)}}for(var l in e.$_terms)if("_"!==l[0]){var f=o.scan(e.$_terms[l],{source:"terms",name:l},t);void 0!==f&&((r=r||e.clone()).$_terms[l]=f)}return r},o.scan=function(e,t,r,n,s){var u=n||[];if(null!==e&&"object"==typeof e){var c;if(Array.isArray(e)){for(var f=0;f<e.length;++f){var h="terms"===t.source&&"keys"===t.name&&e[f].key,d=o.scan(e[f],t,r,[f].concat(w(u)),h);void 0!==d&&((c=c||e.slice())[f]=d)}return c}if(!1!==r.schema&&i.isSchema(e)||!1!==r.ref&&a.isRef(e)){var p=r.each(e,l(l({},t),{},{path:u,key:s}));if(p===e)return;return p}for(var v in e)if("_"!==v[0]){var m=o.scan(e[v],t,r,[v].concat(w(u)),s);void 0!==m&&((c=c||Object.assign({},e))[v]=m)}return c}}},6133:function(e,t,r){var n,i=r(375),a=r(8571),o=r(9621),s=r(8160),u={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i("string"==typeof e,"Invalid reference key:",e),s.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),i(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");var r=Object.assign({},u.defaults,t);delete r.prefix;var n=r.separator,a=u.context(e,n,t.prefix);if(r.type=a.type,e=a.key,"value"===r.type)if(a.root&&(i(!n||e[0]!==n,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),n&&n===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)i(!n||!e||e[0]!==n,"Cannot combine prefix with ancestor option");else{var o=_(u.ancestor(e,n),2),c=o[0],l=o[1];l&&""===(e=e.slice(l))&&(e=null),r.ancestor=c}return r.path=n?null===e?[]:e.split(n):[e],new u.Ref(r)},t.in=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.create(e,l(l({},r),{},{in:!0}))},t.isRef=function(e){return!!e&&!!e[s.symbols.ref]},u.Ref=function(){function e(t){A(this,e),i("object"==typeof t,"Invalid reference construction"),s.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),i([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),i(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),i(!t.map||Array.isArray(t.map),"options.map must be an array"),i(!t.map||!t.adjust,"Cannot set both map and adjust options"),Object.assign(this,u.defaults,t),i("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}return O(e,[{key:"resolve",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return i(!this.in||a.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,a):"local"===this.type?this._resolve(n,t,a):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,a):(i(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,a)):this._resolve(e,t,a)}},{key:"_resolve",value:function(e,t,r){var n;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=o(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){var i=this.map.get(n);void 0!==i&&(n=i)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}},{key:"toString",value:function(){return this.display}},{key:"absolute",value:function(e){return[].concat(w(e.path.slice(0,-this.ancestor)),w(this.path))}},{key:"clone",value:function(){return new u.Ref(this)}},{key:"describe",value:function(){var e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=w(this.map));for(var t=0,r=["adjust","iterables","render"];t<r.length;t++){var n=r[t];null!==this[n]&&void 0!==this[n]&&(e[n]=this[n])}return!1!==this.in&&(e.in=!0),{ref:e}}},{key:"updateDisplay",value:function(){var e=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var t=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(t).concat(e||"")}else this.display="ref:".concat(e||"..");else this.display="ref:root:".concat(e);else this.display="ref:".concat(this.separator).concat(e);else this.display="ref:".concat(e);else this.display="ref:".concat(this.type,":").concat(e)}}]),e}(),u.Ref.prototype[s.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},u.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new u.Ref(e)},u.context=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e.trim(),r){var n=void 0===r.global?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};var i=void 0===r.local?"#":r.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};var a=void 0===r.root?"/":r.root;if(a!==t&&e.startsWith(a))return{key:e.slice(a.length),type:"value",root:!0}}return{key:e,type:"value"}},u.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];for(var r=2;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=function(){function e(){A(this,e),this.refs=[]}return O(e,[{key:"register",value:function(e,i){if(e)if(i=void 0===i?t.toParent:i,Array.isArray(e)){var a,o=k(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;this.register(u,i)}}catch(h){o.e(h)}finally{o.f()}}else if(s.isSchema(e)){var c,l=k(e._refs.refs);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.ancestor-i>=0&&this.refs.push({ancestor:f.ancestor-i,root:f.root})}}catch(h){l.e(h)}finally{l.f()}}else t.isRef(e)&&"value"===e.type&&e.ancestor-i>=0&&this.refs.push({ancestor:e.ancestor-i,root:e.root}),(n=n||r(3328)).isTemplate(e)&&this.register(e.refs(),i)}},{key:"length",get:function(){return this.refs.length}},{key:"clone",value:function(){var e=new t.Manager;return e.refs=a(this.refs),e}},{key:"reset",value:function(){this.refs=[]}},{key:"roots",value:function(){return this.refs.filter((function(e){return!e.ancestor})).map((function(e){return e.root}))}}]),e}()},3378:function(e,t,r){var n=r(5107),i={};i.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:i.wrap,array:i.wrap,string:i.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]\w*$/,i.rule=n.object({alias:n.array().items(n.string().pattern(i.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(i.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(i.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(i.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(i.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(i.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(i.nameRx,i.rule),terms:n.object().pattern(i.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),i.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},i.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,n.link("/")]),i.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=n.object().pattern(/.+/,[n.string(),i.desc.template,n.object().pattern(/.+/,[n.string(),i.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:i.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),i.desc.ref],wrap:{label:i.wrap,array:i.wrap}},externals:n.boolean(),messages:i.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),i.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:function(e,t,r){var n=r(8571),i=r(9621),a=r(8160),o={value:Symbol("value")};e.exports=o.State=function(){function e(t,r,n){A(this,e),this.path=t,this.ancestors=r,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}return O(e,[{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new o.State(e,t,this);return r&&n.schemas&&(n.schemas=[o.schemas(r)].concat(w(n.schemas))),n}},{key:"nest",value:function(e,t){var r=new o.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[o.schemas(e)].concat(w(r.schemas)),r.debug=t,r}},{key:"shadow",value:function(e,t){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,e,t)}},{key:"snapshot",value:function(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}},{key:"restore",value:function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}}]),e}(),o.schemas=function(e){return a.isSchema(e)?{schema:e}:e},o.Shadow=function(){function e(){A(this,e),this._values=null}return O(e,[{key:"set",value:function(e,t,r){if(e.length&&("strip"!==r||"number"!=typeof e[e.length-1])){this._values=this._values||new Map;for(var n=this._values,i=0;i<e.length;++i){var a=e[i],s=n.get(a);s||(s=new Map,n.set(a,s)),n=s}n[o.value]=t}}},{key:"get",value:function(e){var t=this.node(e);if(t)return t[o.value]}},{key:"node",value:function(e){if(this._values)return i(this._values,e,{iterables:!0})}},{key:"override",value:function(e,t){if(this._values){var r=e.slice(0,-1),n=e[e.length-1],a=i(this._values,r,{iterables:!0});t?a.set(n,t):a&&a.delete(n)}}}]),e}()},3328:function(e,t,r){var n=r(375),i=r(8571),a=r(5277),o=r(1447),s=r(8160),u=r(6354),c=r(6133),f={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=f.Template=function(){function e(t,r){A(this,e),n("string"==typeof t,"Template source must be a string"),n(!t.includes("\0")&&!t.includes(""),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this._template=null,this._settings=i(r),this._parse()}return O(e,[{key:"_parse",value:function(){if(this.source.includes("{")){var e=f.encode(this.source),t=f.split(e),r=!1,n=[],i=t.shift();i&&n.push(i);var a,o=k(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u="{"!==s[0],c=u?"}":"}}",l=s.indexOf(c);if(-1!==l&&"{"!==s[1]){var h=s.slice(u?0:1,l),d=":"===h[0];d&&(h=h.slice(1));var p=this._ref(f.decode(h),{raw:u,wrapped:d});n.push(p),"string"!=typeof p&&(r=!0);var v=s.slice(l+c.length);v&&n.push(f.decode(v))}else n.push("{".concat(f.decode(s)))}}catch(m){o.e(m)}finally{o.f()}r?this._template=n:this.rendered=n.join("")}}},{key:"describe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._settings&&e.compact)return this.source;var t={template:this.source};return this._settings&&(t.options=this._settings),t}},{key:"isDynamic",value:function(){return!!this._template}},{key:"refs",value:function(){if(this._template){var e,t=[],r=k(this._template);try{for(r.s();!(e=r.n()).done;){var n=e.value;"string"!=typeof n&&t.push.apply(t,w(n.refs))}}catch(i){r.e(i)}finally{r.f()}return t}}},{key:"resolve",value:function(e,t,r,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}},{key:"_part",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.ref?(t=e.ref).resolve.apply(t,n):e.formula.evaluate(n)}},{key:"render",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.isDynamic())return this.rendered;var o,s=[],u=k(this._template);try{for(u.s();!(o=u.n()).done;){var c=o.value;if("string"==typeof c)s.push(c);else{var l=this._part(c,e,t,r,n,i),h=f.stringify(l,e,t,r,n,i);if(void 0!==h){var d=c.raw||!1===(i.errors&&i.errors.escapeHtml)?h:a(h);s.push(f.wrap(d,c.wrapped&&r.errors.wrap.label))}}}}catch(p){u.e(p)}finally{u.f()}return s.join("")}},{key:"_ref",value:function(e,t){var r=this,n=t.raw,i=t.wrapped,a=[],s=function(e){var t=c.create(e,r._settings);return a.push(t),function(e){return t.resolve.apply(t,w(e))}};try{var u=new o.Parser(e,{reference:s,functions:f.functions,constants:f.constants})}catch(t){throw t.message='Invalid template variable "'.concat(e,'" fails due to: ').concat(t.message),t}if(u.single){if("reference"===u.single.type){var l=a[0];return{ref:l,raw:n,refs:a,wrapped:i||"local"===l.type&&"label"===l.key}}return f.stringify(u.single.value)}return{formula:u,raw:n,refs:a}}},{key:"toString",value:function(){return this.source}}],[{key:"date",value:function(e,t){return f.dateFormat[t.dateFormat].call(e)}},{key:"build",value:function(e){return new f.Template(e.template,e.options)}},{key:"isTemplate",value:function(e){return!!e&&!!e[s.symbols.template]}}]),e}(),f.Template.prototype[s.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(e){return e.replace(/\\(\{+)/g,(function(e,t){return f.opens.slice(0,t.length)})).replace(/\\(\}+)/g,(function(e,t){return f.closes.slice(0,t.length)}))},f.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(e){for(var t=[],r="",n=0;n<e.length;++n){var i=e[n];if("{"===i){for(var a="";n+1<e.length&&"{"===e[n+1];)a+="{",++n;t.push(r),r=a}else r+=i}return t.push(r),t},f.wrap=function(e,t){return t?1===t.length?"".concat(t).concat(e).concat(t):"".concat(t[0]).concat(e).concat(t[1]):e},f.stringify=function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=typeof e,s=n&&n.errors&&n.errors.wrap||{},u=!1;if(c.isRef(e)&&e.render&&(u=e.in,e=e.resolve(t,r,n,i,l({in:e.in},a))),null===e)return"null";if("string"===o)return f.wrap(e,a.arrayItems&&s.string);if("number"===o||"function"===o||"symbol"===o)return e.toString();if("object"!==o)return JSON.stringify(e);if(e instanceof Date)return f.Template.date(e,n);if(e instanceof Map){var h,d=[],p=k(e.entries());try{for(p.s();!(h=p.n()).done;){var v=_(h.value,2),m=v[0],g=v[1];d.push("".concat(m.toString()," -> ").concat(g.toString()))}}catch(E){p.e(E)}finally{p.f()}e=d}if(!Array.isArray(e))return e.toString();var y,b=[],w=k(e);try{for(w.s();!(y=w.n()).done;){var x=y.value;b.push(f.stringify(x,t,r,n,i,l({arrayItems:!0},a)))}}catch(E){w.e(E)}finally{w.f()}return f.wrap(b.join(", "),!u&&s.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(e,t,r){return e?t:r},length:function(e){return"string"==typeof e?e.length:e&&"object"==typeof e?Array.isArray(e)?e.length:Object.keys(e).length:null},msg:function(e){var t=_(this,5),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=o.messages;if(!s)return"";var c=u.template(r,s[0],e,n,i)||u.template(r,s[1],e,n,i);return c?c.render(r,n,i,a,o):""},number:function(e){return"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}}},4946:function(e,t,r){var n=r(375),i=r(1687),a=r(8068),o=r(8160),s=r(3292),u=r(6354),c=r(6133),l={};e.exports=a.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:c.toSibling}},args:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 1===r.length&&Array.isArray(r[0])?e.try.apply(e,w(r[0])):e.try.apply(e,r)},validate:function(e,t){var r=t.schema,n=t.error,a=t.state,o=t.prefs;if(r._flags.match){for(var s=[],c=[],f=0;f<r.$_terms.matches.length;++f){var h=r.$_terms.matches[f],d=a.nest(h.schema,"match.".concat(f));d.snapshot();var p=h.schema.$_validate(e,d,o);p.errors?(c.push(p.errors),d.restore()):s.push(p.value)}if(0===s.length)return{errors:n("alternatives.any",{details:c.map((function(e){return u.details(e,{override:!1})}))})};if("one"===r._flags.match)return 1===s.length?{value:s[0]}:{errors:n("alternatives.one")};if(s.length!==r.$_terms.matches.length)return{errors:n("alternatives.all",{details:c.map((function(e){return u.details(e,{override:!1})}))})};var v=function e(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&e(t.schema)}))};return v(r)?{value:s.reduce((function(e,t){return i(e,t,{mergeArrays:!1})}))}:{value:s[s.length-1]}}for(var m=[],g=0;g<r.$_terms.matches.length;++g){var y=r.$_terms.matches[g];if(y.schema){var b=a.nest(y.schema,"match.".concat(g));b.snapshot();var w=y.schema.$_validate(e,b,o);if(!w.errors)return w;b.restore(),m.push({schema:y.schema,reports:w.errors})}else for(var _=y.ref?y.ref.resolve(e,a,o):e,k=y.is?[y]:y.switch,x=0;x<k.length;++x){var E=k[x],A=E.is,S=E.then,O=E.otherwise,I="match.".concat(g).concat(y.switch?"."+x:"");if(A.$_match(_,a.nest(A,"".concat(I,".is")),o)){if(S)return S.$_validate(e,a.nest(S,"".concat(I,".then")),o)}else if(O)return O.$_validate(e,a.nest(O,"".concat(I,".otherwise")),o)}}return l.errors(m,t)},rules:{conditional:{method:function(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");var r,i=this.clone(),a=s.when(i,e,t),o=k(a.is?[a]:a.switch);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(u.then&&u.otherwise){i.$_setFlag("_endedSwitch",!0,{clone:!1});break}}}catch(c){o.e(c)}finally{o.f()}return i.$_terms.matches.push(a),i.$_mutateRebuild()}},match:{method:function(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e){var t,r=k(this.$_terms.matches);try{for(r.s();!(t=r.n()).done;){var i=t.value;n(i.schema,"Cannot combine match mode",e,"with conditional rules")}}catch(a){r.e(a)}finally{r.f()}}return this.$_setFlag("match",e)}},try:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing alternative schemas"),o.verifyFlat(t,"try"),n(!this._flags._endedSwitch,"Unreachable condition");for(var i=this.clone(),a=0,s=t;a<s.length;a++){var u=s[a];i.$_terms.matches.push({schema:i.$_compile(u)})}return i.$_mutateRebuild()}}},overrides:{label:function(e){return this.$_parent("label",e).$_modify({each:function(t,r){return"is"!==r.path[0]?t.label(e):void 0},ref:!1})}},rebuild:function(e){e.$_modify({each:function(t){o.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build:function(e,t){if(t.matches){var r,n=k(t.matches);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.ref,s=i.is,u=i.not,c=i.then,l=i.otherwise;e=a?e.try(a):o?e.conditional(o,{is:s,then:c,not:u,otherwise:l,switch:i.switch}):e.conditional(s,{then:c,otherwise:l})}}catch(f){n.e(f)}finally{n.f()}}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),l.errors=function(e,t){var r=t.error,n=t.state;if(!e.length)return{errors:r("alternatives.any")};if(1===e.length)return{errors:e[0].reports};var i,a=new Set,o=[],s=k(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,f=c.reports,h=c.schema;if(f.length>1)return l.unmatched(e,r);var d=f[0];if(d instanceof u.Report==0)return l.unmatched(e,r);if(d.state.path.length===n.path.length)if("any.only"!==d.code){var p=_(d.code.split("."),2),v=p[0];"base"===p[1]?a.add(v):o.push({type:h.type,report:d})}else{var m,g=k(d.local.valids);try{for(g.s();!(m=g.n()).done;){var y=m.value;a.add(y)}}catch(b){g.e(b)}finally{g.f()}}else o.push({type:h.type,report:d})}}catch(b){s.e(b)}finally{s.f()}return o.length?1===o.length?{errors:o[0].report}:l.unmatched(e,r):{errors:r("alternatives.types",{types:w(a)})}},l.unmatched=function(e,t){var r,n=[],i=k(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push.apply(n,w(a.reports))}}catch(o){i.e(o)}finally{i.f()}return{errors:t("alternatives.match",u.details(n,{override:!1}))}}},8068:function(e,t,r){var n=r(375),i=r(7629),a=r(8160),o=r(6914);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate:function(e,t,r){var n=r.method;try{return n(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method:function(e){return this.prefs({messages:e})}},shared:{method:function(e){n(a.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");var t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method:function(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:function(e,t,r){var n=r.code,i=r.local;return t.error(n,i)},args:["code","local"],multi:!0}},modifiers:{keep:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.keep=t},message:function(e,t){e.message=o.compile(t)},warn:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.warn=t}},manifest:{build:function(e,t){for(var r in t){var n=t[r];if(["examples","externals","metas","notes","tags"].includes(r)){var i,a=k(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;e=e[r.slice(0,-1)](o)}}catch(S){a.e(S)}finally{a.f()}}else if("alterations"!==r)if("whens"!==r){if("shared"===r){var s,u=k(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;e=e.shared(c)}}catch(S){u.e(S)}finally{u.f()}}}else{var l,f=k(n);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.ref,p=h.is,v=h.not,m=h.then,g=h.otherwise,y=h.concat;e=y?e.concat(y):d?e.when(d,{is:p,not:v,then:m,otherwise:g,switch:h.switch,break:h.break}):e.when(p,{then:m,otherwise:g,break:h.break})}}catch(S){f.e(S)}finally{f.f()}}else{var b,w={},_=k(n);try{for(_.s();!(b=_.n()).done;){var x=b.value,E=x.target,A=x.adjuster;w[E]=A}}catch(S){_.e(S)}finally{_.f()}e=e.alter(w)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(e,t,r){var n=r(375),i=r(9474),a=r(9621),o=r(8068),s=r(8160),u=r(3292),c={};e.exports=o.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs;if(Array.isArray(e)){var a=r.$_getRule("sort");return a?c.sort(r,e,a.args.options,n,i):void 0}}},validate:function(e,t){var r=t.schema,n=t.error;if(!Array.isArray(e)){if(r._flags.single){var i=[e];return i[s.symbols.arraySingle]=!0,{value:i}}return{errors:n("array.base")}}if(r.$_getRule("items")||r.$_terms.externals)return{value:e.slice()}},rules:{has:{method:function(e){e=this.$_compile(e,{appendPath:!0});var t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate:function(e,t,r){for(var n=t.state,i=t.prefs,a=t.error,o=r.schema,s=[e].concat(w(n.ancestors)),u=0;u<e.length;++u){var c=n.localize([].concat(w(n.path),[u]),s,o);if(o.$_match(e[u],c,i))return e}var l=o._flags.label;return l?a("array.hasKnown",{patternLabel:l}):a("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"items");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});i.$_terms.items.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs,o=t.errorsArray,u=r.$_terms._requireds.slice(),l=r.$_terms.ordered.slice(),f=[].concat(w(r.$_terms._inclusions),w(u)),h=!e[s.symbols.arraySingle];delete e[s.symbols.arraySingle];for(var d=o(),p=e.length,v=0;v<p;++v){var m=e[v],g=!1,y=!1,b=h?v:new Number(v),_=[].concat(w(i.path),[b]);if(r._flags.sparse||void 0!==m){var x,E=[e].concat(w(i.ancestors)),A=k(r.$_terms._exclusions);try{for(A.s();!(x=A.n()).done;){var S=x.value;if(S.$_match(m,i.localize(_,E,S),a,{presence:"ignore"})){if(d.push(n("array.excludes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d;g=!0,l.shift();break}}}catch(B){A.e(B)}finally{A.f()}if(!g){if(r.$_terms.ordered.length){if(l.length){var O=l.shift(),I=O.$_validate(m,i.localize(_,E,O),a);if(I.errors){if(d.push.apply(d,w(I.errors)),a.abortEarly)return d}else if("strip"===O._flags.result)c.fastSplice(e,v),--v,--p;else{if(!r._flags.sparse&&void 0===I.value){if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;continue}e[v]=I.value}continue}if(!r.$_terms.items.length){if(d.push(n("array.orderedLength",{pos:v,limit:r.$_terms.ordered.length})),a.abortEarly)return d;break}}for(var R=[],C=u.length,N=0;N<C;++N){var P=i.localize(_,E,u[N]);P.snapshot();var M=u[N].$_validate(m,P,a);if(R[N]=M,!M.errors){if(e[v]=M.value,y=!0,c.fastSplice(u,N),--N,--C,!r._flags.sparse&&void 0===M.value&&(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly))return d;break}P.restore()}if(!y){var j=a.stripUnknown&&!!a.stripUnknown.arrays||!1;C=f.length;var T,L=k(f);try{for(L.s();!(T=L.n()).done;){var $=T.value,D=void 0,U=u.indexOf($);if(-1!==U)D=R[U];else{var F=i.localize(_,E,$);if(F.snapshot(),!(D=$.$_validate(m,F,a)).errors){"strip"===$._flags.result?(c.fastSplice(e,v),--v,--p):r._flags.sparse||void 0!==D.value?e[v]=D.value:(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),g=!0),y=!0;break}F.restore()}if(1===C){if(j){c.fastSplice(e,v),--v,--p,y=!0;break}if(d.push.apply(d,w(D.errors)),a.abortEarly)return d;g=!0;break}}}catch(B){L.e(B)}finally{L.f()}if(!g&&(r.$_terms._inclusions.length||r.$_terms._requireds.length)&&!y){if(j){c.fastSplice(e,v),--v,--p;continue}if(d.push(n("array.includes",{pos:v,value:m},i.localize(_))),a.abortEarly)return d}}}}else{if(d.push(n("array.sparse",{key:b,path:_,pos:v,value:void 0},i.localize(_))),a.abortEarly)return d;l.shift()}}return u.length&&c.fillMissedErrors(r,d,u,e,i,a),l.length&&(c.fillOrderedErrors(r,d,l,e,i,a),d.length||c.fillDefault(l,e,i,a)),d.length?d:e},priority:!0,manifest:!1},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,u=n.args;return s.compare(e.length,i,o)?e:t.error("array."+a,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:s.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];s.verifyFlat(r,"ordered");for(var i=this.$_addRule("items"),a=function(t){var n=s.tryWithPath((function(){return e.$_compile(r[t])}),t,{append:!0});c.validateSingle(n,i),i.$_mutateRegister(n),i.$_terms.ordered.push(n)},o=0;o<r.length;++o)a(o);return i.$_mutateRebuild()}},single:{method:function(e){var t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assertOptions(e,["by","order"]);var t={order:e.order||"ascending"};return e.by&&(t.by=u.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate:function(e,t,r){var n=t.error,i=t.state,a=t.prefs,o=t.schema,s=r.options,u=c.sort(o,e,s,i,a),l=u.value,f=u.errors;if(f)return f;for(var h=0;h<e.length;++h)if(e[h]!==l[h])return n("array.sort",{order:s.order,by:s.by?s.by.key:"value"});return e},convert:!0},sparse:{method:function(e){var t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),s.assertOptions(t,["ignoreUndefined","separator"]);var r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){var i=s.default(t.separator,".");r.path=i?e.split(i):[e]}else r.comparator=e;return this.$_addRule(r)},validate:function(e,t,r,o){for(var s=t.state,u=t.error,c=(t.schema,r.comparator),l=r.options,f=o.comparator,h=o.path,d={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},p=f||i,v=l.ignoreUndefined,m=0;m<e.length;++m){var g=h?a(e[m],h):e[m],y=f?d.custom:d[typeof g];if(n(y,"Failed to find unique map container for type",typeof g),y instanceof Map){for(var b=y.entries(),_=void 0;!(_=b.next()).done;)if(p(_.value[0],g)){var k=s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))),x={pos:m,value:e[m],dupePos:_.value[1],dupeValue:e[_.value[1]]};return h&&(x.path=c),u("array.unique",x,k)}y.set(g,m)}else{if((!v||void 0!==g)&&void 0!==y[g]){var E={pos:m,value:e[m],dupePos:y[g],dupeValue:e[y[g]]};return h&&(E.path=c),u("array.unique",E,s.localize([].concat(w(s.path),[m]),[e].concat(w(s.ancestors))))}y[g]=m}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(e,t){return new Set(e)}}},rebuild:function(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];var t,r=k(e.$_terms.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;c.validateSingle(n,e),"required"===n._flags.presence?e.$_terms._requireds.push(n):"forbidden"===n._flags.presence?e.$_terms._exclusions.push(n):e.$_terms._inclusions.push(n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(e.$_terms.ordered);try{for(a.s();!(i=a.n()).done;){var o=i.value;c.validateSingle(o,e)}}catch(s){a.e(s)}finally{a.f()}},manifest:{build:function(e,t){var r,n;return t.items&&(e=(r=e).items.apply(r,w(t.items))),t.ordered&&(e=(n=e).ordered.apply(n,w(t.ordered))),e}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),c.fillMissedErrors=function(e,t,r,n,i,a){var o,s=[],u=0,c=k(r);try{for(c.s();!(o=c.n()).done;){var l=o.value._flags.label;l?s.push(l):++u}}catch(f){c.e(f)}finally{c.f()}s.length?u?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:s,unknownMisses:u},i,a)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:s},i,a)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:u},i,a))},c.fillOrderedErrors=function(e,t,r,n,i,a){var o,s=[],u=k(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;"required"===l._flags.presence&&s.push(l)}}catch(f){u.e(f)}finally{u.f()}s.length&&c.fillMissedErrors(e,t,s,n,i,a)},c.fillDefault=function(e,t,r,n){for(var i=[],a=!0,o=e.length-1;o>=0;--o){var s=e[o],u=[t].concat(w(r.ancestors)),c=s.$_validate(void 0,r.localize(r.path,u,s),n).value;if(a){if(void 0===c)continue;a=!1}i.unshift(c)}i.length&&t.push.apply(t,i)},c.fastSplice=function(e,t){for(var r=t;r<e.length;)e[r++]=e[r];--e.length},c.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},c.sort=function(e,t,r,n,i){var a="ascending"===r.order?1:-1,o=-1*a,s=a,u=function(u,l){var f=c.compare(u,l,o,s);if(null!==f)return f;if(r.by&&(u=r.by.resolve(u,n,i),l=r.by.resolve(l,n,i)),null!==(f=c.compare(u,l,o,s)))return f;var h=typeof u;if(h!==typeof l)throw e.$_createError("array.sort.mismatching",t,null,n,i);if("number"!==h&&"string"!==h)throw e.$_createError("array.sort.unsupported",t,{type:h},n,i);return"number"===h?(u-l)*a:u<l?o:s};try{return{value:t.slice().sort(u)}}catch(e){return{errors:e}}},c.compare=function(e,t,r,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?r:null}},4937:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(2036),s={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(e,t){var r=t.schema;if("boolean"!=typeof e){if("string"==typeof e){var n=r._flags.sensitive?e:e.toLowerCase();e="true"===n||"false"!==n&&e}return"boolean"!=typeof e&&(e=r.$_terms.truthy&&r.$_terms.truthy.has(e,null,null,!r._flags.sensitive)||(!r.$_terms.falsy||!r.$_terms.falsy.has(e,null,null,!r._flags.sensitive))&&e),{value:e}}},validate:function(e,t){var r=t.error;if("boolean"!=typeof e)return{value:e,errors:r("boolean.base")}},rules:{truthy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"truthy");var i=this.clone();i.$_terms.truthy=i.$_terms.truthy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call truthy with undefined"),i.$_terms.truthy.add(u)}return i}},falsy:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"falsy");var i=this.clone();i.$_terms.falsy=i.$_terms.falsy||new o;for(var s=0;s<t.length;++s){var u=t[s];n(void 0!==u,"Cannot call falsy with undefined"),i.$_terms.falsy.add(u)}return i}},sensitive:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("sensitive",e)}}},cast:{number:{from:s.isBool,to:function(e,t){return e?1:0}},string:{from:s.isBool,to:function(e,t){return e?"true":"false"}}},manifest:{build:function(e,t){var r,n;return t.truthy&&(e=(r=e).truthy.apply(r,w(t.truthy))),t.falsy&&(e=(n=e).falsy.apply(n,w(t.falsy))),e}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3328),s={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:function(e,t){var r=t.schema;return{value:s.parse(e,r._flags.format)||e}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(!(e instanceof Date)||isNaN(e.getTime())){var a=r._flags.format;return i.convert&&a&&"string"==typeof e?{value:e,errors:n("date.format",{format:a})}:{value:e,errors:n("date.base")}}},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.date,o=n.name,s=n.operator,u=n.args,c="now"===i?Date.now():i.getTime();return a.compare(e.getTime(),c,s)?e:t.error("date."+o,{limit:u.date,value:e})},args:[{name:"date",ref:!0,normalize:function(e){return"now"===e?e:s.parse(e)},assert:function(e){return null!==e},message:"must have a valid date format"}]},format:{method:function(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:s.isDate,to:function(e,t){return e.getTime()}},string:{from:s.isDate,to:function(e,t){var r=t.prefs;return o.date(e,r)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),s.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return a.isIsoDate(e)?s.date(e.toString()):null;var r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return s.date(1*e);if("unix"===t)return s.date(1e3*e);if("string"==typeof r)return null}return s.date(e)},s.date=function(e){var t=new Date(e);return isNaN(t.getTime())?null:t}},390:function(e,t,r){var n=r(375),i=r(7824);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length===n?e:t.error("function.arity",{n:n})}},class:{method:function(){return this.$_addRule("class")},validate:function(e,t){return/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})}},minArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length>=n?e:t.error("function.minArity",{n:n})}},maxArity:{method:function(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:function(e,t,r){var n=r.n;return e.length<=n?e:t.error("function.maxArity",{n:n})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(e,t,r){var n=r(978),i=r(375),a=r(8571),o=r(3652),s=r(8068),u=r(8160),c=r(3292),d=r(6354),m=r(6133),g=r(3328),y={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=s.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(e,t){return e.keys(t)},validate:function(e,t){var r=t.schema,n=t.error,i=t.state,a=t.prefs;if(!e||typeof e!==r.$_property("typeof")||Array.isArray(e))return{value:e,errors:n("object.base",{type:r.$_property("typeof")})};if(r.$_terms.renames||r.$_terms.dependencies||r.$_terms.keys||r.$_terms.patterns||r.$_terms.externals){e=y.clone(e,a);var o=[];if(r.$_terms.renames&&!y.rename(r,e,i,a,o))return{value:e,errors:o};if(!r.$_terms.keys&&!r.$_terms.patterns&&!r.$_terms.dependencies)return{value:e,errors:o};var s=new Set(Object.keys(e));if(r.$_terms.keys){var u,c=[e].concat(w(i.ancestors)),l=k(r.$_terms.keys);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f.key,d=e[h];s.delete(h);var p=i.localize([].concat(w(i.path),[h]),c,f),v=f.schema.$_validate(d,p,a);if(v.errors){if(a.abortEarly)return{value:e,errors:v.errors};void 0!==v.value&&(e[h]=v.value),o.push.apply(o,w(v.errors))}else"strip"===f.schema._flags.result||void 0===v.value&&void 0!==d?delete e[h]:void 0!==v.value&&(e[h]=v.value)}}catch(A){l.e(A)}finally{l.f()}}if(s.size||r._flags._hasPatternMatch){var m=y.unknown(r,e,s,o,i,a);if(m)return m}if(r.$_terms.dependencies){var g,b=k(r.$_terms.dependencies);try{for(b.s();!(g=b.n()).done;){var _=g.value;if(null===_.key||!1!==y.isPresent(_.options)(_.key.resolve(e,i,a,null,{shadow:!1}))){var x=y.dependencies[_.rel](r,_,e,i,a);if(x){var E=r.$_createError(x.code,e,x.context,i,a);if(a.abortEarly)return{value:e,errors:E};o.push(E)}}}}catch(A){b.e(A)}finally{b.f()}}return{value:e,errors:o}}},rules:{and:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"and"),y.dependency(this,"and",null,t)}},append:{method:function(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method:function(e,t,r){g.isTemplate(e)||(e=c.ref(e)),i(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate:function(e,t,r){var n=t.error,i=t.prefs,a=t.state,o=r.subject,s=r.schema,u=r.message,c=o.resolve(e,a,i),l=m.isRef(o)?o.absolute(a):[];return s.$_match(c,a.localize(l,[e].concat(w(a.ancestors)),s),i)?e:n("object.assert",{subject:o,message:u})},args:["subject","schema","message"],multi:!0},instance:{method:function(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:function(e,t,r){var n=r.constructor,i=r.name;return e instanceof n?e:t.error("object.instance",{type:i,value:e})},args:["constructor","name"]},keys:{method:function(e){var t=this;i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!u.isSchema(e),"Object schema cannot be a joi schema");var r=this.clone();if(e)if(Object.keys(e).length){r.$_terms.keys=r.$_terms.keys?r.$_terms.keys.filter((function(t){return!e.hasOwnProperty(t.key)})):new y.Keys;var n=function(n){u.tryWithPath((function(){return r.$_terms.keys.push({key:n,schema:t.$_compile(e[n])})}),n)};for(var a in e)n(a)}else r.$_terms.keys=new y.Keys;else r.$_terms.keys=null;return r.$_mutateRebuild()}},length:{method:function(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:function(e,t,r,n){var i=r.limit,a=n.name,o=n.operator,s=n.args;return u.compare(Object.keys(e).length,i,o)?e:t.error("object."+a,{limit:s.limit,value:e})},args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method:function(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"nand"),y.dependency(this,"nand",null,t)}},or:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"or"),y.dependency(this,"or",null,t)}},oxor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.dependency(this,"oxor",null,t)}},pattern:{method:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e instanceof RegExp;a||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),u.assertOptions(n,["fallthrough","matches"]),a&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});var o=this.clone();o.$_terms.patterns=o.$_terms.patterns||[];var s=(b(r={},a?"regex":"schema",e),b(r,"rule",t),r);return n.matches&&(s.matches=this.$_compile(n.matches),"array"!==s.matches.type&&(s.matches=s.matches.$_root.array().items(s.matches)),o.$_mutateRegister(s.matches),o.$_setFlag("_hasPatternMatch",!0,{clone:!1})),n.fallthrough&&(s.fallthrough=!0),o.$_terms.patterns.push(s),o.$_mutateRegister(t),o}},ref:{method:function(){return this.$_addRule("ref")},validate:function(e,t){return m.isRef(e)?e:t.error("object.refType",{value:e})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(e,t){return e instanceof RegExp?e:t.error("object.regex",{value:e})}},rename:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof g,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),u.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);var a=this.clone();a.$_terms.renames=a.$_terms.renames||[];var o,s=k(a.$_terms.renames);try{for(s.s();!(o=s.n()).done;){var c=o.value;i(c.from!==e,"Cannot rename the same key multiple times")}}catch(l){s.e(l)}finally{s.f()}return t instanceof g&&a.$_mutateRegister(t),a.$_terms.renames.push({from:e,to:t,options:n(y.renameDefaults,r)}),a}},schema:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:e}})},validate:function(e,t,r){var n=r.type;return!u.isSchema(e)||"any"!==n&&e.type!==n?t.error("object.schema",{type:n}):e}},unknown:{method:function(e){return this.$_setFlag("unknown",!1!==e)}},with:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"with",e,t,r)}},without:{method:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.dependency(this,"without",e,t,r)}},xor:{method:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.verifyFlat(t,"xor"),y.dependency(this,"xor",null,t)}}},overrides:{default:function(e,t){return void 0===e&&(e=u.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild:function(e){if(e.$_terms.keys){var t,r=new o.Sorter,n=k(e.$_terms.keys);try{var i=function(){var e=t.value;u.tryWithPath((function(){return r.add(e,{after:e.schema.$_rootReferences(),group:e.key})}),e.key)};for(n.s();!(t=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}e.$_terms.keys=v(y.Keys,w(r.nodes))}},manifest:{build:function(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies){var r,n=k(t.dependencies);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.rel,o=i.key,s=void 0===o?null:o,u=i.peers,c=i.options;e=y.dependency(e,a,s,u,c)}}catch(S){n.e(S)}finally{n.f()}}if(t.patterns){var l,f=k(t.patterns);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=h.regex,p=h.schema,v=h.rule,m=h.fallthrough,g=h.matches;e=e.pattern(d||p,v,{fallthrough:m,matches:g})}}catch(S){f.e(S)}finally{f.f()}}if(t.renames){var b,w=k(t.renames);try{for(w.s();!(b=w.n()).done;){var _=b.value,x=_.from,E=_.to,A=_.options;e=e.rename(x,E,A)}}catch(S){w.e(S)}finally{w.f()}}return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),y.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return a(e,{shallow:!0});var r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}var n=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)};return n.prototype=a(e.prototype),Object.defineProperty(n,"name",{value:e.name,writable:!1}),Object.defineProperty(n,"length",{value:e.length,writable:!1}),Object.assign(n,e),n},y.dependency=function(e,t,r,n,a){i(null===r||"string"==typeof r,t,"key must be a strings"),a||(a=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),u.assertOptions(a,["separator","isPresent"]),n=[].concat(n);var o,s=u.default(a.separator,"."),l=[],f=k(n);try{for(f.s();!(o=f.n()).done;){var h=o.value;i("string"==typeof h,t,"peers must be strings"),l.push(c.ref(h,{separator:s,ancestor:0,prefix:!1}))}}catch(p){f.e(p)}finally{f.f()}null!==r&&(r=c.ref(r,{separator:s,ancestor:0,prefix:!1}));var d=e.clone();return d.$_terms.dependencies=d.$_terms.dependencies||[],d.$_terms.dependencies.push(new y.Dependency(t,r,l,n,a)),d},y.dependencies={and:function(e,t,r,n,i){var a,o=[],s=[],u=t.peers.length,c=y.isPresent(t.options),l=k(t.peers);try{for(l.s();!(a=l.n()).done;){var f=a.value;!1===c(f.resolve(r,n,i,null,{shadow:!1}))?o.push(f.key):s.push(f.key)}}catch(h){l.e(h)}finally{l.f()}if(o.length!==u&&s.length!==u)return{code:"object.and",context:{present:s,presentWithLabels:y.keysToLabels(e,s),missing:o,missingWithLabels:y.keysToLabels(e,o)}}},nand:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(h){u.e(h)}finally{u.f()}if(o.length===t.peers.length){var l=t.paths[0],f=t.paths.slice(1);return{code:"object.nand",context:{main:l,mainWithLabel:y.keysToLabels(e,l),peers:f,peersWithLabels:y.keysToLabels(e,f)}}}},or:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;)if(o(a.value.resolve(r,n,i,null,{shadow:!1})))return}catch(u){s.e(u)}finally{s.f()}return{code:"object.missing",context:{peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)}}},oxor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(o.length&&1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.oxor",context:l}}},with:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(!1===o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.with",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},without:function(e,t,r,n,i){var a,o=y.isPresent(t.options),s=k(t.peers);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(o(u.resolve(r,n,i,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:y.keysToLabels(e,t.key.key),peer:u.key,peerWithLabel:y.keysToLabels(e,u.key)}}}}catch(c){s.e(c)}finally{s.f()}},xor:function(e,t,r,n,i){var a,o=[],s=y.isPresent(t.options),u=k(t.peers);try{for(u.s();!(a=u.n()).done;){var c=a.value;s(c.resolve(r,n,i,null,{shadow:!1}))&&o.push(c.key)}}catch(f){u.e(f)}finally{u.f()}if(1!==o.length){var l={peers:t.paths,peersWithLabels:y.keysToLabels(e,t.paths)};return 0===o.length?{code:"object.missing",context:l}:(l.present=o,l.presentWithLabels=y.keysToLabels(e,o),{code:"object.xor",context:l})}}},y.keysToLabels=function(e,t){return Array.isArray(t)?t.map((function(t){return e.$_mapLabels(t)})):e.$_mapLabels(t)},y.isPresent=function(e){return"function"==typeof e.isPresent?e.isPresent:function(e){return void 0!==e}},y.rename=function(e,t,r,n,i){var a,o={},s=k(e.$_terms.renames);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=[],l="string"!=typeof u.from;if(l){for(var f in t)if((void 0!==t[f]||!u.options.ignoreUndefined)&&f!==u.to){var h=u.from.exec(f);h&&c.push({from:f,to:u.to,match:h})}}else!Object.prototype.hasOwnProperty.call(t,u.from)||void 0===t[u.from]&&u.options.ignoreUndefined||c.push(u);for(var d=0,p=c;d<p.length;d++){var v=p[d],m=v.from,y=v.to;if(y instanceof g&&(y=y.render(t,r,n,v.match)),m!==y){if(!u.options.multiple&&o[y]&&(i.push(e.$_createError("object.rename.multiple",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,y)&&!u.options.override&&!o[y]&&(i.push(e.$_createError("object.rename.override",t,{from:m,to:y,pattern:l},r,n)),n.abortEarly))return!1;void 0===t[m]?delete t[y]:t[y]=t[m],o[y]=!0,u.options.alias||delete t[m]}}}}catch(b){s.e(b)}finally{s.f()}return!0},y.unknown=function(e,t,r,n,i,a){if(e.$_terms.patterns){var o,s=!1,c=e.$_terms.patterns.map((function(e){if(e.matches)return s=!0,[]})),l=[t].concat(w(i.ancestors)),f=k(r);try{for(f.s();!(o=f.n()).done;)for(var h=o.value,p=t[h],v=[].concat(w(i.path),[h]),m=0;m<e.$_terms.patterns.length;++m){var g=e.$_terms.patterns[m];if(g.regex){var y=g.regex.test(h);if(i.mainstay.tracer.debug(i,"rule","pattern.".concat(m),y?"pass":"error"),!y)continue}else if(!g.schema.$_match(h,i.nest(g.schema,"pattern.".concat(m)),a))continue;r.delete(h);var b=i.localize(v,l,{schema:g.rule,key:h}),_=g.rule.$_validate(p,b,a);if(_.errors){if(a.abortEarly)return{value:t,errors:_.errors};n.push.apply(n,w(_.errors))}if(g.matches&&c[m].push(h),t[h]=_.value,!g.fallthrough)break}}catch(U){f.e(U)}finally{f.f()}if(s)for(var x=0;x<c.length;++x){var E=c[x];if(E){var A=e.$_terms.patterns[x].matches,S=i.localize(i.path,l,A),O=A.$_validate(E,S,a);if(O.errors){var I=d.details(O.errors,{override:!1});I.matches=E;var R=e.$_createError("object.pattern.match",t,I,i,a);if(a.abortEarly)return{value:t,errors:R};n.push(R)}}}}if(r.size&&(e.$_terms.keys||e.$_terms.patterns)){if(a.stripUnknown&&!e._flags.unknown||a.skipFunctions){var C,N=!(!a.stripUnknown||!0!==a.stripUnknown&&!a.stripUnknown.objects),P=k(r);try{for(P.s();!(C=P.n()).done;){var M=C.value;N?(delete t[M],r.delete(M)):"function"==typeof t[M]&&r.delete(M)}}catch(U){P.e(U)}finally{P.f()}}if(!u.default(e._flags.unknown,a.allowUnknown)){var j,T=k(r);try{for(T.s();!(j=T.n()).done;){var L=j.value,$=i.localize([].concat(w(i.path),[L]),[]),D=e.$_createError("object.unknown",t[L],{child:L},$,a,{flags:!1});if(a.abortEarly)return{value:t,errors:D};n.push(D)}}catch(U){T.e(U)}finally{T.f()}}}},y.Dependency=function(){function e(t,r,n,i,a){A(this,e),this.rel=t,this.key=r,this.peers=n,this.paths=i,this.options=a}return O(e,[{key:"describe",value:function(){var e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options=l(l({},e.options),{},{separator:this.peers[0].separator})),this.options.isPresent&&(e.options=l(l({},e.options),{},{isPresent:this.options.isPresent})),e}}]),e}(),y.Keys=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"concat",value:function(e){for(var t=this.slice(),r=new Map,n=0;n<t.length;++n)r.set(t[n].key,n);var i,a=k(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.key,u=r.get(s);void 0!==u?t[u]={key:s,schema:t[u].schema.concat(o.schema)}:t.push(o)}}catch(c){a.e(c)}finally{a.f()}return t}}]),r}(p(Array))},8785:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o=r(3292),s=r(6354),u={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(e,t){return e.ref(t)},validate:function(e,t){var r=t.schema,i=t.state,a=t.prefs;n(r.$_terms.link,"Uninitialized link schema");var o=u.generate(r,e,i,a),s=r.$_terms.link[0].ref;return o.$_validate(e,i.nest(o,"link:".concat(s.display,":").concat(o.type)),a)},generate:function(e,t,r,n){return u.generate(e,t,r,n)},rules:{ref:{method:function(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=o.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");var t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("relative",e)}}},overrides:{concat:function(e){n(this.$_terms.link,"Uninitialized link schema"),n(a.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");var t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:function(e,t){return n(t.link,"Invalid link description missing link"),e.ref(t.link)}}}),u.generate=function(e,t,r,n){var i=r.mainstay.links.get(e);if(i)return i._generate(t,r,n).schema;var a=e.$_terms.link[0].ref,o=u.perspective(a,r),s=o.perspective,c=o.path;u.assert(s,"which is outside of schema boundaries",a,e,r,n);try{i=c.length?s.$_reach(c):s}catch(t){u.assert(!1,"to non-existing schema",a,e,r,n)}return u.assert("link"!==i.type,"which is another link",a,e,r,n),e._flags.relative||r.mainstay.links.set(e,i),i._generate(t,r,n).schema},u.perspective=function(e,t){if("local"===e.type){var r,n=k(t.schemas);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.schema,o=i.key;if((a._flags.id||o)===e.path[0])return{perspective:a,path:e.path.slice(1)};if(a.$_terms.shared){var s,u=k(a.$_terms.shared);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c._flags.id===e.path[0])return{perspective:c,path:e.path.slice(1)}}}catch(l){u.e(l)}finally{u.f()}}}}catch(l){n.e(l)}finally{n.f()}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},u.assert=function(e,t,r,i,a,o){e||n(!1,'"'.concat(s.label(i._flags,a,o),'" contains link reference "').concat(r.display,'" ').concat(t))}},3832:function(e,t,r){var n=r(375),i=r(8068),a=r(8160),o={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.error;if(e.match(o.numberRx)){e=e.trim();var i={value:parseFloat(e)};if(0===i.value&&(i.value=0),!r._flags.unsafe)if(e.match(/e/i)){if(o.extractSignificantDigits(e)!==o.extractSignificantDigits(String(i.value)))return i.errors=n("number.unsafe"),i}else{var a=i.value.toString();if(a.match(/e/i))return i;if(a!==o.normalizeDecimal(e))return i.errors=n("number.unsafe"),i}return i}}},validate:function(e,t){var r=t.schema,n=t.error,i=t.prefs;if(e===1/0||e===-1/0)return{value:e,errors:n("number.infinity")};if(!a.isNumber(e))return{value:e,errors:n("number.base")};var o={value:e};if(i.convert){var s=r.$_getRule("precision");if(s){var u=Math.pow(10,s.args.limit);o.value=Math.round(o.value*u)/u}}return 0===o.value&&(o.value=0),!r._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(o.errors=n("number.unsafe")),o},rules:{compare:{method:!1,validate:function(e,t,r,n){var i=r.limit,o=n.name,s=n.operator,u=n.args;return a.compare(e,i,s)?e:t.error("number."+o,{limit:u.limit,value:e})},args:[{name:"limit",ref:!0,assert:a.isNumber,message:"must be a number"}]},greater:{method:function(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(e,t){return Math.trunc(e)-e==0?e:t.error("number.integer")}},less:{method:function(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method:function(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method:function(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method:function(e){return this.$_addRule({name:"multiple",args:{base:e}})},validate:function(e,t,r,n){return e*(1/r.base)%1==0?e:t.error("number.multiple",{multiple:n.args.base,value:e})},args:[{name:"base",ref:!0,assert:function(e){return"number"==typeof e&&isFinite(e)&&e>0},message:"must be a positive number"}],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(e,t){return Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate:function(e,t,r){var n=r.limit,i=e.toString().match(o.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=n?e:t.error("number.precision",{limit:n,value:e})},convert:!0},sign:{method:function(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:function(e,t,r){var n=r.sign;return"negative"===n&&e<0||"positive"===n&&e>0?e:t.error("number.".concat(n))}},unsafe:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:function(e){return"number"==typeof e},to:function(e,t){return e.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),o.extractSignificantDigits=function(e){return e.replace(o.exponentialPartRegex,"").replace(o.dotRegex,"").replace(o.trailingZerosRegex,"").replace(o.leadingSignAndZerosRegex,"")},o.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},8966:function(e,t,r){var n=r(7824);e.exports=n.extend({type:"object",cast:{map:{from:function(e){return e&&"object"==typeof e},to:function(e,t){return new Map(Object.entries(e))}}}})},7417:function(e,t,r){var n=r(375),i=r(5380),a=r(1745),o=r(9959),s=r(6064),u=r(9926),c=r(5752),f=r(8068),h=r(8160),d={tlds:u instanceof Set&&{tlds:{allow:u,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:o.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=f.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(e,t){var r=t.schema,n=t.state,i=t.prefs,a=r.$_getRule("normalize");a&&(e=e.normalize(a.args.form));var o=r.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());var s=r.$_getRule("trim");if(s&&s.args.enabled&&(e=e.trim()),r.$_terms.replacements){var u,c=k(r.$_terms.replacements);try{for(c.s();!(u=c.n()).done;){var l=u.value;e=e.replace(l.pattern,l.replacement)}}catch(g){c.e(g)}finally{c.f()}}var f=r.$_getRule("hex");if(f&&f.args.options.byteAligned&&e.length%2!=0&&(e="0".concat(e)),r.$_getRule("isoDate")){var p=d.isoDate(e);p&&(e=p)}if(r._flags.truncate){var v=r.$_getRule("max");if(v){var m=v.args.limit;if(h.isResolvable(m)&&(m=m.resolve(e,n,i),!h.limit(m)))return{value:e,errors:r.$_createError("any.ref",m,{ref:v.args.limit,arg:"limit",reason:"must be a positive integer"},n,i)};e=e.slice(0,m)}}return{value:e}}},validate:function(e,t){var r=t.schema,n=t.error;if("string"!=typeof e)return{value:e,errors:n("string.base")};if(""===e){var i=r.$_getRule("min");if(i&&0===i.args.limit)return;return{value:e,errors:n("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(e,t){return/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")}},base64:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired","urlSafe"]),e=l({urlSafe:!1,paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),n("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.base64Regex[n.paddingRequired][n.urlSafe].test(e)?e:t.error("string.base64")}},case:{method:function(e){return n(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:function(e,t,r){var n=r.direction;return"lower"===n&&e===e.toLocaleLowerCase()||"upper"===n&&e===e.toLocaleUpperCase()?e:t.error("string.".concat(n,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(e,t){for(var r=e.length,n=0,i=1;r--;){var a=e.charAt(r)*i;n+=a-9*(a>9),i^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["paddingRequired"]),e=l({paddingRequired:!0},e),n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate:function(e,t,r){var n=r.options,i=e.match(d.dataUriRegex);if(i){if(!i[2])return e;if("base64"!==i[2])return e;if(d.base64Regex[n.paddingRequired].false.test(i[3]))return e}return t.error("string.dataUri")}},domain:{method:function(e){e&&h.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=d.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:function(e,t,r,n){var a=n.address;return i.isValid(e,a)?e:t.error("string.domain")}},email:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),n(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");var t=d.addressOptions(e),r=new RegExp("\\s*[".concat(e.separator?s(e.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate:function(e,t,r,n){var i,o=r.options,s=n.regex,u=n.address,c=[],l=k(o.multiple?e.split(s):[e]);try{for(l.s();!(i=l.n()).done;){var f=i.value;a.isValid(f,u)||c.push(f)}}catch(h){l.e(h)}finally{l.f()}return c.length?t.error("string.email",{value:e,invalids:c}):e}},guid:{alias:"uuid",method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["version","separator"]);var t="";if(e.version){var r=[].concat(e.version);n(r.length>=1,"version must have at least 1 valid version specified");for(var i=new Set,a=0;a<r.length;++a){var o=r[a];n("string"==typeof o,"version at position "+a+" must be a string");var s=d.guidVersions[o.toLowerCase()];n(s,"version at position "+a+" must be one of "+Object.keys(d.guidVersions).join(", ")),n(!i.has(s),"version at position "+a+" must not be a duplicate"),t+=s,i.add(s)}}n(d.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');var u=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":"\\".concat(e.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(u,")[0-9A-F]{4}\\2?[").concat(t||"0-9A-F","][0-9A-F]{3}\\2?[").concat(t?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:e},regex:c})},validate:function(e,t,r,n){var i=n.regex.exec(e);return i?d.guidBrackets[i[1]]!==i[i.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h.assertOptions(e,["byteAligned"]),e=l({byteAligned:!1},e),n("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:e}})},validate:function(e,t,r){var n=r.options;return d.hexRegex.test(e)?n.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(e,t){return i.isValid(e,{minDomainSegments:1})||d.ipRegex.test(e)?e:t.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["cidr","version"]);var t=o.regex(e),r=t.cidr,n=t.versions,i=t.regex,a=e.version?n:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:r,version:a}},regex:i})},validate:function(e,t,r,n){var i=r.options;return n.regex.test(e)?e:i.version?t.error("string.ipVersion",{value:e,cidr:i.cidr,version:i.version}):t.error("string.ip",{value:e,cidr:i.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(e,t){var r=t.error;return d.isoDate(e)?e:r("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(e,t){return d.isoDurationRegex.test(e)?e:t.error("string.isoDuration")}},length:{method:function(e,t){return d.length(this,"length",e,"=",t)},validate:function(e,t,r,n){var i=r.limit,a=r.encoding,o=n.name,s=n.operator,u=n.args,c=!a&&e.length;return h.compare(c,i,s)?e:t.error("string."+o,{limit:u.limit,value:e,encoding:a})},args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(e,t){return d.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method:function(e,t){return d.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";return n(d.normalizationForms.includes(e),"normalization form must be one of "+d.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:function(e,t,r){var n=t.error,i=r.form;return e===e.normalize(i)?e:n("string.normalize",{value:e,form:i})},convert:!0},pattern:{alias:"regex",method:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e instanceof RegExp,"regex must be a RegExp"),n(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),h.assertOptions(t,["invert","name"]);var r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:function(e,t,r,n){var i=r.regex,a=r.options,o=n.errorCode;return i.test(e)^a.invert?e:t.error(o,{name:a.name,regex:i,value:e})},args:["regex","options"],multi:!0},replace:{method:function(e,t){"string"==typeof e&&(e=new RegExp(s(e),"g")),n(e instanceof RegExp,"pattern must be a RegExp"),n("string"==typeof t,"replacement must be a String");var r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method:function(){return this.$_addRule("token")},validate:function(e,t){return/^\w+$/.test(e)?e:t.error("string.token")}},trim:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:function(e,t,r){return r.enabled&&e!==e.trim()?t.error("string.trim"):e},convert:!0},truncate:{method:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&h.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var t=c.regex(e),r=t.regex,n=t.scheme,i=e.domain?d.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:r,domain:i,scheme:n})},validate:function(e,t,r,n){var a=r.options,o=n.regex,s=n.domain,u=n.scheme;if(["http:/","https:/"].includes(e))return t.error("string.uri");var c=o.exec(e);if(c){var l=c[1]||c[2];return!s||a.allowRelative&&!l||i.isValid(l,s)?e:t.error("string.domain",{value:l})}return a.relativeOnly?t.error("string.uriRelativeOnly"):a.scheme?t.error("string.uriCustomScheme",{scheme:u,value:e}):t.error("string.uri")}}},manifest:{build:function(e,t){if(t.replacements){var r,n=k(t.replacements);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.pattern,o=i.replacement;e=e.replace(a,o)}}catch(s){n.e(s)}finally{n.f()}}return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),d.addressOptions=function(e){if(!e)return e;if(n(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),n(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds);n("object"==typeof e.tlds,"tlds must be true, false, or an object");var t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),n(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),d.validateTlds(e.tlds.deny,"tlds.deny"),e;var r=e.tlds.allow;return r?!0===r?(n(d.tlds,"Built-in TLD list disabled"),Object.assign({},e,d.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),n(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),d.validateTlds(e.tlds.allow,"tlds.allow"),e):e},d.validateTlds=function(e,t){var r,a=k(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;n(i.isValid(o,{minDomainSegments:1,maxDomainSegments:1}),"".concat(t," must contain valid top level domain names"))}}catch(s){a.e(s)}finally{a.f()}},d.isoDate=function(e){if(!h.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");var t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},d.length=function(e,t,r,i,a){return n(!a||!1,"Invalid encoding:",a),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:a},operator:i})}},8826:function(e,t,r){var n=r(375),i=r(8068),a={};a.Map=function(e){f(r,e);var t=h(r);function r(){return A(this,r),t.apply(this,arguments)}return O(r,[{key:"slice",value:function(){return new a.Map(this)}}]),r}(p(Map)),e.exports=i.extend({type:"symbol",terms:{map:{init:new a.Map}},coerce:{method:function(e,t){var r=t.schema,n=t.error,i=r.$_terms.map.get(e);return i&&(e=i),r._flags.only&&"symbol"!=typeof e?{value:e,errors:n("symbol.map",{map:r.$_terms.map})}:{value:e}}},validate:function(e,t){var r=t.error;if("symbol"!=typeof e)return{value:e,errors:r("symbol.base")}},rules:{map:{method:function(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");var t,r=this.clone(),i=[],a=k(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n(o&&o[Symbol.iterator],"Entry must be an iterable");var s=_(o,2),u=s[0],c=s[1];n("object"!=typeof u&&"function"!=typeof u&&"symbol"!=typeof u,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof c,"Value must be a Symbol"),r.$_terms.map.set(u,c),i.push(c)}}catch(l){a.e(l)}finally{a.f()}return r.valid.apply(r,i)}}},manifest:{build:function(e,t){return t.map&&(e=e.map(t.map)),e}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(e,t,r){var n=r(375),i=r(8571),a=r(738),s=r(9621),c=r(8160),l=r(6354),f=r(493),h={result:Symbol("result")};t.entry=function(e,t,r){var i=c.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),i=c.preferences(c.defaults,r));var a=h.entry(e,t,i);n(!a.mainstay.externals.length,"Schema with external rules must use validateAsync()");var o={value:a.value};return a.error&&(o.error=a.error),a.mainstay.warnings.length&&(o.warning=l.details(a.mainstay.warnings)),a.mainstay.debug&&(o.debug=a.mainstay.debug),a.mainstay.artifacts&&(o.artifacts=a.mainstay.artifacts),o},t.entryAsync=function(){var e=u(o().mark((function e(t,r,n){var i,a,u,f,d,p,v,m,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.defaults,n&&(i=c.preferences(c.defaults,n)),a=h.entry(t,r,i),u=a.mainstay,!a.error){e.next=5;break}throw u.debug&&(a.error.debug=u.debug),a.error;case 5:if(!u.externals.length){e.next=31;break}f=a.value,d=[],p=k(u.externals),e.prev=9,m=o().mark((function e(){var r,a,p,m,g,y,b,_,x,E,A,S,O,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.value,a=r.state.path,p="link"===r.schema.type?u.links.get(r.schema):null,y=f,b=a.length?[f]:[],_=a.length?s(t,a):t,a.length){m=a[a.length-1],x=f,E=k(a.slice(0,-1));try{for(E.s();!(A=E.n()).done;)S=A.value,x=x[S],b.unshift(x)}catch(o){E.e(o)}finally{E.f()}g=b[0],y=g[m]}return e.prev=5,O=function(e,t){return(p||r.schema).$_createError(e,y,t,r.state,i)},e.next=9,r.method(y,{schema:r.schema,linked:p,state:r.state,prefs:n,original:_,error:O,errorsArray:h.errorsArray,warn:function(e,t){return u.warnings.push((p||r.schema).$_createError(e,y,t,r.state,i))},message:function(e,t){return(p||r.schema).$_createError("external",y,t,r.state,i,{messages:e})}});case 9:if(void 0!==(I=e.sent)&&I!==y){e.next=12;break}return e.abrupt("return",0);case 12:if(!(I instanceof l.Report)){e.next=16;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push(I),!i.abortEarly){e.next=15;break}return e.abrupt("return",1);case 15:case 19:return e.abrupt("return",0);case 16:if(!Array.isArray(I)||!I[c.symbols.errors]){e.next=20;break}if(u.tracer.log(r.schema,r.state,"rule","external","error"),d.push.apply(d,w(I)),!i.abortEarly){e.next=19;break}return e.abrupt("return",1);case 20:g?(u.tracer.value(r.state,"rule",y,I,"external"),g[m]=I):(u.tracer.value(r.state,"rule",f,I,"external"),f=I),e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(5),i.errors.label&&(e.t0.message+=" (".concat(r.label,")")),e.t0;case 26:case"end":return e.stop()}}),e,null,[[5,23]])})),p.s();case 12:if((v=p.n()).done){e.next=21;break}return e.delegateYield(m(),"t0",14);case 14:if(0!==(g=e.t0)){e.next=17;break}return e.abrupt("continue",19);case 17:if(1!==g){e.next=19;break}return e.abrupt("break",21);case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(9),p.e(e.t1);case 26:return e.prev=26,p.f(),e.finish(26);case 29:if(a.value=f,!d.length){e.next=31;break}throw a.error=l.process(d,t,i),u.debug&&(a.error.debug=u.debug),a.error;case 31:if(i.warnings||i.debug||i.artifacts){e.next=33;break}return e.abrupt("return",a.value);case 33:return y={value:a.value},e.abrupt("return",(u.warnings.length&&(y.warning=l.details(u.warnings)),u.debug&&(y.debug=u.debug),u.artifacts&&(y.artifacts=u.artifacts),y));case 35:case"end":return e.stop()}}),e,null,[[9,23,26,29]])})));return function(t,r,n){return e.apply(this,arguments)}}(),h.Mainstay=function(){function e(t,r,n){A(this,e),this.externals=[],this.warnings=[],this.tracer=t,this.debug=r,this.links=n,this.shadow=null,this.artifacts=null,this._snapshots=[]}return O(e,[{key:"snapshot",value:function(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}},{key:"restore",value:function(){var e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}}]),e}(),h.entry=function(e,r,n){var i=h.tracer(r,n),a=i.tracer,o=i.cleanup,s=n.debug?[]:null,u=r._ids._schemaChain?new Map:null,c=new h.Mainstay(a,s,u),d=r._ids._schemaChain?[{schema:r}]:null,p=new f([],[],{mainstay:c,schemas:d}),v=t.validate(e,r,p,n);o&&r.$_root.untrace();var m=l.process(v.errors,e,n);return{value:v.value,error:m,mainstay:c}},h.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:h.ignore}},t.validate=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=h.prefs(t,n)),t._cache&&n.cache){var a=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!a),a)return a}var o=function(i,a,o){return t.$_createError(i,e,a,o||r,n)},s={original:e,prefs:n,schema:t,state:r,error:o,errorsArray:h.errorsArray,warn:function(e,t,n){return r.mainstay.warnings.push(o(e,t,n))},message:function(i,a){return t.$_createError("custom",e,a,r,n,{messages:i})}};r.mainstay.tracer.entry(t,r);var u=t._definition;if(u.prepare&&void 0!==e&&n.convert){var l=u.prepare(e,s);if(l){if(r.mainstay.tracer.value(r,"prepare",e,l.value),l.errors)return h.finalize(l.value,[].concat(l.errors),s);e=l.value}}if(u.coerce&&void 0!==e&&n.convert&&(!u.coerce.from||u.coerce.from.includes(typeof e))){var f=u.coerce.method(e,s);if(f){if(r.mainstay.tracer.value(r,"coerced",e,f.value),f.errors)return h.finalize(f.value,[].concat(f.errors),s);e=f.value}}var d=t._flags.empty;d&&d.$_match(h.trim(e,t),r.nest(d),c.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);var p=i.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(void 0===e){if("forbidden"===p)return h.finalize(e,null,s);if("required"===p)return h.finalize(e,[t.$_createError("any.required",e,null,r,n)],s);if("optional"===p){if(t._flags.default!==c.symbols.deepDefault)return h.finalize(e,null,s);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===p)return h.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],s);var v=[];if(t._valids){var m=t._valids.get(e,r,n,t._flags.insensitive);if(m)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,m.value),e=m.value),r.mainstay.tracer.filter(t,r,"valid",m),h.finalize(e,null,s);if(t._flags.only){var g=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[g],s);v.push(g)}}if(t._invalids){var y=t._invalids.get(e,r,n,t._flags.insensitive);if(y){r.mainstay.tracer.filter(t,r,"invalid",y);var b=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return h.finalize(e,[b],s);v.push(b)}}if(u.validate){var _=u.validate(e,s);if(_&&(r.mainstay.tracer.value(r,"base",e,_.value),e=_.value,_.errors)){if(!Array.isArray(_.errors))return v.push(_.errors),h.finalize(e,v,s);if(_.errors.length)return v.push.apply(v,w(_.errors)),h.finalize(e,v,s)}}return t._rules.length?h.rules(e,v,s):h.finalize(e,v,s)},h.rules=function(e,t,r){var n,i=r.schema,a=r.state,o=r.prefs,s=k(i._rules);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=i._definition.rules[u.method];if(l.convert&&o.convert)a.mainstay.tracer.log(i,a,"rule",u.name,"full");else{var f=void 0,d=u.args;if(u._resolve.length){d=Object.assign({},d);var p,v=k(u._resolve);try{for(v.s();!(p=v.n()).done;){var m=p.value,g=l.argsByName.get(m),y=d[m].resolve(e,a,o),b=g.normalize?g.normalize(y):y,_=c.validateArg(b,null,g);if(_){f=i.$_createError("any.ref",y,{arg:m,ref:d[m],reason:_},a,o);break}d[m]=b}}catch(A){v.e(A)}finally{v.f()}}f=f||l.validate(e,r,d,u);var x=h.rule(f,u);if(x.errors){if(a.mainstay.tracer.log(i,a,"rule",u.name,"error"),u.warn){var E;(E=a.mainstay.warnings).push.apply(E,w(x.errors));continue}if(o.abortEarly)return h.finalize(e,x.errors,r);t.push.apply(t,w(x.errors))}else a.mainstay.tracer.log(i,a,"rule",u.name,"pass"),a.mainstay.tracer.value(a,"rule",e,x.value,u.name),e=x.value}}}catch(A){s.e(A)}finally{s.f()}return h.finalize(e,t,r)},h.rule=function(e,t){return e instanceof l.Report?(h.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[c.symbols.errors]?(e.forEach((function(e){return h.error(e,t)})),{errors:e,value:null}):{errors:null,value:e}},h.error=function(e,t){return t.message&&e._setTemplate(t.message),e},h.finalize=function(e,t,r){t=t||[];var i=r.schema,a=r.state,o=r.prefs;if(t.length){var s=h.default("failover",void 0,t,r);void 0!==s&&(a.mainstay.tracer.value(a,"failover",e,s),e=s,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);var u,c=k(t);try{for(c.s();!(u=c.n()).done;){var f=u.value;n(f instanceof Error||f instanceof l.Report,"error() must return an Error object")}}catch(w){c.e(w)}finally{c.f()}}else t=[i._flags.error];if(void 0===e){var d=h.default("default",e,t,r);a.mainstay.tracer.value(a,"default",e,d),e=d}if(i._flags.cast&&void 0!==e){var p=i._definition.cast[i._flags.cast];if(p.from(e)){var v=p.to(e,r);a.mainstay.tracer.value(a,"cast",e,v,i._flags.cast),e=v}}if(i.$_terms.externals&&o.externals&&!1!==o._externals){var m,g=k(i.$_terms.externals);try{for(g.s();!(m=g.n()).done;){var y=m.value.method;a.mainstay.externals.push({method:y,schema:i,state:a,label:l.label(i._flags,a,o)})}}catch(w){g.e(w)}finally{g.f()}}var b={value:e,errors:t.length?t:null};return i._flags.result&&(b.value="strip"===i._flags.result?void 0:r.original,a.mainstay.tracer.value(a,i._flags.result,e,b.value),a.shadow(e,i._flags.result)),i._cache&&!1!==o.cache&&!i._refs.length&&i._cache.set(r.original,b),void 0===e||b.errors||void 0===i._flags.artifact||(a.mainstay.artifacts=a.mainstay.artifacts||new Map,a.mainstay.artifacts.has(i._flags.artifact)||a.mainstay.artifacts.set(i._flags.artifact,[]),a.mainstay.artifacts.get(i._flags.artifact).push(a.path)),b},h.prefs=function(e,t){var r=t===c.defaults;return r&&e._preferences[c.symbols.prefs]?e._preferences[c.symbols.prefs]:(t=c.preferences(t,e._preferences),r&&(e._preferences[c.symbols.prefs]=t),t)},h.default=function(e,t,r,n){var a=n.schema,o=n.state,s=n.prefs,u=a._flags[e];if(s.noDefaults||void 0===u)return t;if(o.mainstay.tracer.log(a,o,"rule",e,"full"),!u)return u;if("function"==typeof u){var l=u.length?[i(o.ancestors[0]),n]:[];try{return u.apply(void 0,l)}catch(t){return void r.push(a.$_createError("any.".concat(e),null,{error:t},o,s))}}return"object"!=typeof u?u:u[c.symbols.literal]?u.literal:c.isResolvable(u)?u.resolve(t,o,s):i(u)},h.trim=function(e,t){if("string"!=typeof e)return e;var r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},h.ignore={active:!1,debug:a,entry:a,filter:a,log:a,resolve:a,value:a},h.errorsArray=function(){var e=[];return e[c.symbols.errors]=!0,e}},2036:function(e,t,r){var n=r(375),i=r(9474),a=r(8160),o={};e.exports=o.Values=function(){function e(t,r){A(this,e),this._values=new Set(t),this._refs=new Set(r),this._lowercase=o.lowercases(t),this._override=!1}return O(e,[{key:"length",get:function(){return this._values.size+this._refs.size}},{key:"add",value:function(e,t){a.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}},{key:"remove",value:function(e){a.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}},{key:"has",value:function(e,t,r,n){return!!this.get(e,t,r,n)}},{key:"get",value:function(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){var a=this._lowercase.get(e.toLowerCase());if(a)return{value:a}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e){var o,s=k(this._values);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(i(u,e))return{value:u}}}catch(m){s.e(m)}finally{s.f()}}if(t){var c,l=k(this._refs);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=f.resolve(e,t,r,null,{in:!0});if(void 0!==h){var d,p=k(f.in&&"object"==typeof h?Array.isArray(h)?h:Object.keys(h):[h]);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(typeof v==typeof e)if(n&&e&&"string"==typeof e){if(v.toLowerCase()===e.toLowerCase())return{value:v,ref:f}}else if(i(v,e))return{value:v,ref:f}}}catch(m){p.e(m)}finally{p.f()}}}}catch(m){l.e(m)}finally{l.f()}}return!1}},{key:"override",value:function(){this._override=!0}},{key:"values",value:function(e){if(e&&e.display){for(var t=[],r=0,n=[].concat(w(this._values),w(this._refs));r<n.length;r++){var i=n[r];void 0!==i&&t.push(i)}return t}return Array.from([].concat(w(this._values),w(this._refs)))}},{key:"clone",value:function(){var e=new o.Values(this._values,this._refs);return e._override=this._override,e}},{key:"concat",value:function(e){n(!e._override,"Cannot concat override set of values");var t=new o.Values([].concat(w(this._values),w(e._values)),[].concat(w(this._refs),w(e._refs)));return t._override=this._override,t}},{key:"describe",value:function(){var e=[];this._override&&e.push({override:!0});var t,r=k(this._values.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n&&"object"==typeof n?{value:n}:n)}}catch(s){r.e(s)}finally{r.f()}var i,a=k(this._refs.values());try{for(a.s();!(i=a.n()).done;){var o=i.value;e.push(o.describe())}}catch(s){a.e(s)}finally{a.f()}return e}}],[{key:"merge",value:function(e,t,r){if(e=e||new o.Values,t){if(t._override)return t.clone();for(var n=0,i=[].concat(w(t._values),w(t._refs));n<i.length;n++){var a=i[n];e.add(a)}}if(r)for(var s=0,u=[].concat(w(r._values),w(r._refs));s<u.length;s++){var c=u[s];e.remove(c)}return e.length?e:null}}]),e}(),o.Values.prototype[a.symbols.values]=!0,o.Values.prototype.slice=o.Values.prototype.clone,o.lowercases=function(e){var t=new Map;if(e){var r,n=k(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;"string"==typeof i&&t.set(i.toLowerCase(),i)}}catch(a){n.e(a)}finally{n.f()}}return t}},978:function(e,t,r){var n=r(375),i=r(8571),a=r(1687),o=r(9621),s={};e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return s.applyToDefaultsWithShallow(e,t,r);var o=i(e);if(!0===t)return o;var u=void 0!==r.nullOverride&&r.nullOverride;return a(o,t,{nullOverride:u,mergeArrays:!1})},s.applyToDefaultsWithShallow=function(e,t,r){var u=r.shallow;n(Array.isArray(u),"Invalid keys");var c,l=new Map,f=!0===t?null:new Set,h=k(u);try{for(h.s();!(c=h.n()).done;){var d=c.value;d=Array.isArray(d)?d:d.split(".");var p=o(e,d);p&&"object"==typeof p?l.set(p,f&&o(t,d)||p):f&&f.add(d)}}catch(w){h.e(w)}finally{h.f()}var v=i(e,{},l);if(!f)return v;var m,g=k(f);try{for(g.s();!(m=g.n()).done;){var y=m.value;s.reachCopy(v,t,y)}}catch(w){g.e(w)}finally{g.f()}var b=void 0!==r.nullOverride&&r.nullOverride;return a(v,t,{nullOverride:b,mergeArrays:!1})},s.reachCopy=function(e,t,r){var n,i=k(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!(a in t))return;var o=t[a];if("object"!=typeof o||null===o)return;t=o}}catch(f){i.e(f)}finally{i.f()}for(var s=t,u=e,c=0;c<r.length-1;++c){var l=r[c];"object"!=typeof u[l]&&(u[l]={}),u=u[l]}u[r[r.length-1]]=s}},375:function(e,t,r){var n=r(7916);e.exports=function(e){if(!e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(1===r.length&&r[0]instanceof Error)throw r[0];throw new n(r)}}},8571:function(e,t,r){var n=r(9621),i=r(4277),a=r(7043),o={needsProtoHack:new Set([i.set,i.map,i.weakSet,i.weakMap])};e.exports=o.clone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"!=typeof e||null===e)return e;var n=o.clone,s=r;if(t.shallow){if(!0!==t.shallow)return o.cloneWithShallow(e,t);n=function(e){return e}}else if(s){var u=s.get(e);if(u)return u}else s=new Map;var c=i.getInternalProto(e);if(c===i.buffer)return!1;if(c===i.date)return new Date(e.getTime());if(c===i.regex)return new RegExp(e);var l=o.base(e,c,t);if(l===e)return e;if(s&&s.set(e,l),c===i.set){var f,h=k(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;l.add(n(d,t,s))}}catch(A){h.e(A)}finally{h.f()}}else if(c===i.map){var p,v=k(e);try{for(v.s();!(p=v.n()).done;){var m=_(p.value,2),g=m[0],y=m[1];l.set(g,n(y,t,s))}}catch(A){v.e(A)}finally{v.f()}}var b,w=k(a.keys(e,t));try{for(w.s();!(b=w.n()).done;){var x=b.value;if("__proto__"!==x)if(c!==i.array||"length"!==x){var E=Object.getOwnPropertyDescriptor(e,x);E?E.get||E.set?Object.defineProperty(l,x,E):E.enumerable?l[x]=n(e[x],t,s):Object.defineProperty(l,x,{enumerable:!1,writable:!0,configurable:!0,value:n(e[x],t,s)}):Object.defineProperty(l,x,{enumerable:!0,writable:!0,configurable:!0,value:n(e[x],t,s)})}else l.length=e.length}}catch(A){w.e(A)}finally{w.f()}return l},o.cloneWithShallow=function(e,t){var r=t.shallow;(t=Object.assign({},t)).shallow=!1;var i,a=new Map,s=k(r);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=n(e,u);"object"!=typeof c&&"function"!=typeof c||a.set(c,c)}}catch(l){s.e(l)}finally{s.f()}return o.clone(e,t,a)},o.base=function(e,t,r){if(!1===r.prototype)return o.needsProtoHack.has(t)?new t.constructor:t===i.array?[]:{};var n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===i.array){var a=[];return n!==t&&Object.setPrototypeOf(a,n),a}if(o.needsProtoHack.has(t)){var s=new n.constructor;return n!==t&&Object.setPrototypeOf(s,n),s}return Object.create(n)}},9474:function(e,t,r){var n=r(4277),i={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!i.isDeepEqual(e,t,r,[])},i.isDeepEqual=function(e,t,r,a){if(e===t)return 0!==e||1/e==1/t;var o=typeof e;if(o!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===o){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==o)return e!=e&&t!=t;var s=i.getSharedType(e,t,!!r.prototype);switch(s){case n.buffer:return!1;case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(var u=a.length-1;u>=0;--u)if(a[u].isSame(e,t))return!0;a.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(s,e,t,r,a)}finally{a.pop()}},i.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:n.getInternalProto(e);var a=n.getInternalProto(e);return a!==n.getInternalProto(t)?i.mismatched:a},i.valueOf=function(e){var t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){var r,n=k(Set.prototype.values.call(e));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!Set.prototype.has.call(t,i))return!1}}catch(a){n.e(a)}finally{n.f()}return!0},i.isDeepEqualObj=function(e,t,r,a,o){var s=i.isDeepEqual,u=i.valueOf,c=i.hasOwnEnumerableProperty,l=Object.keys,f=Object.getOwnPropertySymbols;if(e===n.array){if(!a.part){if(t.length!==r.length)return!1;for(var h=0;h<t.length;++h)if(!s(t[h],r[h],a,o))return!1;return!0}var d,p=k(t);try{for(p.s();!(d=p.n()).done;){var v,m=d.value,g=k(r);try{for(g.s();!(v=g.n()).done;)if(s(m,v.value,a,o))return!0}catch(G){g.e(G)}finally{g.f()}}}catch(G){p.e(G)}finally{p.f()}}else if(e===n.set){if(t.size!==r.size)return!1;if(!i.isSetSimpleEqual(t,r)){var y,b=new Set(Set.prototype.values.call(r)),w=k(Set.prototype.values.call(t));try{for(w.s();!(y=w.n()).done;){var x=y.value;if(!b.delete(x)){var E,A=!1,S=k(b);try{for(S.s();!(E=S.n()).done;){var O=E.value;if(s(x,O,a,o)){b.delete(O),A=!0;break}}}catch(G){S.e(G)}finally{S.f()}if(!A)return!1}}}catch(G){w.e(G)}finally{w.f()}}}else if(e===n.map){if(t.size!==r.size)return!1;var I,R=k(Map.prototype.entries.call(t));try{for(R.s();!(I=R.n()).done;){var C=_(I.value,2),N=C[0],P=C[1];if(void 0===P&&!Map.prototype.has.call(r,N))return!1;if(!s(P,Map.prototype.get.call(r,N),a,o))return!1}}catch(G){R.e(G)}finally{R.f()}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;var M=u(t),j=u(r);if((t!==M||r!==j)&&!s(M,j,a,o))return!1;var T=l(t);if(!a.part&&T.length!==l(r).length&&!a.skip)return!1;var L,$=0,D=k(T);try{for(D.s();!(L=D.n()).done;){var U=L.value;if(a.skip&&a.skip.includes(U))void 0===r[U]&&++$;else{if(!c(r,U))return!1;if(!s(t[U],r[U],a,o))return!1}}}catch(G){D.e(G)}finally{D.f()}if(!a.part&&T.length-$!==l(r).length)return!1;if(!1!==a.symbols){var F,B=f(t),q=new Set(f(r)),z=k(B);try{for(z.s();!(F=z.n()).done;){var H=F.value;if(!a.skip||!a.skip.includes(H))if(c(t,H)){if(!c(r,H))return!1;if(!s(t[H],r[H],a,o))return!1}else if(c(r,H))return!1;q.delete(H)}}catch(G){z.e(G)}finally{z.f()}var V,W=k(q);try{for(W.s();!(V=W.n()).done;)if(c(r,V.value))return!1}catch(G){W.e(G)}finally{W.f()}}return!0},i.SeenEntry=function(){function e(t,r){A(this,e),this.obj=t,this.ref=r}return O(e,[{key:"isSame",value:function(e,t){return this.obj===e&&this.ref===t}}]),e}()},7916:function(e,t,r){var n=r(8761);e.exports=function(e){f(i,e);var r=h(i);function i(e){var a;return A(this,i),a=r.call(this,e.filter((function(e){return""!==e})).map((function(e){return"string"==typeof e?e:e instanceof Error?e.message:n(e)})).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(d(a),t.assert),a}return O(i)}(p(Error))},5277:function(e){var t={};e.exports=function(e){if(!e)return"";for(var r="",n=0;n<e.length;++n){var i=e.charCodeAt(n);t.isSafe(i)?r+=e[n]:r+=t.escapeHtmlChar(i)}return r},t.escapeHtmlChar=function(e){return t.namedHtml.get(e)||(e>=256?"&#"+e+";":"&#x".concat(e.toString(16).padStart(2,"0"),";"))},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){for(var e=new Set,t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},6064:function(e){e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(e){e.exports=function(){}},1687:function(e,t,r){var n=r(375),i=r(8571),a=r(7043),o={};e.exports=o.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(var s=0;s<t.length;++s)e.push(i(t[s],{symbols:r.symbols}));return e}for(var u=a.keys(t,r),c=0;c<u.length;++c){var l=u[c];if("__proto__"!==l&&Object.prototype.propertyIsEnumerable.call(t,l)){var f=t[l];if(f&&"object"==typeof f){if(e[l]===f)continue;!e[l]||"object"!=typeof e[l]||Array.isArray(e[l])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?e[l]=i(f,{symbols:r.symbols}):o.merge(e[l],f,r)}else(null!=f||r.nullOverride)&&(e[l]=f)}}return e}},9621:function(e,t,r){var n=r(375),i={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});var a=Array.isArray(t);n(!a||!r.separator,"Separator option is not valid for array-based chain");for(var o=a?t:t.split(r.separator||"."),s=e,u=0;u<o.length;++u){var c=o[u],l=r.iterables&&i.iterables(s);if(Array.isArray(s)||"set"===l){var f=Number(c);Number.isInteger(f)&&(c=f<0?s.length+f:f)}if(!s||"function"==typeof s&&!1===r.functions||!l&&void 0===s[c]){n(!r.strict||u+1===o.length,"Missing segment",c,"in reach path ",t),n("object"==typeof s||!0===r.functions||"function"!=typeof s,"Invalid segment",c,"in reach path ",t),s=r.default;break}s=l?"set"===l?w(s)[c]:s.get(c):s[c]}return s},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},8761:function(e){e.exports=function(){try{return JSON.stringify.apply(JSON,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}}},4277:function(e,t){var r={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;var n=Object.prototype.toString.call(e);return r.typeMap.get(n)||t.generic}},7043:function(e,t){t.keys=function(e){return!1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},3652:function(e,t,r){var n=r(375),i={};t.Sorter=function(){function e(){A(this,e),this._items=[],this.nodes=[]}return O(e,[{key:"add",value:function(e,t){var r=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),a=t.group||"?",o=t.sort||0;n(!r.includes(a),"Item cannot come before itself: ".concat(a)),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!i.includes(a),"Item cannot come after itself: ".concat(a)),n(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);var s,u=k(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l={seq:this._items.length,sort:o,before:r,after:i,group:a,node:c};this._items.push(l)}}catch(h){u.e(h)}finally{u.f()}if(!t.manual){var f=this._sort();n(f,"item","?"!==a?"added into group ".concat(a):"","created a dependencies error")}return this.nodes}},{key:"merge",value:function(e){Array.isArray(e)||(e=[e]);var t,r=k(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a){var o,s=k(a._items);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._items.push(Object.assign({},u))}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){r.e(f)}finally{r.f()}this._items.sort(i.mergeSort);for(var c=0;c<this._items.length;++c)this._items[c].seq=c;var l=this._sort();return n(l,"merge created a dependencies error"),this.nodes}},{key:"sort",value:function(){var e=this._sort();return n(e,"sort created a dependencies error"),this.nodes}},{key:"_sort",value:function(){var e,t={},r=Object.create(null),n=Object.create(null),i=k(this._items);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=a.seq,s=a.group;n[s]=n[s]||[],n[s].push(o),t[o]=a.before;var u,c=k(a.after);try{for(c.s();!(u=c.n()).done;){var l=u.value;r[l]=r[l]||[],r[l].push(o)}}catch(B){c.e(B)}finally{c.f()}}}catch(B){i.e(B)}finally{i.f()}for(var f in t){var h=[];for(var d in t[f]){var p=t[f][d];n[p]=n[p]||[],h.push.apply(h,w(n[p]))}t[f]=h}for(var v in r)if(n[v]){var m,g=k(n[v]);try{for(g.s();!(m=g.n()).done;){var y;(y=t[m.value]).push.apply(y,w(r[v]))}}catch(B){g.e(B)}finally{g.f()}}var b={};for(var _ in t){var x,E=k(t[_]);try{for(E.s();!(x=E.n()).done;){var A=x.value;b[A]=b[A]||[],b[A].push(_)}}catch(B){E.e(B)}finally{E.f()}}for(var S={},O=[],I=0;I<this._items.length;++I){var R=I;if(b[I]){R=null;for(var C=0;C<this._items.length;++C)if(!0!==S[C]){b[C]||(b[C]=[]);for(var N=b[C].length,P=0,M=0;M<N;++M)S[b[C][M]]&&++P;if(P===N){R=C;break}}}null!==R&&(S[R]=!0,O.push(R))}if(O.length!==this._items.length)return!1;var j,T={},L=k(this._items);try{for(L.s();!(j=L.n()).done;){var $=j.value;T[$.seq]=$}}catch(B){L.e(B)}finally{L.f()}this._items=[],this.nodes=[];for(var D=0,U=O;D<U.length;D++){var F=T[U[D]];this.nodes.push(F.node),this._items.push(F)}return!0}}]),e}(),i.mergeSort=function(e,t){return e.sort===t.sort?0:e.sort<t.sort?-1:1}},5380:function(e,t,r){var n=r(443),i=r(2178),a={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return i.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(e.length>256)return i.code("DOMAIN_TOO_LONG");if(a.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return i.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(a.domainControlRx.test(e))return i.code("DOMAIN_INVALID_CHARS");e=a.punycode(e),t.allowFullyQualified&&"."===e[e.length-1]&&(e=e.slice(0,-1));var r=t.minDomainSegments||a.minDomainSegments,n=e.split(".");if(n.length<r)return i.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&n.length>t.maxDomainSegments)return i.code("DOMAIN_SEGMENTS_COUNT_MAX");var o=t.tlds;if(o){var s=n[n.length-1].toLowerCase();if(o.deny&&o.deny.has(s)||o.allow&&!o.allow.has(s))return i.code("DOMAIN_FORBIDDEN_TLDS")}for(var u=0;u<n.length;++u){var c=n[u];if(!c.length)return i.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return i.code("DOMAIN_LONG_SEGMENT");if(u<n.length-1){if(!a.domainSegmentRx.test(c))return i.code("DOMAIN_INVALID_CHARS")}else if(!a.tldSegmentRx.test(c))return i.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},a.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new a.URL("http://".concat(e)).host}catch(t){return e}}},1745:function(e,t,r){var n=r(9848),i=r(5380),a=r(2178),o={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return o.email(e,t)},t.isValid=function(e,t){return!o.email(e,t)},o.email=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return a.code("EMPTY_STRING");var r=!o.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return a.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}var n=e.split("@");if(2!==n.length)return n.length>2?a.code("MULTIPLE_AT_CHAR"):a.code("MISSING_AT_CHAR");var s=_(n,2),u=s[0],c=s[1];if(!u)return a.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return a.code("ADDRESS_TOO_LONG");if(o.encoder.encode(u).length>64)return a.code("LOCAL_TOO_LONG")}return o.local(u,r)||i.analyze(c,t)},o.local=function(e,t){var r,n=k(e.split("."));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!i.length)return a.code("EMPTY_LOCAL_SEGMENT");if(t){if(!o.atextRx.test(i))return a.code("INVALID_LOCAL_CHARS")}else{var s,u=k(i);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!o.atextRx.test(c)){var l=o.binary(c);if(!o.atomRx.test(l))return a.code("INVALID_LOCAL_CHARS")}}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){n.e(f)}finally{n.f()}},o.binary=function(e){return Array.from(o.encoder.encode(e)).map((function(e){return String.fromCharCode(e)})).join("")},o.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,o.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(e,t){t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},9959:function(e,t,r){var n=r(375),i=r(5752);t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");var t=e.cidr?e.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),n(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");var r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(var a=0;a<r.length;++a)n("string"==typeof r[a],"options.version must only contain strings"),r[a]=r[a].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[a]),"options.version contains unknown version "+r[a]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));var o="(?:".concat(r.map((function(e){if("forbidden"===t)return i.ip[e];var r="\\/".concat("ipv4"===e?i.ip.v4Cidr:i.ip.v6Cidr);return"required"===t?"".concat(i.ip[e]).concat(r):"".concat(i.ip[e],"(?:").concat(r,")?")})).join("|"),")"),s=new RegExp("^".concat(o,"$"));return{cidr:t,versions:r,regex:s,raw:o}}},5752:function(e,t,r){var n=r(375),i=r(6064),a={generate:function(){var e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",i="!\\$&'\\(\\)\\*\\+,;=",a="%"+t,o=n+a+i+":@",s="["+o+"]",u="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+u+"\\.){3}"+u;var c=r+"{1,4}",l="(?:"+c+":"+c+"|"+e.ipv4address+")",f="(?:"+c+":){6}"+l,h="::(?:"+c+":){5}"+l,d="(?:"+c+")?::(?:"+c+":){4}"+l,p="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+l,v="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+l,m="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+l,g="(?:(?:"+c+":){0,4}"+c+")?::"+l,y="(?:(?:"+c+":){0,5}"+c+")?::"+c,b="(?:(?:"+c+":){0,6}"+c+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+f+"|"+h+"|"+d+"|"+p+"|"+v+"|"+m+"|"+g+"|"+y+"|"+b+")",e.ipvFuture="v"+r+"+\\.["+n+i+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);var w="["+n+a+i+":]*",_="["+n+a+i+"]{1,255}",k="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|"+_+")",x="(?:"+w+"@)?"+k+"(?::\\d*)?",E="(?:"+w+"@)?("+k+")(?::\\d*)?",A=s+"*",S=s+"+",O="(?:\\/"+A+")*",I="\\/(?:"+S+O+")?",R=S+O,C="["+n+a+i+"@]+"+O,N="(?:\\/\\/\\/"+A+O+")";return e.hierPart="(?:(?:\\/\\/"+x+O+")|"+I+"|"+R+"|"+N+")",e.hierPartCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+R+")",e.relativeRef="(?:(?:\\/\\/"+x+O+")|"+I+"|"+C+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+E+O+")|"+I+"|"+C+"|)",e.query="["+o+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+o+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+o+"\\/\\?]*",e}};a.rfc3986=a.generate(),t.ip={v4Cidr:a.rfc3986.ipv4Cidr,v6Cidr:a.rfc3986.ipv6Cidr,ipv4:a.rfc3986.ipv4address,ipv6:a.rfc3986.ipv6address,ipvfuture:a.rfc3986.ipvFuture},a.createRegex=function(e){var t=a.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",o=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return a.wrap(o+r);var s="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");var u=[].concat(e.scheme);n(u.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],l=0;l<u.length;++l){var f=u[l];n(f instanceof RegExp||"string"==typeof f,"scheme at position "+l+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(n(t.schemeRegex.test(f),"scheme at position "+l+" must be a valid scheme"),c.push(i(f)))}s=c.join("|")}var h="(?:"+(s?"(?:"+s+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",d=e.allowRelative?"(?:"+h+"|"+o+")":h;return a.wrap(d+r,s)},a.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(e),regex:new RegExp("^".concat(e,"$")),scheme:t}},a.uriRegex=a.createRegex({}),t.regex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?a.createRegex(e):a.uriRegex}},1447:function(e,t){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=function(){function e(t){var n;A(this,e);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!i[r.settings]&&i.constants)for(var a in i.constants){var o=i.constants[a];if(null!==o&&!["boolean","number","string"].includes(typeof o))throw new Error("Formula constant ".concat(a," contains invalid ").concat(typeof o," value type"))}this.settings=i[r.settings]?i:Object.assign((b(n={},r.settings,!0),b(n,"constants",{}),b(n,"functions",{}),n),i),this.single=null,this._parts=null,this._parse(t)}return O(e,[{key:"_parse",value:function(e){var n,i=this,a=[],o="",s=0,u=!1,c=function(e){if(s)throw new Error("Formula missing closing parenthesis");var n=a.length?a[a.length-1]:null;if(u||o||e){if(n&&"reference"===n.type&&")"===e)return n.type="function",n.value=i._subFormula(o,n.value),void(o="");if(")"===e){var c=new t.Parser(o,i.settings);a.push({type:"segment",value:c})}else if(u){if("]"===u)return a.push({type:"reference",value:o}),void(o="");a.push({type:"literal",value:o})}else if(r.operatorCharacters.includes(o))n&&"operator"===n.type&&r.operators.includes(n.value+o)?n.value+=o:a.push({type:"operator",value:o});else if(o.match(r.numberRx))a.push({type:"constant",value:parseFloat(o)});else if(void 0!==i.settings.constants[o])a.push({type:"constant",value:i.settings.constants[o]});else{if(!o.match(r.tokenRx))throw new Error("Formula contains invalid token: ".concat(o));a.push({type:"reference",value:o})}o=""}},l=k(e);try{for(l.s();!(n=l.n()).done;){var f=n.value;u?f===u?(c(),u=!1):o+=f:s?"("===f?(o+=f,++s):")"===f?--s?o+=f:c(f):o+=f:f in r.literals?u=r.literals[f]:"("===f?(c(),++s):r.operatorCharacters.includes(f)?(c(),o=f,c()):" "!==f?o+=f:c()}}catch(m){l.e(m)}finally{l.f()}c(),a=a.map((function(e,t){return"operator"!==e.type||"-"!==e.value||t&&"operator"!==a[t-1].type?e:{type:"operator",value:"n"}}));var h,d=!1,p=k(a);try{for(p.s();!(h=p.n()).done;){var v=h.value;if("operator"===v.type){if(r.operatorsPrefix.includes(v.value))continue;if(!d)throw new Error("Formula contains an operator in invalid position");if(!r.operators.includes(v.value))throw new Error("Formula contains an unknown operator ".concat(v.value))}else if(d)throw new Error("Formula missing expected operator");d=!d}}catch(m){p.e(m)}finally{p.f()}if(!d)throw new Error("Formula contains invalid trailing operator");1===a.length&&["reference","literal","constant"].includes(a[0].type)&&(this.single={type:"reference"===a[0].type?"reference":"value",value:a[0].value}),this._parts=a.map((function(e){if("operator"===e.type)return r.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(i.settings.tokenRx&&!i.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference ".concat(e.value));return i.settings.reference?i.settings.reference(e.value):r.reference(e.value)}))}},{key:"_subFormula",value:function(e,n){var i=this,a=this.settings.functions[n];if("function"!=typeof a)throw new Error("Formula contains unknown function ".concat(n));var o=[];if(e){for(var s="",u=0,c=!1,l=function(){if(!s)throw new Error("Formula contains function ".concat(n," with invalid arguments ").concat(e));o.push(s),s=""},f=0;f<e.length;++f){var h=e[f];c?(s+=h,h===c&&(c=!1)):h in r.literals&&!u?(s+=h,c=r.literals[h]):","!==h||u?(s+=h,"("===h?++u:")"===h&&--u):l()}l()}return o=o.map((function(e){return new t.Parser(e,i.settings)})),function(e){var t,r=[],n=k(o);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(i.evaluate(e))}}catch(s){n.e(s)}finally{n.f()}return a.call.apply(a,[e].concat(r))}}},{key:"evaluate",value:function(e){for(var t=this._parts.slice(),n=t.length-2;n>=0;--n){var i=t[n];if(i&&"operator"===i.type){var a=t[n+1];t.splice(n+1,1);var o=r.evaluate(a,e);t[n]=r.single(i.value,o)}}return r.operatorsOrder.forEach((function(n){for(var i=1;i<t.length-1;)if(n.includes(t[i])){var a=t[i],o=r.evaluate(t[i-1],e),s=r.evaluate(t[i+1],e);t.splice(i,2);var u=r.calculate(a,o,s);t[i-1]=0===u?0:u}else i+=2})),r.evaluate(t[0],e)}}]),e}(),t.Parser.prototype[r.symbol]=!0,r.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},r.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[r.symbol]?e.evaluate(t):e},r.single=function(e,t){if("!"===e)return!t;var r=-t;return 0===r?0:r},r.calculate=function(e,t,n){if("??"===e)return r.exists(t)?t:n;if("string"==typeof t||"string"==typeof n){if("+"===e)return(t=r.exists(t)?t:"")+(r.exists(n)?n:"")}else switch(e){case"^":return Math.pow(t,n);case"*":return t*n;case"/":return t/n;case"%":return t%n;case"+":return t+n;case"-":return t-n}switch(e){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"==":return t===n;case"!=":return t!==n;case"&&":return t&&n;case"||":return t||n}return null},r.exists=function(e){return null!=e}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(e){e.exports={version:"17.9.1"}}},n={},function e(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return r[t](a,a.exports,e),a.exports}(5107))}(Qz);var Xz=g(Qz.exports),eH=Xz.object({handleUri:Xz.func().optional(),version:Xz.number().valid(1,2).optional(),bridge:Xz.string().when("version",{is:1,then:Xz.required(),otherwise:Xz.forbidden()}).messages({"any.required":"A bridge URL is a required when version is 1 of WalletConnect as the WC team has removed support for their default bridge."}),connectFirstChainId:Xz.boolean().optional(),qrcodeModalOptions:Xz.object({mobileLinks:Xz.array().items(Xz.string()).optional()}).optional(),projectId:Xz.string().when("version",{is:2,then:Xz.required(),otherwise:Xz.optional()}).messages({"any.required":"WalletConnect version 2 requires a projectId. Please visit https://cloud.walletconnect.com to get one."}),dappUrl:Xz.string().optional(),requiredChains:Xz.array().items(Xz.number()).optional(),optionalChains:Xz.array().items(Xz.number()).optional(),qrModalOptions:Xz.object().optional(),additionalRequiredMethods:Xz.array().items(Xz.string()).optional(),additionalOptionalMethods:Xz.array().items(Xz.string()).optional()}),tH=function(e){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))};function rH(e){if(!e)throw new Error("WalletConnect requires an initialization object to be passed - see the official docs for an example: https://onboard.blocknative.com/docs/wallets/walletconnect");if(e){var t=function(e,t){var r=e.validate(t);return r.error?r:null}(eH,e);if(t)throw t}return e.version=e.version||2,2===e.version?function(e){if(2!==e.version||!e.projectId)throw new Error("WalletConnect requires a projectId. Please visit https://cloud.walletconnect.com to get one.");var t,r=e.projectId,n=e.handleUri,i=e.requiredChains,a=e.optionalChains,s=e.qrModalOptions,l=e.additionalRequiredMethods,f=e.additionalOptionalMethods,h=e.dappUrl;return function(){return{label:"WalletConnect",getIcon:(p=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./icon-legacy-7f686277.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)}),getInterface:(d=u(o().mark((function d(p){var v,m,g,y,b,_,k,x,E,I,R,C,N,P,M,j,T,L,$,D,U,F,B;return o().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return v=p.chains,m=p.EventEmitter,g=p.appMetadata,d.next=3,S((function(){return c.import("./index-legacy-0e080c0c.js")}),void 0,c.meta.url);case 3:return y=d.sent,b=y.ProviderRpcError,_=y.ProviderRpcErrorCode,d.next=8,S((function(){return Promise.resolve().then((function(){return Yz}))}),void 0,c.meta.url);case 8:return k=d.sent,x=k.default,d.next=12,S((function(){return c.import("./index-legacy-a56a0da2.js")}),void 0,c.meta.url);case 12:return E=d.sent,I=E.Subject,R=E.fromEvent,d.next=17,S((function(){return c.import("./index-legacy-df5475fd.js")}),void 0,c.meta.url);case 17:return C=d.sent,N=C.takeUntil,P=C.take,M=function(){if(g){var e=h||g.explore||"";!e&&!e.length&&console.warn("It is strongly recommended to supply a dappUrl as it is required by some wallets (i.e. MetaMask) to allow connection.");var t={name:g.name,description:g.description||"",url:e,icons:[]};return void 0!==g.icon&&g.icon.length&&(t.icons=[g.icon]),void 0!==g.logo&&g.logo.length&&(t.icons=t.icons.length?[].concat(w(t.icons),[g.logo]):[g.logo]),t}},j=Array.isArray(i)&&i.length&&i.every((function(e){return!isNaN(e)}))?i.map((function(e){return parseInt(e)})):[],T=Array.isArray(a)&&a.length&&a.every((function(e){return!isNaN(e)}))?a.map((function(e){return parseInt(e)})):v.map((function(e){var t=e.id;return parseInt(t,16)})),L=new Set(l&&Array.isArray(l)?[].concat(w(l),w(Pz)):Pz),$=Array.from(L),D=f&&Array.isArray(f)?[].concat(w(f),Jz):Jz,d.next=28,x.init({projectId:r,chains:j,methods:$,optionalChains:T,optionalMethods:D,showQrModal:!0,rpcMap:v.map((function(e){return{id:e.id,rpcUrl:e.rpcUrl}})).reduce((function(e,t){var r=t.id,n=t.rpcUrl;return e[parseInt(r,16)]=n||"",e}),{}),metadata:M(),qrModalOptions:s});case 28:return U=d.sent,F=new m,B=O((function r(i){var a,s=this,c=i.connector,l=i.chains;A(this,r),this.emit=F.emit.bind(F),this.on=F.on.bind(F),this.removeListener=F.removeListener.bind(F),this.connector=c,this.chains=l,this.disconnected$=new I,R(this.connector,"accountsChanged",(function(e){return e})).pipe(N(this.disconnected$)).subscribe({next:function(e){var t=Array.isArray(e)?e:[e];s.emit("accountsChanged",t)},error:console.warn}),R(this.connector,"chainChanged",(function(e){return e})).pipe(N(this.disconnected$)).subscribe({next:function(e){var t=tH(e)?e:"0x".concat(e.toString(16));s.emit("chainChanged",t)},error:console.warn}),R(this.connector,"session_delete",(function(e){return e})).pipe(N(this.disconnected$)).subscribe({next:function(){s.emit("accountsChanged",[]),s.disconnected$.next(!0),"undefined"!=typeof localStorage&&localStorage.removeItem("walletconnect")},error:console.warn}),this.disconnect=function(){s.connector.session&&(s.connector.disconnect(),t=null)},e&&n&&R(this.connector,"display_uri",(function(e){return e})).pipe(N(this.disconnected$)).subscribe(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=n,!e.t0){e.next=5;break}return e.next=5,n(t);case 5:e.next=10;break;case 7:throw e.prev=7,e.t1=e.catch(0),"An error occurred when handling the URI. Error: ".concat(e.t1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),a=s.connector.session,t=a,a&&(s.emit("accountsChanged",s.connector.accounts),s.emit("chainChanged",s.connector.chainId)),this.request=function(){var e=u(o().mark((function e(r){var n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.method,i=r.params,"eth_chainId"!==n){e.next=3;break}return e.abrupt("return",tH(s.connector.chainId)?s.connector.chainId:"0x".concat(s.connector.chainId.toString(16)));case 3:if("eth_requestAccounts"!==n){e.next=5;break}return e.abrupt("return",new Promise(function(){var e=u(o().mark((function e(r,n){var i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(s.connector,"connect",(function(e){return e})).pipe(P(1)).subscribe({next:function(e){var t=e.chainId;s.emit("accountsChanged",s.connector.accounts);var n=tH(t)?t:"0x".concat(t.toString(16));s.emit("chainChanged",n),r(s.connector.accounts)},error:n}),s.connector.session){e.next=6;break}return e.next=4,s.connector.connect().catch((function(e){console.error("err creating new session: ",e),n(new b({code:4001,message:"User rejected the request."}))}));case 4:e.next=12;break;case 6:return i=s.connector.accounts,a=s.connector.chainId,t=s.connector.session,u="0x".concat(a.toString(16)),s.emit("chainChanged",u),e.abrupt("return",r(i));case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 5:if("eth_selectAccounts"!==n){e.next=7;break}throw new b({code:_.UNSUPPORTED_METHOD,message:"The Provider does not support the requested method: ".concat(n)});case 7:if("wallet_switchEthereumChain"!=n){e.next=14;break}if(i){e.next=10;break}throw new b({code:_.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});case 10:if((a=i[0]).hasOwnProperty("chainId")&&void 0!==a.chainId){e.next=13;break}throw new b({code:_.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});case 13:return e.abrupt("return",s.connector.request({method:"wallet_switchEthereumChain",params:[{chainId:a.chainId}]}));case 14:return e.abrupt("return",s.connector.request({method:n,params:i}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),d.abrupt("return",{provider:new B({chains:v,connector:U}),instance:t});case 32:case"end":return d.stop()}}),d)}))),function(e){return d.apply(this,arguments)})};var d,p}}(e):function(e){if(1!==e.version)throw"WalletConnect version must be set to 1 to initialize - note version 1 has been deprecated by the WalletConnect team";var t=e||{},r=t.bridge,n=t.qrcodeModalOptions,i=t.connectFirstChainId,a=t.handleUri;if(console.warn("Wallet Connect version 1 support has been deprecated by the WalletConnect team. Please consider using version 2. See docs for more details."),!r)throw"WalletConnect version 1 requires a bridge to be passed in. The WalletConnect team has remove support for the bridge. Please upgrade to version 2 of WalletConnect or pass in a custom bridge URL.";return function(){return{label:"WalletConnect",getIcon:(t=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S((function(){return c.import("./icon-legacy-7f686277.js")}),void 0,c.meta.url);case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),getInterface:(e=u(o().mark((function e(t){var s,l,f,h,d,p,v,m,g,y,b,w,k,x,E,I,R,C,N;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.chains,l=t.EventEmitter,e.next=3,S((function(){return c.import("./index-legacy-8bdbaf08.js")}),void 0,c.meta.url);case 3:return f=e.sent,h=f.StaticJsonRpcProvider,e.next=7,S((function(){return c.import("./index-legacy-0e080c0c.js")}),void 0,c.meta.url);case 7:return d=e.sent,p=d.ProviderRpcError,v=d.ProviderRpcErrorCode,e.next=12,S((function(){return c.import("./index-legacy-3922b27e.js")}),void 0,c.meta.url);case 12:return m=e.sent,g=m.default,e.next=16,S((function(){return c.import("./index-legacy-b2a62a86.js").then((function(e){return e.i}))}),void 0,c.meta.url);case 16:return y=(y=e.sent).default||y,e.next=20,S((function(){return c.import("./index-legacy-a56a0da2.js")}),void 0,c.meta.url);case 20:return b=e.sent,w=b.Subject,k=b.fromEvent,e.next=25,S((function(){return c.import("./index-legacy-df5475fd.js")}),void 0,c.meta.url);case 25:if(x=e.sent,E=x.takeUntil,I=x.take,R=new g({bridge:r}),!a){e.next=38;break}return e.prev=30,e.next=33,a(R.uri||"");case 33:e.next=38;break;case 35:throw e.prev=35,e.t0=e.catch(30),"An error occurred when handling the URI. Error: ".concat(e.t0);case 38:return C=new l,N=O((function e(t){var r,a=this,s=t.connector,c=t.chains;A(this,e),this.emit=C.emit.bind(C),this.on=C.on.bind(C),this.removeListener=C.removeListener.bind(C),this.connector=s,this.chains=c,this.disconnected$=new w,this.providers={},k(this.connector,"session_update",(function(e,t){if(e)throw e;return t})).pipe(E(this.disconnected$)).subscribe({next:function(e){var t=_(e.params,1)[0],n=t.accounts,i=t.chainId,o=n.map((function(e){return e.toLowerCase()}));a.emit("accountsChanged",o);var s=tH(i)?i:"0x".concat(i.toString(16));r&&r===s||(a.emit("chainChanged",s),r=s)},error:console.warn}),k(this.connector,"disconnect",(function(e,t){if(e)throw e;return t})).pipe(E(this.disconnected$)).subscribe({next:function(){a.emit("accountsChanged",[]),a.disconnected$.next(!0),"undefined"!=typeof localStorage&&localStorage.removeItem("walletconnect")},error:console.warn}),this.disconnect=function(){return a.connector.killSession()},this.request=function(){var e=u(o().mark((function e(t){var s,u,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.method,u=t.params,"eth_chainId"!==s){e.next=3;break}return e.abrupt("return",tH(a.connector.chainId)?a.connector.chainId:"0x".concat(a.connector.chainId.toString(16)));case 3:if("eth_requestAccounts"!==s){e.next=5;break}return e.abrupt("return",new Promise((function(e,t){if(k(a.connector,"connect",(function(e,t){if(e)throw e;return t})).pipe(I(1)).subscribe({next:function(t){var n=_(t.params,1)[0],i=n.accounts,o=n.chainId,s=i.map((function(e){return e.toLowerCase()}));a.emit("accountsChanged",s);var u=tH(o)?o:"0x".concat(o.toString(16));r||(r=u),a.emit("chainChanged",u),y.close(),e(s)},error:t}),a.connector.connected){var o=a.connector.session,s=o.accounts,u=o.chainId,l=tH(u)?u:"0x".concat(u.toString(16));a.emit("chainChanged",l),r||(r=l);var f=s.map((function(e){return e.toLowerCase()}));return e(f)}a.connector.createSession(i?{chainId:parseInt(c[0].id,16)}:void 0).then((function(){y.open(a.connector.uri,(function(){return t(new p({code:4001,message:"User rejected the request."}))}),n)}))})));case 5:if("eth_selectAccounts"!==s){e.next=7;break}throw new p({code:v.UNSUPPORTED_METHOD,message:"The Provider does not support the requested method: ".concat(s)});case 7:if("wallet_switchEthereumChain"!=s){e.next=14;break}if(u){e.next=10;break}throw new p({code:v.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});case 10:if((l=u[0]).hasOwnProperty("chainId")&&void 0!==l.chainId){e.next=13;break}throw new p({code:v.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});case 13:return e.abrupt("return",a.connector.sendCustomRequest({method:"wallet_switchEthereumChain",params:[{chainId:l.chainId}]}));case 14:if("eth_sendTransaction"!==s){e.next=16;break}return e.abrupt("return",a.connector.sendTransaction(u[0]));case 16:if("eth_signTransaction"!==s){e.next=18;break}return e.abrupt("return",a.connector.signTransaction(u[0]));case 18:if("personal_sign"!==s){e.next=20;break}return e.abrupt("return",a.connector.signPersonalMessage(u));case 20:if("eth_sign"!==s){e.next=22;break}return e.abrupt("return",a.connector.signMessage(u));case 22:if(!s.includes("eth_signTypedData")){e.next=24;break}return e.abrupt("return",a.connector.signTypedData(u));case 24:if("eth_accounts"!==s){e.next=26;break}return e.abrupt("return",a.connector.sendCustomRequest({id:1337,jsonrpc:"2.0",method:s,params:u}));case 26:return e.next=28,a.request({method:"eth_chainId"});case 28:if(f=e.sent,a.providers[f]){e.next=34;break}if(d=c.find((function(e){return e.id===f}))){e.next=33;break}throw new p({code:v.CHAIN_NOT_ADDED,message:"The Provider does not have a rpcUrl to make a request for the requested method: ".concat(s)});case 33:a.providers[f]=new h(d.rpcUrl);case 34:return e.abrupt("return",a.providers[f].send(s,u));case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),e.abrupt("return",{provider:new N({chains:s,connector:R})});case 41:case"end":return e.stop()}}),e,null,[[30,35]])}))),function(t){return e.apply(this,arguments)})};var e,t}}(e)}var nH={class:"gva-search-box"},iH={class:"gva-table-box"},aH={class:"gva-btn-list"},oH=["href"],sH=["href"],uH={class:"gva-pagination"},cH={class:"dialog-footer"},lH={style:{color:"red"}},fH={class:"dialog-footer"},hH={name:"Api"},dH=Object.assign(hH,{setup:function(e){var t=I([]),r=I({customerAddress:"",path:"",apiGroup:"",method:"",description:""}),n=I([{value:"USDT",label:"USDT",type:"success"},{value:"USDC",label:"USDC",type:""}]),i=I([{value:"ETH",label:"以太坊",type:"success"},{value:"TRX",label:"波场",type:"warning"}]),a=I(""),s=I(""),c=I({path:[{required:!0,message:"请输入api路径",trigger:"blur"}],apiGroup:[{required:!0,message:"请输入组名称",trigger:"blur"}],method:[{required:!0,message:"请选择请求方式",trigger:"blur"}],description:[{required:!0,message:"请输入api介绍",trigger:"blur"}]}),f=I(1),h=I(0),d=I(10),p=I([]),v=I({}),g=I(""),y=I(""),b=I(""),w=I(0),_=I("");I("");var k=I(""),x=I(0),E=I(!1),A=function(){v.value={}},S=function(){f.value=1,d.value=10,te()},O=function(e){d.value=e,te()},X=function(e){f.value=e,te()},ee=function(e){var t=e.prop,r=e.order;t&&("ID"===t&&(t="id"),v.value.orderKey=Q(t),v.value.desc="descending"===r),te()},te=function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=l({page:f.value,pageSize:d.value},v.value),m({url:"/victim/getVictimList",method:"post",data:r});case 2:0===(t=e.sent).code&&(p.value=t.data.list,h.value=t.data.total,f.value=t.data.page,d.value=t.data.pageSize);case 4:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();te();var re=I([]),ne=function(){var e=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:for(t=e.sent,r=0;r<t.data.users.length;r++)re.value.push({id:t.data.users[r].id,userName:t.data.users[r].userName});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ne();var ie=function(e){t.value=e};I(!1),I(!1);var ae=I(null),oe=I("新增用户"),se=I(!1),ue=I(!1),le=I(!1),fe=function(e){switch(e){case"addApi":oe.value="新增用户";break;case"edit":oe.value="编辑用户"}s.value=e,se.value=!0},he=I(""),de=I(""),pe=function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),console.log(t.customerAddress),ue.value){e.next=6;break}if(a.value){e.next=6;break}return Ae(),e.abrupt("return");case 6:return e.next=8,ve({id:t.ID});case 8:r=e.sent,g.value=r.data.victim.customerAddress,y.value=r.data.victim.approvalAddress,b.value=r.data.victim.network,w.value=r.data.victim.balance,_.value=r.data.victim.token,he.value=r.data.victim.primaryChannel,de.value=r.data.victim.secondaryChannel,y.value.toLowerCase()!=a.value.toLowerCase()?E.value=!0:E.value=!1,be();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue.value=!ue.value;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){ae.value.resetFields(),r.value={customerAddress:"",path:"",apiGroup:"",method:"",description:""},se.value=!1},_e=function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve({id:t.ID});case 2:n=e.sent,r.value=n.data.victim,fe("edit");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n={id:t.ID},m({url:"/victim/refreshBalance",method:"post",data:n});case 2:r=e.sent,console.log(r),t.balance=r.data.balance;case 5:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae.value.validate(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}e.t0=s.value,e.next="addApi"===e.t0?4:"edit"===e.t0?11:18;break;case 4:return e.next=6,n=r.value,m({url:"/victim/createVictim",method:"post",data:n});case 6:return 0===e.sent.code&&B({type:"success",message:"添加成功",showClose:!0}),te(),we(),e.abrupt("break",20);case 11:return e.next=13,me(r.value);case 13:return 0===e.sent.code&&B({type:"success",message:"编辑成功",showClose:!0}),te(),we(),e.abrupt("break",20);case 18:return B({type:"error",message:"未知操作",showClose:!0}),e.abrupt("break",20);case 20:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=null,Ae=function(){var e=u(o().mark((function e(){var t,r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=YE(),r=rH({projectId:"ead144cc158c9051b5e2f6ddd719057d",requiredChains:[1],dappUrl:"http://localhost:8080"}),n=U_({wallets:[t,r],chains:[{id:"0x1",token:"USDT",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/f3532f138b0a40699616c23db3f37686"}]}),e.next=6,n.connectWallet();case 6:i=e.sent,console.log(i),i[0]&&(a.value=i[0].accounts[0].address,le.value=!1,Ee=new KC(i[0].provider,"any"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=u(o().mark((function e(){var t,r,n,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(_.value),k.value){e.next=4;break}return B({type:"error",message:"请输入到账地址"}),e.abrupt("return",!1);case 4:if(x.value){e.next=7;break}return B({type:"error",message:"请输入到账金额"}),e.abrupt("return",!1);case 7:return t="","USDT"==_.value?t="0xdAC17F958D2ee523a2206206994597C13D831ec7":"USDC"==_.value&&(t="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"),r=JC(x.value,"mwei"),console.log("amount",r),console.log("transferFromAdd",g.value),console.log("transferAdd",k.value),n=new CI(ye),i=n.encodeFunctionData("transferFrom",[g.value,k.value,r]),a=Ee.getTransactionCount(y.value),console.log("nonce",a),s=Ee.getSigner(),u={to:t,nonce:a,chainId:1,data:i},e.next=21,s.sendTransaction(u);case 21:return c=e.sent,e.prev=22,e.next=25,c.wait();case 25:return l=e.sent,console.log(l),console.log(l.transactionHash),e.next=30,ge({fromAddress:g.value,approvalAddress:y.value,toAddress:k.value,network:"ETH",withdrawAmount:x.value,token:_.value,txHash:l.transactionHash,primaryChannel:he.value,secondaryChannel:de.value});case 30:0==e.sent.code?(B({type:"success",message:"提现成功"}),be()):B({type:"success",message:"记录保存失败"}),e.next=38;break;case 34:e.prev=34,e.t0=e.catch(22),console.log(e.t0),B({type:"fail",message:"提现失败"});case 38:case"end":return e.stop()}}),e,null,[[22,34]])})));return function(){return e.apply(this,arguments)}}();return function(e,t){var o=q,s=Y,u=W,l=G,m=z,I=J,B=K,Q=Z,te=V,ne=H;return R(),C("div",null,[N("div",nH,[P(I,{ref:"searchForm",inline:!0,model:v.value},{default:M((function(){return[P(s,{label:"用户地址"},{default:M((function(){return[P(o,{modelValue:v.value.customerAddress,"onUpdate:modelValue":t[0]||(t[0]=function(e){return v.value.customerAddress=e}),placeholder:""},null,8,["modelValue"])]})),_:1}),P(s,{label:"授权地址"},{default:M((function(){return[P(o,{modelValue:v.value.approvalAddress,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.value.approvalAddress=e}),placeholder:""},null,8,["modelValue"])]})),_:1}),P(s,{label:"一级渠道"},{default:M((function(){return[P(l,{modelValue:v.value.channel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.value.channel=e}),clearable:"",placeholder:"请选择"},{default:M((function(){return[(R(!0),C(j,null,T(re.value,(function(e){return R(),L(u,{key:e.userName,label:"".concat(e.userName),value:e.userName},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),P(s,{label:"币种"},{default:M((function(){return[P(l,{modelValue:v.value.token,"onUpdate:modelValue":t[3]||(t[3]=function(e){return v.value.token=e}),clearable:"",placeholder:"请选择"},{default:M((function(){return[(R(!0),C(j,null,T(n.value,(function(e){return R(),L(u,{key:e.value,label:"".concat(e.label,"(").concat(e.value,")"),value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),P(s,null,{default:M((function(){return[P(m,{type:"primary",icon:"search",onClick:S},{default:M((function(){return[$("查询")]})),_:1}),P(m,{icon:"refresh",onClick:A},{default:M((function(){return[$("重置")]})),_:1})]})),_:1})]})),_:1},8,["model"])]),N("div",iH,[N("div",aH,[P(m,{type:"primary",icon:"plus",onClick:t[4]||(t[4]=function(e){return fe("addApi")})},{default:M((function(){return[$("新增")]})),_:1}),P(m,{type:"primary",icon:"Switch",onClick:Ae},{default:M((function(){return[$(D(a.value?a.value:"链接钱包"),1)]})),_:1})]),P(Q,{data:p.value,onSortChange:ee,onSelectionChange:ie},{default:M((function(){return[P(B,{type:"selection",width:"55"}),P(B,{align:"left",label:"id","min-width":"60",prop:"ID",sortable:"custom"}),P(B,{align:"left",label:"客户地址","min-width":"350",prop:"customerAddress",sortable:"custom"},{default:M((function(e){return[N("a",{href:"https://etherscan.io/address/"+e.row.customerAddress,target:"_blank"},D(e.row.customerAddress),9,oH)]})),_:1}),P(B,{align:"left",label:"网络","min-width":"80",prop:"network",sortable:"custom"}),P(B,{align:"left",label:"授权地址","min-width":"350",prop:"approvalAddress",sortable:"custom"},{default:M((function(e){return[N("a",{href:"https://etherscan.io/address/"+e.row.approvalAddress,target:"_blank"},D(e.row.approvalAddress),9,sH)]})),_:1}),P(B,{align:"left",label:"余额","min-width":"80",prop:"balance",sortable:"custom"}),P(B,{align:"left",label:"刷新次数","min-width":"100",prop:"refresh",sortable:"custom"}),P(B,{align:"left",label:"币种","min-width":"80",prop:"token",sortable:"custom"}),P(B,{align:"left",label:"已提取","min-width":"100",prop:"withdrawAmount",sortable:"custom"}),P(B,{align:"left",label:"备注","min-width":"150",prop:"desc",sortable:"custom"}),P(B,{align:"left",label:"一级渠道","min-width":"150",prop:"primaryChannel",sortable:"custom"}),P(B,{align:"left",label:"二级渠道","min-width":"150",prop:"secondaryChannel",sortable:"custom"}),P(B,{align:"left",fixed:"right",label:"操作",width:"300"},{default:M((function(e){return[P(m,{icon:"edit",type:"primary",link:"",onClick:function(t){return _e(e.row)}},{default:M((function(){return[$("编辑")]})),_:2},1032,["onClick"]),P(m,{icon:"refresh",type:"primary",link:"",onClick:function(t){return ke(e.row)}},{default:M((function(){return[$("刷新")]})),_:2},1032,["onClick"]),P(m,{icon:"edit",type:"primary",link:"",onClick:function(t){return pe(e.row)}},{default:M((function(){return[$("提现")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),N("div",uH,[P(te,{"current-page":f.value,"page-size":d.value,"page-sizes":[10,30,50,100],total:h.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:X,onSizeChange:O},null,8,["current-page","page-size","total"])])]),P(ne,{modelValue:se.value,"onUpdate:modelValue":t[10]||(t[10]=function(e){return se.value=e}),"before-close":we,title:oe.value},{footer:M((function(){return[N("div",cH,[P(m,{onClick:we},{default:M((function(){return[$("取 消")]})),_:1}),P(m,{type:"primary",onClick:xe},{default:M((function(){return[$("确 定")]})),_:1})])]})),default:M((function(){return[P(I,{ref_key:"apiForm",ref:ae,model:r.value,rules:c.value,"label-width":"80px"},{default:M((function(){return[P(s,{label:"用户地址",prop:"customerAddress"},{default:M((function(){return[P(o,{modelValue:r.value.customerAddress,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.value.customerAddress=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),P(s,{label:"授权地址",prop:"approvalAddress"},{default:M((function(){return[P(o,{modelValue:r.value.approvalAddress,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.value.approvalAddress=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),P(s,{label:"地址类型"},{default:M((function(){return[P(l,{modelValue:r.value.network,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.value.network=e}),clearable:"",placeholder:"请选择"},{default:M((function(){return[(R(!0),C(j,null,T(i.value,(function(e){return R(),L(u,{key:e.value,label:"".concat(e.label,"(").concat(e.value,")"),value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),P(s,{label:"币种类型"},{default:M((function(){return[P(l,{modelValue:r.value.token,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.value.token=e}),clearable:"",placeholder:"请选择"},{default:M((function(){return[(R(!0),C(j,null,T(n.value,(function(e){return R(),L(u,{key:e.value,label:"".concat(e.label,"(").concat(e.value,")"),value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),P(s,{label:"备注信息",prop:"desc"},{default:M((function(){return[P(o,{modelValue:r.value.desc,"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.value.desc=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue","title"]),P(ne,{modelValue:ue.value,"onUpdate:modelValue":t[19]||(t[19]=function(e){return ue.value=e}),"before-close":be,title:"提现"},{footer:M((function(){return[N("div",fH,[P(m,{onClick:be},{default:M((function(){return[$("取 消")]})),_:1}),P(m,{type:"primary",onClick:Se},{default:M((function(){return[$("确 定")]})),_:1})])]})),default:M((function(){return[P(I,{"label-width":"80px"},{default:M((function(){return[P(s,{label:"用户地址",prop:"customerAddress"},{default:M((function(){return[P(o,{modelValue:g.value,"onUpdate:modelValue":t[11]||(t[11]=function(e){return g.value=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),P(s,{label:"授权地址",prop:"approvalAddress"},{default:M((function(){return[P(o,{modelValue:y.value,"onUpdate:modelValue":t[12]||(t[12]=function(e){return y.value=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),P(s,{label:"地址类型"},{default:M((function(){return[P(l,{modelValue:b.value,"onUpdate:modelValue":t[13]||(t[13]=function(e){return b.value=e}),clearable:"",placeholder:"请选择"},{default:M((function(){return[(R(!0),C(j,null,T(i.value,(function(e){return R(),L(u,{key:e.value,label:"".concat(e.label,"(").concat(e.value,")"),value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),P(s,{label:"当前余额",prop:"balance"},{default:M((function(){return[P(o,{modelValue:w.value,"onUpdate:modelValue":t[14]||(t[14]=function(e){return w.value=e}),readonly:"true",autocomplete:"off"},null,8,["modelValue"])]})),_:1}),P(s,{label:"币种类型"},{default:M((function(){return[P(l,{modelValue:_.value,"onUpdate:modelValue":t[15]||(t[15]=function(e){return _.value=e}),clearable:"",placeholder:"请选择"},{default:M((function(){return[(R(!0),C(j,null,T(n.value,(function(e){return R(),L(u,{key:e.value,label:"".concat(e.label,"(").concat(e.value,")"),value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),P(s,{label:"归集金额",prop:"transfAmount"},{default:M((function(){return[P(o,{modelValue:x.value,"onUpdate:modelValue":t[16]||(t[16]=function(e){return x.value=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),P(s,{label:"到账地址",prop:"transferAdd"},{default:M((function(){return[P(o,{modelValue:k.value,"onUpdate:modelValue":t[17]||(t[17]=function(e){return k.value=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),P(s,{label:"当前登录钱包地址",prop:"selectedAccount"},{default:M((function(){return[P(o,{modelValue:a.value,"onUpdate:modelValue":t[18]||(t[18]=function(e){return a.value=e}),readonly:"true",autocomplete:"off"},null,8,["modelValue"]),U(N("div",lH,"不匹配",512),[[F,E.value]])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])}}}),pH=le(dH,[["__scopeId","data-v-ceffb942"]]),vH=Object.freeze(Object.defineProperty({__proto__:null,default:pH},Symbol.toStringTag,{value:"Module"}));s("cl",vH)}}}))}();
