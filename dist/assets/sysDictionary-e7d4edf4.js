/*! 
 Build based on gin-vue-admin 
 Time : 1697360087000 */
import{u as e,a,o as l,c as t,d as o,b as s,w as u,g as i,G as r,aO as d,t as p,k as n,l as m,E as c,J as v}from"./index-c27ea3c3.js";import{E as f}from"./dialog-aac937ac.js";import"./overlay-b248b148.js";import{E as g}from"./switch-b10b159c.js";import{E as y}from"./pagination-6209bf52.js";/* empty css              */import"./tag-77c00d46.js";import{E as b,a as j}from"./select-b3913bb0.js";import"./scrollbar-a928ab00.js";/* empty css               */import{E as w,a as _}from"./table-column-6cf6e751.js";import"./checkbox-98da5de1.js";/* empty css                */import{E as h}from"./popover-3d205b3a.js";/* empty css             */import{a as V,E as k}from"./form-item-ad3a3557.js";/* empty css               */import{g as C,f as x,d as U,c as D,u as E}from"./sysDictionary-126f0f11.js";import{_ as z}from"./warningBar-3cbd7d2c.js";import{f as I,b as q}from"./format-7ef742ed.js";import{t as T}from"./doc-46160848.js";import"./isEqual-1cd4e078.js";import"./_Uint8Array-3822a848.js";import"./index-7c5497a5.js";import"./index-a2fce14d.js";import"./strings-2a05e2ce.js";import"./debounce-8279176b.js";import"./_initCloneObject-0a66aef7.js";import"./dropdown-2e545871.js";import"./_baseClone-4b4d1ff1.js";import"./date-225eaf4f.js";import"./dictionary-988a5ac4.js";const S={class:"gva-search-box"},B={class:"gva-table-box"},O={class:"gva-btn-list"},A=s("p",null,"确定要删除吗？",-1),G={style:{"text-align":"right","margin-top":"8px"}},F={class:"gva-pagination"},J={class:"dialog-footer"},K={name:"SysDictionary"},R=Object.assign(K,{setup(K){e();const R=a({name:null,type:null,status:!0,desc:null}),X=a({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),Y=a(1),Z=a(0),$=a(10),H=a([]),L=a({}),M=()=>{L.value={}},N=()=>{Y.value=1,$.value=10,""===L.value.status&&(L.value.status=null),W()},P=e=>{$.value=e,W()},Q=e=>{Y.value=e,W()},W=async()=>{const e=await C({page:Y.value,pageSize:$.value,...L.value});0===e.code&&(H.value=e.data.list,Z.value=e.data.total,Y.value=e.data.page,$.value=e.data.pageSize)};W();const ee=a(!1),ae=a(""),le=()=>{ee.value=!1,R.value={name:null,type:null,status:!0,desc:null}},te=a(null),oe=async()=>{te.value.validate((async e=>{if(!e)return;let a;switch(ae.value){case"create":default:a=await D(R.value);break;case"update":a=await E(R.value)}0===a.code&&(n.success("操作成功"),le(),W())}))},se=()=>{ae.value="create",ee.value=!0};return(e,a)=>{const C=m,D=V,E=b,K=j,ue=c,ie=k,re=v,de=w,pe=h,ne=_,me=y,ce=g,ve=f;return l(),t("div",null,[o(z,{title:"如果要设置Telegram机器人，请添加字典名（中）TG机器人，字典名（英）TelegramBot，最后设置机器人描述为机器人链接"}),s("div",S,[o(ie,{inline:!0,model:L.value},{default:u((()=>[o(D,{label:"字典名（中）"},{default:u((()=>[o(C,{modelValue:L.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>L.value.name=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),o(D,{label:"字典名（英）"},{default:u((()=>[o(C,{modelValue:L.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>L.value.type=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),o(D,{label:"状态",prop:"status"},{default:u((()=>[o(K,{modelValue:L.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>L.value.status=e),clear:"",placeholder:"请选择"},{default:u((()=>[o(E,{key:"true",label:"是",value:"true"}),o(E,{key:"false",label:"否",value:"false"})])),_:1},8,["modelValue"])])),_:1}),o(D,{label:"描述"},{default:u((()=>[o(C,{modelValue:L.value.desc,"onUpdate:modelValue":a[3]||(a[3]=e=>L.value.desc=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),o(D,null,{default:u((()=>[o(ue,{type:"primary",icon:"search",onClick:N},{default:u((()=>[i("查询")])),_:1}),o(ue,{icon:"refresh",onClick:M},{default:u((()=>[i("重置")])),_:1})])),_:1})])),_:1},8,["model"])]),s("div",B,[s("div",O,[o(ue,{type:"primary",icon:"plus",onClick:se},{default:u((()=>[i("新增")])),_:1}),o(re,{class:"cursor-pointer",onClick:a[4]||(a[4]=e=>r(T)("https://www.bilibili.com/video/BV1kv4y1g7nT?p=12&vd_source=f2640257c21e3b547a790461ed94875e"))},{default:u((()=>[o(r(d))])),_:1})]),o(ne,{ref:"multipleTable",data:H.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:u((()=>[o(de,{type:"selection",width:"55"}),o(de,{align:"left",label:"日期",width:"180"},{default:u((e=>[i(p(r(I)(e.row.CreatedAt)),1)])),_:1}),o(de,{align:"left",label:"字典名（中）",prop:"name",width:"160"}),o(de,{align:"left",label:"字典名（英）",prop:"type",width:"120"}),o(de,{align:"left",label:"状态",prop:"status",width:"120"},{default:u((e=>[i(p(r(q)(e.row.status)),1)])),_:1}),o(de,{align:"left",label:"描述",prop:"desc",width:"280"}),o(de,{align:"left",label:"用户ID",prop:"user_id",width:"280"}),o(de,{align:"left",label:"操作"},{default:u((e=>[o(ue,{icon:"edit",type:"primary",link:"",onClick:a=>(async e=>{const a=await x({ID:e.ID,status:e.status});ae.value="update",0===a.code&&(R.value=a.data.resysDictionary,ee.value=!0)})(e.row)},{default:u((()=>[i("变更")])),_:2},1032,["onClick"]),o(pe,{modelValue:e.row.visible,"onUpdate:modelValue":a=>e.row.visible=a,placement:"top",width:"160"},{reference:u((()=>[o(ue,{type:"primary",link:"",icon:"delete",style:{"margin-left":"10px"},onClick:a=>e.row.visible=!0},{default:u((()=>[i("删除")])),_:2},1032,["onClick"])])),default:u((()=>[A,s("div",G,[o(ue,{type:"primary",link:"",onClick:a=>e.row.visible=!1},{default:u((()=>[i("取消")])),_:2},1032,["onClick"]),o(ue,{type:"primary",onClick:a=>(async e=>{e.visible=!1,0===(await U({ID:e.ID})).code&&(n({type:"success",message:"删除成功"}),1===H.value.length&&Y.value>1&&Y.value--,W())})(e.row)},{default:u((()=>[i("确定")])),_:2},1032,["onClick"])])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"]),s("div",F,[o(me,{"current-page":Y.value,"page-size":$.value,"page-sizes":[10,30,50,100],total:Z.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:Q,onSizeChange:P},null,8,["current-page","page-size","total"])])]),o(ve,{modelValue:ee.value,"onUpdate:modelValue":a[9]||(a[9]=e=>ee.value=e),"before-close":le,title:"create"===ae.value?"添加字典":"修改字典"},{footer:u((()=>[s("div",J,[o(ue,{onClick:le},{default:u((()=>[i("取 消")])),_:1}),o(ue,{type:"primary",onClick:oe},{default:u((()=>[i("确 定")])),_:1})])])),default:u((()=>[o(ie,{ref_key:"dialogForm",ref:te,model:R.value,rules:X.value,"label-width":"110px"},{default:u((()=>[o(D,{label:"字典名（中）",prop:"name"},{default:u((()=>[o(C,{modelValue:R.value.name,"onUpdate:modelValue":a[5]||(a[5]=e=>R.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(D,{label:"字典名（英）",prop:"type"},{default:u((()=>[o(C,{modelValue:R.value.type,"onUpdate:modelValue":a[6]||(a[6]=e=>R.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(D,{label:"状态",prop:"status",required:""},{default:u((()=>[o(ce,{modelValue:R.value.status,"onUpdate:modelValue":a[7]||(a[7]=e=>R.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),o(D,{label:"描述",prop:"desc"},{default:u((()=>[o(C,{modelValue:R.value.desc,"onUpdate:modelValue":a[8]||(a[8]=e=>R.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{R as default};
