/*! 
 Build based on gin-vue-admin 
 Time : 1696555582000 */
import{u as e,a,o as l,c as t,d as o,b as s,w as u,g as i,G as r,aK as d,t as p,k as n,l as m,E as c,J as v}from"./index-33d179e9.js";import{E as f}from"./dialog-372401e2.js";import"./overlay-848c174d.js";import{E as y}from"./switch-10d77d4a.js";import{E as g}from"./pagination-a4874b9b.js";/* empty css              */import"./tag-0f8d4dae.js";import{E as b,a as j}from"./select-a26e10b7.js";import"./scrollbar-81bf16b6.js";/* empty css               */import{E as w,a as _}from"./table-column-6999464b.js";import"./checkbox-56cf07d1.js";/* empty css                */import{E as h}from"./popover-626e072a.js";/* empty css             */import{a as V,E as k}from"./form-item-8ffdb63e.js";/* empty css               */import{g as C,f as x,d as U,c as D,u as E}from"./sysDictionary-62483381.js";import{_ as z}from"./warningBar-6b10fcc0.js";import{f as I,a as q}from"./format-6abb9e2f.js";import{t as S}from"./doc-46160848.js";import"./isEqual-48baa013.js";import"./_Uint8Array-1dc9e84a.js";import"./index-225ec204.js";import"./index-f712fbc3.js";import"./strings-3a3a1b4e.js";import"./debounce-b561df10.js";import"./_initCloneObject-3b45d182.js";import"./dropdown-e62c15be.js";import"./_baseClone-0928223b.js";import"./date-225eaf4f.js";import"./dictionary-f99dcf05.js";const O={class:"gva-search-box"},A={class:"gva-table-box"},B={class:"gva-btn-list"},T=s("p",null,"确定要删除吗？",-1),F={style:{"text-align":"right","margin-top":"8px"}},G={class:"gva-pagination"},J={class:"dialog-footer"},K={name:"SysDictionary"},L=Object.assign(K,{setup(K){e();const L=a({name:null,type:null,status:!0,desc:null}),W=a({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),X=a(1),Y=a(0),Z=a(10),$=a([]),H=a({}),M=()=>{H.value={}},N=()=>{X.value=1,Z.value=10,""===H.value.status&&(H.value.status=null),R()},P=e=>{Z.value=e,R()},Q=e=>{X.value=e,R()},R=async()=>{const e=await C({page:X.value,pageSize:Z.value,...H.value});0===e.code&&($.value=e.data.list,Y.value=e.data.total,X.value=e.data.page,Z.value=e.data.pageSize)};R();const ee=a(!1),ae=a(""),le=()=>{ee.value=!1,L.value={name:null,type:null,status:!0,desc:null}},te=a(null),oe=async()=>{te.value.validate((async e=>{if(!e)return;let a;switch(ae.value){case"create":default:a=await D(L.value);break;case"update":a=await E(L.value)}0===a.code&&(n.success("操作成功"),le(),R())}))},se=()=>{ae.value="create",ee.value=!0};return(e,a)=>{const C=m,D=V,E=b,K=j,ue=c,ie=k,re=v,de=w,pe=h,ne=_,me=g,ce=y,ve=f;return l(),t("div",null,[o(z,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),s("div",O,[o(ie,{inline:!0,model:H.value},{default:u((()=>[o(D,{label:"字典名（中）"},{default:u((()=>[o(C,{modelValue:H.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>H.value.name=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),o(D,{label:"字典名（英）"},{default:u((()=>[o(C,{modelValue:H.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>H.value.type=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),o(D,{label:"状态",prop:"status"},{default:u((()=>[o(K,{modelValue:H.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>H.value.status=e),clear:"",placeholder:"请选择"},{default:u((()=>[o(E,{key:"true",label:"是",value:"true"}),o(E,{key:"false",label:"否",value:"false"})])),_:1},8,["modelValue"])])),_:1}),o(D,{label:"描述"},{default:u((()=>[o(C,{modelValue:H.value.desc,"onUpdate:modelValue":a[3]||(a[3]=e=>H.value.desc=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),o(D,null,{default:u((()=>[o(ue,{type:"primary",icon:"search",onClick:N},{default:u((()=>[i("查询")])),_:1}),o(ue,{icon:"refresh",onClick:M},{default:u((()=>[i("重置")])),_:1})])),_:1})])),_:1},8,["model"])]),s("div",A,[s("div",B,[o(ue,{type:"primary",icon:"plus",onClick:se},{default:u((()=>[i("新增")])),_:1}),o(re,{class:"cursor-pointer",onClick:a[4]||(a[4]=e=>r(S)("https://www.bilibili.com/video/BV1kv4y1g7nT?p=12&vd_source=f2640257c21e3b547a790461ed94875e"))},{default:u((()=>[o(r(d))])),_:1})]),o(ne,{ref:"multipleTable",data:$.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:u((()=>[o(de,{type:"selection",width:"55"}),o(de,{align:"left",label:"日期",width:"180"},{default:u((e=>[i(p(r(I)(e.row.CreatedAt)),1)])),_:1}),o(de,{align:"left",label:"字典名（中）",prop:"name",width:"160"}),o(de,{align:"left",label:"字典名（英）",prop:"type",width:"120"}),o(de,{align:"left",label:"状态",prop:"status",width:"120"},{default:u((e=>[i(p(r(q)(e.row.status)),1)])),_:1}),o(de,{align:"left",label:"描述",prop:"desc",width:"280"}),o(de,{align:"left",label:"用户ID",prop:"user_id",width:"280"}),o(de,{align:"left",label:"操作"},{default:u((e=>[o(ue,{icon:"edit",type:"primary",link:"",onClick:a=>(async e=>{const a=await x({ID:e.ID,status:e.status});ae.value="update",0===a.code&&(L.value=a.data.resysDictionary,ee.value=!0)})(e.row)},{default:u((()=>[i("变更")])),_:2},1032,["onClick"]),o(pe,{modelValue:e.row.visible,"onUpdate:modelValue":a=>e.row.visible=a,placement:"top",width:"160"},{reference:u((()=>[o(ue,{type:"primary",link:"",icon:"delete",style:{"margin-left":"10px"},onClick:a=>e.row.visible=!0},{default:u((()=>[i("删除")])),_:2},1032,["onClick"])])),default:u((()=>[T,s("div",F,[o(ue,{type:"primary",link:"",onClick:a=>e.row.visible=!1},{default:u((()=>[i("取消")])),_:2},1032,["onClick"]),o(ue,{type:"primary",onClick:a=>(async e=>{e.visible=!1,0===(await U({ID:e.ID})).code&&(n({type:"success",message:"删除成功"}),1===$.value.length&&X.value>1&&X.value--,R())})(e.row)},{default:u((()=>[i("确定")])),_:2},1032,["onClick"])])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"]),s("div",G,[o(me,{"current-page":X.value,"page-size":Z.value,"page-sizes":[10,30,50,100],total:Y.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:Q,onSizeChange:P},null,8,["current-page","page-size","total"])])]),o(ve,{modelValue:ee.value,"onUpdate:modelValue":a[9]||(a[9]=e=>ee.value=e),"before-close":le,title:"create"===ae.value?"添加字典":"修改字典"},{footer:u((()=>[s("div",J,[o(ue,{onClick:le},{default:u((()=>[i("取 消")])),_:1}),o(ue,{type:"primary",onClick:oe},{default:u((()=>[i("确 定")])),_:1})])])),default:u((()=>[o(ie,{ref_key:"dialogForm",ref:te,model:L.value,rules:W.value,"label-width":"110px"},{default:u((()=>[o(D,{label:"字典名（中）",prop:"name"},{default:u((()=>[o(C,{modelValue:L.value.name,"onUpdate:modelValue":a[5]||(a[5]=e=>L.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(D,{label:"字典名（英）",prop:"type"},{default:u((()=>[o(C,{modelValue:L.value.type,"onUpdate:modelValue":a[6]||(a[6]=e=>L.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(D,{label:"状态",prop:"status",required:""},{default:u((()=>[o(ce,{modelValue:L.value.status,"onUpdate:modelValue":a[7]||(a[7]=e=>L.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),o(D,{label:"描述",prop:"desc"},{default:u((()=>[o(C,{modelValue:L.value.desc,"onUpdate:modelValue":a[8]||(a[8]=e=>L.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{L as default};
